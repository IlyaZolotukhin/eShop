var TB=Object.defineProperty;var bB=(t,e,n)=>e in t?TB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var SB=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var o0=(t,e,n)=>(bB(t,typeof e!="symbol"?e+"":e,n),n);var hve=SB((xr,Ar)=>{function CB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function T_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function RB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var tO={exports:{}},b_={},nO={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af=Symbol.for("react.element"),xB=Symbol.for("react.portal"),AB=Symbol.for("react.fragment"),PB=Symbol.for("react.strict_mode"),kB=Symbol.for("react.profiler"),NB=Symbol.for("react.provider"),OB=Symbol.for("react.context"),DB=Symbol.for("react.forward_ref"),MB=Symbol.for("react.suspense"),LB=Symbol.for("react.memo"),$B=Symbol.for("react.lazy"),tR=Symbol.iterator;function FB(t){return t===null||typeof t!="object"?null:(t=tR&&t[tR]||t["@@iterator"],typeof t=="function"?t:null)}var rO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iO=Object.assign,sO={};function _c(t,e,n){this.props=t,this.context=e,this.refs=sO,this.updater=n||rO}_c.prototype.isReactComponent={};_c.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_c.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oO(){}oO.prototype=_c.prototype;function dT(t,e,n){this.props=t,this.context=e,this.refs=sO,this.updater=n||rO}var hT=dT.prototype=new oO;hT.constructor=dT;iO(hT,_c.prototype);hT.isPureReactComponent=!0;var nR=Array.isArray,aO=Object.prototype.hasOwnProperty,fT={current:null},lO={key:!0,ref:!0,__self:!0,__source:!0};function uO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)aO.call(e,r)&&!lO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Af,type:t,key:s,ref:o,props:i,_owner:fT.current}}function VB(t,e){return{$$typeof:Af,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pT(t){return typeof t=="object"&&t!==null&&t.$$typeof===Af}function UB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rR=/\/+/g;function a0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UB(""+t.key):e.toString(36)}function mm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Af:case xB:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+a0(o,0):r,nR(i)?(n="",t!=null&&(n=t.replace(rR,"$&/")+"/"),mm(i,e,n,"",function(u){return u})):i!=null&&(pT(i)&&(i=VB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",nR(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+a0(s,a);o+=mm(s,e,n,l,i)}else if(l=FB(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+a0(s,a++),o+=mm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rp(t,e,n){if(t==null)return t;var r=[],i=0;return mm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kn={current:null},gm={transition:null},BB={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:gm,ReactCurrentOwner:fT};xe.Children={map:Rp,forEach:function(t,e,n){Rp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rp(t,function(){e++}),e},toArray:function(t){return Rp(t,function(e){return e})||[]},only:function(t){if(!pT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=_c;xe.Fragment=AB;xe.Profiler=kB;xe.PureComponent=dT;xe.StrictMode=PB;xe.Suspense=MB;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BB;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)aO.call(e,l)&&!lO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Af,type:t.type,key:i,ref:s,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:OB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NB,_context:t},t.Consumer=t};xe.createElement=uO;xe.createFactory=function(t){var e=uO.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:DB,render:t}};xe.isValidElement=pT;xe.lazy=function(t){return{$$typeof:$B,_payload:{_status:-1,_result:t},_init:jB}};xe.memo=function(t,e){return{$$typeof:LB,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=gm.transition;gm.transition={};try{t()}finally{gm.transition=e}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(t,e){return Kn.current.useCallback(t,e)};xe.useContext=function(t){return Kn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Kn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Kn.current.useEffect(t,e)};xe.useId=function(){return Kn.current.useId()};xe.useImperativeHandle=function(t,e,n){return Kn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Kn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Kn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Kn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Kn.current.useReducer(t,e,n)};xe.useRef=function(t){return Kn.current.useRef(t)};xe.useState=function(t){return Kn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Kn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Kn.current.useTransition()};xe.version="18.2.0";nO.exports=xe;var E=nO.exports;const rr=T_(E),Fu=CB({__proto__:null,default:rr},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zB=E,WB=Symbol.for("react.element"),qB=Symbol.for("react.fragment"),HB=Object.prototype.hasOwnProperty,GB=zB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KB={key:!0,ref:!0,__self:!0,__source:!0};function cO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HB.call(e,r)&&!KB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WB,type:t,key:s,ref:o,props:i,_owner:GB.current}}b_.Fragment=qB;b_.jsx=cO;b_.jsxs=cO;tO.exports=b_;var I=tO.exports,dO={exports:{}},hO={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf=E;function QB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YB=typeof Object.is=="function"?Object.is:QB,XB=Pf.useSyncExternalStore,JB=Pf.useRef,ZB=Pf.useEffect,e5=Pf.useMemo,t5=Pf.useDebugValue;hO.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=JB(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=e5(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,YB(c,f))return p;var g=r(f);return i!==void 0&&i(p,g)?p:(c=f,d=g)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=XB(t,s[0],s[1]);return ZB(function(){o.hasValue=!0,o.value=a},[a]),t5(a),a};dO.exports=hO;var n5=dO.exports,br="default"in Fu?rr:Fu,iR=Symbol.for("react-redux-context"),sR=typeof globalThis<"u"?globalThis:{};function r5(){if(!br.createContext)return{};const t=sR[iR]??(sR[iR]=new Map);let e=t.get(br.createContext);return e||(e=br.createContext(null),t.set(br.createContext,e)),e}var To=r5(),i5=()=>{throw new Error("uSES not initialized!")};function mT(t=To){return function(){return br.useContext(t)}}var fO=mT(),pO=i5,s5=t=>{pO=t},o5=(t,e)=>t===e;function a5(t=To){const e=t===To?fO:mT(t);return function(r,i={}){const{equalityFn:s=o5,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e();br.useRef(!0);const h=br.useCallback({[r.name](p){return r(p)}}[r.name],[r,c,o.stabilityCheck]),f=pO(l.addNestedSub,a.getState,u||a.getState,h,s);return br.useDebugValue(f),f}}var Is=a5();function l5(t){t()}function u5(){let t=null,e=null;return{clear(){t=null,e=null},notify(){l5(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var oR={notify(){},get:()=>[]};function c5(t,e){let n,r=oR,i=0,s=!1;function o(g){c();const v=r.subscribe(g);let m=!1;return()=>{m||(m=!0,v(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=u5())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oR)}function h(){s||(s=!0,c())}function f(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>r};return p}var d5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h5=d5?br.useLayoutEffect:br.useEffect;function f5({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=br.useMemo(()=>{const u=c5(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=br.useMemo(()=>t.getState(),[t]);h5(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||To;return br.createElement(l.Provider,{value:o},n)}var p5=f5;function mO(t=To){const e=t===To?fO:mT(t);return function(){const{store:r}=e();return r}}var m5=mO();function g5(t=To){const e=t===To?m5:mO(t);return function(){return e().dispatch}}var S_=g5();s5(n5.useSyncExternalStoreWithSelector);var gO={exports:{}},Fr={},_O={exports:{}},yO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,z){var X=N.length;N.push(z);e:for(;0<X;){var ve=X-1>>>1,he=N[ve];if(0<i(he,z))N[ve]=z,N[X]=he,X=ve;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var z=N[0],X=N.pop();if(X!==z){N[0]=X;e:for(var ve=0,he=N.length,Be=he>>>1;ve<Be;){var fe=2*(ve+1)-1,Pe=N[fe],ke=fe+1,yt=N[ke];if(0>i(Pe,X))ke<he&&0>i(yt,Pe)?(N[ve]=yt,N[ke]=X,ve=ke):(N[ve]=Pe,N[fe]=X,ve=fe);else if(ke<he&&0>i(yt,X))N[ve]=yt,N[ke]=X,ve=ke;else break e}}return z}function i(N,z){var X=N.sortIndex-z.sortIndex;return X!==0?X:N.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=N)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function w(N){if(g=!1,y(N),!p)if(n(l)!==null)p=!0,Y(b);else{var z=n(u);z!==null&&Z(w,z.startTime-N)}}function b(N,z){p=!1,g&&(g=!1,m(A),A=-1),f=!0;var X=h;try{for(y(z),d=n(l);d!==null&&(!(d.expirationTime>z)||N&&!L());){var ve=d.callback;if(typeof ve=="function"){d.callback=null,h=d.priorityLevel;var he=ve(d.expirationTime<=z);z=t.unstable_now(),typeof he=="function"?d.callback=he:d===n(l)&&r(l),y(z)}else r(l);d=n(l)}if(d!==null)var Be=!0;else{var fe=n(u);fe!==null&&Z(w,fe.startTime-z),Be=!1}return Be}finally{d=null,h=X,f=!1}}var C=!1,T=null,A=-1,M=5,P=-1;function L(){return!(t.unstable_now()-P<M)}function G(){if(T!==null){var N=t.unstable_now();P=N;var z=!0;try{z=T(!0,N)}finally{z?F():(C=!1,T=null)}}else C=!1}var F;if(typeof _=="function")F=function(){_(G)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=G,F=function(){B.postMessage(null)}}else F=function(){v(G,0)};function Y(N){T=N,C||(C=!0,F())}function Z(N,z){A=v(function(){N(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Y(b))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var X=h;h=z;try{return N()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var X=h;h=N;try{return z()}finally{h=X}},t.unstable_scheduleCallback=function(N,z,X){var ve=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ve+X:ve):X=ve,N){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=X+he,N={id:c++,callback:z,priorityLevel:N,startTime:X,expirationTime:he,sortIndex:-1},X>ve?(N.sortIndex=X,e(u,N),n(l)===null&&N===n(u)&&(g?(m(A),A=-1):g=!0,Z(w,X-ve))):(N.sortIndex=he,e(l,N),p||f||(p=!0,Y(b))),N},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(N){var z=h;return function(){var X=h;h=z;try{return N.apply(this,arguments)}finally{h=X}}}})(yO);_O.exports=yO;var _5=_O.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vO=E,Or=_5;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wO=new Set,dh={};function gl(t,e){Vu(t,e),Vu(t+"Capture",e)}function Vu(t,e){for(dh[t]=e,t=0;t<e.length;t++)wO.add(e[t])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ow=Object.prototype.hasOwnProperty,y5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aR={},lR={};function v5(t){return Ow.call(lR,t)?!0:Ow.call(aR,t)?!1:y5.test(t)?lR[t]=!0:(aR[t]=!0,!1)}function w5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E5(t,e,n,r){if(e===null||typeof e>"u"||w5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bn[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bn[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bn[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bn[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bn[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bn[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bn[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bn[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bn[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var gT=/[\-:]([a-z])/g;function _T(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gT,_T);bn[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gT,_T);bn[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gT,_T);bn[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});bn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function yT(t,e,n,r){var i=bn.hasOwnProperty(e)?bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(E5(e,n,i,r)&&(n=null),r||i===null?v5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Os=vO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xp=Symbol.for("react.element"),ru=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),vT=Symbol.for("react.strict_mode"),Dw=Symbol.for("react.profiler"),EO=Symbol.for("react.provider"),IO=Symbol.for("react.context"),wT=Symbol.for("react.forward_ref"),Mw=Symbol.for("react.suspense"),Lw=Symbol.for("react.suspense_list"),ET=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),TO=Symbol.for("react.offscreen"),uR=Symbol.iterator;function Wc(t){return t===null||typeof t!="object"?null:(t=uR&&t[uR]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,l0;function Ed(t){if(l0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);l0=e&&e[1]||""}return`
`+l0+t}var u0=!1;function c0(t,e){if(!t||u0)return"";u0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{u0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ed(t):""}function I5(t){switch(t.tag){case 5:return Ed(t.type);case 16:return Ed("Lazy");case 13:return Ed("Suspense");case 19:return Ed("SuspenseList");case 0:case 2:case 15:return t=c0(t.type,!1),t;case 11:return t=c0(t.type.render,!1),t;case 1:return t=c0(t.type,!0),t;default:return""}}function $w(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case iu:return"Fragment";case ru:return"Portal";case Dw:return"Profiler";case vT:return"StrictMode";case Mw:return"Suspense";case Lw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IO:return(t.displayName||"Context")+".Consumer";case EO:return(t._context.displayName||"Context")+".Provider";case wT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ET:return e=t.displayName||null,e!==null?e:$w(t.type)||"Memo";case Qs:e=t._payload,t=t._init;try{return $w(t(e))}catch{}}return null}function T5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $w(e);case 8:return e===vT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b5(t){var e=bO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ap(t){t._valueTracker||(t._valueTracker=b5(t))}function SO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Km(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fw(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CO(t,e){e=e.checked,e!=null&&yT(t,"checked",e,!1)}function Vw(t,e){CO(t,e);var n=bo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uw(t,e.type,bo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uw(t,e,n){(e!=="number"||Km(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Id=Array.isArray;function vu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Id(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bo(n)}}function RO(t,e){var n=bo(e.value),r=bo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pp,AO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pp=Pp||document.createElement("div"),Pp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S5=["Webkit","ms","Moz","O"];Object.keys(Ld).forEach(function(t){S5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ld[e]=Ld[t]})});function PO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ld.hasOwnProperty(t)&&Ld[t]?(""+e).trim():e+"px"}function kO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=PO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var C5=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zw(t,e){if(e){if(C5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Ww(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qw=null;function IT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hw=null,wu=null,Eu=null;function pR(t){if(t=Of(t)){if(typeof Hw!="function")throw Error($(280));var e=t.stateNode;e&&(e=P_(e),Hw(t.stateNode,t.type,e))}}function NO(t){wu?Eu?Eu.push(t):Eu=[t]:wu=t}function OO(){if(wu){var t=wu,e=Eu;if(Eu=wu=null,pR(t),e)for(t=0;t<e.length;t++)pR(e[t])}}function DO(t,e){return t(e)}function MO(){}var d0=!1;function LO(t,e,n){if(d0)return t(e,n);d0=!0;try{return DO(t,e,n)}finally{d0=!1,(wu!==null||Eu!==null)&&(MO(),OO())}}function fh(t,e){var n=t.stateNode;if(n===null)return null;var r=P_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Gw=!1;if(Ts)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){Gw=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{Gw=!1}function R5(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var $d=!1,Qm=null,Ym=!1,Kw=null,x5={onError:function(t){$d=!0,Qm=t}};function A5(t,e,n,r,i,s,o,a,l){$d=!1,Qm=null,R5.apply(x5,arguments)}function P5(t,e,n,r,i,s,o,a,l){if(A5.apply(this,arguments),$d){if($d){var u=Qm;$d=!1,Qm=null}else throw Error($(198));Ym||(Ym=!0,Kw=u)}}function _l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $O(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mR(t){if(_l(t)!==t)throw Error($(188))}function k5(t){var e=t.alternate;if(!e){if(e=_l(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return mR(i),t;if(s===r)return mR(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function FO(t){return t=k5(t),t!==null?VO(t):null}function VO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VO(t);if(e!==null)return e;t=t.sibling}return null}var UO=Or.unstable_scheduleCallback,gR=Or.unstable_cancelCallback,N5=Or.unstable_shouldYield,O5=Or.unstable_requestPaint,Lt=Or.unstable_now,D5=Or.unstable_getCurrentPriorityLevel,TT=Or.unstable_ImmediatePriority,jO=Or.unstable_UserBlockingPriority,Xm=Or.unstable_NormalPriority,M5=Or.unstable_LowPriority,BO=Or.unstable_IdlePriority,C_=null,Hi=null;function L5(t){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(C_,t,void 0,(t.current.flags&128)===128)}catch{}}var _i=Math.clz32?Math.clz32:V5,$5=Math.log,F5=Math.LN2;function V5(t){return t>>>=0,t===0?32:31-($5(t)/F5|0)|0}var kp=64,Np=4194304;function Td(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Td(a):(s&=o,s!==0&&(r=Td(s)))}else o=n&~i,o!==0?r=Td(o):s!==0&&(r=Td(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_i(e),i=1<<n,r|=t[n],e&=~i;return r}function U5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_i(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=U5(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Qw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zO(){var t=kp;return kp<<=1,!(kp&4194240)&&(kp=64),t}function h0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_i(e),t[e]=n}function B5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_i(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function bT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_i(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function WO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qO,ST,HO,GO,KO,Yw=!1,Op=[],ao=null,lo=null,uo=null,ph=new Map,mh=new Map,Xs=[],z5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _R(t,e){switch(t){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":ph.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(e.pointerId)}}function Hc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Of(e),e!==null&&ST(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function W5(t,e,n,r,i){switch(e){case"focusin":return ao=Hc(ao,t,e,n,r,i),!0;case"dragenter":return lo=Hc(lo,t,e,n,r,i),!0;case"mouseover":return uo=Hc(uo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ph.set(s,Hc(ph.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mh.set(s,Hc(mh.get(s)||null,t,e,n,r,i)),!0}return!1}function QO(t){var e=ba(t.target);if(e!==null){var n=_l(e);if(n!==null){if(e=n.tag,e===13){if(e=$O(n),e!==null){t.blockedOn=e,KO(t.priority,function(){HO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _m(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qw=r,n.target.dispatchEvent(r),qw=null}else return e=Of(n),e!==null&&ST(e),t.blockedOn=n,!1;e.shift()}return!0}function yR(t,e,n){_m(t)&&n.delete(e)}function q5(){Yw=!1,ao!==null&&_m(ao)&&(ao=null),lo!==null&&_m(lo)&&(lo=null),uo!==null&&_m(uo)&&(uo=null),ph.forEach(yR),mh.forEach(yR)}function Gc(t,e){t.blockedOn===e&&(t.blockedOn=null,Yw||(Yw=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,q5)))}function gh(t){function e(i){return Gc(i,t)}if(0<Op.length){Gc(Op[0],t);for(var n=1;n<Op.length;n++){var r=Op[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ao!==null&&Gc(ao,t),lo!==null&&Gc(lo,t),uo!==null&&Gc(uo,t),ph.forEach(e),mh.forEach(e),n=0;n<Xs.length;n++)r=Xs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xs.length&&(n=Xs[0],n.blockedOn===null);)QO(n),n.blockedOn===null&&Xs.shift()}var Iu=Os.ReactCurrentBatchConfig,Zm=!0;function H5(t,e,n,r){var i=He,s=Iu.transition;Iu.transition=null;try{He=1,CT(t,e,n,r)}finally{He=i,Iu.transition=s}}function G5(t,e,n,r){var i=He,s=Iu.transition;Iu.transition=null;try{He=4,CT(t,e,n,r)}finally{He=i,Iu.transition=s}}function CT(t,e,n,r){if(Zm){var i=Xw(t,e,n,r);if(i===null)I0(t,e,r,eg,n),_R(t,r);else if(W5(i,t,e,n,r))r.stopPropagation();else if(_R(t,r),e&4&&-1<z5.indexOf(t)){for(;i!==null;){var s=Of(i);if(s!==null&&qO(s),s=Xw(t,e,n,r),s===null&&I0(t,e,r,eg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else I0(t,e,r,null,n)}}var eg=null;function Xw(t,e,n,r){if(eg=null,t=IT(r),t=ba(t),t!==null)if(e=_l(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$O(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return eg=t,null}function YO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D5()){case TT:return 1;case jO:return 4;case Xm:case M5:return 16;case BO:return 536870912;default:return 16}default:return 16}}var no=null,RT=null,ym=null;function XO(){if(ym)return ym;var t,e=RT,n=e.length,r,i="value"in no?no.value:no.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ym=i.slice(t,1<r?1-r:void 0)}function vm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dp(){return!0}function vR(){return!1}function Vr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dp:vR,this.isPropagationStopped=vR,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dp)},persist:function(){},isPersistent:Dp}),e}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xT=Vr(yc),Nf=It({},yc,{view:0,detail:0}),K5=Vr(Nf),f0,p0,Kc,R_=It({},Nf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kc&&(Kc&&t.type==="mousemove"?(f0=t.screenX-Kc.screenX,p0=t.screenY-Kc.screenY):p0=f0=0,Kc=t),f0)},movementY:function(t){return"movementY"in t?t.movementY:p0}}),wR=Vr(R_),Q5=It({},R_,{dataTransfer:0}),Y5=Vr(Q5),X5=It({},Nf,{relatedTarget:0}),m0=Vr(X5),J5=It({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),Z5=Vr(J5),ez=It({},yc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tz=Vr(ez),nz=It({},yc,{data:0}),ER=Vr(nz),rz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sz[t])?!!e[t]:!1}function AT(){return oz}var az=It({},Nf,{key:function(t){if(t.key){var e=rz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AT,charCode:function(t){return t.type==="keypress"?vm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lz=Vr(az),uz=It({},R_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IR=Vr(uz),cz=It({},Nf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AT}),dz=Vr(cz),hz=It({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),fz=Vr(hz),pz=It({},R_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mz=Vr(pz),gz=[9,13,27,32],PT=Ts&&"CompositionEvent"in window,Fd=null;Ts&&"documentMode"in document&&(Fd=document.documentMode);var _z=Ts&&"TextEvent"in window&&!Fd,JO=Ts&&(!PT||Fd&&8<Fd&&11>=Fd),TR=" ",bR=!1;function ZO(t,e){switch(t){case"keyup":return gz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var su=!1;function yz(t,e){switch(t){case"compositionend":return eD(e);case"keypress":return e.which!==32?null:(bR=!0,TR);case"textInput":return t=e.data,t===TR&&bR?null:t;default:return null}}function vz(t,e){if(su)return t==="compositionend"||!PT&&ZO(t,e)?(t=XO(),ym=RT=no=null,su=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JO&&e.locale!=="ko"?null:e.data;default:return null}}var wz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wz[t.type]:e==="textarea"}function tD(t,e,n,r){NO(r),e=tg(e,"onChange"),0<e.length&&(n=new xT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vd=null,_h=null;function Ez(t){hD(t,0)}function x_(t){var e=lu(t);if(SO(e))return t}function Iz(t,e){if(t==="change")return e}var nD=!1;if(Ts){var g0;if(Ts){var _0="oninput"in document;if(!_0){var CR=document.createElement("div");CR.setAttribute("oninput","return;"),_0=typeof CR.oninput=="function"}g0=_0}else g0=!1;nD=g0&&(!document.documentMode||9<document.documentMode)}function RR(){Vd&&(Vd.detachEvent("onpropertychange",rD),_h=Vd=null)}function rD(t){if(t.propertyName==="value"&&x_(_h)){var e=[];tD(e,_h,t,IT(t)),LO(Ez,e)}}function Tz(t,e,n){t==="focusin"?(RR(),Vd=e,_h=n,Vd.attachEvent("onpropertychange",rD)):t==="focusout"&&RR()}function bz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return x_(_h)}function Sz(t,e){if(t==="click")return x_(e)}function Cz(t,e){if(t==="input"||t==="change")return x_(e)}function Rz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ei=typeof Object.is=="function"?Object.is:Rz;function yh(t,e){if(Ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ow.call(e,i)||!Ei(t[i],e[i]))return!1}return!0}function xR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AR(t,e){var n=xR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xR(n)}}function iD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sD(){for(var t=window,e=Km();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Km(t.document)}return e}function kT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xz(t){var e=sD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iD(n.ownerDocument.documentElement,n)){if(r!==null&&kT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=AR(n,s);var o=AR(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Az=Ts&&"documentMode"in document&&11>=document.documentMode,ou=null,Jw=null,Ud=null,Zw=!1;function PR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zw||ou==null||ou!==Km(r)||(r=ou,"selectionStart"in r&&kT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ud&&yh(Ud,r)||(Ud=r,r=tg(Jw,"onSelect"),0<r.length&&(e=new xT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ou)))}function Mp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var au={animationend:Mp("Animation","AnimationEnd"),animationiteration:Mp("Animation","AnimationIteration"),animationstart:Mp("Animation","AnimationStart"),transitionend:Mp("Transition","TransitionEnd")},y0={},oD={};Ts&&(oD=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function A_(t){if(y0[t])return y0[t];if(!au[t])return t;var e=au[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oD)return y0[t]=e[n];return t}var aD=A_("animationend"),lD=A_("animationiteration"),uD=A_("animationstart"),cD=A_("transitionend"),dD=new Map,kR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(t,e){dD.set(t,e),gl(e,[t])}for(var v0=0;v0<kR.length;v0++){var w0=kR[v0],Pz=w0.toLowerCase(),kz=w0[0].toUpperCase()+w0.slice(1);Go(Pz,"on"+kz)}Go(aD,"onAnimationEnd");Go(lD,"onAnimationIteration");Go(uD,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(cD,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nz=new Set("cancel close invalid load scroll toggle".split(" ").concat(bd));function NR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P5(r,e,void 0,t),t.currentTarget=null}function hD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;NR(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;NR(i,a,u),s=l}}}if(Ym)throw t=Kw,Ym=!1,Kw=null,t}function ot(t,e){var n=e[iE];n===void 0&&(n=e[iE]=new Set);var r=t+"__bubble";n.has(r)||(fD(e,t,2,!1),n.add(r))}function E0(t,e,n){var r=0;e&&(r|=4),fD(n,t,r,e)}var Lp="_reactListening"+Math.random().toString(36).slice(2);function vh(t){if(!t[Lp]){t[Lp]=!0,wO.forEach(function(n){n!=="selectionchange"&&(Nz.has(n)||E0(n,!1,t),E0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lp]||(e[Lp]=!0,E0("selectionchange",!1,e))}}function fD(t,e,n,r){switch(YO(e)){case 1:var i=H5;break;case 4:i=G5;break;default:i=CT}n=i.bind(null,e,n,t),i=void 0,!Gw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function I0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ba(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LO(function(){var u=s,c=IT(n),d=[];e:{var h=dD.get(t);if(h!==void 0){var f=xT,p=t;switch(t){case"keypress":if(vm(n)===0)break e;case"keydown":case"keyup":f=lz;break;case"focusin":p="focus",f=m0;break;case"focusout":p="blur",f=m0;break;case"beforeblur":case"afterblur":f=m0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=wR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Y5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=dz;break;case aD:case lD:case uD:f=Z5;break;case cD:f=fz;break;case"scroll":f=K5;break;case"wheel":f=mz;break;case"copy":case"cut":case"paste":f=tz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=IR}var g=(e&4)!==0,v=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var _=u,y;_!==null;){y=_;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=fh(_,m),w!=null&&g.push(wh(_,w,y)))),v)break;_=_.return}0<g.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==qw&&(p=n.relatedTarget||n.fromElement)&&(ba(p)||p[bs]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?ba(p):null,p!==null&&(v=_l(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=wR,w="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=IR,w="onPointerLeave",m="onPointerEnter",_="pointer"),v=f==null?h:lu(f),y=p==null?h:lu(p),h=new g(w,_+"leave",f,n,c),h.target=v,h.relatedTarget=y,w=null,ba(c)===u&&(g=new g(m,_+"enter",p,n,c),g.target=y,g.relatedTarget=v,w=g),v=w,f&&p)t:{for(g=f,m=p,_=0,y=g;y;y=Ll(y))_++;for(y=0,w=m;w;w=Ll(w))y++;for(;0<_-y;)g=Ll(g),_--;for(;0<y-_;)m=Ll(m),y--;for(;_--;){if(g===m||m!==null&&g===m.alternate)break t;g=Ll(g),m=Ll(m)}g=null}else g=null;f!==null&&OR(d,h,f,g,!1),p!==null&&v!==null&&OR(d,v,p,g,!0)}}e:{if(h=u?lu(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=Iz;else if(SR(h))if(nD)b=Cz;else{b=bz;var C=Tz}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=Sz);if(b&&(b=b(t,u))){tD(d,b,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Uw(h,"number",h.value)}switch(C=u?lu(u):window,t){case"focusin":(SR(C)||C.contentEditable==="true")&&(ou=C,Jw=u,Ud=null);break;case"focusout":Ud=Jw=ou=null;break;case"mousedown":Zw=!0;break;case"contextmenu":case"mouseup":case"dragend":Zw=!1,PR(d,n,c);break;case"selectionchange":if(Az)break;case"keydown":case"keyup":PR(d,n,c)}var T;if(PT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else su?ZO(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(JO&&n.locale!=="ko"&&(su||A!=="onCompositionStart"?A==="onCompositionEnd"&&su&&(T=XO()):(no=c,RT="value"in no?no.value:no.textContent,su=!0)),C=tg(u,A),0<C.length&&(A=new ER(A,t,null,n,c),d.push({event:A,listeners:C}),T?A.data=T:(T=eD(n),T!==null&&(A.data=T)))),(T=_z?yz(t,n):vz(t,n))&&(u=tg(u,"onBeforeInput"),0<u.length&&(c=new ER("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}hD(d,e)})}function wh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fh(t,n),s!=null&&r.unshift(wh(t,s,i)),s=fh(t,e),s!=null&&r.push(wh(t,s,i))),t=t.return}return r}function Ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OR(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=fh(n,s),l!=null&&o.unshift(wh(n,l,a))):i||(l=fh(n,s),l!=null&&o.push(wh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Oz=/\r\n?/g,Dz=/\u0000|\uFFFD/g;function DR(t){return(typeof t=="string"?t:""+t).replace(Oz,`
`).replace(Dz,"")}function $p(t,e,n){if(e=DR(e),DR(t)!==e&&n)throw Error($(425))}function ng(){}var eE=null,tE=null;function nE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rE=typeof setTimeout=="function"?setTimeout:void 0,Mz=typeof clearTimeout=="function"?clearTimeout:void 0,MR=typeof Promise=="function"?Promise:void 0,Lz=typeof queueMicrotask=="function"?queueMicrotask:typeof MR<"u"?function(t){return MR.resolve(null).then(t).catch($z)}:rE;function $z(t){setTimeout(function(){throw t})}function T0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gh(e)}function co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vc=Math.random().toString(36).slice(2),Oi="__reactFiber$"+vc,Eh="__reactProps$"+vc,bs="__reactContainer$"+vc,iE="__reactEvents$"+vc,Fz="__reactListeners$"+vc,Vz="__reactHandles$"+vc;function ba(t){var e=t[Oi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bs]||n[Oi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LR(t);t!==null;){if(n=t[Oi])return n;t=LR(t)}return e}t=n,n=t.parentNode}return null}function Of(t){return t=t[Oi]||t[bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function P_(t){return t[Eh]||null}var sE=[],uu=-1;function Ko(t){return{current:t}}function dt(t){0>uu||(t.current=sE[uu],sE[uu]=null,uu--)}function nt(t,e){uu++,sE[uu]=t.current,t.current=e}var So={},Dn=Ko(So),lr=Ko(!1),Ga=So;function Uu(t,e){var n=t.type.contextTypes;if(!n)return So;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ur(t){return t=t.childContextTypes,t!=null}function rg(){dt(lr),dt(Dn)}function $R(t,e,n){if(Dn.current!==So)throw Error($(168));nt(Dn,e),nt(lr,n)}function pD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,T5(t)||"Unknown",i));return It({},n,r)}function ig(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||So,Ga=Dn.current,nt(Dn,t),nt(lr,lr.current),!0}function FR(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=pD(t,e,Ga),r.__reactInternalMemoizedMergedChildContext=t,dt(lr),dt(Dn),nt(Dn,t)):dt(lr),nt(lr,n)}var ls=null,k_=!1,b0=!1;function mD(t){ls===null?ls=[t]:ls.push(t)}function Uz(t){k_=!0,mD(t)}function Qo(){if(!b0&&ls!==null){b0=!0;var t=0,e=He;try{var n=ls;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ls=null,k_=!1}catch(i){throw ls!==null&&(ls=ls.slice(t+1)),UO(TT,Qo),i}finally{He=e,b0=!1}}return null}var cu=[],du=0,sg=null,og=0,zr=[],Wr=0,Ka=null,cs=1,ds="";function ua(t,e){cu[du++]=og,cu[du++]=sg,sg=t,og=e}function gD(t,e,n){zr[Wr++]=cs,zr[Wr++]=ds,zr[Wr++]=Ka,Ka=t;var r=cs;t=ds;var i=32-_i(r)-1;r&=~(1<<i),n+=1;var s=32-_i(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cs=1<<32-_i(e)+i|n<<i|r,ds=s+t}else cs=1<<s|n<<i|r,ds=t}function NT(t){t.return!==null&&(ua(t,1),gD(t,1,0))}function OT(t){for(;t===sg;)sg=cu[--du],cu[du]=null,og=cu[--du],cu[du]=null;for(;t===Ka;)Ka=zr[--Wr],zr[Wr]=null,ds=zr[--Wr],zr[Wr]=null,cs=zr[--Wr],zr[Wr]=null}var Pr=null,Sr=null,pt=!1,di=null;function _D(t,e){var n=Gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,Sr=co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ka!==null?{id:cs,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pr=t,Sr=null,!0):!1;default:return!1}}function oE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function aE(t){if(pt){var e=Sr;if(e){var n=e;if(!VR(t,e)){if(oE(t))throw Error($(418));e=co(n.nextSibling);var r=Pr;e&&VR(t,e)?_D(r,n):(t.flags=t.flags&-4097|2,pt=!1,Pr=t)}}else{if(oE(t))throw Error($(418));t.flags=t.flags&-4097|2,pt=!1,Pr=t}}}function UR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function Fp(t){if(t!==Pr)return!1;if(!pt)return UR(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nE(t.type,t.memoizedProps)),e&&(e=Sr)){if(oE(t))throw yD(),Error($(418));for(;e;)_D(t,e),e=co(e.nextSibling)}if(UR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Pr?co(t.stateNode.nextSibling):null;return!0}function yD(){for(var t=Sr;t;)t=co(t.nextSibling)}function ju(){Sr=Pr=null,pt=!1}function DT(t){di===null?di=[t]:di.push(t)}var jz=Os.ReactCurrentBatchConfig;function ui(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ag=Ko(null),lg=null,hu=null,MT=null;function LT(){MT=hu=lg=null}function $T(t){var e=ag.current;dt(ag),t._currentValue=e}function lE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tu(t,e){lg=t,MT=hu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ir=!0),t.firstContext=null)}function Jr(t){var e=t._currentValue;if(MT!==t)if(t={context:t,memoizedValue:e,next:null},hu===null){if(lg===null)throw Error($(308));hu=t,lg.dependencies={lanes:0,firstContext:t}}else hu=hu.next=t;return e}var Sa=null;function FT(t){Sa===null?Sa=[t]:Sa.push(t)}function vD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,FT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ss(t,r)}function Ss(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ys=!1;function VT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ho(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ss(t,n)}return i=r.interleaved,i===null?(e.next=e,FT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ss(t,n)}function wm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bT(t,n)}}function jR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ug(t,e,n,r){var i=t.updateQueue;Ys=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=It({},d,h);break e;case 2:Ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ya|=o,t.lanes=o,t.memoizedState=d}}function BR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var ED=new vO.Component().refs;function uE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var N_={isMounted:function(t){return(t=t._reactInternals)?_l(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zn(),i=po(t),s=gs(r,i);s.payload=e,n!=null&&(s.callback=n),e=ho(t,s,i),e!==null&&(yi(e,t,i,r),wm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zn(),i=po(t),s=gs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ho(t,s,i),e!==null&&(yi(e,t,i,r),wm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zn(),r=po(t),i=gs(n,r);i.tag=2,e!=null&&(i.callback=e),e=ho(t,i,r),e!==null&&(yi(e,t,r,n),wm(e,t,r))}};function zR(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yh(n,r)||!yh(i,s):!0}function ID(t,e,n){var r=!1,i=So,s=e.contextType;return typeof s=="object"&&s!==null?s=Jr(s):(i=ur(e)?Ga:Dn.current,r=e.contextTypes,s=(r=r!=null)?Uu(t,i):So),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=N_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function WR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&N_.enqueueReplaceState(e,e.state,null)}function cE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ED,VT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jr(s):(s=ur(e)?Ga:Dn.current,i.context=Uu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&N_.enqueueReplaceState(i,i.state,null),ug(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ED&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Vp(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qR(t){var e=t._init;return e(t._payload)}function TD(t){function e(m,_){if(t){var y=m.deletions;y===null?(m.deletions=[_],m.flags|=16):y.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=mo(m,_),m.index=0,m.sibling=null,m}function s(m,_,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<_?(m.flags|=2,_):y):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,_,y,w){return _===null||_.tag!==6?(_=k0(y,m.mode,w),_.return=m,_):(_=i(_,y),_.return=m,_)}function l(m,_,y,w){var b=y.type;return b===iu?c(m,_,y.props.children,w,y.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Qs&&qR(b)===_.type)?(w=i(_,y.props),w.ref=Qc(m,_,y),w.return=m,w):(w=Cm(y.type,y.key,y.props,null,m.mode,w),w.ref=Qc(m,_,y),w.return=m,w)}function u(m,_,y,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=N0(y,m.mode,w),_.return=m,_):(_=i(_,y.children||[]),_.return=m,_)}function c(m,_,y,w,b){return _===null||_.tag!==7?(_=Fa(y,m.mode,w,b),_.return=m,_):(_=i(_,y),_.return=m,_)}function d(m,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=k0(""+_,m.mode,y),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xp:return y=Cm(_.type,_.key,_.props,null,m.mode,y),y.ref=Qc(m,null,_),y.return=m,y;case ru:return _=N0(_,m.mode,y),_.return=m,_;case Qs:var w=_._init;return d(m,w(_._payload),y)}if(Id(_)||Wc(_))return _=Fa(_,m.mode,y,null),_.return=m,_;Vp(m,_)}return null}function h(m,_,y,w){var b=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(m,_,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xp:return y.key===b?l(m,_,y,w):null;case ru:return y.key===b?u(m,_,y,w):null;case Qs:return b=y._init,h(m,_,b(y._payload),w)}if(Id(y)||Wc(y))return b!==null?null:c(m,_,y,w,null);Vp(m,y)}return null}function f(m,_,y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(_,m,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xp:return m=m.get(w.key===null?y:w.key)||null,l(_,m,w,b);case ru:return m=m.get(w.key===null?y:w.key)||null,u(_,m,w,b);case Qs:var C=w._init;return f(m,_,y,C(w._payload),b)}if(Id(w)||Wc(w))return m=m.get(y)||null,c(_,m,w,b,null);Vp(_,w)}return null}function p(m,_,y,w){for(var b=null,C=null,T=_,A=_=0,M=null;T!==null&&A<y.length;A++){T.index>A?(M=T,T=null):M=T.sibling;var P=h(m,T,y[A],w);if(P===null){T===null&&(T=M);break}t&&T&&P.alternate===null&&e(m,T),_=s(P,_,A),C===null?b=P:C.sibling=P,C=P,T=M}if(A===y.length)return n(m,T),pt&&ua(m,A),b;if(T===null){for(;A<y.length;A++)T=d(m,y[A],w),T!==null&&(_=s(T,_,A),C===null?b=T:C.sibling=T,C=T);return pt&&ua(m,A),b}for(T=r(m,T);A<y.length;A++)M=f(T,m,A,y[A],w),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?A:M.key),_=s(M,_,A),C===null?b=M:C.sibling=M,C=M);return t&&T.forEach(function(L){return e(m,L)}),pt&&ua(m,A),b}function g(m,_,y,w){var b=Wc(y);if(typeof b!="function")throw Error($(150));if(y=b.call(y),y==null)throw Error($(151));for(var C=b=null,T=_,A=_=0,M=null,P=y.next();T!==null&&!P.done;A++,P=y.next()){T.index>A?(M=T,T=null):M=T.sibling;var L=h(m,T,P.value,w);if(L===null){T===null&&(T=M);break}t&&T&&L.alternate===null&&e(m,T),_=s(L,_,A),C===null?b=L:C.sibling=L,C=L,T=M}if(P.done)return n(m,T),pt&&ua(m,A),b;if(T===null){for(;!P.done;A++,P=y.next())P=d(m,P.value,w),P!==null&&(_=s(P,_,A),C===null?b=P:C.sibling=P,C=P);return pt&&ua(m,A),b}for(T=r(m,T);!P.done;A++,P=y.next())P=f(T,m,A,P.value,w),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?A:P.key),_=s(P,_,A),C===null?b=P:C.sibling=P,C=P);return t&&T.forEach(function(G){return e(m,G)}),pt&&ua(m,A),b}function v(m,_,y,w){if(typeof y=="object"&&y!==null&&y.type===iu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xp:e:{for(var b=y.key,C=_;C!==null;){if(C.key===b){if(b=y.type,b===iu){if(C.tag===7){n(m,C.sibling),_=i(C,y.props.children),_.return=m,m=_;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Qs&&qR(b)===C.type){n(m,C.sibling),_=i(C,y.props),_.ref=Qc(m,C,y),_.return=m,m=_;break e}n(m,C);break}else e(m,C);C=C.sibling}y.type===iu?(_=Fa(y.props.children,m.mode,w,y.key),_.return=m,m=_):(w=Cm(y.type,y.key,y.props,null,m.mode,w),w.ref=Qc(m,_,y),w.return=m,m=w)}return o(m);case ru:e:{for(C=y.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(m,_.sibling),_=i(_,y.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=N0(y,m.mode,w),_.return=m,m=_}return o(m);case Qs:return C=y._init,v(m,_,C(y._payload),w)}if(Id(y))return p(m,_,y,w);if(Wc(y))return g(m,_,y,w);Vp(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(m,_.sibling),_=i(_,y),_.return=m,m=_):(n(m,_),_=k0(y,m.mode,w),_.return=m,m=_),o(m)):n(m,_)}return v}var Bu=TD(!0),bD=TD(!1),Df={},Gi=Ko(Df),Ih=Ko(Df),Th=Ko(Df);function Ca(t){if(t===Df)throw Error($(174));return t}function UT(t,e){switch(nt(Th,e),nt(Ih,t),nt(Gi,Df),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bw(e,t)}dt(Gi),nt(Gi,e)}function zu(){dt(Gi),dt(Ih),dt(Th)}function SD(t){Ca(Th.current);var e=Ca(Gi.current),n=Bw(e,t.type);e!==n&&(nt(Ih,t),nt(Gi,n))}function jT(t){Ih.current===t&&(dt(Gi),dt(Ih))}var vt=Ko(0);function cg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var S0=[];function BT(){for(var t=0;t<S0.length;t++)S0[t]._workInProgressVersionPrimary=null;S0.length=0}var Em=Os.ReactCurrentDispatcher,C0=Os.ReactCurrentBatchConfig,Qa=0,wt=null,Ht=null,tn=null,dg=!1,jd=!1,bh=0,Bz=0;function Sn(){throw Error($(321))}function zT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ei(t[n],e[n]))return!1;return!0}function WT(t,e,n,r,i,s){if(Qa=s,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Em.current=t===null||t.memoizedState===null?Hz:Gz,t=n(r,i),jd){s=0;do{if(jd=!1,bh=0,25<=s)throw Error($(301));s+=1,tn=Ht=null,e.updateQueue=null,Em.current=Kz,t=n(r,i)}while(jd)}if(Em.current=hg,e=Ht!==null&&Ht.next!==null,Qa=0,tn=Ht=wt=null,dg=!1,e)throw Error($(300));return t}function qT(){var t=bh!==0;return bh=0,t}function Ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?wt.memoizedState=tn=t:tn=tn.next=t,tn}function Zr(){if(Ht===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=tn===null?wt.memoizedState:tn.next;if(e!==null)tn=e,Ht=t;else{if(t===null)throw Error($(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},tn===null?wt.memoizedState=tn=t:tn=tn.next=t}return tn}function Sh(t,e){return typeof e=="function"?e(t):e}function R0(t){var e=Zr(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Qa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,wt.lanes|=c,Ya|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ei(r,e.memoizedState)||(ir=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,wt.lanes|=s,Ya|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function x0(t){var e=Zr(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ei(s,e.memoizedState)||(ir=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CD(){}function RD(t,e){var n=wt,r=Zr(),i=e(),s=!Ei(r.memoizedState,i);if(s&&(r.memoizedState=i,ir=!0),r=r.queue,HT(PD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,Ch(9,AD.bind(null,n,r,i,e),void 0,null),sn===null)throw Error($(349));Qa&30||xD(n,e,i)}return i}function xD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AD(t,e,n,r){e.value=n,e.getSnapshot=r,kD(e)&&ND(t)}function PD(t,e,n){return n(function(){kD(e)&&ND(t)})}function kD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ei(t,n)}catch{return!0}}function ND(t){var e=Ss(t,1);e!==null&&yi(e,t,1,-1)}function HR(t){var e=Ai();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sh,lastRenderedState:t},e.queue=t,t=t.dispatch=qz.bind(null,wt,t),[e.memoizedState,t]}function Ch(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OD(){return Zr().memoizedState}function Im(t,e,n,r){var i=Ai();wt.flags|=t,i.memoizedState=Ch(1|e,n,void 0,r===void 0?null:r)}function O_(t,e,n,r){var i=Zr();r=r===void 0?null:r;var s=void 0;if(Ht!==null){var o=Ht.memoizedState;if(s=o.destroy,r!==null&&zT(r,o.deps)){i.memoizedState=Ch(e,n,s,r);return}}wt.flags|=t,i.memoizedState=Ch(1|e,n,s,r)}function GR(t,e){return Im(8390656,8,t,e)}function HT(t,e){return O_(2048,8,t,e)}function DD(t,e){return O_(4,2,t,e)}function MD(t,e){return O_(4,4,t,e)}function LD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $D(t,e,n){return n=n!=null?n.concat([t]):null,O_(4,4,LD.bind(null,e,t),n)}function GT(){}function FD(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VD(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UD(t,e,n){return Qa&21?(Ei(n,e)||(n=zO(),wt.lanes|=n,Ya|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ir=!0),t.memoizedState=n)}function zz(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=C0.transition;C0.transition={};try{t(!1),e()}finally{He=n,C0.transition=r}}function jD(){return Zr().memoizedState}function Wz(t,e,n){var r=po(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BD(t))zD(e,n);else if(n=vD(t,e,n,r),n!==null){var i=zn();yi(n,t,r,i),WD(n,e,r)}}function qz(t,e,n){var r=po(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BD(t))zD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ei(a,o)){var l=e.interleaved;l===null?(i.next=i,FT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vD(t,e,i,r),n!==null&&(i=zn(),yi(n,t,r,i),WD(n,e,r))}}function BD(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function zD(t,e){jd=dg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bT(t,n)}}var hg={readContext:Jr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},Hz={readContext:Jr,useCallback:function(t,e){return Ai().memoizedState=[t,e===void 0?null:e],t},useContext:Jr,useEffect:GR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Im(4194308,4,LD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Im(4194308,4,t,e)},useInsertionEffect:function(t,e){return Im(4,2,t,e)},useMemo:function(t,e){var n=Ai();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ai();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Wz.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=Ai();return t={current:t},e.memoizedState=t},useState:HR,useDebugValue:GT,useDeferredValue:function(t){return Ai().memoizedState=t},useTransition:function(){var t=HR(!1),e=t[0];return t=zz.bind(null,t[1]),Ai().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=Ai();if(pt){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),sn===null)throw Error($(349));Qa&30||xD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,GR(PD.bind(null,r,s,t),[t]),r.flags|=2048,Ch(9,AD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ai(),e=sn.identifierPrefix;if(pt){var n=ds,r=cs;n=(r&~(1<<32-_i(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gz={readContext:Jr,useCallback:FD,useContext:Jr,useEffect:HT,useImperativeHandle:$D,useInsertionEffect:DD,useLayoutEffect:MD,useMemo:VD,useReducer:R0,useRef:OD,useState:function(){return R0(Sh)},useDebugValue:GT,useDeferredValue:function(t){var e=Zr();return UD(e,Ht.memoizedState,t)},useTransition:function(){var t=R0(Sh)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:CD,useSyncExternalStore:RD,useId:jD,unstable_isNewReconciler:!1},Kz={readContext:Jr,useCallback:FD,useContext:Jr,useEffect:HT,useImperativeHandle:$D,useInsertionEffect:DD,useLayoutEffect:MD,useMemo:VD,useReducer:x0,useRef:OD,useState:function(){return x0(Sh)},useDebugValue:GT,useDeferredValue:function(t){var e=Zr();return Ht===null?e.memoizedState=t:UD(e,Ht.memoizedState,t)},useTransition:function(){var t=x0(Sh)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:CD,useSyncExternalStore:RD,useId:jD,unstable_isNewReconciler:!1};function Wu(t,e){try{var n="",r=e;do n+=I5(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function A0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Qz=typeof WeakMap=="function"?WeakMap:Map;function qD(t,e,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pg||(pg=!0,EE=r),dE(t,e)},n}function HD(t,e,n){n=gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){dE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dE(t,e),typeof r!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function KR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Qz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=u6.bind(null,t,e,n),e.then(t,t))}function QR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gs(-1,1),e.tag=2,ho(n,e,1))),n.lanes|=1),t)}var Yz=Os.ReactCurrentOwner,ir=!1;function Fn(t,e,n,r){e.child=t===null?bD(e,null,n,r):Bu(e,t.child,n,r)}function XR(t,e,n,r,i){n=n.render;var s=e.ref;return Tu(e,i),r=WT(t,e,n,r,s,i),n=qT(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(pt&&n&&NT(e),e.flags|=1,Fn(t,e,r,i),e.child)}function JR(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!tb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,GD(t,e,s,r,i)):(t=Cm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yh,n(o,r)&&t.ref===e.ref)return Cs(t,e,i)}return e.flags|=1,t=mo(s,r),t.ref=e.ref,t.return=e,e.child=t}function GD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(yh(s,r)&&t.ref===e.ref)if(ir=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,Cs(t,e,i)}return hE(t,e,n,r,i)}function KD(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(pu,wr),wr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(pu,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(pu,wr),wr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nt(pu,wr),wr|=r;return Fn(t,e,i,n),e.child}function QD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hE(t,e,n,r,i){var s=ur(n)?Ga:Dn.current;return s=Uu(e,s),Tu(e,i),n=WT(t,e,n,r,s,i),r=qT(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(pt&&r&&NT(e),e.flags|=1,Fn(t,e,n,i),e.child)}function ZR(t,e,n,r,i){if(ur(n)){var s=!0;ig(e)}else s=!1;if(Tu(e,i),e.stateNode===null)Tm(t,e),ID(e,n,r),cE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jr(u):(u=ur(n)?Ga:Dn.current,u=Uu(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&WR(e,o,r,u),Ys=!1;var h=e.memoizedState;o.state=h,ug(e,r,o,i),l=e.memoizedState,a!==r||h!==l||lr.current||Ys?(typeof c=="function"&&(uE(e,n,c,r),l=e.memoizedState),(a=Ys||zR(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ui(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jr(l):(l=ur(n)?Ga:Dn.current,l=Uu(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&WR(e,o,r,l),Ys=!1,h=e.memoizedState,o.state=h,ug(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||lr.current||Ys?(typeof f=="function"&&(uE(e,n,f,r),p=e.memoizedState),(u=Ys||zR(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return fE(t,e,n,r,s,i)}function fE(t,e,n,r,i,s){QD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&FR(e,n,!1),Cs(t,e,s);r=e.stateNode,Yz.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bu(e,t.child,null,s),e.child=Bu(e,null,a,s)):Fn(t,e,a,s),e.memoizedState=r.state,i&&FR(e,n,!0),e.child}function YD(t){var e=t.stateNode;e.pendingContext?$R(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$R(t,e.context,!1),UT(t,e.containerInfo)}function ex(t,e,n,r,i){return ju(),DT(i),e.flags|=256,Fn(t,e,n,r),e.child}var pE={dehydrated:null,treeContext:null,retryLane:0};function mE(t){return{baseLanes:t,cachePool:null,transitions:null}}function XD(t,e,n){var r=e.pendingProps,i=vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(vt,i&1),t===null)return aE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=L_(o,r,0,null),t=Fa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mE(n),e.memoizedState=pE,t):KT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Xz(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=mo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=mo(a,s):(s=Fa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?mE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=pE,r}return s=t.child,t=s.sibling,r=mo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function KT(t,e){return e=L_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Up(t,e,n,r){return r!==null&&DT(r),Bu(e,t.child,null,n),t=KT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=A0(Error($(422))),Up(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=L_({mode:"visible",children:r.children},i,0,null),s=Fa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Bu(e,t.child,null,o),e.child.memoizedState=mE(o),e.memoizedState=pE,s);if(!(e.mode&1))return Up(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=A0(s,r,void 0),Up(t,e,o,r)}if(a=(o&t.childLanes)!==0,ir||a){if(r=sn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ss(t,i),yi(r,t,i,-1))}return eb(),r=A0(Error($(421))),Up(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=c6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Sr=co(i.nextSibling),Pr=e,pt=!0,di=null,t!==null&&(zr[Wr++]=cs,zr[Wr++]=ds,zr[Wr++]=Ka,cs=t.id,ds=t.overflow,Ka=e),e=KT(e,r.children),e.flags|=4096,e)}function tx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lE(t.return,e,n)}function P0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Fn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tx(t,n,e);else if(t.tag===19)tx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),P0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}P0(e,!0,n,null,s);break;case"together":P0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ya|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=mo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jz(t,e,n){switch(e.tag){case 3:YD(e),ju();break;case 5:SD(e);break;case 1:ur(e.type)&&ig(e);break;case 4:UT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(ag,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?XD(t,e,n):(nt(vt,vt.current&1),t=Cs(t,e,n),t!==null?t.sibling:null);nt(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,KD(t,e,n)}return Cs(t,e,n)}var ZD,gE,eM,tM;ZD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gE=function(){};eM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ca(Gi.current);var s=null;switch(n){case"input":i=Fw(t,i),r=Fw(t,r),s=[];break;case"select":i=It({},i,{value:void 0}),r=It({},r,{value:void 0}),s=[];break;case"textarea":i=jw(t,i),r=jw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ng)}zw(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yc(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zz(t,e,n){var r=e.pendingProps;switch(OT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(e),null;case 1:return ur(e.type)&&rg(),Cn(e),null;case 3:return r=e.stateNode,zu(),dt(lr),dt(Dn),BT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,di!==null&&(bE(di),di=null))),gE(t,e),Cn(e),null;case 5:jT(e);var i=Ca(Th.current);if(n=e.type,t!==null&&e.stateNode!=null)eM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Cn(e),null}if(t=Ca(Gi.current),Fp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Oi]=e,r[Eh]=s,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(i=0;i<bd.length;i++)ot(bd[i],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":cR(r,s),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ot("invalid",r);break;case"textarea":hR(r,s),ot("invalid",r)}zw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$p(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$p(r.textContent,a,t),i=["children",""+a]):dh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ot("scroll",r)}switch(n){case"input":Ap(r),dR(r,s,!0);break;case"textarea":Ap(r),fR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ng)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Oi]=e,t[Eh]=r,ZD(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ww(n,r),n){case"dialog":ot("cancel",t),ot("close",t),i=r;break;case"iframe":case"object":case"embed":ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<bd.length;i++)ot(bd[i],t);i=r;break;case"source":ot("error",t),i=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=r;break;case"details":ot("toggle",t),i=r;break;case"input":cR(t,r),i=Fw(t,r),ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=It({},r,{value:void 0}),ot("invalid",t);break;case"textarea":hR(t,r),i=jw(t,r),ot("invalid",t);break;default:i=r}zw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kO(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AO(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hh(t,l):typeof l=="number"&&hh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ot("scroll",t):l!=null&&yT(t,s,l,o))}switch(n){case"input":Ap(t),dR(t,r,!1);break;case"textarea":Ap(t),fR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?vu(t,!!r.multiple,s,!1):r.defaultValue!=null&&vu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ng)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cn(e),null;case 6:if(t&&e.stateNode!=null)tM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Ca(Th.current),Ca(Gi.current),Fp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Oi]=e,(s=r.nodeValue!==n)&&(t=Pr,t!==null))switch(t.tag){case 3:$p(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$p(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oi]=e,e.stateNode=r}return Cn(e),null;case 13:if(dt(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Sr!==null&&e.mode&1&&!(e.flags&128))yD(),ju(),e.flags|=98560,s=!1;else if(s=Fp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Oi]=e}else ju(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cn(e),s=!1}else di!==null&&(bE(di),di=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?Qt===0&&(Qt=3):eb())),e.updateQueue!==null&&(e.flags|=4),Cn(e),null);case 4:return zu(),gE(t,e),t===null&&vh(e.stateNode.containerInfo),Cn(e),null;case 10:return $T(e.type._context),Cn(e),null;case 17:return ur(e.type)&&rg(),Cn(e),null;case 19:if(dt(vt),s=e.memoizedState,s===null)return Cn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Yc(s,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cg(t),o!==null){for(e.flags|=128,Yc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(vt,vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Lt()>qu&&(e.flags|=128,r=!0,Yc(s,!1),e.lanes=4194304)}else{if(!r)if(t=cg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return Cn(e),null}else 2*Lt()-s.renderingStartTime>qu&&n!==1073741824&&(e.flags|=128,r=!0,Yc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Lt(),e.sibling=null,n=vt.current,nt(vt,r?n&1|2:n&1),e):(Cn(e),null);case 22:case 23:return ZT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wr&1073741824&&(Cn(e),e.subtreeFlags&6&&(e.flags|=8192)):Cn(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function e6(t,e){switch(OT(e),e.tag){case 1:return ur(e.type)&&rg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zu(),dt(lr),dt(Dn),BT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jT(e),null;case 13:if(dt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));ju()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(vt),null;case 4:return zu(),null;case 10:return $T(e.type._context),null;case 22:case 23:return ZT(),null;case 24:return null;default:return null}}var jp=!1,An=!1,t6=typeof WeakSet=="function"?WeakSet:Set,ee=null;function fu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ct(t,e,r)}else n.current=null}function _E(t,e,n){try{n()}catch(r){Ct(t,e,r)}}var nx=!1;function n6(t,e){if(eE=Zm,t=sD(),kT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tE={focusedElem:t,selectionRange:n},Zm=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:ui(e.type,g),v);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(w){Ct(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return p=nx,nx=!1,p}function Bd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_E(e,n,s)}i=i.next}while(i!==r)}}function D_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nM(t){var e=t.alternate;e!==null&&(t.alternate=null,nM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oi],delete e[Eh],delete e[iE],delete e[Fz],delete e[Vz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rM(t){return t.tag===5||t.tag===3||t.tag===4}function rx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ng));else if(r!==4&&(t=t.child,t!==null))for(vE(t,e,n),t=t.sibling;t!==null;)vE(t,e,n),t=t.sibling}function wE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wE(t,e,n),t=t.sibling;t!==null;)wE(t,e,n),t=t.sibling}var gn=null,ci=!1;function Bs(t,e,n){for(n=n.child;n!==null;)iM(t,e,n),n=n.sibling}function iM(t,e,n){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(C_,n)}catch{}switch(n.tag){case 5:An||fu(n,e);case 6:var r=gn,i=ci;gn=null,Bs(t,e,n),gn=r,ci=i,gn!==null&&(ci?(t=gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gn.removeChild(n.stateNode));break;case 18:gn!==null&&(ci?(t=gn,n=n.stateNode,t.nodeType===8?T0(t.parentNode,n):t.nodeType===1&&T0(t,n),gh(t)):T0(gn,n.stateNode));break;case 4:r=gn,i=ci,gn=n.stateNode.containerInfo,ci=!0,Bs(t,e,n),gn=r,ci=i;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_E(n,e,o),i=i.next}while(i!==r)}Bs(t,e,n);break;case 1:if(!An&&(fu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ct(n,e,a)}Bs(t,e,n);break;case 21:Bs(t,e,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,Bs(t,e,n),An=r):Bs(t,e,n);break;default:Bs(t,e,n)}}function ix(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t6),e.forEach(function(r){var i=d6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function oi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gn=a.stateNode,ci=!1;break e;case 3:gn=a.stateNode.containerInfo,ci=!0;break e;case 4:gn=a.stateNode.containerInfo,ci=!0;break e}a=a.return}if(gn===null)throw Error($(160));iM(s,o,i),gn=null,ci=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sM(e,t),e=e.sibling}function sM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oi(e,t),Ri(t),r&4){try{Bd(3,t,t.return),D_(3,t)}catch(g){Ct(t,t.return,g)}try{Bd(5,t,t.return)}catch(g){Ct(t,t.return,g)}}break;case 1:oi(e,t),Ri(t),r&512&&n!==null&&fu(n,n.return);break;case 5:if(oi(e,t),Ri(t),r&512&&n!==null&&fu(n,n.return),t.flags&32){var i=t.stateNode;try{hh(i,"")}catch(g){Ct(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CO(i,s),Ww(a,o);var u=Ww(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?kO(i,d):c==="dangerouslySetInnerHTML"?AO(i,d):c==="children"?hh(i,d):yT(i,c,d,u)}switch(a){case"input":Vw(i,s);break;case"textarea":RO(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?vu(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?vu(i,!!s.multiple,s.defaultValue,!0):vu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Eh]=s}catch(g){Ct(t,t.return,g)}}break;case 6:if(oi(e,t),Ri(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ct(t,t.return,g)}}break;case 3:if(oi(e,t),Ri(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gh(e.containerInfo)}catch(g){Ct(t,t.return,g)}break;case 4:oi(e,t),Ri(t);break;case 13:oi(e,t),Ri(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(XT=Lt())),r&4&&ix(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(An=(u=An)||c,oi(e,t),An=u):oi(e,t),Ri(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ee=t,c=t.child;c!==null;){for(d=ee=c;ee!==null;){switch(h=ee,f=h.child,h.tag){case 0:case 11:case 14:case 15:Bd(4,h,h.return);break;case 1:fu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Ct(r,n,g)}}break;case 5:fu(h,h.return);break;case 22:if(h.memoizedState!==null){ox(d);continue}}f!==null?(f.return=h,ee=f):ox(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PO("display",o))}catch(g){Ct(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ct(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:oi(e,t),Ri(t),r&4&&ix(t);break;case 21:break;default:oi(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rM(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hh(i,""),r.flags&=-33);var s=rx(t);wE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rx(t);vE(t,a,o);break;default:throw Error($(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r6(t,e,n){ee=t,oM(t)}function oM(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||jp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||An;a=jp;var u=An;if(jp=o,(An=l)&&!u)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?ax(i):l!==null?(l.return=o,ee=l):ax(i);for(;s!==null;)ee=s,oM(s),s=s.sibling;ee=i,jp=a,An=u}sx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):sx(t)}}function sx(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:An||D_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!An)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ui(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&BR(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}BR(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&gh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}An||e.flags&512&&yE(e)}catch(h){Ct(e,e.return,h)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function ox(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function ax(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{D_(4,e)}catch(l){Ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ct(e,i,l)}}var s=e.return;try{yE(e)}catch(l){Ct(e,s,l)}break;case 5:var o=e.return;try{yE(e)}catch(l){Ct(e,o,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var i6=Math.ceil,fg=Os.ReactCurrentDispatcher,QT=Os.ReactCurrentOwner,Yr=Os.ReactCurrentBatchConfig,$e=0,sn=null,zt=null,En=0,wr=0,pu=Ko(0),Qt=0,Rh=null,Ya=0,M_=0,YT=0,zd=null,tr=null,XT=0,qu=1/0,as=null,pg=!1,EE=null,fo=null,Bp=!1,ro=null,mg=0,Wd=0,IE=null,bm=-1,Sm=0;function zn(){return $e&6?Lt():bm!==-1?bm:bm=Lt()}function po(t){return t.mode&1?$e&2&&En!==0?En&-En:jz.transition!==null?(Sm===0&&(Sm=zO()),Sm):(t=He,t!==0||(t=window.event,t=t===void 0?16:YO(t.type)),t):1}function yi(t,e,n,r){if(50<Wd)throw Wd=0,IE=null,Error($(185));kf(t,n,r),(!($e&2)||t!==sn)&&(t===sn&&(!($e&2)&&(M_|=n),Qt===4&&Js(t,En)),cr(t,r),n===1&&$e===0&&!(e.mode&1)&&(qu=Lt()+500,k_&&Qo()))}function cr(t,e){var n=t.callbackNode;j5(t,e);var r=Jm(t,t===sn?En:0);if(r===0)n!==null&&gR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gR(n),e===1)t.tag===0?Uz(lx.bind(null,t)):mD(lx.bind(null,t)),Lz(function(){!($e&6)&&Qo()}),n=null;else{switch(WO(r)){case 1:n=TT;break;case 4:n=jO;break;case 16:n=Xm;break;case 536870912:n=BO;break;default:n=Xm}n=pM(n,aM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aM(t,e){if(bm=-1,Sm=0,$e&6)throw Error($(327));var n=t.callbackNode;if(bu()&&t.callbackNode!==n)return null;var r=Jm(t,t===sn?En:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gg(t,r);else{e=r;var i=$e;$e|=2;var s=uM();(sn!==t||En!==e)&&(as=null,qu=Lt()+500,$a(t,e));do try{a6();break}catch(a){lM(t,a)}while(!0);LT(),fg.current=s,$e=i,zt!==null?e=0:(sn=null,En=0,e=Qt)}if(e!==0){if(e===2&&(i=Qw(t),i!==0&&(r=i,e=TE(t,i))),e===1)throw n=Rh,$a(t,0),Js(t,r),cr(t,Lt()),n;if(e===6)Js(t,r);else{if(i=t.current.alternate,!(r&30)&&!s6(i)&&(e=gg(t,r),e===2&&(s=Qw(t),s!==0&&(r=s,e=TE(t,s))),e===1))throw n=Rh,$a(t,0),Js(t,r),cr(t,Lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ca(t,tr,as);break;case 3:if(Js(t,r),(r&130023424)===r&&(e=XT+500-Lt(),10<e)){if(Jm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rE(ca.bind(null,t,tr,as),e);break}ca(t,tr,as);break;case 4:if(Js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_i(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i6(r/1960))-r,10<r){t.timeoutHandle=rE(ca.bind(null,t,tr,as),r);break}ca(t,tr,as);break;case 5:ca(t,tr,as);break;default:throw Error($(329))}}}return cr(t,Lt()),t.callbackNode===n?aM.bind(null,t):null}function TE(t,e){var n=zd;return t.current.memoizedState.isDehydrated&&($a(t,e).flags|=256),t=gg(t,e),t!==2&&(e=tr,tr=n,e!==null&&bE(e)),t}function bE(t){tr===null?tr=t:tr.push.apply(tr,t)}function s6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ei(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Js(t,e){for(e&=~YT,e&=~M_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_i(e),r=1<<n;t[n]=-1,e&=~r}}function lx(t){if($e&6)throw Error($(327));bu();var e=Jm(t,0);if(!(e&1))return cr(t,Lt()),null;var n=gg(t,e);if(t.tag!==0&&n===2){var r=Qw(t);r!==0&&(e=r,n=TE(t,r))}if(n===1)throw n=Rh,$a(t,0),Js(t,e),cr(t,Lt()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ca(t,tr,as),cr(t,Lt()),null}function JT(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(qu=Lt()+500,k_&&Qo())}}function Xa(t){ro!==null&&ro.tag===0&&!($e&6)&&bu();var e=$e;$e|=1;var n=Yr.transition,r=He;try{if(Yr.transition=null,He=1,t)return t()}finally{He=r,Yr.transition=n,$e=e,!($e&6)&&Qo()}}function ZT(){wr=pu.current,dt(pu)}function $a(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Mz(n)),zt!==null)for(n=zt.return;n!==null;){var r=n;switch(OT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rg();break;case 3:zu(),dt(lr),dt(Dn),BT();break;case 5:jT(r);break;case 4:zu();break;case 13:dt(vt);break;case 19:dt(vt);break;case 10:$T(r.type._context);break;case 22:case 23:ZT()}n=n.return}if(sn=t,zt=t=mo(t.current,null),En=wr=e,Qt=0,Rh=null,YT=M_=Ya=0,tr=zd=null,Sa!==null){for(e=0;e<Sa.length;e++)if(n=Sa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Sa=null}return t}function lM(t,e){do{var n=zt;try{if(LT(),Em.current=hg,dg){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dg=!1}if(Qa=0,tn=Ht=wt=null,jd=!1,bh=0,QT.current=null,n===null||n.return===null){Qt=1,Rh=e,zt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=En,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=QR(o);if(f!==null){f.flags&=-257,YR(f,o,a,s,e),f.mode&1&&KR(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){KR(s,u,e),eb();break e}l=Error($(426))}}else if(pt&&a.mode&1){var v=QR(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),YR(v,o,a,s,e),DT(Wu(l,a));break e}}s=l=Wu(l,a),Qt!==4&&(Qt=2),zd===null?zd=[s]:zd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=qD(s,l,e);jR(s,m);break e;case 1:a=l;var _=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fo===null||!fo.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=HD(s,a,e);jR(s,w);break e}}s=s.return}while(s!==null)}dM(n)}catch(b){e=b,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(!0)}function uM(){var t=fg.current;return fg.current=hg,t===null?hg:t}function eb(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),sn===null||!(Ya&268435455)&&!(M_&268435455)||Js(sn,En)}function gg(t,e){var n=$e;$e|=2;var r=uM();(sn!==t||En!==e)&&(as=null,$a(t,e));do try{o6();break}catch(i){lM(t,i)}while(!0);if(LT(),$e=n,fg.current=r,zt!==null)throw Error($(261));return sn=null,En=0,Qt}function o6(){for(;zt!==null;)cM(zt)}function a6(){for(;zt!==null&&!N5();)cM(zt)}function cM(t){var e=fM(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?dM(t):zt=e,QT.current=null}function dM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=e6(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,zt=null;return}}else if(n=Zz(n,e,wr),n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Qt===0&&(Qt=5)}function ca(t,e,n){var r=He,i=Yr.transition;try{Yr.transition=null,He=1,l6(t,e,n,r)}finally{Yr.transition=i,He=r}return null}function l6(t,e,n,r){do bu();while(ro!==null);if($e&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(B5(t,s),t===sn&&(zt=sn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bp||(Bp=!0,pM(Xm,function(){return bu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yr.transition,Yr.transition=null;var o=He;He=1;var a=$e;$e|=4,QT.current=null,n6(t,n),sM(n,t),xz(tE),Zm=!!eE,tE=eE=null,t.current=n,r6(n),O5(),$e=a,He=o,Yr.transition=s}else t.current=n;if(Bp&&(Bp=!1,ro=t,mg=i),s=t.pendingLanes,s===0&&(fo=null),L5(n.stateNode),cr(t,Lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pg)throw pg=!1,t=EE,EE=null,t;return mg&1&&t.tag!==0&&bu(),s=t.pendingLanes,s&1?t===IE?Wd++:(Wd=0,IE=t):Wd=0,Qo(),null}function bu(){if(ro!==null){var t=WO(mg),e=Yr.transition,n=He;try{if(Yr.transition=null,He=16>t?16:t,ro===null)var r=!1;else{if(t=ro,ro=null,mg=0,$e&6)throw Error($(331));var i=$e;for($e|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:Bd(8,c,s)}var d=c.child;if(d!==null)d.return=c,ee=d;else for(;ee!==null;){c=ee;var h=c.sibling,f=c.return;if(nM(c),c===u){ee=null;break}if(h!==null){h.return=f,ee=h;break}ee=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bd(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ee=m;break e}ee=s.return}}var _=t.current;for(ee=_;ee!==null;){o=ee;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ee=y;else e:for(o=_;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:D_(9,a)}}catch(b){Ct(a,a.return,b)}if(a===o){ee=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ee=w;break e}ee=a.return}}if($e=i,Qo(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(C_,t)}catch{}r=!0}return r}finally{He=n,Yr.transition=e}}return!1}function ux(t,e,n){e=Wu(n,e),e=qD(t,e,1),t=ho(t,e,1),e=zn(),t!==null&&(kf(t,1,e),cr(t,e))}function Ct(t,e,n){if(t.tag===3)ux(t,t,n);else for(;e!==null;){if(e.tag===3){ux(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fo===null||!fo.has(r))){t=Wu(n,t),t=HD(e,t,1),e=ho(e,t,1),t=zn(),e!==null&&(kf(e,1,t),cr(e,t));break}}e=e.return}}function u6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zn(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(En&n)===n&&(Qt===4||Qt===3&&(En&130023424)===En&&500>Lt()-XT?$a(t,0):YT|=n),cr(t,e)}function hM(t,e){e===0&&(t.mode&1?(e=Np,Np<<=1,!(Np&130023424)&&(Np=4194304)):e=1);var n=zn();t=Ss(t,e),t!==null&&(kf(t,e,n),cr(t,n))}function c6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hM(t,n)}function d6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),hM(t,n)}var fM;fM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lr.current)ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ir=!1,Jz(t,e,n);ir=!!(t.flags&131072)}else ir=!1,pt&&e.flags&1048576&&gD(e,og,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tm(t,e),t=e.pendingProps;var i=Uu(e,Dn.current);Tu(e,n),i=WT(null,e,r,t,i,n);var s=qT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ur(r)?(s=!0,ig(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,VT(e),i.updater=N_,e.stateNode=i,i._reactInternals=e,cE(e,r,t,n),e=fE(null,e,r,!0,s,n)):(e.tag=0,pt&&s&&NT(e),Fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=f6(r),t=ui(r,t),i){case 0:e=hE(null,e,r,t,n);break e;case 1:e=ZR(null,e,r,t,n);break e;case 11:e=XR(null,e,r,t,n);break e;case 14:e=JR(null,e,r,ui(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ui(r,i),hE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ui(r,i),ZR(t,e,r,i,n);case 3:e:{if(YD(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wD(t,e),ug(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wu(Error($(423)),e),e=ex(t,e,r,n,i);break e}else if(r!==i){i=Wu(Error($(424)),e),e=ex(t,e,r,n,i);break e}else for(Sr=co(e.stateNode.containerInfo.firstChild),Pr=e,pt=!0,di=null,n=bD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ju(),r===i){e=Cs(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return SD(e),t===null&&aE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,nE(r,i)?o=null:s!==null&&nE(r,s)&&(e.flags|=32),QD(t,e),Fn(t,e,o,n),e.child;case 6:return t===null&&aE(e),null;case 13:return XD(t,e,n);case 4:return UT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bu(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ui(r,i),XR(t,e,r,i,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,nt(ag,r._currentValue),r._currentValue=o,s!==null)if(Ei(s.value,o)){if(s.children===i.children&&!lr.current){e=Cs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gs(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),lE(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tu(e,n),i=Jr(i),r=r(i),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,i=ui(r,e.pendingProps),i=ui(r.type,i),JR(t,e,r,i,n);case 15:return GD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ui(r,i),Tm(t,e),e.tag=1,ur(r)?(t=!0,ig(e)):t=!1,Tu(e,n),ID(e,r,i),cE(e,r,i,n),fE(null,e,r,!0,t,n);case 19:return JD(t,e,n);case 22:return KD(t,e,n)}throw Error($(156,e.tag))};function pM(t,e){return UO(t,e)}function h6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,n,r){return new h6(t,e,n,r)}function tb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f6(t){if(typeof t=="function")return tb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wT)return 11;if(t===ET)return 14}return 2}function mo(t,e){var n=t.alternate;return n===null?(n=Gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")tb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case iu:return Fa(n.children,i,s,e);case vT:o=8,i|=8;break;case Dw:return t=Gr(12,n,e,i|2),t.elementType=Dw,t.lanes=s,t;case Mw:return t=Gr(13,n,e,i),t.elementType=Mw,t.lanes=s,t;case Lw:return t=Gr(19,n,e,i),t.elementType=Lw,t.lanes=s,t;case TO:return L_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EO:o=10;break e;case IO:o=9;break e;case wT:o=11;break e;case ET:o=14;break e;case Qs:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Gr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Fa(t,e,n,r){return t=Gr(7,t,r,e),t.lanes=n,t}function L_(t,e,n,r){return t=Gr(22,t,r,e),t.elementType=TO,t.lanes=n,t.stateNode={isHidden:!1},t}function k0(t,e,n){return t=Gr(6,t,null,e),t.lanes=n,t}function N0(t,e,n){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h0(0),this.expirationTimes=h0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nb(t,e,n,r,i,s,o,a,l){return t=new p6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},VT(s),t}function m6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ru,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mM(t){if(!t)return So;t=t._reactInternals;e:{if(_l(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(ur(n))return pD(t,n,e)}return e}function gM(t,e,n,r,i,s,o,a,l){return t=nb(n,r,!0,t,i,s,o,a,l),t.context=mM(null),n=t.current,r=zn(),i=po(n),s=gs(r,i),s.callback=e??null,ho(n,s,i),t.current.lanes=i,kf(t,i,r),cr(t,r),t}function $_(t,e,n,r){var i=e.current,s=zn(),o=po(i);return n=mM(n),e.context===null?e.context=n:e.pendingContext=n,e=gs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ho(i,e,o),t!==null&&(yi(t,i,o,s),wm(t,i,o)),o}function _g(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rb(t,e){cx(t,e),(t=t.alternate)&&cx(t,e)}function g6(){return null}var _M=typeof reportError=="function"?reportError:function(t){console.error(t)};function ib(t){this._internalRoot=t}F_.prototype.render=ib.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));$_(t,e,null,null)};F_.prototype.unmount=ib.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xa(function(){$_(null,t,null,null)}),e[bs]=null}};function F_(t){this._internalRoot=t}F_.prototype.unstable_scheduleHydration=function(t){if(t){var e=GO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xs.length&&e!==0&&e<Xs[n].priority;n++);Xs.splice(n,0,t),n===0&&QO(t)}};function sb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function V_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dx(){}function _6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=_g(o);s.call(u)}}var o=gM(e,r,t,0,null,!1,!1,"",dx);return t._reactRootContainer=o,t[bs]=o.current,vh(t.nodeType===8?t.parentNode:t),Xa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=_g(l);a.call(u)}}var l=nb(t,0,!1,null,null,!1,!1,"",dx);return t._reactRootContainer=l,t[bs]=l.current,vh(t.nodeType===8?t.parentNode:t),Xa(function(){$_(e,l,n,r)}),l}function U_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_g(o);a.call(l)}}$_(e,o,t,i)}else o=_6(n,e,t,i,r);return _g(o)}qO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Td(e.pendingLanes);n!==0&&(bT(e,n|1),cr(e,Lt()),!($e&6)&&(qu=Lt()+500,Qo()))}break;case 13:Xa(function(){var r=Ss(t,1);if(r!==null){var i=zn();yi(r,t,1,i)}}),rb(t,1)}};ST=function(t){if(t.tag===13){var e=Ss(t,134217728);if(e!==null){var n=zn();yi(e,t,134217728,n)}rb(t,134217728)}};HO=function(t){if(t.tag===13){var e=po(t),n=Ss(t,e);if(n!==null){var r=zn();yi(n,t,e,r)}rb(t,e)}};GO=function(){return He};KO=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Hw=function(t,e,n){switch(e){case"input":if(Vw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=P_(r);if(!i)throw Error($(90));SO(r),Vw(r,i)}}}break;case"textarea":RO(t,n);break;case"select":e=n.value,e!=null&&vu(t,!!n.multiple,e,!1)}};DO=JT;MO=Xa;var y6={usingClientEntryPoint:!1,Events:[Of,lu,P_,NO,OO,JT]},Xc={findFiberByHostInstance:ba,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},v6={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FO(t),t===null?null:t.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance||g6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{C_=zp.inject(v6),Hi=zp}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y6;Fr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sb(e))throw Error($(200));return m6(t,e,null,n)};Fr.createRoot=function(t,e){if(!sb(t))throw Error($(299));var n=!1,r="",i=_M;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nb(t,1,!1,null,null,n,!1,r,i),t[bs]=e.current,vh(t.nodeType===8?t.parentNode:t),new ib(e)};Fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=FO(e),t=t===null?null:t.stateNode,t};Fr.flushSync=function(t){return Xa(t)};Fr.hydrate=function(t,e,n){if(!V_(e))throw Error($(200));return U_(null,t,e,!0,n)};Fr.hydrateRoot=function(t,e,n){if(!sb(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_M;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gM(e,null,t,1,n??null,i,!1,s,o),t[bs]=e.current,vh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new F_(e)};Fr.render=function(t,e,n){if(!V_(e))throw Error($(200));return U_(null,t,e,!1,n)};Fr.unmountComponentAtNode=function(t){if(!V_(t))throw Error($(40));return t._reactRootContainer?(Xa(function(){U_(null,null,t,!1,function(){t._reactRootContainer=null,t[bs]=null})}),!0):!1};Fr.unstable_batchedUpdates=JT;Fr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!V_(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return U_(t,e,n,!1,r)};Fr.version="18.2.0-next-9e3b772b8-20220608";function yM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yM)}catch(t){console.error(t)}}yM(),gO.exports=Fr;var j_=gO.exports;const Wp=T_(j_);/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xh(){return xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xh.apply(this,arguments)}var io;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(io||(io={}));const hx="popstate";function w6(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return SE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yg(i)}return I6(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ob(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E6(){return Math.random().toString(36).substr(2,8)}function fx(t,e){return{usr:t.state,key:t.key,idx:e}}function SE(t,e,n,r){return n===void 0&&(n=null),xh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wc(e):e,{state:n,key:e&&e.key||r||E6()})}function yg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function I6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=io.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(xh({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=io.Pop;let v=c(),m=v==null?null:v-u;u=v,l&&l({action:a,location:g.location,delta:m})}function h(v,m){a=io.Push;let _=SE(g.location,v,m);n&&n(_,v),u=c()+1;let y=fx(_,u),w=g.createHref(_);try{o.pushState(y,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(w)}s&&l&&l({action:a,location:g.location,delta:1})}function f(v,m){a=io.Replace;let _=SE(g.location,v,m);n&&n(_,v),u=c();let y=fx(_,u),w=g.createHref(_);o.replaceState(y,"",w),s&&l&&l({action:a,location:g.location,delta:0})}function p(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:yg(v);return Wt(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let g={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hx,d),l=v,()=>{i.removeEventListener(hx,d),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(v){return o.go(v)}};return g}var px;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(px||(px={}));function T6(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?wc(e):e,i=ab(r.pathname||"/",n);if(i==null)return null;let s=vM(t);b6(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=O6(s[a],L6(i));return o}function vM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=go([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Wt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vM(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:k6(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of wM(s.path))i(s,o,l)}),e}function wM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=wM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function b6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const S6=/^:\w+$/,C6=3,R6=2,x6=1,A6=10,P6=-2,mx=t=>t==="*";function k6(t,e){let n=t.split("/"),r=n.length;return n.some(mx)&&(r+=P6),e&&(r+=R6),n.filter(i=>!mx(i)).reduce((i,s)=>i+(S6.test(s)?C6:s===""?x6:A6),r)}function N6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function O6(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=D6({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:go([i,c.pathname]),pathnameBase:j6(go([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=go([i,c.pathnameBase]))}return s}function D6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=$6(p||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function M6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ob(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function L6(t){try{return decodeURI(t)}catch(e){return ob(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $6(t,e){try{return decodeURIComponent(t)}catch(n){return ob(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ab(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function F6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wc(t):t;return{pathname:n?n.startsWith("/")?n:V6(n,e):e,search:B6(r),hash:z6(i)}}function V6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function O0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function EM(t,e){let n=U6(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function IM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wc(t):(i=xh({},t),Wt(!i.pathname||!i.pathname.includes("?"),O0("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),O0("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),O0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=F6(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const go=t=>t.join("/").replace(/\/\/+/g,"/"),j6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function W6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TM=["post","put","patch","delete"];new Set(TM);const q6=["get",...TM];new Set(q6);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ah.apply(this,arguments)}const lb=E.createContext(null),H6=E.createContext(null),yl=E.createContext(null),B_=E.createContext(null),vl=E.createContext({outlet:null,matches:[],isDataRoute:!1}),bM=E.createContext(null);function G6(t,e){let{relative:n}=e===void 0?{}:e;Mf()||Wt(!1);let{basename:r,navigator:i}=E.useContext(yl),{hash:s,pathname:o,search:a}=RM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:go([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Mf(){return E.useContext(B_)!=null}function z_(){return Mf()||Wt(!1),E.useContext(B_).location}function SM(t){E.useContext(yl).static||E.useLayoutEffect(t)}function CM(){let{isDataRoute:t}=E.useContext(vl);return t?o3():K6()}function K6(){Mf()||Wt(!1);let t=E.useContext(lb),{basename:e,future:n,navigator:r}=E.useContext(yl),{matches:i}=E.useContext(vl),{pathname:s}=z_(),o=JSON.stringify(EM(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return SM(()=>{a.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=IM(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:go([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function RM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(yl),{matches:i}=E.useContext(vl),{pathname:s}=z_(),o=JSON.stringify(EM(i,r.v7_relativeSplatPath));return E.useMemo(()=>IM(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Q6(t,e){return Y6(t,e)}function Y6(t,e,n,r){Mf()||Wt(!1);let{navigator:i}=E.useContext(yl),{matches:s}=E.useContext(vl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=z_(),c;if(e){var d;let v=typeof e=="string"?wc(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Wt(!1),c=v}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",p=T6(t,{pathname:f}),g=t3(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:go([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:go([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&g?E.createElement(B_.Provider,{value:{location:Ah({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:io.Pop}},g):g}function X6(){let t=s3(),e=W6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const J6=E.createElement(X6,null);class Z6 extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(vl.Provider,{value:this.props.routeContext},E.createElement(bM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e3(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(lb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(vl.Provider,{value:e},r)}function t3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Wt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,g=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||J6,l&&(u<0&&h===0?(a3("route-fallback",!1),p=!0,v=null):u===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),_=()=>{let y;return f?y=g:p?y=v:d.route.Component?y=E.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,E.createElement(e3,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(Z6,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:_(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):_()},null)}var xM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xM||{}),vg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vg||{});function n3(t){let e=E.useContext(lb);return e||Wt(!1),e}function r3(t){let e=E.useContext(H6);return e||Wt(!1),e}function i3(t){let e=E.useContext(vl);return e||Wt(!1),e}function AM(t){let e=i3(),n=e.matches[e.matches.length-1];return n.route.id||Wt(!1),n.route.id}function s3(){var t;let e=E.useContext(bM),n=r3(vg.UseRouteError),r=AM(vg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function o3(){let{router:t}=n3(xM.UseNavigateStable),e=AM(vg.UseNavigateStable),n=E.useRef(!1);return SM(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ah({fromRouteId:e},s)))},[t,e])}const gx={};function a3(t,e,n){!e&&!gx[t]&&(gx[t]=!0)}function os(t){Wt(!1)}function l3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=io.Pop,navigator:s,static:o=!1,future:a}=t;Mf()&&Wt(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Ah({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=wc(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=E.useMemo(()=>{let v=ab(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return g==null?null:E.createElement(yl.Provider,{value:u},E.createElement(B_.Provider,{children:n,value:g}))}function u3(t){let{children:e,location:n}=t;return Q6(CE(e),n)}new Promise(()=>{});function CE(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,CE(r.props.children,s));return}r.type!==os&&Wt(!1),!r.props.index||!r.props.children||Wt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=CE(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function c3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function d3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h3(t,e){return t.button===0&&(!e||e==="_self")&&!d3(t)}const f3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],p3="startTransition",_x=Fu[p3];function m3(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=w6({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=E.useCallback(d=>{u&&_x?_x(()=>l(d)):l(d)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(l3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const g3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Co=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=c3(e,f3),{basename:f}=E.useContext(yl),p,g=!1;if(typeof u=="string"&&_3.test(u)&&(p=u,g3))try{let y=new URL(window.location.href),w=u.startsWith("//")?new URL(y.protocol+u):new URL(u),b=ab(w.pathname,f);w.origin===y.origin&&b!=null?u=b+w.search+w.hash:g=!0}catch{}let v=G6(u,{relative:i}),m=y3(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function _(y){r&&r(y),y.defaultPrevented||m(y)}return E.createElement("a",RE({},h,{href:p||v,onClick:g||s?r:_,ref:n,target:l}))});var yx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yx||(yx={}));var vx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vx||(vx={}));function y3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=CM(),u=z_(),c=RM(t,{relative:o});return E.useCallback(d=>{if(h3(d,n)){d.preventDefault();let h=r!==void 0?r:yg(u)===yg(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function mn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var v3=typeof Symbol=="function"&&Symbol.observable||"@@observable",wx=v3,D0=()=>Math.random().toString(36).substring(7).split("").join("."),w3={INIT:`@@redux/INIT${D0()}`,REPLACE:`@@redux/REPLACE${D0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${D0()}`},wg=w3;function ub(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function PM(t,e,n){if(typeof t!="function")throw new Error(mn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mn(1));return n(PM)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((v,m)=>{o.set(m,v)}))}function c(){if(l)throw new Error(mn(3));return i}function d(v){if(typeof v!="function")throw new Error(mn(4));if(l)throw new Error(mn(5));let m=!0;u();const _=a++;return o.set(_,v),function(){if(m){if(l)throw new Error(mn(6));m=!1,u(),o.delete(_),s=null}}}function h(v){if(!ub(v))throw new Error(mn(7));if(typeof v.type>"u")throw new Error(mn(8));if(typeof v.type!="string")throw new Error(mn(17));if(l)throw new Error(mn(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=o).forEach(_=>{_()}),v}function f(v){if(typeof v!="function")throw new Error(mn(10));r=v,h({type:wg.REPLACE})}function p(){const v=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(mn(11));function _(){const w=m;w.next&&w.next(c())}return _(),{unsubscribe:v(_)}},[wx](){return this}}}return h({type:wg.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:f,[wx]:p}}function E3(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:wg.INIT})>"u")throw new Error(mn(12));if(typeof n(void 0,{type:wg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mn(13))})}function I3(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{E3(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],f=o[d],p=h(f,a);if(typeof p>"u")throw a&&a.type,new Error(mn(14));u[d]=p,l=l||p!==f}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Eg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function T3(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(mn(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=Eg(...a)(i.dispatch),{...i,dispatch:s}}}function b3(t){return ub(t)&&"type"in t&&typeof t.type=="string"}var kM=Symbol.for("immer-nothing"),Ex=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function hi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Hu=Object.getPrototypeOf;function Ro(t){return!!t&&!!t[Dr]}function Rs(t){var e;return t?NM(t)||Array.isArray(t)||!!t[Ex]||!!((e=t.constructor)!=null&&e[Ex])||q_(t)||H_(t):!1}var S3=Object.prototype.constructor.toString();function NM(t){if(!t||typeof t!="object")return!1;const e=Hu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===S3}function Ph(t,e){W_(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function W_(t){const e=t[Dr];return e?e.type_:Array.isArray(t)?1:q_(t)?2:H_(t)?3:0}function xE(t,e){return W_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function OM(t,e,n){const r=W_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function C3(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function q_(t){return t instanceof Map}function H_(t){return t instanceof Set}function da(t){return t.copy_||t.base_}function AE(t,e){if(q_(t))return new Map(t);if(H_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&NM(t))return Hu(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Dr];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Hu(t),n)}function cb(t,e=!1){return G_(t)||Ro(t)||!Rs(t)||(W_(t)>1&&(t.set=t.add=t.clear=t.delete=R3),Object.freeze(t),e&&Ph(t,(n,r)=>cb(r,!0))),t}function R3(){hi(2)}function G_(t){return Object.isFrozen(t)}var x3={};function Ja(t){const e=x3[t];return e||hi(0,t),e}var kh;function DM(){return kh}function A3(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ix(t,e){e&&(Ja("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function PE(t){kE(t),t.drafts_.forEach(P3),t.drafts_=null}function kE(t){t===kh&&(kh=t.parent_)}function Tx(t){return kh=A3(kh,t)}function P3(t){const e=t[Dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bx(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Dr].modified_&&(PE(e),hi(4)),Rs(t)&&(t=Ig(e,t),e.parent_||Tg(e,t)),e.patches_&&Ja("Patches").generateReplacementPatches_(n[Dr].base_,t,e.patches_,e.inversePatches_)):t=Ig(e,n,[]),PE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kM?t:void 0}function Ig(t,e,n){if(G_(e))return e;const r=e[Dr];if(!r)return Ph(e,(i,s)=>Sx(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Tg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Ph(s,(a,l)=>Sx(t,r,i,a,l,n,o)),Tg(t,i,!1),n&&t.patches_&&Ja("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Sx(t,e,n,r,i,s,o){if(Ro(i)){const a=s&&e&&e.type_!==3&&!xE(e.assigned_,r)?s.concat(r):void 0,l=Ig(t,i,a);if(OM(n,r,l),Ro(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Rs(i)&&!G_(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ig(t,i),(!e||!e.scope_.parent_)&&Tg(t,i)}}function Tg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&cb(e,n)}function k3(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=db;n&&(i=[r],s=Nh);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var db={get(t,e){if(e===Dr)return t;const n=da(t);if(!xE(n,e))return N3(t,n,e);const r=n[e];return t.finalized_||!Rs(r)?r:r===M0(t.base_,e)?(L0(t),t.copy_[e]=OE(r,t)):r},has(t,e){return e in da(t)},ownKeys(t){return Reflect.ownKeys(da(t))},set(t,e,n){const r=MM(da(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=M0(da(t),e),s=i==null?void 0:i[Dr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(C3(n,i)&&(n!==void 0||xE(t.base_,e)))return!0;L0(t),NE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return M0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,L0(t),NE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=da(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){hi(11)},getPrototypeOf(t){return Hu(t.base_)},setPrototypeOf(){hi(12)}},Nh={};Ph(db,(t,e)=>{Nh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nh.deleteProperty=function(t,e){return Nh.set.call(this,t,e,void 0)};Nh.set=function(t,e,n){return db.set.call(this,t[0],e,n,t[0])};function M0(t,e){const n=t[Dr];return(n?da(n):t)[e]}function N3(t,e,n){var i;const r=MM(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function MM(t,e){if(!(e in t))return;let n=Hu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Hu(n)}}function NE(t){t.modified_||(t.modified_=!0,t.parent_&&NE(t.parent_))}function L0(t){t.copy_||(t.copy_=AE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var O3=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&hi(6),r!==void 0&&typeof r!="function"&&hi(7);let i;if(Rs(e)){const s=Tx(this),o=OE(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?PE(s):kE(s)}return Ix(s,r),bx(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===kM&&(i=void 0),this.autoFreeze_&&cb(i,!0),r){const s=[],o=[];Ja("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else hi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Rs(t)||hi(8),Ro(t)&&(t=LM(t));const e=Tx(this),n=OE(t,void 0);return n[Dr].isManual_=!0,kE(e),n}finishDraft(t,e){const n=t&&t[Dr];(!n||!n.isManual_)&&hi(9);const{scope_:r}=n;return Ix(r,e),bx(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ja("Patches").applyPatches_;return Ro(t)?r(t,e):this.produce(t,i=>r(i,e))}};function OE(t,e){const n=q_(t)?Ja("MapSet").proxyMap_(t,e):H_(t)?Ja("MapSet").proxySet_(t,e):k3(t,e);return(e?e.scope_:DM()).drafts_.push(n),n}function LM(t){return Ro(t)||hi(10,t),$M(t)}function $M(t){if(!Rs(t)||G_(t))return t;const e=t[Dr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=AE(t,e.scope_.immer_.useStrictShallowCopy_)}else n=AE(t,!0);return Ph(n,(r,i)=>{OM(n,r,$M(i))}),e&&(e.finalized_=!1),n}var Mr=new O3,FM=Mr.produce;Mr.produceWithPatches.bind(Mr);Mr.setAutoFreeze.bind(Mr);Mr.setUseStrictShallowCopy.bind(Mr);Mr.applyPatches.bind(Mr);Mr.createDraft.bind(Mr);Mr.finishDraft.bind(Mr);function D3(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function M3(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function L3(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Cx=t=>Array.isArray(t)?t:[t];function $3(t){const e=Array.isArray(t[0])?t[0]:t;return L3(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function F3(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var V3=class{constructor(t){this.value=t}deref(){return this.value}},U3=typeof WeakRef<"u"?WeakRef:V3,j3=0,Rx=1;function qp(){return{s:j3,v:void 0,o:null,p:null}}function hb(t,e={}){let n=qp();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=a.o;g===null&&(a.o=g=new WeakMap);const v=g.get(p);v===void 0?(a=qp(),g.set(p,a)):a=v}else{let g=a.p;g===null&&(a.p=g=new Map);const v=g.get(p);v===void 0?(a=qp(),g.set(p,a)):a=v}}const u=a;let c;if(a.s===Rx?c=a.v:(c=t.apply(null,arguments),s++),u.s=Rx,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new U3(c):c}return u.v=c,c}return o.clearCache=()=>{n=qp(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function VM(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),D3(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:f=hb,argsMemoizeOptions:p=[],devModeChecks:g={}}=c,v=Cx(h),m=Cx(p),_=$3(i),y=d(function(){return s++,u.apply(null,arguments)},...v),w=f(function(){o++;const C=F3(_,arguments);return a=y.apply(null,C),a},...m);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var B3=VM(hb),z3=Object.assign((t,e=B3)=>{M3(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>z3});function UM(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var W3=UM(),q3=UM,H3=(...t)=>{const e=VM(...t);return(...n)=>{const r=e(...n),i=(s,...o)=>r(Ro(s)?LM(s):s,...o);return Object.assign(i,r),i}};H3(hb);var G3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eg:Eg.apply(null,arguments)},K3=t=>t&&typeof t.match=="function";function _o(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(vi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>b3(r)&&r.type===t,n}var jM=class Sd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sd.prototype)}static get[Symbol.species](){return Sd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sd(...e[0].concat(this)):new Sd(...e.concat(this))}};function xx(t){return Rs(t)?FM(t,()=>{}):t}function Ax(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(vi(10));const r=n.insert(e,t);return t.set(e,r),r}function Q3(t){return typeof t=="boolean"}var Y3=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new jM;return n&&(Q3(n)?o.push(W3):o.push(q3(n.extraArgument))),o},X3="RTK_autoBatch",BM=t=>e=>{setTimeout(e,t)},J3=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BM(10),Z3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?J3:t.type==="callback"?t.queueNotification:BM(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[X3]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},e9=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new jM(t);return r&&i.push(Z3(typeof r=="object"?r:void 0)),i},t9=!0;function n9(t){const e=Y3(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(ub(n))a=I3(n);else throw new Error(vi(1));let l;typeof r=="function"?l=r(e):l=e();let u=Eg;i&&(u=G3({trace:!t9,...typeof i=="object"&&i}));const c=T3(...l),d=e9(c);let h=typeof o=="function"?o(d):d();const f=u(...h);return PM(a,s,f)}function zM(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(vi(28));if(a in e)throw new Error(vi(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function r9(t){return typeof t=="function"}function i9(t,e){let[n,r,i]=zM(e),s;if(r9(t))s=()=>xx(t());else{const a=xx(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Ro(c)){const f=d(c,l);return f===void 0?c:f}else{if(Rs(c))return FM(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw new Error(vi(9))}return h}}return c},a)}return o.getInitialState=s,o}var s9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",o9=(t=21)=>{let e="",n=t;for(;n--;)e+=s9[Math.random()*64|0];return e},a9=(t,e)=>K3(t)?t.match(e):t(e);function l9(...t){return e=>t.some(n=>a9(n,e))}var u9=["name","message","stack","code"],$0=class{constructor(t,e){o0(this,"_type");this.payload=t,this.meta=e}},Px=class{constructor(t,e){o0(this,"_type");this.payload=t,this.meta=e}},c9=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of u9)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},fb=(()=>{function t(e,n,r){const i=_o(e+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),s=_o(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),o=_o(e+"/rejected",(l,u,c,d,h)=>({payload:d,error:(r&&r.serializeError||c9)(l||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(u,c,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):o9(),f=new AbortController;let p;function g(m){p=m,f.abort()}const v=async function(){var y,w;let m;try{let b=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,l,{getState:c,extra:d});if(h9(b)&&(b=await b),b===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((T,A)=>f.signal.addEventListener("abort",()=>A({name:"AbortError",message:p||"Aborted"})));u(s(h,l,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:l},{getState:c,extra:d}))),m=await Promise.race([C,Promise.resolve(n(l,{dispatch:u,getState:c,extra:d,requestId:h,signal:f.signal,abort:g,rejectWithValue:(T,A)=>new $0(T,A),fulfillWithValue:(T,A)=>new Px(T,A)})).then(T=>{if(T instanceof $0)throw T;return T instanceof Px?i(T.payload,h,l,T.meta):i(T,h,l)})])}catch(b){m=b instanceof $0?o(null,h,l,b.payload,b.meta):o(b,h,l)}return r&&!r.dispatchConditionRejection&&o.match(m)&&m.meta.condition||u(m),m}();return Object.assign(v,{abort:g,requestId:h,arg:l,unwrap(){return v.then(d9)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:l9(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function d9(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function h9(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var f9=Symbol.for("rtk-slice-createasyncthunk");function p9(t,e){return`${t}/${e}`}function m9({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[f9];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(vi(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(_9()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(v,m){const _=typeof v=="string"?v:v.type;if(!_)throw new Error(vi(12));if(_ in u.sliceCaseReducersByType)throw new Error(vi(13));return u.sliceCaseReducersByType[_]=m,c},addMatcher(v,m){return u.sliceMatchers.push({matcher:v,reducer:m}),c},exposeAction(v,m){return u.actionCreators[v]=m,c},exposeCaseReducer(v,m){return u.sliceCaseReducersByName[v]=m,c}};l.forEach(v=>{const m=a[v],_={reducerName:v,type:p9(s,v),createNotation:typeof i.reducers=="function"};v9(m)?E9(_,m,c,e):y9(_,m,c)});function d(){const[v={},m=[],_=void 0]=typeof i.extraReducers=="function"?zM(i.extraReducers):[i.extraReducers],y={...v,...u.sliceCaseReducersByType};return i9(i.initialState,w=>{for(let b in y)w.addCase(b,y[b]);for(let b of u.sliceMatchers)w.addMatcher(b.matcher,b.reducer);for(let b of m)w.addMatcher(b.matcher,b.reducer);_&&w.addDefaultCase(_)})}const h=v=>v,f=new WeakMap;let p;const g={name:s,reducerPath:o,reducer(v,m){return p||(p=d()),p(v,m)},actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState(){return p||(p=d()),p.getInitialState()},getSelectors(v=h){const m=Ax(f,this,{insert:()=>new WeakMap});return Ax(m,v,{insert:()=>{const _={};for(const[y,w]of Object.entries(i.selectors??{}))_[y]=g9(this,w,v,this!==g);return _}})},selectSlice(v){let m=v[this.reducerPath];return typeof m>"u"&&this!==g&&(m=this.getInitialState()),m},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(v,{reducerPath:m,..._}={}){const y=m??this.reducerPath;return v.inject({reducerPath:y,reducer:this.reducer},_),{...this,reducerPath:y}}};return g}}function g9(t,e,n,r){function i(s,...o){let a=n.call(t,s);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var K_=m9();function _9(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function y9({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!w9(r))throw new Error(vi(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?_o(t,o):_o(t))}function v9(t){return t._reducerDefinitionType==="asyncThunk"}function w9(t){return t._reducerDefinitionType==="reducerWithPrepare"}function E9({type:t,reducerName:e},n,r,i){if(!i)throw new Error(vi(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(t,s,c);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Hp,pending:a||Hp,rejected:l||Hp,settled:u||Hp})}function Hp(){}var pb="listenerMiddleware";_o(`${pb}/add`);_o(`${pb}/removeAll`);_o(`${pb}/remove`);function vi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const I9={items:[]},WM=K_({initialState:I9,name:"cart",reducers:{addItem:(t,e)=>{e.payload.quantity=1,t.items.push(e.payload)},decreaseItem:(t,e)=>{const n=t.items.find(r=>r.id===e.payload);n&&(n.quantity-=1)},deleteCart:t=>{t.items=[]},increaseItem:(t,e)=>{const n=t.items.find(r=>r.id===e.payload);n&&(n.quantity+=1)},removeItem:(t,e)=>{t.items=t.items.filter(n=>n.id!==e.payload)},setCart:(t,e)=>{t.items=e.payload}}}),{addItem:T9,decreaseItem:b9,deleteCart:S9,increaseItem:qM,removeItem:kx,setCart:C9}=WM.actions,R9=WM.reducer,mb=fb.withTypes();var Nx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw Ec(e)},Ec=function(t){return new Error("Firebase Database ("+HM.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new A9;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KM=function(t){const e=GM(t);return gb.encodeByteArray(e,!0)},bg=function(t){return KM(t).replace(/\./g,"")},Sg=function(t){try{return gb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){return Oh(void 0,t)}function Oh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!k9(n)||(t[n]=Oh(t[n],e[n]));return t}function k9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=()=>N9().__FIREBASE_DEFAULTS__,D9=()=>{if(typeof process>"u"||typeof Nx>"u")return;const t=Nx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},M9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sg(t[1]);return e&&JSON.parse(e)},Q_=()=>{try{return O9()||D9()||M9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QM=t=>{var e,n;return(n=(e=Q_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YM=t=>{const e=QM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XM=()=>{var t;return(t=Q_())===null||t===void 0?void 0:t.config},JM=t=>{var e;return(e=Q_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bg(JSON.stringify(n)),bg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function vb(){var t;const e=(t=Q_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L9(){return typeof self=="object"&&self.self===self}function ZM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function X_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eL(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tL(){return HM.NODE_ADMIN===!0}function $9(){return!vb()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dh(){try{return typeof indexedDB=="object"}catch{return!1}}function F9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V9,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?U9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kn(i,a,r)}}function U9(t,e){return t.replace(j9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){return JSON.parse(t)}function Gt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Mh(Sg(s[0])||""),n=Mh(Sg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},B9=function(t){const e=nL(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},z9=function(t){const e=nL(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function DE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Rg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ox(s)&&Ox(o)){if(!Rg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ox(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function rL(t,e){const n=new q9(t,e);return n.subscribe.bind(n)}class q9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=F0),i.error===void 0&&(i.error=F0),i.complete===void 0&&(i.complete=F0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function F0(){}function wb(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,j(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},J_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t){return t&&t._delegate?t._delegate:t}class ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y9(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q9(t){return t===ha?void 0:t}function Y9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=[];var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const iL={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},J9=Te.INFO,Z9={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},eW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Z9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lf{constructor(e){this.name=e,this._logLevel=J9,this._logHandler=eW,this._userLogHandler=null,Eb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}function tW(t){Eb.forEach(e=>{e.setLogLevel(t)})}function nW(t,e){for(const n of Eb){let r=null;e&&e.level&&(r=iL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Te[s].toLowerCase(),message:a,args:o,type:i.name})}}}const rW=(t,e)=>e.some(n=>t instanceof n);let Dx,Mx;function iW(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sW(){return Mx||(Mx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sL=new WeakMap,ME=new WeakMap,oL=new WeakMap,V0=new WeakMap,Ib=new WeakMap;function oW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sL.set(n,t)}).catch(()=>{}),Ib.set(e,t),e}function aW(t){if(ME.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ME.set(t,e)}let LE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ME.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lW(t){LE=t(LE)}function uW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(U0(this),e,...n);return oL.set(r,e.sort?e.sort():[e]),yo(r)}:sW().includes(t)?function(...e){return t.apply(U0(this),e),yo(sL.get(this))}:function(...e){return yo(t.apply(U0(this),e))}}function cW(t){return typeof t=="function"?uW(t):(t instanceof IDBTransaction&&aW(t),rW(t,iW())?new Proxy(t,LE):t)}function yo(t){if(t instanceof IDBRequest)return oW(t);if(V0.has(t))return V0.get(t);const e=cW(t);return e!==t&&(V0.set(t,e),Ib.set(e,t)),e}const U0=t=>Ib.get(t);function dW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=yo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yo(o.result),l.oldVersion,l.newVersion,yo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hW=["get","getKey","getAll","getAllKeys","count"],fW=["put","add","delete","clear"],j0=new Map;function Lx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(j0.get(e))return j0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hW.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return j0.set(e,s),s}lW(t=>({...t,get:(e,n,r)=>Lx(e,n)||t.get(e,n,r),has:(e,n)=>!!Lx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $E="@firebase/app",$x="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new Lf("@firebase/app"),gW="@firebase/app-compat",_W="@firebase/analytics-compat",yW="@firebase/analytics",vW="@firebase/app-check-compat",wW="@firebase/app-check",EW="@firebase/auth",IW="@firebase/auth-compat",TW="@firebase/database",bW="@firebase/database-compat",SW="@firebase/functions",CW="@firebase/functions-compat",RW="@firebase/installations",xW="@firebase/installations-compat",AW="@firebase/messaging",PW="@firebase/messaging-compat",kW="@firebase/performance",NW="@firebase/performance-compat",OW="@firebase/remote-config",DW="@firebase/remote-config-compat",MW="@firebase/storage",LW="@firebase/storage-compat",$W="@firebase/firestore",FW="@firebase/firestore-compat",VW="firebase",UW="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]",jW={[$E]:"fire-core",[gW]:"fire-core-compat",[yW]:"fire-analytics",[_W]:"fire-analytics-compat",[wW]:"fire-app-check",[vW]:"fire-app-check-compat",[EW]:"fire-auth",[IW]:"fire-auth-compat",[TW]:"fire-rtdb",[bW]:"fire-rtdb-compat",[SW]:"fire-fn",[CW]:"fire-fn-compat",[RW]:"fire-iid",[xW]:"fire-iid-compat",[AW]:"fire-fcm",[PW]:"fire-fcm-compat",[kW]:"fire-perf",[NW]:"fire-perf-compat",[OW]:"fire-rc",[DW]:"fire-rc-compat",[MW]:"fire-gcs",[LW]:"fire-gcs-compat",[$W]:"fire-fst",[FW]:"fire-fst-compat","fire-js":"fire-js",[VW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Map,Lh=new Map;function xg(t,e){try{t.container.addComponent(e)}catch(n){Za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function aL(t,e){t.container.addOrOverwriteComponent(e)}function Yi(t){const e=t.name;if(Lh.has(e))return Za.debug(`There were multiple attempts to register component ${e}.`),!1;Lh.set(e,t);for(const n of Ao.values())xg(n,t);return!0}function Ic(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function BW(t,e,n=xo){Ic(t,e).clearInstance(n)}function zW(){Lh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_s=new wl("app","Firebase",WW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qW=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=UW;function Z_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _s.create("bad-app-name",{appName:String(i)});if(n||(n=XM()),!n)throw _s.create("no-options");const s=Ao.get(i);if(s){if(Rg(n,s.options)&&Rg(r,s.config))return s;throw _s.create("duplicate-app",{appName:i})}const o=new X9(i);for(const l of Lh.values())o.addComponent(l);const a=new qW(n,r,o);return Ao.set(i,a),a}function ey(t=xo){const e=Ao.get(t);if(!e&&t===xo&&XM())return Z_();if(!e)throw _s.create("no-app",{appName:t});return e}function HW(){return Array.from(Ao.values())}async function lL(t){const e=t.name;Ao.has(e)&&(Ao.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Wn(t,e,n){var r;let i=(r=jW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Za.warn(a.join(" "));return}Yi(new ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function uL(t,e){if(t!==null&&typeof t!="function")throw _s.create("invalid-log-argument");nW(t,e)}function cL(t){tW(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW="firebase-heartbeat-database",KW=1,$h="firebase-heartbeat-store";let B0=null;function dL(){return B0||(B0=dW(GW,KW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($h)}}}).catch(t=>{throw _s.create("idb-open",{originalErrorMessage:t.message})})),B0}async function QW(t){try{return await(await dL()).transaction($h).objectStore($h).get(hL(t))}catch(e){if(e instanceof kn)Za.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Za.warn(n.message)}}}async function Fx(t,e){try{const r=(await dL()).transaction($h,"readwrite");await r.objectStore($h).put(e,hL(t)),await r.done}catch(n){if(n instanceof kn)Za.warn(n.message);else{const r=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Za.warn(r.message)}}}function hL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=1024,XW=30*24*60*60*1e3;class JW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vx();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=XW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vx(),{heartbeatsToSend:r,unsentEntries:i}=ZW(this._heartbeatsCache.heartbeats),s=bg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Vx(){return new Date().toISOString().substring(0,10)}function ZW(t,e=YW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ux(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ux(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dh()?F9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ux(t){return bg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){Yi(new ei("platform-logger",e=>new pW(e),"PRIVATE")),Yi(new ei("heartbeat",e=>new JW(e),"PRIVATE")),Wn($E,$x,t),Wn($E,$x,"esm2017"),Wn("fire-js","")}tq("");const nq=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:kn,SDK_VERSION:ns,_DEFAULT_ENTRY_NAME:xo,_addComponent:xg,_addOrOverwriteComponent:aL,_apps:Ao,_clearComponents:zW,_components:Lh,_getProvider:Ic,_registerComponent:Yi,_removeServiceInstance:BW,deleteApp:lL,getApp:ey,getApps:HW,initializeApp:Z_,onLog:uL,registerVersion:Wn,setLogLevel:cL},Symbol.toStringTag,{value:"Module"}));var jx={};const Bx="@firebase/database",zx="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fL="";function rq(t){fL=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Mh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ii(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iq(e)}}catch{}return new sq},Ra=pL("localStorage"),FE=pL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Lf("@firebase/database"),oq=function(){let t=1;return function(){return t++}}(),mL=function(t){const e=G9(t),n=new W9;n.update(e);const r=n.digest();return gb.encodeByteArray(r)},$f=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=$f.apply(null,r):typeof r=="object"?e+=Gt(r):e+=r,e+=" "}return e};let Va=null,Wx=!0;const aq=function(t,e){j(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Su.logLevel=Te.VERBOSE,Va=Su.log.bind(Su),e&&FE.set("logging_enabled",!0)):typeof t=="function"?Va=t:(Va=null,FE.remove("logging_enabled"))},Pn=function(...t){if(Wx===!0&&(Wx=!1,Va===null&&FE.get("logging_enabled")===!0&&aq(!0)),Va){const e=$f.apply(null,t);Va(e)}},Ff=function(t){return function(...e){Pn(t,...e)}},VE=function(...t){const e="FIREBASE INTERNAL ERROR: "+$f(...t);Su.error(e)},xs=function(...t){const e=`FIREBASE FATAL ERROR: ${$f(...t)}`;throw Su.error(e),new Error(e)},dr=function(...t){const e="FIREBASE WARNING: "+$f(...t);Su.warn(e)},lq=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gL=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},uq=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ku="[MIN_NAME]",el="[MAX_NAME]",Tc=function(t,e){if(t===e)return 0;if(t===Ku||e===el)return-1;if(e===Ku||t===el)return 1;{const n=qx(t),r=qx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},cq=function(t,e){return t===e?0:t<e?-1:1},Jc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Gt(e))},Tb=function(t){if(typeof t!="object"||t===null)return Gt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Gt(e[r]),n+=":",n+=Tb(t[e[r]]);return n+="}",n},_L=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function pr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const yL=function(t){j(!gL(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},dq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fq(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const pq=new RegExp("^-?(0*)\\d{1,10}$"),mq=-2147483648,gq=2147483647,qx=function(t){if(pq.test(t)){const e=Number(t);if(e>=mq&&e<=gq)return e}return null},bc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw dr("Exception was thrown by user callback.",n),e},Math.floor(0))}},_q=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){dr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dr(e)}}class Cu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Cu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="5",vL="v",wL="s",EL="r",IL="f",TL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bL="ls",SL="p",UE="ac",CL="websocket",RL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ra.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ra.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function wq(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function AL(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let r;if(e===CL)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===RL)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);wq(t)&&(n.ns=t.namespace);const i=[];return pr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(){this.counters_={}}incrementCounter(e,n=1){Ii(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return P9(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={},W0={};function Sb(t){const e=t.toString();return z0[e]||(z0[e]=new Eq),z0[e]}function Iq(t,e){const n=t.toString();return W0[n]||(W0[n]=e()),W0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&bc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="start",bq="close",Sq="pLPCommand",Cq="pRTLPCB",PL="id",kL="pw",NL="ser",Rq="cb",xq="seg",Aq="ts",Pq="d",kq="dframe",OL=1870,DL=30,Nq=OL-DL,Oq=25e3,Dq=3e4;class gu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ff(e),this.stats_=Sb(n),this.urlFn=l=>(this.appCheckToken&&(l[UE]=this.appCheckToken),AL(n,RL,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Tq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Dq)),uq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cb((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Hx)this.id=a,this.password=l;else if(o===bq)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Hx]="t",r[NL]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Rq]=this.scriptTagHolder.uniqueCallbackIdentifier),r[vL]=bb,this.transportSessionId&&(r[wL]=this.transportSessionId),this.lastSessionId&&(r[bL]=this.lastSessionId),this.applicationId&&(r[SL]=this.applicationId),this.appCheckToken&&(r[UE]=this.appCheckToken),typeof location<"u"&&location.hostname&&TL.test(location.hostname)&&(r[EL]=IL);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gu.forceAllow_=!0}static forceDisallow(){gu.forceDisallow_=!0}static isAvailable(){return gu.forceAllow_?!0:!gu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dq()&&!hq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Gt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=KM(n),i=_L(r,Nq);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[kq]="t",r[PL]=e,r[kL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Gt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cb{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oq(),window[Sq+this.uniqueCallbackIdentifier]=e,window[Cq+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cb.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Pn("frame writing exception"),a.stack&&Pn(a.stack),Pn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[PL]=this.myID,e[kL]=this.myPW,e[NL]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+DL+r.length<=OL;){const o=this.pendingSegs.shift();r=r+"&"+xq+i+"="+o.seg+"&"+Aq+i+"="+o.ts+"&"+Pq+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Oq)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Pn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=16384,Lq=45e3;let Ag=null;typeof MozWebSocket<"u"?Ag=MozWebSocket:typeof WebSocket<"u"&&(Ag=WebSocket);class fi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ff(this.connId),this.stats_=Sb(n),this.connURL=fi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[vL]=bb,typeof location<"u"&&location.hostname&&TL.test(location.hostname)&&(o[EL]=IL),n&&(o[wL]=n),r&&(o[bL]=r),i&&(o[UE]=i),s&&(o[SL]=s),AL(e,CL,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ra.set("previous_websocket_failure",!0);try{let r;tL(),this.mySock=new Ag(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){fi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ag!==null&&!fi.forceDisallow_}static previouslyFailed(){return Ra.isInMemoryStorage||Ra.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ra.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Mh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Gt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_L(n,Mq);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Lq))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fi.responsesRequiredToBeHealthy=2;fi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[gu,fi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=fi&&fi.isAvailable();let r=n&&!fi.previouslyFailed();if(e.webSocketOnly&&(n||dr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[fi];else{const i=this.transports_=[];for(const s of Fh.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Fh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=6e4,Fq=5e3,Vq=10*1024,Uq=100*1024,q0="t",Gx="d",jq="s",Kx="r",Bq="e",Qx="o",Yx="a",Xx="n",Jx="p",zq="h";class Wq{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ff("c:"+this.id+":"),this.transportManager_=new Fh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=qd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Uq?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Vq?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(q0 in e){const n=e[q0];n===Yx?this.upgradeIfSecondaryHealthy_():n===Kx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Qx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Jc("t",e),r=Jc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Jx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Yx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Xx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Jc("t",e),r=Jc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Jc(q0,e);if(Gx in e){const r=e[Gx];if(n===zq){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Xx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jq?this.onConnectionShutdown_(r):n===Kx?this.onReset_(r):n===Bq?VE("Server Error: "+r):n===Qx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):VE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),bb!==r&&dr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),qd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($q))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Fq))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Jx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ra.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends LL{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pg}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=32,eA=768;class Je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ve(){return new Je("")}function Ce(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Po(t){return t.pieces_.length-t.pieceNum_}function tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function $L(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qq(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function FL(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function VL(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function Kt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Je(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function jn(t,e){const n=Ce(t),r=Ce(e);if(n===null)return e;if(n===r)return jn(tt(t),tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function UL(t,e){if(Po(t)!==Po(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Po(t)>Po(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Hq{constructor(e,n){this.errorPrefix_=n,this.parts_=FL(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=J_(this.parts_[r]);jL(this)}}function Gq(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=J_(e),jL(t)}function Kq(t){const e=t.parts_.pop();t.byteLength_-=J_(e),t.parts_.length>0&&(t.byteLength_-=1)}function jL(t){if(t.byteLength_>eA)throw new Error(t.errorPrefix_+"has a key path longer than "+eA+" bytes ("+t.byteLength_+").");if(t.parts_.length>Zx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Zx+") or object contains a cycle "+fa(t))}function fa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends LL{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Rb}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=1e3,Qq=60*5*1e3,tA=30*1e3,Yq=1.3,Xq=3e4,Jq="server_kill",nA=3;class ys extends ML{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ys.nextPersistentConnectionId_++,this.log_=Ff("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zc,this.maxReconnectDelay_=Qq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!tL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Gt(s)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Y_,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;ys.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ii(e,"w")){const r=Gu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();dr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||z9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tA)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=B9(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):VE("Unrecognized action received from server: "+Gt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Xq&&(this.reconnectDelay_=Zc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Yq)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ys.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){j(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Pn("getToken() completed but was canceled"):(Pn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Wq(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{dr(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(Jq)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&dr(d),l())}}}interrupt(e){Pn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],DE(this.interruptReasons_)&&(this.reconnectDelay_=Zc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Tb(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Je(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Pn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nA&&(this.reconnectDelay_=tA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+fL.replace(/\./g,"-")]=1,yb()?e["framework.cordova"]=1:X_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pg.getInstance().currentlyOnline();return DE(this.interruptReasons_)&&e}}ys.nextPersistentConnectionId_=0;ys.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new be(Ku,e),i=new be(Ku,n);return this.compare(r,i)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp;class BL extends ty{static get __EMPTY_NODE(){return Gp}static set __EMPTY_NODE(e){Gp=e}compare(e,n){return Tc(e.name,n.name)}isDefinedOn(e){throw Ec("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return be.MIN}maxPost(){return new be(el,Gp)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,Gp)}toString(){return".key"}}const Ru=new BL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Er=class Rd{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rd.RED,this.left=i??Vi.EMPTY_NODE,this.right=s??Vi.EMPTY_NODE}copy(e,n,r,i,s){return new Rd(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Vi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Rd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Rd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Er.RED=!0;Er.BLACK=!1;class Zq{copy(e,n,r,i,s){return this}insert(e,n,r){return new Er(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Vi=class Rm{constructor(e,n=Rm.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rm(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Er.BLACK,null,null))}remove(e){return new Rm(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Er.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Kp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Kp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Kp(this.root_,null,this.comparator_,!0,e)}};Vi.EMPTY_NODE=new Zq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t,e){return Tc(t.name,e.name)}function xb(t,e){return Tc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jE;function t8(t){jE=t}const zL=function(t){return typeof t=="number"?"number:"+yL(t):"string:"+t},WL=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ii(e,".sv"),"Priority must be a string or number.")}else j(t===jE||t.isEmpty(),"priority of unexpected type.");j(t===jE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rA;class Zt{constructor(e,n=Zt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),WL(this.priorityNode_)}static set __childrenNodeConstructor(e){rA=e}static get __childrenNodeConstructor(){return rA}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Zt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Zt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:Ce(e)===".priority"?this.priorityNode_:Zt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Zt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ce(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(j(r!==".priority"||Po(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Zt.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zL(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=yL(this.value_):e+=this.value_,this.lazyHash_=mL(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Zt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Zt.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Zt.VALUE_TYPE_ORDER.indexOf(n),s=Zt.VALUE_TYPE_ORDER.indexOf(r);return j(i>=0,"Unknown leaf type: "+n),j(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Zt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qL,HL;function n8(t){qL=t}function r8(t){HL=t}class i8 extends ty{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Tc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return be.MIN}maxPost(){return new be(el,new Zt("[PRIORITY-POST]",HL))}makePost(e,n){const r=qL(e);return new be(n,new Zt("[PRIORITY-POST]",r))}toString(){return".priority"}}const xt=new i8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=Math.log(2);class o8{constructor(e){const n=s=>parseInt(Math.log(s)/s8,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const kg=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Er(h,d.node,Er.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new Er(h,d.node,Er.BLACK,p,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const v=d-p,m=d;d-=p;const _=i(v+1,m),y=t[v],w=n?n(y):y;f(new Er(w,y.node,g,null,_))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));g?h(v,Er.BLACK):(h(v,Er.BLACK),h(v,Er.RED))}return c},o=new o8(t.length),a=s(o);return new Vi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H0;const $l={};class hs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return j($l&&xt,"ChildrenNode.ts has not been loaded"),H0=H0||new hs({".priority":$l},{".priority":xt}),H0}get(e){const n=Gu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Vi?n:null}hasIndex(e){return Ii(this.indexSet_,e.toString())}addIndex(e,n){j(e!==Ru,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(be.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=kg(r,e.getCompare()):a=$l;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new hs(c,u)}addToIndexes(e,n){const r=Cg(this.indexes_,(i,s)=>{const o=Gu(this.indexSet_,s);if(j(o,"Missing index implementation for "+s),i===$l)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(be.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),kg(a,o.getCompare())}else return $l;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new be(e.name,a))),l.insert(e,e.node)}});return new hs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Cg(this.indexes_,i=>{if(i===$l)return i;{const s=n.get(e.name);return s?i.remove(new be(e.name,s)):i}});return new hs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed;class de{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&WL(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ed||(ed=new de(new Vi(xb),null,hs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ed}updatePriority(e){return this.children_.isEmpty()?this:new de(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ed:n}}getChild(e){const n=Ce(e);return n===null?this:this.getImmediateChild(n).getChild(tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new be(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ed:this.priorityNode_;return new de(i,o,s)}}updateChild(e,n){const r=Ce(e);if(r===null)return n;{j(Ce(e)!==".priority"||Po(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(tt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(xt,(o,a)=>{n[o]=a.val(e),r++,s&&de.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zL(this.getPriority().val())+":"),this.forEachChild(xt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":mL(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new be(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vf?-1:0}withIndex(e){if(e===Ru||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new de(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ru||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(xt),i=n.getIterator(xt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ru?null:this.indexMap_.get(e.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class a8 extends de{constructor(){super(new Vi(xb),de.EMPTY_NODE,hs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return de.EMPTY_NODE}isEmpty(){return!1}}const Vf=new a8;Object.defineProperties(be,{MIN:{value:new be(Ku,de.EMPTY_NODE)},MAX:{value:new be(el,Vf)}});BL.__EMPTY_NODE=de.EMPTY_NODE;Zt.__childrenNodeConstructor=de;t8(Vf);r8(Vf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=!0;function rn(t,e=null){if(t===null)return de.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Zt(n,rn(e))}if(!(t instanceof Array)&&l8){const n=[];let r=!1;if(pr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=rn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new be(o,l)))}}),n.length===0)return de.EMPTY_NODE;const s=kg(n,e8,o=>o.name,xb);if(r){const o=kg(n,xt.getCompare());return new de(s,rn(e),new hs({".priority":o},{".priority":xt}))}else return new de(s,rn(e),hs.Default)}else{let n=de.EMPTY_NODE;return pr(t,(r,i)=>{if(Ii(t,r)&&r.substring(0,1)!=="."){const s=rn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(rn(e))}}n8(rn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8 extends ty{constructor(e){super(),this.indexPath_=e,j(!Se(e)&&Ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Tc(e.name,n.name):s}makePost(e,n){const r=rn(e),i=de.EMPTY_NODE.updateChild(this.indexPath_,r);return new be(n,i)}maxPost(){const e=de.EMPTY_NODE.updateChild(this.indexPath_,Vf);return new be(el,e)}toString(){return FL(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8 extends ty{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Tc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,n){const r=rn(e);return new be(n,r)}toString(){return".value"}}const d8=new c8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){return{type:"value",snapshotNode:t}}function Qu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Vh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Uh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function h8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Vh(n,a)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qu(n,r)):o.trackChildChange(Uh(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(xt,(i,s)=>{n.hasChild(i)||r.trackChildChange(Vh(i,s))}),n.isLeafNode()||n.forEachChild(xt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Uh(i,s,o))}else r.trackChildChange(Qu(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?de.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.indexedFilter_=new Ab(e.getIndex()),this.index_=e.getIndex(),this.startPost_=jh.getStartPost_(e),this.endPost_=jh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new be(n,r))||(r=de.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=de.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(de.EMPTY_NODE);const s=this;return n.forEachChild(xt,(o,a)=>{s.matches(new be(o,a))||(i=i.updateImmediateChild(o,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new jh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new be(n,r))||(r=de.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=de.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(de.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;j(a.numChildren()===this.limit_,"");const l=new be(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(Uh(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Vh(n,d));const g=a.updateImmediateChild(n,de.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Qu(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Vh(u.name,u.node)),s.trackChildChange(Qu(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,de.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ku}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:el}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xt}copy(){const e=new Pb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function p8(t){return t.loadsAllData()?new Ab(t.getIndex()):t.hasLimit()?new f8(t):new jh(t)}function iA(t){const e={};if(t.isDefault())return e;let n;if(t.index_===xt?n="$priority":t.index_===d8?n="$value":t.index_===Ru?n="$key":(j(t.index_ instanceof u8,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Gt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Gt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Gt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Gt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Gt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function sA(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==xt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends ML{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ff("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Ng.getListenId_(e,r),a={};this.listens_[o]=a;const l=iA(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Gu(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Ng.getListenId_(e,n);delete this.listens_[r]}get(e){const n=iA(e._queryParams),r=e._path.toString(),i=new Y_;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+El(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Mh(a.responseText)}catch{dr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&dr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){return{value:null,children:new Map}}function KL(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ce(e);t.children.has(r)||t.children.set(r,Og());const i=t.children.get(r);e=tt(e),KL(i,e,n)}}function BE(t,e,n){t.value!==null?n(e,t.value):g8(t,(r,i)=>{const s=new Je(e.toString()+"/"+r);BE(i,s,n)})}function g8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&pr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=10*1e3,y8=30*1e3,v8=5*60*1e3;class w8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _8(e);const r=oA+(y8-oA)*Math.random();qd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;pr(e,(i,s)=>{s>0&&Ii(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),qd(this.reportStats_.bind(this),Math.floor(Math.random()*2*v8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mi||(mi={}));function QL(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Nb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=mi.ACK_USER_WRITE,this.source=QL()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Je(e));return new Dg(Ve(),n,this.revert)}}else return j(Ce(this.path)===e,"operationForChild called for unrelated child."),new Dg(tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.source=e,this.path=n,this.type=mi.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new Bh(this.source,Ve()):new Bh(this.source,tt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=mi.OVERWRITE}operationForChild(e){return Se(this.path)?new tl(this.source,Ve(),this.snap.getImmediateChild(e)):new tl(this.source,tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=mi.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new tl(this.source,Ve(),n.value):new zh(this.source,Ve(),n)}else return j(Ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zh(this.source,tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ce(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function I8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(h8(o.childName,o.snapshotNode))}),td(t,i,"child_removed",e,r,n),td(t,i,"child_added",e,r,n),td(t,i,"child_moved",s,r,n),td(t,i,"child_changed",e,r,n),td(t,i,"value",e,r,n),i}function td(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>b8(t,a,l)),o.forEach(a=>{const l=T8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function T8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function b8(t,e,n){if(e.childName==null||n.childName==null)throw Ec("Should only compare child_ events.");const r=new be(e.childName,e.snapshotNode),i=new be(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t,e){return{eventCache:t,serverCache:e}}function Hd(t,e,n,r){return ny(new ko(e,n,r),t.serverCache)}function YL(t,e,n,r){return ny(t.eventCache,new ko(e,n,r))}function Mg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0;const S8=()=>(G0||(G0=new Vi(cq)),G0);class lt{constructor(e,n=S8()){this.value=e,this.children=n}static fromObject(e){let n=new lt(null);return pr(e,(r,i)=>{n=n.set(new Je(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ve(),value:this.value};if(Se(e))return null;{const r=Ce(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(tt(e),n);return s!=null?{path:Kt(new Je(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=Ce(e),r=this.children.get(n);return r!==null?r.subtree(tt(e)):new lt(null)}}set(e,n){if(Se(e))return new lt(n,this.children);{const r=Ce(e),s=(this.children.get(r)||new lt(null)).set(tt(e),n),o=this.children.insert(r,s);return new lt(this.value,o)}}remove(e){if(Se(e))return this.children.isEmpty()?new lt(null):new lt(null,this.children);{const n=Ce(e),r=this.children.get(n);if(r){const i=r.remove(tt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new lt(null):new lt(this.value,s)}else return this}}get(e){if(Se(e))return this.value;{const n=Ce(e),r=this.children.get(n);return r?r.get(tt(e)):null}}setTree(e,n){if(Se(e))return n;{const r=Ce(e),s=(this.children.get(r)||new lt(null)).setTree(tt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new lt(this.value,o)}}fold(e){return this.fold_(Ve(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Kt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ve(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Se(e))return null;{const s=Ce(e),o=this.children.get(s);return o?o.findOnPath_(tt(e),Kt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ve(),n)}foreachOnPath_(e,n,r){if(Se(e))return this;{this.value&&r(n,this.value);const i=Ce(e),s=this.children.get(i);return s?s.foreachOnPath_(tt(e),Kt(n,i),r):new lt(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Kt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.writeTree_=e}static empty(){return new wi(new lt(null))}}function Gd(t,e,n){if(Se(e))return new wi(new lt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=jn(i,e);return s=s.updateChild(o,n),new wi(t.writeTree_.set(i,s))}else{const i=new lt(n),s=t.writeTree_.setTree(e,i);return new wi(s)}}}function aA(t,e,n){let r=t;return pr(n,(i,s)=>{r=Gd(r,Kt(e,i),s)}),r}function lA(t,e){if(Se(e))return wi.empty();{const n=t.writeTree_.setTree(e,new lt(null));return new wi(n)}}function zE(t,e){return Il(t,e)!=null}function Il(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(jn(n.path,e)):null}function uA(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(xt,(r,i)=>{e.push(new be(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new be(r,i.value))}),e}function vo(t,e){if(Se(e))return t;{const n=Il(t,e);return n!=null?new wi(new lt(n)):new wi(t.writeTree_.subtree(e))}}function WE(t){return t.writeTree_.isEmpty()}function Yu(t,e){return XL(Ve(),t.writeTree_,e)}function XL(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(j(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=XL(Kt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Kt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,e){return t2(e,t)}function C8(t,e,n,r,i){j(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Gd(t.visibleWrites,e,n)),t.lastWriteId=r}function R8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function x8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&A8(a,r.path)?i=!1:pi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return P8(t),!0;if(r.snap)t.visibleWrites=lA(t.visibleWrites,r.path);else{const a=r.children;pr(a,l=>{t.visibleWrites=lA(t.visibleWrites,Kt(r.path,l))})}return!0}else return!1}function A8(t,e){if(t.snap)return pi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pi(Kt(t.path,n),e))return!0;return!1}function P8(t){t.visibleWrites=JL(t.allWrites,k8,Ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function k8(t){return t.visible}function JL(t,e,n){let r=wi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)pi(n,o)?(a=jn(n,o),r=Gd(r,a,s.snap)):pi(o,n)&&(a=jn(o,n),r=Gd(r,Ve(),s.snap.getChild(a)));else if(s.children){if(pi(n,o))a=jn(n,o),r=aA(r,a,s.children);else if(pi(o,n))if(a=jn(o,n),Se(a))r=aA(r,Ve(),s.children);else{const l=Gu(s.children,Ce(a));if(l){const u=l.getChild(tt(a));r=Gd(r,Ve(),u)}}}else throw Ec("WriteRecord should have .snap or .children")}}return r}function ZL(t,e,n,r,i){if(!r&&!i){const s=Il(t.visibleWrites,e);if(s!=null)return s;{const o=vo(t.visibleWrites,e);if(WE(o))return n;if(n==null&&!zE(o,Ve()))return null;{const a=n||de.EMPTY_NODE;return Yu(o,a)}}}else{const s=vo(t.visibleWrites,e);if(!i&&WE(s))return n;if(!i&&n==null&&!zE(s,Ve()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(pi(u.path,e)||pi(e,u.path))},a=JL(t.allWrites,o,e),l=n||de.EMPTY_NODE;return Yu(a,l)}}}function N8(t,e,n){let r=de.EMPTY_NODE;const i=Il(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(xt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=vo(t.visibleWrites,e);return n.forEachChild(xt,(o,a)=>{const l=Yu(vo(s,new Je(o)),a);r=r.updateImmediateChild(o,l)}),uA(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=vo(t.visibleWrites,e);return uA(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function O8(t,e,n,r,i){j(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Kt(e,n);if(zE(t.visibleWrites,s))return null;{const o=vo(t.visibleWrites,s);return WE(o)?i.getChild(n):Yu(o,i.getChild(n))}}function D8(t,e,n,r){const i=Kt(e,n),s=Il(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=vo(t.visibleWrites,i);return Yu(o,r.getNode().getImmediateChild(n))}else return null}function M8(t,e){return Il(t.visibleWrites,e)}function L8(t,e,n,r,i,s,o){let a;const l=vo(t.visibleWrites,e),u=Il(l,Ve());if(u!=null)a=u;else if(n!=null)a=Yu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function $8(){return{visibleWrites:wi.empty(),allWrites:[],lastWriteId:-1}}function Lg(t,e,n,r){return ZL(t.writeTree,t.treePath,e,n,r)}function Ob(t,e){return N8(t.writeTree,t.treePath,e)}function cA(t,e,n,r){return O8(t.writeTree,t.treePath,e,n,r)}function $g(t,e){return M8(t.writeTree,Kt(t.treePath,e))}function F8(t,e,n,r,i,s){return L8(t.writeTree,t.treePath,e,n,r,i,s)}function Db(t,e,n){return D8(t.writeTree,t.treePath,e,n)}function e2(t,e){return t2(Kt(t.treePath,e),t.writeTree)}function t2(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Uh(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Vh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Qu(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Uh(r,e.snapshotNode,i.oldSnap));else throw Ec("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const n2=new U8;class Mb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ko(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Db(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nl(this.viewCache_),s=F8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t){return{filter:t}}function B8(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function z8(t,e,n,r,i){const s=new V8;let o,a;if(n.type===mi.OVERWRITE){const u=n;u.source.fromUser?o=qE(t,e,u.path,u.snap,r,i,s):(j(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Se(u.path),o=Fg(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===mi.MERGE){const u=n;u.source.fromUser?o=q8(t,e,u.path,u.children,r,i,s):(j(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=HE(t,e,u.path,u.children,r,i,a,s))}else if(n.type===mi.ACK_USER_WRITE){const u=n;u.revert?o=K8(t,e,u.path,r,i,s):o=H8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===mi.LISTEN_COMPLETE)o=G8(t,e,n.path,r,s);else throw Ec("Unknown operation type: "+n.type);const l=s.getChanges();return W8(e,o,l),{viewCache:o,changes:l}}function W8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Mg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(GL(Mg(e)))}}function r2(t,e,n,r,i,s){const o=e.eventCache;if($g(r,n)!=null)return e;{let a,l;if(Se(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=nl(e),c=u instanceof de?u:de.EMPTY_NODE,d=Ob(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Lg(r,nl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Ce(n);if(u===".priority"){j(Po(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=cA(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=tt(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=cA(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=Db(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Hd(e,a,o.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function Fg(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Se(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Ce(n);if(!l.isCompleteForPath(n)&&Po(n)>1)return e;const p=tt(n),v=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),v):u=c.updateChild(l.getNode(),f,v,p,n2,null)}const d=YL(e,u,l.isFullyInitialized()||Se(n),c.filtersNodes()),h=new Mb(i,d,s);return r2(t,d,n,i,h,a)}function qE(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Mb(i,e,s);if(Se(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Hd(e,u,!0,t.filter.filtersNodes());else{const d=Ce(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Hd(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=tt(n),f=a.getNode().getImmediateChild(d);let p;if(Se(h))p=r;else{const g=c.getCompleteChild(d);g!=null?$L(h)===".priority"&&g.getChild(VL(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=de.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Hd(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function dA(t,e){return t.eventCache.isCompleteForChild(e)}function q8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Kt(n,l);dA(e,Ce(c))&&(a=qE(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Kt(n,l);dA(e,Ce(c))||(a=qE(t,a,c,u,i,s,o))}),a}function hA(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function HE(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Se(n)?u=r:u=new lt(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=hA(t,f,h);l=Fg(t,l,new Je(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=hA(t,p,h);l=Fg(t,l,new Je(d),g,i,s,o,a)}}),l}function H8(t,e,n,r,i,s,o){if($g(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Fg(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Se(n)){let u=new lt(null);return l.getNode().forEachChild(Ru,(c,d)=>{u=u.set(new Je(c),d)}),HE(t,e,n,u,i,s,a,o)}else return e}else{let u=new lt(null);return r.foreach((c,d)=>{const h=Kt(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),HE(t,e,n,u,i,s,a,o)}}function G8(t,e,n,r,i){const s=e.serverCache,o=YL(e,s.getNode(),s.isFullyInitialized()||Se(n),s.isFiltered());return r2(t,o,n,r,n2,i)}function K8(t,e,n,r,i,s){let o;if($g(r,n)!=null)return e;{const a=new Mb(r,e,i),l=e.eventCache.getNode();let u;if(Se(n)||Ce(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Lg(r,nl(e));else{const d=e.serverCache.getNode();j(d instanceof de,"serverChildren would be complete if leaf node"),c=Ob(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Ce(n);let d=Db(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,tt(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,de.EMPTY_NODE,tt(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Lg(r,nl(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||$g(r,Ve())!=null,Hd(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ab(r.getIndex()),s=p8(r);this.processor_=j8(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(de.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(de.EMPTY_NODE,a.getNode(),null),c=new ko(l,o.isFullyInitialized(),i.filtersNodes()),d=new ko(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=ny(d,c),this.eventGenerator_=new E8(this.query_)}get query(){return this.query_}}function Y8(t){return t.viewCache_.serverCache.getNode()}function X8(t){return Mg(t.viewCache_)}function J8(t,e){const n=nl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(Ce(e)).isEmpty())?n.getChild(e):null}function fA(t){return t.eventRegistrations_.length===0}function Z8(t,e){t.eventRegistrations_.push(e)}function pA(t,e,n){const r=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function mA(t,e,n,r){e.type===mi.MERGE&&e.source.queryId!==null&&(j(nl(t.viewCache_),"We should always have a full cache before handling merges"),j(Mg(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=z8(t.processor_,i,e,n,r);return B8(t.processor_,s.viewCache),j(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,i2(t,s.changes,s.viewCache.eventCache.getNode(),null)}function eH(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(xt,(s,o)=>{r.push(Qu(s,o))}),n.isFullyInitialized()&&r.push(GL(n.getNode())),i2(t,r,n.getNode(),e)}function i2(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return I8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg;class s2{constructor(){this.views=new Map}}function tH(t){j(!Vg,"__referenceConstructor has already been defined"),Vg=t}function nH(){return j(Vg,"Reference.ts has not been loaded"),Vg}function rH(t){return t.views.size===0}function Lb(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return j(s!=null,"SyncTree gave us an op for an invalid query."),mA(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(mA(o,e,n,r));return s}}function o2(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Lg(n,i?r:null),l=!1;a?l=!0:r instanceof de?(a=Ob(n,r),l=!1):(a=de.EMPTY_NODE,l=!1);const u=ny(new ko(a,l,!1),new ko(r,i,!1));return new Q8(e,u)}return o}function iH(t,e,n,r,i,s){const o=o2(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Z8(o,n),eH(o,n)}function sH(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=No(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(pA(u,n,r)),fA(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(pA(l,n,r)),fA(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!No(t)&&s.push(new(nH())(e._repo,e._path)),{removed:s,events:o}}function a2(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wo(t,e){let n=null;for(const r of t.views.values())n=n||J8(r,e);return n}function l2(t,e){if(e._queryParams.loadsAllData())return iy(t);{const r=e._queryIdentifier;return t.views.get(r)}}function u2(t,e){return l2(t,e)!=null}function No(t){return iy(t)!=null}function iy(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ug;function oH(t){j(!Ug,"__referenceConstructor has already been defined"),Ug=t}function aH(){return j(Ug,"Reference.ts has not been loaded"),Ug}let lH=1;class gA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lt(null),this.pendingWriteTree_=$8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function c2(t,e,n,r,i){return C8(t.pendingWriteTree_,e,n,r,i),i?jf(t,new tl(QL(),e,n)):[]}function xa(t,e,n=!1){const r=R8(t.pendingWriteTree_,e);if(x8(t.pendingWriteTree_,e)){let s=new lt(null);return r.snap!=null?s=s.set(Ve(),!0):pr(r.children,o=>{s=s.set(new Je(o),!0)}),jf(t,new Dg(r.path,s,n))}else return[]}function Uf(t,e,n){return jf(t,new tl(kb(),e,n))}function uH(t,e,n){const r=lt.fromObject(n);return jf(t,new zh(kb(),e,r))}function cH(t,e){return jf(t,new Bh(kb(),e))}function dH(t,e,n){const r=Fb(t,n);if(r){const i=Vb(r),s=i.path,o=i.queryId,a=jn(s,e),l=new Bh(Nb(o),a);return Ub(t,s,l)}else return[]}function d2(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||u2(o,e))){const l=sH(o,e,n,r);rH(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>No(f));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=mH(h);for(let p=0;p<f.length;++p){const g=f[p],v=g.query,m=m2(t,g);t.listenProvider_.startListening(Kd(v),Wh(t,v),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Kd(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(sy(h));t.listenProvider_.stopListening(Kd(h),f)}))}gH(t,u)}return a}function h2(t,e,n,r){const i=Fb(t,r);if(i!=null){const s=Vb(i),o=s.path,a=s.queryId,l=jn(o,e),u=new tl(Nb(a),l,n);return Ub(t,o,u)}else return[]}function hH(t,e,n,r){const i=Fb(t,r);if(i){const s=Vb(i),o=s.path,a=s.queryId,l=jn(o,e),u=lt.fromObject(n),c=new zh(Nb(a),l,u);return Ub(t,o,c)}else return[]}function fH(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=jn(h,i);s=s||wo(f,p),o=o||No(f)});let a=t.syncPointTree_.get(i);a?(o=o||No(a),s=s||wo(a,Ve())):(a=new s2,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=de.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=wo(p,Ve());g&&(s=s.updateImmediateChild(f,g))}));const u=u2(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=sy(e);j(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=_H();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const c=ry(t.pendingWriteTree_,i);let d=iH(a,e,n,c,s,l);if(!u&&!o&&!r){const h=l2(a,e);d=d.concat(yH(t,e,h))}return d}function $b(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=jn(o,e),u=wo(a,l);if(u)return u});return ZL(i,e,s,n,!0)}function pH(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=jn(u,n);r=r||wo(c,d)});let i=t.syncPointTree_.get(n);i?r=r||wo(i,Ve()):(i=new s2,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new ko(r,!0,!1):null,a=ry(t.pendingWriteTree_,e._path),l=o2(i,e,a,s?o.getNode():de.EMPTY_NODE,s);return X8(l)}function jf(t,e){return f2(e,t.syncPointTree_,null,ry(t.pendingWriteTree_,Ve()))}function f2(t,e,n,r){if(Se(t.path))return p2(t,e,n,r);{const i=e.get(Ve());n==null&&i!=null&&(n=wo(i,Ve()));let s=[];const o=Ce(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=e2(r,o);s=s.concat(f2(a,l,u,c))}return i&&(s=s.concat(Lb(i,t,r,n))),s}}function p2(t,e,n,r){const i=e.get(Ve());n==null&&i!=null&&(n=wo(i,Ve()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=e2(r,o),c=t.operationForChild(o);c&&(s=s.concat(p2(c,a,l,u)))}),i&&(s=s.concat(Lb(i,t,r,n))),s}function m2(t,e){const n=e.query,r=Wh(t,n);return{hashFn:()=>(Y8(e)||de.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?dH(t,n._path,r):cH(t,n._path);{const s=fq(i,n);return d2(t,n,null,s)}}}}function Wh(t,e){const n=sy(e);return t.queryToTagMap.get(n)}function sy(t){return t._path.toString()+"$"+t._queryIdentifier}function Fb(t,e){return t.tagToQueryMap.get(e)}function Vb(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function Ub(t,e,n){const r=t.syncPointTree_.get(e);j(r,"Missing sync point for query tag that we're tracking");const i=ry(t.pendingWriteTree_,e);return Lb(r,n,i,null)}function mH(t){return t.fold((e,n,r)=>{if(n&&No(n))return[iy(n)];{let i=[];return n&&(i=a2(n)),pr(r,(s,o)=>{i=i.concat(o)}),i}})}function Kd(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(aH())(t._repo,t._path):t}function gH(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=sy(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function _H(){return lH++}function yH(t,e,n){const r=e._path,i=Wh(t,e),s=m2(t,n),o=t.listenProvider_.startListening(Kd(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)j(!No(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!Se(u)&&c&&No(c))return[iy(c).query];{let h=[];return c&&(h=h.concat(a2(c).map(f=>f.query))),pr(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Kd(c),Wh(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new jb(n)}node(){return this.node_}}class Bb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Kt(this.path_,e);return new Bb(this.syncTree_,n)}node(){return $b(this.syncTree_,this.path_)}}const vH=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},_A=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return wH(t[".sv"],e,n);if(typeof t[".sv"]=="object")return EH(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},wH=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},EH=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&j(!1,"Unexpected increment value: "+r);const i=e.node();if(j(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},IH=function(t,e,n,r){return zb(e,new Bb(n,t),r)},g2=function(t,e,n){return zb(t,new jb(e),n)};function zb(t,e,n){const r=t.getPriority().val(),i=_A(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=_A(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Zt(a,rn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Zt(i))),o.forEachChild(xt,(a,l)=>{const u=zb(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function qb(t,e){let n=e instanceof Je?e:new Je(e),r=t,i=Ce(n);for(;i!==null;){const s=Gu(r.node.children,i)||{children:{},childCount:0};r=new Wb(i,r,s),n=tt(n),i=Ce(n)}return r}function Sc(t){return t.node.value}function _2(t,e){t.node.value=e,GE(t)}function y2(t){return t.node.childCount>0}function TH(t){return Sc(t)===void 0&&!y2(t)}function oy(t,e){pr(t.node.children,(n,r)=>{e(new Wb(n,t,r))})}function v2(t,e,n,r){n&&!r&&e(t),oy(t,i=>{v2(i,e,!0,r)}),n&&r&&e(t)}function bH(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Bf(t){return new Je(t.parent===null?t.name:Bf(t.parent)+"/"+t.name)}function GE(t){t.parent!==null&&SH(t.parent,t.name,t)}function SH(t,e,n){const r=TH(n),i=Ii(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,GE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,GE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=/[\[\].#$\/\u0000-\u001F\u007F]/,RH=/[\[\].#$\u0000-\u001F\u007F]/,K0=10*1024*1024,w2=function(t){return typeof t=="string"&&t.length!==0&&!CH.test(t)},E2=function(t){return typeof t=="string"&&t.length!==0&&!RH.test(t)},xH=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),E2(t)},I2=function(t,e,n,r){r&&e===void 0||Hb(wb(t,"value"),e,n)},Hb=function(t,e,n){const r=n instanceof Je?new Hq(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+fa(r));if(typeof e=="function")throw new Error(t+"contains a function "+fa(r)+" with contents = "+e.toString());if(gL(e))throw new Error(t+"contains "+e.toString()+" "+fa(r));if(typeof e=="string"&&e.length>K0/3&&J_(e)>K0)throw new Error(t+"contains a string greater than "+K0+" utf8 bytes "+fa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(pr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!w2(o)))throw new Error(t+" contains an invalid key ("+o+") "+fa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Gq(r,o),Hb(t,a,r),Kq(r)}),i&&s)throw new Error(t+' contains ".value" child '+fa(r)+" in addition to actual children.")}},T2=function(t,e,n,r){if(!(r&&n===void 0)&&!E2(n))throw new Error(wb(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AH=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),T2(t,e,n,r)},b2=function(t,e){if(Ce(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},PH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!w2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xH(n))throw new Error(wb(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function S2(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!UL(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Xi(t,e,n){S2(t,n),NH(t,r=>pi(r,e)||pi(e,r))}function NH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(OH(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function OH(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Va&&Pn("event: "+n.toString()),bc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH="repo_interrupt",MH=25;class LH{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Og(),this.transactionQueueTree_=new Wb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $H(t,e,n){if(t.stats_=Sb(t.repoInfo_),t.forceRestClient_||_q())t.server_=new Ng(t.repoInfo_,(r,i,s,o)=>{yA(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>vA(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ys(t.repoInfo_,e,(r,i,s,o)=>{yA(t,r,i,s,o)},r=>{vA(t,r)},r=>{FH(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Iq(t.repoInfo_,()=>new w8(t.stats_,t.server_)),t.infoData_=new m8,t.infoSyncTree_=new gA({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Uf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Kb(t,"connected",!1),t.serverSyncTree_=new gA({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Xi(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function C2(t){const n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Gb(t){return vH({timestamp:C2(t)})}function yA(t,e,n,r,i){t.dataUpdateCount++;const s=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Cg(n,u=>rn(u));o=hH(t.serverSyncTree_,s,l,i)}else{const l=rn(n);o=h2(t.serverSyncTree_,s,l,i)}else if(r){const l=Cg(n,u=>rn(u));o=uH(t.serverSyncTree_,s,l)}else{const l=rn(n);o=Uf(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ly(t,s)),Xi(t.eventQueue_,a,o)}function vA(t,e){Kb(t,"connected",e),e===!1&&jH(t)}function FH(t,e){pr(e,(n,r)=>{Kb(t,n,r)})}function Kb(t,e,n){const r=new Je("/.info/"+e),i=rn(n);t.infoData_.updateSnapshot(r,i);const s=Uf(t.infoSyncTree_,r,i);Xi(t.eventQueue_,r,s)}function R2(t){return t.nextWriteId_++}function VH(t,e,n){const r=pH(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=rn(i).withIndex(e._queryParams.getIndex());fH(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Uf(t.serverSyncTree_,e._path,s);else{const a=Wh(t.serverSyncTree_,e);o=h2(t.serverSyncTree_,e._path,s,a)}return Xi(t.eventQueue_,e._path,o),d2(t.serverSyncTree_,e,n,null,!0),s},i=>(ay(t,"get for query "+Gt(e)+" failed: "+i),Promise.reject(new Error(i))))}function UH(t,e,n,r,i){ay(t,"set",{path:e.toString(),value:n,priority:r});const s=Gb(t),o=rn(n,r),a=$b(t.serverSyncTree_,e),l=g2(o,a,s),u=R2(t),c=c2(t.serverSyncTree_,e,l,u,!0);S2(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const p=h==="ok";p||dr("set at "+e+" failed: "+h);const g=xa(t.serverSyncTree_,u,!p);Xi(t.eventQueue_,e,g),zH(t,i,h,f)});const d=N2(t,e);ly(t,d),Xi(t.eventQueue_,d,[])}function jH(t){ay(t,"onDisconnectEvents");const e=Gb(t),n=Og();BE(t.onDisconnect_,Ve(),(i,s)=>{const o=IH(i,s,t.serverSyncTree_,e);KL(n,i,o)});let r=[];BE(n,Ve(),(i,s)=>{r=r.concat(Uf(t.serverSyncTree_,i,s));const o=N2(t,i);ly(t,o)}),t.onDisconnect_=Og(),Xi(t.eventQueue_,Ve(),r)}function BH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(DH)}function ay(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pn(n,...e)}function zH(t,e,n,r){e&&bc(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function x2(t,e,n){return $b(t.serverSyncTree_,e,n)||de.EMPTY_NODE}function Qb(t,e=t.transactionQueueTree_){if(e||uy(t,e),Sc(e)){const n=P2(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&WH(t,Bf(e),n)}else y2(e)&&oy(e,n=>{Qb(t,n)})}function WH(t,e,n){const r=n.map(u=>u.currentWriteId),i=x2(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];j(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=jn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{ay(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(xa(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();uy(t,qb(t.transactionQueueTree_,e)),Qb(t,t.transactionQueueTree_),Xi(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)bc(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{dr("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}ly(t,e)}},o)}function ly(t,e){const n=A2(t,e),r=Bf(n),i=P2(t,n);return qH(t,i,r),r}function qH(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=jn(n,l.path);let c=!1,d;if(j(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(xa(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=MH)c=!0,d="maxretry",i=i.concat(xa(t.serverSyncTree_,l.currentWriteId,!0));else{const h=x2(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){Hb("transaction failed: Data returned ",f,l.path);let p=rn(f);typeof f=="object"&&f!=null&&Ii(f,".priority")||(p=p.updatePriority(h.getPriority()));const v=l.currentWriteId,m=Gb(t),_=g2(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=R2(t),o.splice(o.indexOf(v),1),i=i.concat(c2(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(xa(t.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(xa(t.serverSyncTree_,l.currentWriteId,!0))}Xi(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}uy(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)bc(r[a]);Qb(t,t.transactionQueueTree_)}function A2(t,e){let n,r=t.transactionQueueTree_;for(n=Ce(e);n!==null&&Sc(r)===void 0;)r=qb(r,n),e=tt(e),n=Ce(e);return r}function P2(t,e){const n=[];return k2(t,e,n),n.sort((r,i)=>r.order-i.order),n}function k2(t,e,n){const r=Sc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);oy(e,i=>{k2(t,i,n)})}function uy(t,e){const n=Sc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,_2(e,n.length>0?n:void 0)}oy(e,r=>{uy(t,r)})}function N2(t,e){const n=Bf(A2(t,e)),r=qb(t.transactionQueueTree_,e);return bH(r,i=>{Q0(t,i)}),Q0(t,r),v2(r,i=>{Q0(t,i)}),n}function Q0(t,e){const n=Sc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(j(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(j(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(xa(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?_2(e,void 0):n.length=s+1,Xi(t.eventQueue_,Bf(e),i);for(let o=0;o<r.length;o++)bc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function GH(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dr(`Invalid query segment '${n}' in query '${t}'`)}return e}const wA=function(t,e){const n=KH(t),r=n.namespace;n.domain==="firebase.com"&&xs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||lq();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xL(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Je(n.pathString)}},KH=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=HH(t.substring(c,d)));const h=GH(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",QH=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=EA.charAt(n%64),n=Math.floor(n/64);j(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=EA.charAt(e[i]);return j(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Gt(this.snapshot.exportVal())}}class XH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Se(this._path)?null:$L(this._path)}get ref(){return new Ds(this._repo,this._path)}get _queryIdentifier(){const e=sA(this._queryParams),n=Tb(e);return n==="{}"?"default":n}get _queryObject(){return sA(this._queryParams)}isEqual(e){if(e=te(e),!(e instanceof Yb))return!1;const n=this._repo===e._repo,r=UL(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+qq(this._path)}}class Ds extends Yb{constructor(e,n){super(e,n,new Pb,!1)}get parent(){const e=VL(this._path);return e===null?null:new Ds(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class qh{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Je(e),r=Hh(this.ref,e);return new qh(this._node.getChild(n),r,xt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new qh(i,Hh(this.ref,r),xt)))}hasChild(e){const n=new Je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function KE(t,e){return t=te(t),t._checkNotDeleted("ref"),e!==void 0?Hh(t._root,e):t._root}function Hh(t,e){return t=te(t),Ce(t._path)===null?AH("child","path",e,!1):T2("child","path",e,!1),new Ds(t._repo,Kt(t._path,e))}function ZH(t,e){t=te(t),b2("push",t._path),I2("push",e,t._path,!0);const n=C2(t._repo),r=QH(n),i=Hh(t,r),s=Hh(t,r);let o;return e!=null?o=eG(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function eG(t,e){t=te(t),b2("set",t._path),I2("set",e,t._path,!1);const n=new Y_;return UH(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function O2(t){t=te(t);const e=new JH(()=>{}),n=new Xb(e);return VH(t._repo,t,n).then(r=>new qh(r,new Ds(t._repo,t._path),t._queryParams.getIndex()))}class Xb{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new YH("value",this,new qh(e.snapshotNode,new Ds(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new XH(this,e,n):null}matches(e){return e instanceof Xb?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}tH(Ds);oH(Ds);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG="FIREBASE_DATABASE_EMULATOR_HOST",QE={};let nG=!1;function rG(t,e,n,r){t.repoInfo_=new xL(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function iG(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=wA(s,i),a=o.repoInfo,l,u;typeof process<"u"&&jx&&(u=jx[tG]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=wA(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Cu(Cu.OWNER):new vq(t.name,t.options,e);PH("Invalid Firebase Database URL",o),Se(o.path)||xs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=oG(a,t,c,new yq(t.name,n));return new aG(d,t)}function sG(t,e){const n=QE[e];(!n||n[t.key]!==t)&&xs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),BH(t),delete n[t.key]}function oG(t,e,n,r){let i=QE[e.name];i||(i={},QE[e.name]=i);let s=i[t.toURLString()];return s&&xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new LH(t,nG,n,r),i[t.toURLString()]=s,s}class aG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($H(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ds(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(sG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xs("Cannot call "+e+" on a deleted database.")}}function lG(t=ey(),e){const n=Ic(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=YM("database");r&&uG(n,...r)}return n}function uG(t,e,n,r={}){t=te(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&xs("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Cu(Cu.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:_b(r.mockUserToken,t.app.options.projectId);s=new Cu(o)}rG(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(t){rq(ns),Yi(new ei("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return iG(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Wn(Bx,zx,t),Wn(Bx,zx,"esm2017")}ys.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ys.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};cG();const dG={items:[]},D2=fb("product/fetchProducts",async()=>{const t=KE(cT,"items"),e=await O2(t);return e.exists()?e.val():[]}),M2=mb("product/addProduct",async t=>{try{await ZH(KE(cT,"items"),t),console.log("Data sent successfully");const e=KE(cT,"items"),n=await O2(e);return n.exists()?n.val():[]}catch(e){return console.error("Error sending data:",e),[]}}),L2=K_({extraReducers:t=>{t.addCase(D2.fulfilled,(e,n)=>{e.items=n.payload}).addCase(M2.fulfilled,(e,n)=>{e.items=n.payload})},initialState:dG,name:"product",reducers:{addItem:(t,e)=>{t.items.push(e.payload)},setItems:(t,e)=>{t.items=e.payload}}});L2.actions;const hG=L2.reducer;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebasestorage.googleapis.com",F2="storageBucket",fG=2*60*1e3,pG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends kn{constructor(e,n,r=0){super(Y0(e),`Firebase Storage: ${n} (${Y0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Y0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function Y0(t){return"storage/"+t}function Jb(){const t="An unknown error occurred, please check the error payload for server response.";return new Ot(At.UNKNOWN,t)}function mG(t){return new Ot(At.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gG(t){return new Ot(At.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _G(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(At.UNAUTHENTICATED,t)}function yG(){return new Ot(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vG(t){return new Ot(At.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wG(){return new Ot(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EG(){return new Ot(At.CANCELED,"User canceled the upload/download.")}function IG(t){return new Ot(At.INVALID_URL,"Invalid URL '"+t+"'.")}function TG(t){return new Ot(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bG(){return new Ot(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+F2+"' property when initializing the app?")}function SG(){return new Ot(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function CG(){return new Ot(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RG(t){return new Ot(At.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function YE(t){return new Ot(At.INVALID_ARGUMENT,t)}function V2(){return new Ot(At.APP_DELETED,"The Firebase app was deleted.")}function xG(t){return new Ot(At.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qd(t,e){return new Ot(At.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nd(t){throw new Ot(At.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cr.makeFromUrl(e,n)}catch{return new Cr(e,"")}if(r.path==="")return r;throw TG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},g=n===$2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${v}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<y.length;w++){const b=y[w],C=b.regex.exec(e);if(C){const T=C[b.indices.bucket];let A=C[b.indices.path];A||(A=""),r=new Cr(T,A),b.postModify(r);break}}if(r==null)throw IG(e);return r}}class AG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(f,l())},v)}function h(){s&&clearTimeout(s)}function f(v,...m){if(u){h();return}if(v){h(),c.call(null,v,...m);return}if(l()||o){h(),c.call(null,v,...m);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let p=!1;function g(v){p||(p=!0,h(),!u&&(i!==null?(v||(a=2),clearTimeout(i),d(0)):v||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function kG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t){return t!==void 0}function OG(t){return typeof t=="object"&&!Array.isArray(t)}function Zb(t){return typeof t=="string"||t instanceof String}function IA(t){return eS()&&t instanceof Blob}function eS(){return typeof Blob<"u"}function TA(t,e,n,r){if(r<e)throw YE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw YE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function U2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ua;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Qp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ua.NO_ERROR,l=s.getStatus();if(!a||DG(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ua.ABORT;r(!1,new Qp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Qp(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());NG(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Jb();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?V2():EG();o(l)}else{const l=wG();o(l)}};this.canceled_?n(!1,new Qp(!1,null,!0)):this.backoffId_=PG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $G(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function UG(t,e,n,r,i,s,o=!0){const a=U2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return FG(u,e),LG(u,n),$G(u,s),VG(u,r),new MG(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BG(...t){const e=jG();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(eS())return new Blob(t);throw new Ot(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(t){if(typeof atob>"u")throw RG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class X0{constructor(e,n){this.data=e,this.contentType=n||null}}function qG(t,e){switch(t){case Ui.RAW:return new X0(j2(e));case Ui.BASE64:case Ui.BASE64URL:return new X0(B2(t,e));case Ui.DATA_URL:return new X0(GG(e),KG(e))}throw Jb()}function j2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function HG(t){let e;try{e=decodeURIComponent(t)}catch{throw Qd(Ui.DATA_URL,"Malformed data URL.")}return j2(e)}function B2(t,e){switch(t){case Ui.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Qd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ui.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Qd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WG(e)}catch(i){throw i.message.includes("polyfill")?i:Qd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class z2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Qd(Ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=QG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function GG(t){const e=new z2(t);return e.base64?B2(Ui.BASE64,e.rest):HG(e.rest)}function KG(t){return new z2(t).contentType}function QG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){let r=0,i="";IA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(IA(this.data_)){const r=this.data_,i=zG(r,e,n);return i===null?null:new Zs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zs(r,!0)}}static getBlob(...e){if(eS()){const n=e.map(r=>r instanceof Zs?r.data_:r);return new Zs(BG.apply(null,n))}else{const n=e.map(o=>Zb(o)?qG(Ui.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Zs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t){let e;try{e=JSON.parse(t)}catch{return null}return OG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function q2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t,e){return e}class $n{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||JG}}let Yp=null;function ZG(t){return!Zb(t)||t.length<2?t:q2(t)}function H2(){if(Yp)return Yp;const t=[];t.push(new $n("bucket")),t.push(new $n("generation")),t.push(new $n("metageneration")),t.push(new $n("name","fullPath",!0));function e(s,o){return ZG(o)}const n=new $n("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new $n("size");return i.xform=r,t.push(i),t.push(new $n("timeCreated")),t.push(new $n("updated")),t.push(new $n("md5Hash",null,!0)),t.push(new $n("cacheControl",null,!0)),t.push(new $n("contentDisposition",null,!0)),t.push(new $n("contentEncoding",null,!0)),t.push(new $n("contentLanguage",null,!0)),t.push(new $n("contentType",null,!0)),t.push(new $n("metadata","customMetadata",!0)),Yp=t,Yp}function eK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Cr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function tK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return eK(r,t),r}function G2(t,e,n){const r=W2(e);return r===null?null:tK(t,r,n)}function nK(t,e,n,r){const i=W2(e);if(i===null||!Zb(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=tS(h,n,r),p=U2({alt:"media",token:u});return f+p})[0]}function rK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class K2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){if(!t)throw Jb()}function iK(t,e){function n(r,i){const s=G2(t,i,e);return Q2(s!==null),s}return n}function sK(t,e){function n(r,i){const s=G2(t,i,e);return Q2(s!==null),nK(s,i,t.host,t._protocol)}return n}function Y2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=yG():i=_G():n.getStatus()===402?i=gG(t.bucket):n.getStatus()===403?i=vG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function oK(t){const e=Y2(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=mG(t.path)),s.serverResponse=i.serverResponse,s}return n}function aK(t,e,n){const r=e.fullServerUrl(),i=tS(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new K2(i,s,sK(t,n),o);return a.errorHandler=oK(e),a}function lK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function uK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lK(null,e)),r}function cK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let w=0;w<2;w++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=uK(e,r,i),c=rK(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Zs.getBlob(d,r,h);if(f===null)throw SG();const p={name:u.fullPath},g=tS(s,t.host,t._protocol),v="POST",m=t.maxUploadRetryTime,_=new K2(g,v,iK(t,n),m);return _.urlParams=p,_.headers=o,_.body=f.uploadData(),_.errorHandler=Y2(e),_}class dK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw nd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hK extends dK{initXhr(){this.xhr_.responseType="text"}}function X2(){return new hK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy=class XE{constructor(e,n){this._service=e,n instanceof Cr?this._location=n:this._location=Cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new XE(e,n)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q2(this._location.path)}get storage(){return this._service}get parent(){const e=YG(this._location.path);if(e===null)return null;const n=new Cr(this._location.bucket,e);return new XE(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xG(e)}};function fK(t,e,n){t._throwIfRoot("uploadBytes");const r=cK(t.storage,t._location,H2(),new Zs(e,!0),n);return t.storage.makeRequestWithTokens(r,X2).then(i=>({metadata:i,ref:t}))}function pK(t){t._throwIfRoot("getDownloadURL");const e=aK(t.storage,t._location,H2());return t.storage.makeRequestWithTokens(e,X2).then(n=>{if(n===null)throw CG();return n})}function mK(t,e){const n=XG(t._location.path,e),r=new Cr(t._location.bucket,n);return new cy(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(t){return/^[A-Za-z]+:\/\//.test(t)}function _K(t,e){return new cy(t,e)}function J2(t,e){if(t instanceof nS){const n=t;if(n._bucket==null)throw bG();const r=new cy(n,n._bucket);return e!=null?J2(r,e):r}else return e!==void 0?mK(t,e):t}function yK(t,e){if(e&&gK(e)){if(t instanceof nS)return _K(t,e);throw YE("To use ref(service, url), the first argument must be a Storage instance.")}else return J2(t,e)}function bA(t,e){const n=e==null?void 0:e[F2];return n==null?null:Cr.makeFromBucketSpec(n,t)}function vK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_b(i,t.app.options.projectId))}class nS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=$2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fG,this._maxUploadRetryTime=pG,this._requests=new Set,i!=null?this._bucket=Cr.makeFromBucketSpec(i,this._host):this._bucket=bA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=bA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cy(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new AG(V2());{const o=UG(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const SA="@firebase/storage",CA="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="storage";function wK(t,e,n){return t=te(t),fK(t,e,n)}function EK(t){return t=te(t),pK(t)}function IK(t,e){return t=te(t),yK(t,e)}function TK(t=ey(),e){t=te(t);const r=Ic(t,Z2).getImmediate({identifier:e}),i=YM("storage");return i&&bK(r,...i),r}function bK(t,e,n,r={}){vK(t,e,n,r)}function SK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nS(n,r,i,e,ns)}function CK(){Yi(new ei(Z2,SK,"PUBLIC").setMultipleInstances(!0)),Wn(SA,CA,""),Wn(SA,CA,"esm2017")}CK();let Xp;const RK=new Uint8Array(16);function xK(){if(!Xp&&(Xp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xp(RK)}const pn=[];for(let t=0;t<256;++t)pn.push((t+256).toString(16).slice(1));function AK(t,e=0){return pn[t[e+0]]+pn[t[e+1]]+pn[t[e+2]]+pn[t[e+3]]+"-"+pn[t[e+4]]+pn[t[e+5]]+"-"+pn[t[e+6]]+pn[t[e+7]]+"-"+pn[t[e+8]]+pn[t[e+9]]+"-"+pn[t[e+10]]+pn[t[e+11]]+pn[t[e+12]]+pn[t[e+13]]+pn[t[e+14]]+pn[t[e+15]]}const PK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),RA={randomUUID:PK};function rS(t,e,n){if(RA.randomUUID&&!e&&!t)return RA.randomUUID();t=t||{};const r=t.random||(t.rng||xK)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return AK(r)}const kK={loading:!1,uploadImg:""},e$=K_({name:"upload",initialState:kK,reducers:{setLoading:(t,e)=>{t.loading=e.payload},onImageUpload:(t,e)=>{t.uploadImg=e.payload}}}),NK=fb("product/upload",async(t,e)=>{const{dispatch:n}=e;n(J0(!0));const r=IK(dve,`images/${t.name+rS()}`);try{const i=await wK(r,t),s=await EK(i.ref);n(J0(!1)),n(OK(s))}catch(i){console.error("Error uploading file:",i),n(J0(!1))}}),{setLoading:J0,onImageUpload:OK}=e$.actions,DK=e$.reducer;function iS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const rd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Fl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function t$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LK=MK,$K=t$,n$=new wl("auth","Firebase",t$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=new Lf("@firebase/auth");function FK(t,...e){jg.logLevel<=Te.WARN&&jg.warn(`Auth (${ns}): ${t}`,...e)}function xm(t,...e){jg.logLevel<=Te.ERROR&&jg.error(`Auth (${ns}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,...e){throw sS(t,...e)}function In(t,...e){return sS(t,...e)}function r$(t,e,n){const r=Object.assign(Object.assign({},$K()),{[e]:n});return new wl("auth","Firebase",r).create(e,{appName:t.name})}function Cc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&an(t,"argument-error"),r$(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n$.create(t,...e)}function V(t,e,...n){if(!t)throw sS(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xm(e),new Error(e)}function Ti(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oS(){return xA()==="http:"||xA()==="https:"}function xA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oS()||ZM()||"connection"in navigator)?navigator.onLine:!0}function UK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=yb()||X_()}get(){return VK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK=new zf(3e4,6e4);function Dt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mt(t,e,n,r,i={}){return s$(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=El(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),i$.fetch()(o$(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function s$(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jK),e);try{const i=new WK(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw r$(t,c,u);an(t,c)}}catch(i){if(i instanceof kn)throw i;an(t,"network-request-failed",{message:String(i)})}}async function Ms(t,e,n,r,i={}){const s=await Mt(t,e,n,r,i);return"mfaPendingCredential"in s&&an(t,"multi-factor-auth-required",{_serverResponse:s}),s}function o$(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?aS(t.config,i):`${t.config.apiScheme}://${i}`}function zK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),BK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=In(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){return t!==void 0&&t.getResponse!==void 0}function PA(t){return t!==void 0&&t.enterprise!==void 0}class qK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t){return(await Mt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function GK(t,e){return Mt(t,"GET","/v2/recaptchaConfig",Dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KK(t,e){return Mt(t,"POST","/v1/accounts:delete",e)}async function QK(t,e){return Mt(t,"POST","/v1/accounts:update",e)}async function YK(t,e){return Mt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XK(t,e=!1){const n=te(t),r=await n.getIdToken(e),i=dy(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yd(Z0(i.auth_time)),issuedAtTime:Yd(Z0(i.iat)),expirationTime:Yd(Z0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Z0(t){return Number(t)*1e3}function dy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Sg(n);return i?JSON.parse(i):(xm("Failed to decode base64 JWT payload"),null)}catch(i){return xm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JK(t){const e=dy(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&ZK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yd(this.lastLoginAt),this.creationTime=Yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await As(t,YK(n,{idToken:r}));V(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?r7(s.providerUserInfo):[],a=n7(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new a$(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function t7(t){const e=te(t);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function r7(t){return t.map(e=>{var{providerId:n}=e,r=iS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7(t,e){const n=await s$(t,{},async()=>{const r=El({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=o$(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",i$.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s7(t,e){return Mt(t,"POST","/v2/accounts:revokeToken",Dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JK(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return V(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await i7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qh;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qh,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ja{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new a$(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await As(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XK(this,e)}reload(){return t7(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ja(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await As(this,KK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:C,stsTokenManager:T}=n;V(y&&T,e,"internal-error");const A=Qh.fromJSON(this.name,T);V(typeof y=="string",e,"internal-error"),zs(d,e.name),zs(h,e.name),V(typeof w=="boolean",e,"internal-error"),V(typeof b=="boolean",e,"internal-error"),zs(f,e.name),zs(p,e.name),zs(g,e.name),zs(v,e.name),zs(m,e.name),zs(_,e.name);const M=new ja({uid:y,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:A,createdAt:m,lastLoginAt:_});return C&&Array.isArray(C)&&(M.providerData=C.map(P=>Object.assign({},P))),v&&(M._redirectEventId=v),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qh;i.updateFromServerResponse(n);const s=new ja({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new Map;function Rr(t){Ti(t instanceof Function,"Expected a class definition");let e=kA.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}l$.type="NONE";const Xu=l$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e,n){return`firebase:${t}:${e}:${n}`}class xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ba(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ba("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ja._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xu(Rr(Xu),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Rr(Xu);const o=Ba(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ja._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new xu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h$(e))return"Blackberry";if(f$(e))return"Webos";if(lS(e))return"Safari";if((e.includes("chrome/")||c$(e))&&!e.includes("edge/"))return"Chrome";if(Wf(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u$(t=Tt()){return/firefox\//i.test(t)}function lS(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c$(t=Tt()){return/crios\//i.test(t)}function d$(t=Tt()){return/iemobile/i.test(t)}function Wf(t=Tt()){return/android/i.test(t)}function h$(t=Tt()){return/blackberry/i.test(t)}function f$(t=Tt()){return/webos/i.test(t)}function Rc(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o7(t=Tt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function a7(t=Tt()){var e;return Rc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l7(){return eL()&&document.documentMode===10}function p$(t=Tt()){return Rc(t)||Wf(t)||f$(t)||h$(t)||/windows phone/i.test(t)||d$(t)}function u7(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t,e=[]){let n;switch(t){case"Browser":n=NA(Tt());break;case"Worker":n=`${NA(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ns}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d7(t,e={}){return Mt(t,"GET","/v2/passwordPolicy",Dt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=6;class f7{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:h7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OA(this),this.idTokenSubscription=new OA(this),this.beforeStateQueue=new c7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?te(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d7(this),n=new f7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pt(t){return te(t)}class OA{constructor(e){this.auth=e,this.observer=null,this.addObserver=rL(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function uS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=In("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",m7().appendChild(r)})}function g$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const g7="https://www.google.com/recaptcha/enterprise.js?render=",_7="recaptcha-enterprise",y7="NO_RECAPTCHA";class v7{constructor(e){this.type=_7,this.auth=Pt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{GK(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new qK(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;PA(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(y7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&PA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}uS(g7+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function DA(t,e,n,r=!1){const i=new v7(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Yh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await DA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await DA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t,e){const n=Ic(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Rg(s,e??{}))return i;an(i,"already-initialized")}return n.initialize({options:e})}function E7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _$(t,e,n){const r=Pt(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=y$(e),{host:o,port:a}=I7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||T7()}function y$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I7(t){const e=y$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:MA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:MA(o)}}}function MA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v$(t,e){return Mt(t,"POST","/v1/accounts:resetPassword",Dt(t,e))}async function b7(t,e){return Mt(t,"POST","/v1/accounts:update",e)}async function S7(t,e){return Mt(t,"POST","/v1/accounts:signUp",e)}async function C7(t,e){return Mt(t,"POST","/v1/accounts:update",Dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(t,e){return Ms(t,"POST","/v1/accounts:signInWithPassword",Dt(t,e))}async function hy(t,e){return Mt(t,"POST","/v1/accounts:sendOobCode",Dt(t,e))}async function x7(t,e){return hy(t,e)}async function A7(t,e){return hy(t,e)}async function P7(t,e){return hy(t,e)}async function k7(t,e){return hy(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N7(t,e){return Ms(t,"POST","/v1/accounts:signInWithEmailLink",Dt(t,e))}async function O7(t,e){return Ms(t,"POST","/v1/accounts:signInWithEmailLink",Dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends xc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yh(e,n,"signInWithPassword",R7);case"emailLink":return N7(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yh(e,r,"signUpPassword",S7);case"emailLink":return O7(e,{idToken:n,email:this._email,oobCode:this._password});default:an(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(t,e){return Ms(t,"POST","/v1/accounts:signInWithIdp",Dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="http://localhost";class Ji extends xc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ji(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vs(e,n)}buildRequest(){const e={requestUri:D7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=El(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M7(t,e){return Mt(t,"POST","/v1/accounts:sendVerificationCode",Dt(t,e))}async function L7(t,e){return Ms(t,"POST","/v1/accounts:signInWithPhoneNumber",Dt(t,e))}async function $7(t,e){const n=await Ms(t,"POST","/v1/accounts:signInWithPhoneNumber",Dt(t,e));if(n.temporaryProof)throw xd(t,"account-exists-with-different-credential",n);return n}const F7={USER_NOT_FOUND:"user-not-found"};async function V7(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ms(t,"POST","/v1/accounts:signInWithPhoneNumber",Dt(t,n),F7)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends xc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new za({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new za({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return L7(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return $7(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return V7(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new za({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j7(t){const e=mu(Cd(t)).link,n=e?mu(Cd(e)).deep_link_id:null,r=mu(Cd(t)).deep_link_id;return(r?mu(Cd(r)).link:null)||r||n||e||t}class fy{constructor(e){var n,r,i,s,o,a;const l=mu(Cd(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=U7((i=l.mode)!==null&&i!==void 0?i:null);V(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=j7(e);try{return new fy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Xh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fy.parseLink(n);return V(r,"argument-error"),Xh._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Au extends Ac{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return V("providerId"in n&&"signInMethod"in n,"argument-error"),Ji._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return V(e.idToken||e.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Au.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Au.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Au(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Ac{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ji._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ac{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7="http://localhost";class Ju extends xc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return vs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vs(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Ju(r,s)}static _create(e,n){return new Ju(e,n)}buildRequest(){return{requestUri:B7,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="saml.";class Bg extends Ls{constructor(e){V(e.startsWith(z7),"argument-error"),super(e)}static credentialFromResult(e){return Bg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Bg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Ju.fromJSON(e);return V(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Ju._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Ac{constructor(){super("twitter.com")}static credential(e,n){return Ji._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t,e){return Ms(t,"POST","/v1/accounts:signUp",Dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ja._fromIdTokenResponse(e,r,i),o=LA(r);return new ti({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=LA(r);return new ti({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function LA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(t){var e;const n=Pt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ti({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await w$(n,{returnSecureToken:!0}),i=await ti._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zg(e,n,r,i)}}function E$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zg._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q7(t,e){const n=te(t);await py(!0,n,e);const{providerUserInfo:r}=await QK(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=I$(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function cS(t,e,n=!1){const r=await As(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ti._forOperation(t,"link",r)}async function py(t,e,n){await Kh(e);const r=I$(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";V(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await As(t,E$(r,i,e,t),n);V(s.idToken,r,"internal-error");const o=dy(s.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),ti._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&an(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b$(t,e,n=!1){const r="signIn",i=await E$(t,r,e),s=await ti._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function my(t,e){return b$(Pt(t),e)}async function S$(t,e){const n=te(t);return await py(!1,n,e.providerId),cS(n,e)}async function C$(t,e){return T$(te(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H7(t,e){return Ms(t,"POST","/v1/accounts:signInWithCustomToken",Dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G7(t,e){const n=Pt(t),r=await H7(n,{token:e,returnSecureToken:!0}),i=await ti._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?dS._fromServerResponse(e,n):"totpInfo"in n?hS._fromServerResponse(e,n):an(e,"internal-error")}}class dS extends qf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new dS(n)}}class hS extends qf{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new hS(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e,n){var r;V(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),V(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t){const e=Pt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K7(t,e,n){const r=Pt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&gy(r,i,n),await Yh(r,i,"getOobCode",A7)}async function Q7(t,e,n){await v$(te(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fS(t),r})}async function Y7(t,e){await C7(te(t),{oobCode:e})}async function R$(t,e){const n=te(t),r=await v$(n,{oobCode:e}),i=r.requestType;switch(V(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(r.mfaInfo,n,"internal-error");default:V(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=qf._fromServerResponse(Pt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function X7(t,e){const{data:n}=await R$(te(t),e);return n.email}async function x$(t,e,n){const r=Pt(t),o=await Yh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w$).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&fS(t),l}),a=await ti._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function A$(t,e,n){return my(te(t),Yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(t,e,n){const r=Pt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){V(a.handleCodeInApp,r,"argument-error"),a&&gy(r,o,a)}s(i,n),await Yh(r,i,"getOobCode",P7)}function Z7(t,e){const n=fy.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function eQ(t,e,n){const r=te(t),i=Yo.credentialWithLink(e,n||Gh());return V(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),my(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tQ(t,e){return Mt(t,"POST","/v1/accounts:createAuthUri",Dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nQ(t,e){const n=oS()?Gh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await tQ(te(t),r);return i||[]}async function rQ(t,e){const n=te(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&gy(n.auth,i,e);const{email:s}=await x7(n.auth,i);s!==t.email&&await t.reload()}async function iQ(t,e,n){const r=te(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&gy(r.auth,s,n);const{email:o}=await k7(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sQ(t,e){return Mt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oQ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=te(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await As(r,sQ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function aQ(t,e){return P$(te(t),e,null)}function lQ(t,e){return P$(te(t),null,e)}async function P$(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await As(t,b7(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=dy(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Pu(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new cQ(s,i);case"github.com":return new dQ(s,i);case"google.com":return new hQ(s,i);case"twitter.com":return new fQ(s,i,t.screenName||null);case"custom":case"anonymous":return new Pu(s,null);default:return new Pu(s,r,i)}}class Pu{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class k$ extends Pu{constructor(e,n,r,i){super(e,n,r),this.username=i}}class cQ extends Pu{constructor(e,n){super(e,"facebook.com",n)}}class dQ extends k${constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class hQ extends Pu{constructor(e,n){super(e,"google.com",n)}}class fQ extends k${constructor(e,n,r){super(e,"twitter.com",n,r)}}function pQ(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:uQ(n)}function mQ(t,e,n,r){return te(t).onIdTokenChanged(e,n,r)}function gQ(t,e,n){return te(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Aa("enroll",e,n)}static _fromMfaPendingCredential(e){return new Aa("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Aa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Aa._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Pt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>qf._fromServerResponse(r,a));V(i.mfaPendingCredential,r,"internal-error");const o=Aa._fromMfaPendingCredential(i.mfaPendingCredential);return new pS(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await ti._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return V(n.user,r,"internal-error"),ti._forOperation(n.user,n.operationType,u);default:an(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function _Q(t,e){var n;const r=te(t),i=e;return V(e.customData.operationType,r,"argument-error"),V((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),pS._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(t,e){return Mt(t,"POST","/v2/accounts/mfaEnrollment:start",Dt(t,e))}function vQ(t,e){return Mt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Dt(t,e))}function wQ(t,e){return Mt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Dt(t,e))}class mS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>qf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new mS(e)}async getSession(){return Aa._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await As(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await As(this.user,wQ(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const ew=new WeakMap;function EQ(t){const e=te(t);return ew.has(e)||ew.set(e,mS._fromUser(e)),ew.get(e)}const Wg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wg,"1"),this.storage.removeItem(Wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IQ(){const t=Tt();return lS(t)||Rc(t)}const TQ=1e3,bQ=10;class O$ extends N${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=IQ()&&u7(),this.fallbackToPolling=p$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);l7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}O$.type="LOCAL";const _y=O$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D$ extends N${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}D$.type="SESSION";const Oo=D$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await SQ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Hf("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return window}function RQ(t){jt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof jt().WorkerGlobalScope<"u"&&typeof jt().importScripts=="function"}async function xQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function PQ(){return gS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="firebaseLocalStorageDb",kQ=1,qg="firebaseLocalStorage",L$="fbase_key";class Gf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vy(t,e){return t.transaction([qg],e?"readwrite":"readonly").objectStore(qg)}function NQ(){const t=indexedDB.deleteDatabase(M$);return new Gf(t).toPromise()}function JE(){const t=indexedDB.open(M$,kQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qg,{keyPath:L$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qg)?e(r):(r.close(),await NQ(),e(await JE()))})})}async function $A(t,e,n){const r=vy(t,!0).put({[L$]:e,value:n});return new Gf(r).toPromise()}async function OQ(t,e){const n=vy(t,!1).get(e),r=await new Gf(n).toPromise();return r===void 0?null:r.value}function FA(t,e){const n=vy(t,!0).delete(e);return new Gf(n).toPromise()}const DQ=800,MQ=3;class $${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await JE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>MQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yy._getInstance(PQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xQ(),!this.activeServiceWorker)return;this.sender=new CQ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await JE();return await $A(e,Wg,"1"),await FA(e,Wg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$A(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=vy(i,!1).getAll();return new Gf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$$.type="LOCAL";const Zu=$$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(t,e){return Mt(t,"POST","/v2/accounts/mfaSignIn:start",Dt(t,e))}function $Q(t,e){return Mt(t,"POST","/v2/accounts/mfaSignIn:finalize",Dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=500,VQ=6e4,Jp=1e12;class UQ{constructor(e){this.auth=e,this.counter=Jp,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new jQ(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Jp;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Jp;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Jp;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class jQ{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;V(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=BQ(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},VQ)},FQ))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function BQ(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=g$("rcb"),zQ=new zf(3e4,6e4),WQ="https://www.google.com/recaptcha/api.js?";class qQ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=jt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return V(HQ(n),e,"argument-error"),this.shouldResolveImmediately(n)&&AA(jt().grecaptcha)?Promise.resolve(jt().grecaptcha):new Promise((r,i)=>{const s=jt().setTimeout(()=>{i(In(e,"network-request-failed"))},zQ.get());jt()[tw]=()=>{jt().clearTimeout(s),delete jt()[tw];const a=jt().grecaptcha;if(!a||!AA(a)){i(In(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${WQ}?${El({onload:tw,render:"explicit",hl:n})}`;uS(o).catch(()=>{clearTimeout(s),i(In(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=jt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function HQ(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class GQ{async load(e){return new UQ(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$="recaptcha",KQ={theme:"light",type:"image"};let QQ=class{constructor(e,n,r=Object.assign({},KQ)){this.parameters=r,this.type=F$,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(e),this.isInvisible=this.parameters.size==="invisible",V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;V(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new GQ:new qQ,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=jt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){V(oS()&&!gS(),this.auth,"internal-error"),await YQ(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await HK(this.auth);V(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function YQ(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=za._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function XQ(t,e,n){const r=Pt(t),i=await wy(r,e,te(n));return new _S(i,s=>my(r,s))}async function JQ(t,e,n){const r=te(t);await py(!1,r,"phone");const i=await wy(r.auth,e,te(n));return new _S(i,s=>S$(r,s))}async function ZQ(t,e,n){const r=te(t),i=await wy(r.auth,e,te(n));return new _S(i,s=>C$(r,s))}async function wy(t,e,n){var r;const i=await n.verify();try{V(typeof i=="string",t,"argument-error"),V(n.type===F$,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return V(o.type==="enroll",t,"internal-error"),(await yQ(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{V(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return V(a,t,"missing-multi-factor-info"),(await LQ(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await M7(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function eY(t,e){await cS(te(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl=class Am{constructor(e){this.providerId=Am.PROVIDER_ID,this.auth=Pt(e)}verifyPhoneNumber(e,n){return wy(this.auth,e,te(n))}static credential(e,n){return za._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Am.credentialFromTaggedObject(n)}static credentialFromError(e){return Am.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?za._fromTokenResponse(n,r):null}};rl.PROVIDER_ID="phone";rl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t,e){return e?Rr(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends xc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tY(t){return b$(t.auth,new yS(t),t.bypassAuthState)}function nY(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),T$(n,new yS(t),t.bypassAuthState)}async function rY(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),cS(n,new yS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tY;case"linkViaPopup":case"linkViaRedirect":return rY;case"reauthViaPopup":case"reauthViaRedirect":return nY;default:an(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY=new zf(2e3,1e4);async function sY(t,e,n){const r=Pt(t);Cc(t,e,Ls);const i=Tl(r,n);return new fs(r,"signInViaPopup",e,i).executeNotNull()}async function oY(t,e,n){const r=te(t);Cc(r.auth,e,Ls);const i=Tl(r.auth,n);return new fs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function aY(t,e,n){const r=te(t);Cc(r.auth,e,Ls);const i=Tl(r.auth,n);return new fs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class fs extends V${constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Hf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iY.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lY="pendingRedirect",Xd=new Map;class uY extends V${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xd.get(this.auth._key());if(!e){try{const r=await cY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cY(t,e){const n=j$(e),r=U$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function vS(t,e){return U$(t)._set(j$(e),"true")}function dY(){Xd.clear()}function wS(t,e){Xd.set(t._key(),e)}function U$(t){return Rr(t._redirectPersistence)}function j$(t){return Ba(lY,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(t,e,n){return fY(t,e,n)}async function fY(t,e,n){const r=Pt(t);Cc(t,e,Ls),await r._initializationPromise;const i=Tl(r,n);return await vS(i,r),i._openRedirect(r,e,"signInViaRedirect")}function pY(t,e,n){return mY(t,e,n)}async function mY(t,e,n){const r=te(t);Cc(r.auth,e,Ls),await r.auth._initializationPromise;const i=Tl(r.auth,n);await vS(i,r.auth);const s=await B$(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function gY(t,e,n){return _Y(t,e,n)}async function _Y(t,e,n){const r=te(t);Cc(r.auth,e,Ls),await r.auth._initializationPromise;const i=Tl(r.auth,n);await py(!1,r,e.providerId),await vS(i,r.auth);const s=await B$(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function yY(t,e){return await Pt(t)._initializationPromise,Ey(t,e,!1)}async function Ey(t,e,n=!1){const r=Pt(t),i=Tl(r,e),o=await new uY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function B$(t){const e=Hf(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY=10*60*1e3;class z${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!W$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vY&&this.cachedEventUids.clear(),this.cachedEventUids.has(VA(e))}saveEventToCache(e){this.cachedEventUids.add(VA(e)),this.lastProcessedEventTime=Date.now()}}function VA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e={}){return Mt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IY=/^https?/;async function TY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q$(t);for(const n of e)try{if(bY(n))return}catch{}an(t,"unauthorized-domain")}function bY(t){const e=Gh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IY.test(n))return!1;if(EY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=new zf(3e4,6e4);function UA(){const t=jt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CY(t){return new Promise((e,n)=>{var r,i,s;function o(){UA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UA(),n(In(t,"network-request-failed"))},timeout:SY.get()})}if(!((i=(r=jt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=jt().gapi)===null||s===void 0)&&s.load)o();else{const a=g$("iframefcb");return jt()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},uS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Pm=null,e})}let Pm=null;function RY(t){return Pm=Pm||CY(t),Pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=new zf(5e3,15e3),AY="__/auth/iframe",PY="emulator/auth/iframe",kY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OY(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?aS(e,PY):`https://${t.config.authDomain}/${AY}`,r={apiKey:e.apiKey,appName:t.name,v:ns},i=NY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${El(r).slice(1)}`}async function DY(t){const e=await RY(t),n=jt().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:OY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kY,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),a=jt().setTimeout(()=>{s(o)},xY.get());function l(){jt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LY=500,$Y=600,FY="_blank",VY="http://localhost";class jA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UY(t,e,n,r=LY,i=$Y){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},MY),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Tt().toLowerCase();n&&(a=c$(u)?FY:n),u$(u)&&(e=e||VY,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(a7(u)&&a!=="_self")return jY(e||"",a),new jA(null);const d=window.open(e||"",a,c);V(d,t,"popup-blocked");try{d.focus()}catch{}return new jA(d)}function jY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY="__/auth/handler",zY="emulator/auth/handler",WY=encodeURIComponent("fac");async function ZE(t,e,n,r,i,s){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ns,eventId:i};if(e instanceof Ls){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Ac){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${WY}=${encodeURIComponent(l)}`:"";return`${qY(t)}?${El(a).slice(1)}${u}`}function qY({config:t}){return t.emulator?aS(t,zY):`https://${t.authDomain}/${BY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="webStorageSupport";class HY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oo,this._completeRedirectFn=Ey,this._overrideRedirectResult=wS}async _openPopup(e,n,r,i){var s;Ti((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ZE(e,n,r,Gh(),i);return UY(e,o,Hf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ZE(e,n,r,Gh(),i);return RQ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DY(e),r=new z$(e);return n.register("authEvent",i=>(V(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nw,{type:nw},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nw];o!==void 0&&n(!!o),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return p$()||lS()||Rc()}}const H$=HY;class GY{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ji("unexpected MultiFactorSessionType")}}}class ES extends GY{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ES(e)}_finalizeEnroll(e,n,r){return vQ(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return $Q(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class G${constructor(){}static assertion(e){return ES._fromCredential(e)}}G$.FACTOR_ID="phone";var BA="@firebase/auth",zA="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function YY(t){Yi(new ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m$(t)},u=new p7(r,i,s,l);return E7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yi(new ei("auth-internal",e=>{const n=Pt(e.getProvider("auth").getImmediate());return(r=>new KY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(BA,zA,QY(t)),Wn(BA,zA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=5*60,JY=JM("authIdTokenMaxAge")||XY;let WA=null;const ZY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JY)return;const i=n==null?void 0:n.token;WA!==i&&(WA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eX(t=ey()){const e=Ic(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w7(t,{popupRedirectResolver:H$,persistence:[Zu,_y,Oo]}),r=JM("authTokenSyncURL");if(r){const s=ZY(r);gQ(n,s,()=>s(n.currentUser)),mQ(n,o=>s(o))}const i=QM("auth");return i&&_$(n,`http://${i}`),n}YY("Browser");const tX={error:"",user:null,isAuthenticated:!1},nX=mb("auth/signUp",async(t,e)=>{const{dispatch:n}=e;try{const r=await x$(IB,t.email,t.password);n(iX(r.user))}catch(r){const i=r.code;n(Q$(i))}}),rX=mb("auth/signIn",async(t,e)=>{const{dispatch:n}=e;try{await A$(IB,t.email,t.password),n(sX())}catch(r){const i=r.code;n(Q$(i))}}),K$=K_({initialState:tX,name:"auth",reducers:{createUser(t,e){const n=e.payload.user;t.user={email:n.email,password:n.password},t.error=""},logIn(t){t.isAuthenticated=!0,t.error=""},logOut(t){t.user=null,t.isAuthenticated=!1,t.error=""},setError(t,e){t.error=e.payload}}}),{createUser:iX,logIn:sX,logOut:_ve,setError:Q$}=K$.actions,oX=K$.reducer,aX=n9({reducer:{auth:oX,cart:R9,product:hG,upload:DK}}),Kf=()=>S_();var lX="firebase",uX="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(lX,uX,"app");var Y$,qA=j_;Y$=qA.createRoot,qA.hydrateRoot;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e,n){this._delegate=e,this.firebase=n,xg(e,new ei("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),lL(this._delegate)))}_getService(e,n=xo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=xo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){xg(this._delegate,e)}_addOrOverwriteComponent(e){aL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dX={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},HA=new wl("app-compat","Firebase",dX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Wn,setLogLevel:cL,onLog:uL,apps:null,SDK_VERSION:ns,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:nq}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||xo,!Ii(e,u))throw HA.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=Z_(u,c);if(Ii(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(Yi(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw HA.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&Oh(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(){const t=hX(cX);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:X$,extendNamespace:e,createSubscribe:rL,ErrorFactory:wl,deepExtend:Oh});function e(n){Oh(t,n)}return t}const fX=X$();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Lf("@firebase/app-compat"),pX="@firebase/app-compat",mX="0.2.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(t){Wn(pX,mX,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(L9()&&self.firebase!==void 0){GA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&GA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Iy=fX;gX();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _X=2e3;async function yX(t,e,n){var r;const{BuildInfo:i}=il();Ti(e.sessionId,"AuthEvent did not contain a session ID");const s=await TX(e.sessionId),o={};return Rc()?o.ibi=i.packageName:Wf()?o.apn=i.packageName:an(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ZE(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function vX(t){const{BuildInfo:e}=il(),n={};Rc()?n.iosBundleId=e.packageName:Wf()?n.androidPackageName=e.packageName:an(t,"operation-not-supported-in-this-environment"),await q$(t,n)}function wX(t){const{cordova:e}=il();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,o7()?"_blank":"_system","location=yes"),n(i)})})}async function EX(t,e,n){const{cordova:r}=il();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(In(t,"redirect-cancelled-by-user"))},_X))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Wf()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function IX(t){var e,n,r,i,s,o,a,l,u,c;const d=il();V(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function TX(t){const e=bX(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function bX(t){if(Ti(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX=20;class CX extends z${constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function RX(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:PX(),postBody:null,tenantId:t.tenantId,error:In(t,"no-auth-event")}}function xX(t,e){return eI()._set(tI(t),e)}async function KA(t){const e=await eI()._get(tI(t));return e&&await eI()._remove(tI(t)),e}function AX(t,e){var n,r;const i=NX(e);if(i.includes("/__/auth/callback")){const s=km(i),o=s.firebaseError?kX(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?In(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function PX(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<SX;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function eI(){return Rr(_y)}function tI(t){return Ba("authEvent",t.config.apiKey,t.name)}function kX(t){try{return JSON.parse(t)}catch{return null}}function NX(t){const e=km(t),n=e.link?decodeURIComponent(e.link):void 0,r=km(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return km(i).link||i||r||n||t}function km(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return mu(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OX=500;class DX{constructor(){this._redirectPersistence=Oo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ey,this._overrideRedirectResult=wS}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new CX(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){an(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){IX(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),dY(),await this._originValidation(e);const o=RX(e,r,i);await xX(e,o);const a=await yX(e,o,n),l=await wX(a);return EX(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vX(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=il(),o=setTimeout(async()=>{await KA(e),n.onEvent(QA())},OX),a=async c=>{clearTimeout(o);const d=await KA(e);let h=null;d&&(c!=null&&c.url)&&(h=AX(d,c.url)),n.onEvent(h||QA())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;il().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const MX=DX;function QA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:In("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LX(t,e){Pt(t)._logFramework(e)}var $X="@firebase/auth-compat",FX="0.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=1e3;function Jd(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function UX(){return Jd()==="http:"||Jd()==="https:"}function J$(t=Tt()){return!!((Jd()==="file:"||Jd()==="ionic:"||Jd()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function jX(){return X_()||vb()}function BX(){return eL()&&(document==null?void 0:document.documentMode)===11}function zX(t=Tt()){return/Edge\/\d+/.test(t)}function WX(t=Tt()){return BX()||zX(t)}function Z$(){try{const t=self.localStorage,e=Hf();if(t)return t.setItem(e,"1"),t.removeItem(e),WX()?Dh():!0}catch{return IS()&&Dh()}return!1}function IS(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rw(){return(UX()||ZM()||J$())&&!jX()&&Z$()&&!IS()}function eF(){return J$()&&typeof document<"u"}async function qX(){return eF()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},VX);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function HX(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={LOCAL:"local",NONE:"none",SESSION:"session"},id=V,tF="persistence";function GX(t,e){if(id(Object.values(Ir).includes(e),t,"invalid-persistence-type"),X_()){id(e!==Ir.SESSION,t,"unsupported-persistence-type");return}if(vb()){id(e===Ir.NONE,t,"unsupported-persistence-type");return}if(IS()){id(e===Ir.NONE||e===Ir.LOCAL&&Dh(),t,"unsupported-persistence-type");return}id(e===Ir.NONE||Z$(),t,"unsupported-persistence-type")}async function nI(t){await t._initializationPromise;const e=nF(),n=Ba(tF,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function KX(t,e){const n=nF();if(!n)return[];const r=Ba(tF,t,e);switch(n.getItem(r)){case Ir.NONE:return[Xu];case Ir.LOCAL:return[Zu,Oo];case Ir.SESSION:return[Oo];default:return[]}}function nF(){var t;try{return((t=HX())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=V;class so{constructor(){this.browserResolver=Rr(H$),this.cordovaResolver=Rr(MX),this.underlyingResolver=null,this._redirectPersistence=Oo,this._completeRedirectFn=Ey,this._overrideRedirectResult=wS}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return eF()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return QX(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await qX();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){return t.unwrap()}function YX(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t){return iF(t)}function JX(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new ZX(t,_Q(t,e))}else if(r){const i=iF(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function iF(t){const{_tokenResponse:e}=t instanceof kn?t.customData:t;if(!e)return null;if(!(t instanceof kn)&&"temporaryProof"in e&&"phoneNumber"in e)return rl.credentialFromResult(t);const n=e.providerId;if(!n||n===rd.PASSWORD)return null;let r;switch(n){case rd.GOOGLE:r=Mi;break;case rd.FACEBOOK:r=Di;break;case rd.GITHUB:r=Li;break;case rd.TWITTER:r=$i;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Ju._create(n,a):Ji._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Au(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof kn?r.credentialFromError(t):r.credentialFromResult(t)}function Zn(t,e){return e.catch(n=>{throw n instanceof kn&&JX(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:XX(n),additionalUserInfo:pQ(n),user:Ty.getOrCreate(i)}})}async function rI(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Zn(t,n.confirm(r))}}class ZX{constructor(e,n){this.resolver=n,this.auth=YX(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Zn(rF(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty=class Ad{constructor(e){this._delegate=e,this.multiFactor=EQ(e)}static getOrCreate(e){return Ad.USER_MAP.has(e)||Ad.USER_MAP.set(e,new Ad(e)),Ad.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Zn(this.auth,S$(this._delegate,e))}async linkWithPhoneNumber(e,n){return rI(this.auth,JQ(this._delegate,e,n))}async linkWithPopup(e){return Zn(this.auth,aY(this._delegate,e,so))}async linkWithRedirect(e){return await nI(Pt(this.auth)),gY(this._delegate,e,so)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Zn(this.auth,C$(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return rI(this.auth,ZQ(this._delegate,e,n))}reauthenticateWithPopup(e){return Zn(this.auth,oY(this._delegate,e,so))}async reauthenticateWithRedirect(e){return await nI(Pt(this.auth)),pY(this._delegate,e,so)}sendEmailVerification(e){return rQ(this._delegate,e)}async unlink(e){return await q7(this._delegate,e),this}updateEmail(e){return aQ(this._delegate,e)}updatePassword(e){return lQ(this._delegate,e)}updatePhoneNumber(e){return eY(this._delegate,e)}updateProfile(e){return oQ(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return iQ(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Ty.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=V;class iI{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;sd(r,"invalid-api-key",{appName:e.name}),sd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?so:void 0;this._delegate=n.initialize({options:{persistence:eJ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(LK),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ty.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){_$(this._delegate,e,n)}applyActionCode(e){return Y7(this._delegate,e)}checkActionCode(e){return R$(this._delegate,e)}confirmPasswordReset(e,n){return Q7(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Zn(this._delegate,x$(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return nQ(this._delegate,e)}isSignInWithEmailLink(e){return Z7(this._delegate,e)}async getRedirectResult(){sd(rw(),this._delegate,"operation-not-supported-in-this-environment");const e=await yY(this._delegate,so);return e?Zn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){LX(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=YA(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=YA(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return J7(this._delegate,e,n)}sendPasswordResetEmail(e,n){return K7(this._delegate,e,n||void 0)}async setPersistence(e){GX(this._delegate,e);let n;switch(e){case Ir.SESSION:n=Oo;break;case Ir.LOCAL:n=await Rr(Zu)._isAvailable()?Zu:_y;break;case Ir.NONE:n=Xu;break;default:return an("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Zn(this._delegate,W7(this._delegate))}signInWithCredential(e){return Zn(this._delegate,my(this._delegate,e))}signInWithCustomToken(e){return Zn(this._delegate,G7(this._delegate,e))}signInWithEmailAndPassword(e,n){return Zn(this._delegate,A$(this._delegate,e,n))}signInWithEmailLink(e,n){return Zn(this._delegate,eQ(this._delegate,e,n))}signInWithPhoneNumber(e,n){return rI(this._delegate,XQ(this._delegate,e,n))}async signInWithPopup(e){return sd(rw(),this._delegate,"operation-not-supported-in-this-environment"),Zn(this._delegate,sY(this._delegate,e,so))}async signInWithRedirect(e){return sd(rw(),this._delegate,"operation-not-supported-in-this-environment"),await nI(this._delegate),hY(this._delegate,e,so)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return X7(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}iI.Persistence=Ir;function YA(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Ty.getOrCreate(o)),error:e,complete:n}}function eJ(t,e){const n=KX(t,e);if(typeof self<"u"&&!n.includes(Zu)&&n.push(Zu),typeof window<"u")for(const r of[_y,Oo])n.includes(r)||n.push(r);return n.includes(Xu)||n.push(Xu),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.providerId="phone",this._delegate=new rl(rF(Iy.auth()))}static credential(e,n){return rl.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}TS.PHONE_SIGN_IN_METHOD=rl.PHONE_SIGN_IN_METHOD;TS.PROVIDER_ID=rl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ=V;class nJ{constructor(e,n,r=Iy.app()){var i;tJ((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new QQ(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ="auth-compat";function iJ(t){t.INTERNAL.registerComponent(new ei(rJ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new iI(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fl.EMAIL_SIGNIN,PASSWORD_RESET:Fl.PASSWORD_RESET,RECOVER_EMAIL:Fl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Fl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Fl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Fl.VERIFY_EMAIL}},EmailAuthProvider:Yo,FacebookAuthProvider:Di,GithubAuthProvider:Li,GoogleAuthProvider:Mi,OAuthProvider:Au,SAMLAuthProvider:Bg,PhoneAuthProvider:TS,PhoneMultiFactorGenerator:G$,RecaptchaVerifier:nJ,TwitterAuthProvider:$i,Auth:iI,AuthCredential:xc,Error:kn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion($X,FX)}iJ(Iy);var sJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,bS=bS||{},ge=sJ||self;function by(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Qf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function oJ(t){return Object.prototype.hasOwnProperty.call(t,iw)&&t[iw]||(t[iw]=++aJ)}var iw="closure_uid_"+(1e9*Math.random()>>>0),aJ=0;function lJ(t,e,n){return t.call.apply(t.bind,arguments)}function uJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Nn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nn=lJ:Nn=uJ,Nn.apply(null,arguments)}function Zp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function un(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Xo(){this.s=this.s,this.o=this.o}var cJ=0;Xo.prototype.s=!1;Xo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cJ!=0)&&oJ(this)};Xo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function SS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function XA(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(by(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function On(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}On.prototype.h=function(){this.defaultPrevented=!0};var dJ=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ge.addEventListener("test",n,e),ge.removeEventListener("test",n,e)}catch{}return t}();function Jh(t){return/^[\s\xa0]*$/.test(t)}function Sy(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function Fi(t){return Sy().indexOf(t)!=-1}function CS(t){return CS[" "](t),t}CS[" "]=function(){};function hJ(t,e){var n=iZ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var fJ=Fi("Opera"),ec=Fi("Trident")||Fi("MSIE"),oF=Fi("Edge"),sI=oF||ec,aF=Fi("Gecko")&&!(Sy().toLowerCase().indexOf("webkit")!=-1&&!Fi("Edge"))&&!(Fi("Trident")||Fi("MSIE"))&&!Fi("Edge"),pJ=Sy().toLowerCase().indexOf("webkit")!=-1&&!Fi("Edge");function lF(){var t=ge.document;return t?t.documentMode:void 0}var oI;e:{var sw="",ow=function(){var t=Sy();if(aF)return/rv:([^\);]+)(\)|;)/.exec(t);if(oF)return/Edge\/([\d\.]+)/.exec(t);if(ec)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(pJ)return/WebKit\/(\S+)/.exec(t);if(fJ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ow&&(sw=ow?ow[1]:""),ec){var aw=lF();if(aw!=null&&aw>parseFloat(sw)){oI=String(aw);break e}}oI=sw}var aI;if(ge.document&&ec){var JA=lF();aI=JA||parseInt(oI,10)||void 0}else aI=void 0;var mJ=aI;function Zh(t,e){if(On.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aF){e:{try{CS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zh.$.h.call(this)}}un(Zh,On);var gJ={2:"touch",3:"pen",4:"mouse"};Zh.prototype.h=function(){Zh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yf="closure_listenable_"+(1e6*Math.random()|0),_J=0;function yJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++_J,this.fa=this.ia=!1}function Cy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function RS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function vJ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function uF(t){const e={};for(const n in t)e[n]=t[n];return e}const ZA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cF(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ZA.length;s++)n=ZA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ry(t){this.src=t,this.g={},this.h=0}Ry.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=uI(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new yJ(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function lI(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=sF(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Cy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function uI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var xS="closure_lm_"+(1e6*Math.random()|0),lw={};function dF(t,e,n,r,i){if(r&&r.once)return fF(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dF(t,e[s],n,r,i);return null}return n=kS(n),t&&t[Yf]?t.O(e,n,Qf(r)?!!r.capture:!!r,i):hF(t,e,n,!1,r,i)}function hF(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Qf(i)?!!i.capture:!!i,a=PS(t);if(a||(t[xS]=a=new Ry(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=wJ(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dJ||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mF(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function wJ(){function t(n){return e.call(t.src,t.listener,n)}const e=EJ;return t}function fF(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fF(t,e[s],n,r,i);return null}return n=kS(n),t&&t[Yf]?t.P(e,n,Qf(r)?!!r.capture:!!r,i):hF(t,e,n,!0,r,i)}function pF(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pF(t,e[s],n,r,i);else r=Qf(r)?!!r.capture:!!r,n=kS(n),t&&t[Yf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=uI(s,n,r,i),-1<n&&(Cy(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=PS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=uI(e,n,r,i)),(n=-1<t?e[t]:null)&&AS(n))}function AS(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Yf])lI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mF(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=PS(e))?(lI(n,t),n.h==0&&(n.src=null,e[xS]=null)):Cy(t)}}}function mF(t){return t in lw?lw[t]:lw[t]="on"+t}function EJ(t,e){if(t.fa)t=!0;else{e=new Zh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&AS(t),t=n.call(r,e)}return t}function PS(t){return t=t[xS],t instanceof Ry?t:null}var uw="__closure_events_fn_"+(1e9*Math.random()>>>0);function kS(t){return typeof t=="function"?t:(t[uw]||(t[uw]=function(e){return t.handleEvent(e)}),t[uw])}function ln(){Xo.call(this),this.i=new Ry(this),this.S=this,this.J=null}un(ln,Xo);ln.prototype[Yf]=!0;ln.prototype.removeEventListener=function(t,e,n,r){pF(this,t,e,n,r)};function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new On(e,t);else if(e instanceof On)e.target=e.target||t;else{var i=e;e=new On(r,t),cF(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=em(o,r,!0,e)&&i}if(o=e.g=t,i=em(o,r,!0,e)&&i,i=em(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=em(o,r,!1,e)&&i}ln.prototype.N=function(){if(ln.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cy(n[r]);delete t.g[e],t.h--}}this.J=null};ln.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ln.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function em(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&lI(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var NS=ge.JSON.stringify;class IJ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function TJ(){var t=OS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class bJ{constructor(){this.h=this.g=null}add(e,n){const r=gF.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var gF=new IJ(()=>new SJ,t=>t.reset());class SJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function CJ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function RJ(t){ge.setTimeout(()=>{throw t},0)}let ef,tf=!1,OS=new bJ,_F=()=>{const t=ge.Promise.resolve(void 0);ef=()=>{t.then(xJ)}};var xJ=()=>{for(var t;t=TJ();){try{t.h.call(t.g)}catch(n){RJ(n)}var e=gF;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tf=!1};function xy(t,e){ln.call(this),this.h=t||1,this.g=e||ge,this.j=Nn(this.qb,this),this.l=Date.now()}un(xy,ln);Q=xy.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(DS(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function DS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){xy.$.N.call(this),DS(this),delete this.g};function MS(t,e,n){if(typeof t=="function")n&&(t=Nn(t,n));else if(t&&typeof t.handleEvent=="function")t=Nn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function yF(t){t.g=MS(()=>{t.g=null,t.i&&(t.i=!1,yF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class AJ extends Xo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yF(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nf(t){Xo.call(this),this.h=t,this.g={}}un(nf,Xo);var eP=[];function vF(t,e,n,r){Array.isArray(n)||(n&&(eP[0]=n.toString()),n=eP);for(var i=0;i<n.length;i++){var s=dF(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function wF(t){RS(t.g,function(e,n){this.g.hasOwnProperty(n)&&AS(e)},t),t.g={}}nf.prototype.N=function(){nf.$.N.call(this),wF(this)};nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ay(){this.g=!0}Ay.prototype.Ea=function(){this.g=!1};function PJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function kJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function _u(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+OJ(t,n)+(r?" "+r:"")})}function NJ(t,e){t.info(function(){return"TIMEOUT: "+e})}Ay.prototype.info=function(){};function OJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return NS(n)}catch{return e}}var bl={},tP=null;function Py(){return tP=tP||new ln}bl.Ta="serverreachability";function EF(t){On.call(this,bl.Ta,t)}un(EF,On);function rf(t){const e=Py();Tn(e,new EF(e))}bl.STAT_EVENT="statevent";function IF(t,e){On.call(this,bl.STAT_EVENT,t),this.stat=e}un(IF,On);function Bn(t){const e=Py();Tn(e,new IF(e,t))}bl.Ua="timingevent";function TF(t,e){On.call(this,bl.Ua,t),this.size=e}un(TF,On);function Xf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var ky={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function LS(){}LS.prototype.h=null;function nP(t){return t.h||(t.h=t.i())}function SF(){}var Jf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $S(){On.call(this,"d")}un($S,On);function FS(){On.call(this,"c")}un(FS,On);var cI;function Ny(){}un(Ny,LS);Ny.prototype.g=function(){return new XMLHttpRequest};Ny.prototype.i=function(){return{}};cI=new Ny;function Zf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new nf(this),this.P=DJ,t=sI?125:void 0,this.V=new xy(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CF}function CF(){this.i=null,this.g="",this.h=!1}var DJ=45e3,RF={},dI={};Q=Zf.prototype;Q.setTimeout=function(t){this.P=t};function hI(t,e,n){t.L=1,t.A=Dy(Ps(e)),t.u=n,t.S=!0,xF(t,null)}function xF(t,e){t.G=Date.now(),ep(t),t.B=Ps(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),LF(n.i,"t",r),t.o=0,n=t.l.J,t.h=new CF,t.g=rV(t.l,n?e:null,!t.u),0<t.O&&(t.M=new AJ(Nn(t.Pa,t,t.g),t.O)),vF(t.U,t.g,"readystatechange",t.nb),e=t.I?uF(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),rf(),PJ(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;const e=this.M;e&&Bi(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=Bi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||sI||this.g&&(this.h.h||this.g.ja()||oP(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?rf(3):rf(2)),Oy(this);var n=this.g.da();this.ca=n;t:if(AF(this)){var r=oP(this.g);t="";var i=r.length,s=Bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pa(this),Zd(this);var o="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,kJ(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jh(a)){var u=a;break t}}u=null}if(n=u)_u(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fI(this,n);else{this.i=!1,this.s=3,Bn(12),Pa(this),Zd(this);break e}}this.S?(PF(this,c,o),sI&&this.i&&c==3&&(vF(this.U,this.V,"tick",this.mb),this.V.start())):(_u(this.j,this.m,o,null),fI(this,o)),c==4&&Pa(this),this.i&&!this.J&&(c==4?ZF(this.l,this):(this.i=!1,ep(this)))}else tZ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Bn(12)):(this.s=0,Bn(13)),Pa(this),Zd(this)}}}catch{}finally{}};function AF(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function PF(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=MJ(t,n),i==dI){e==4&&(t.s=4,Bn(14),r=!1),_u(t.j,t.m,null,"[Incomplete Response]");break}else if(i==RF){t.s=4,Bn(15),_u(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else _u(t.j,t.m,i,null),fI(t,i);AF(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),WS(e),e.M=!0,Bn(11))):(_u(t.j,t.m,n,"[Invalid Chunked Response]"),Pa(t),Zd(t))}Q.mb=function(){if(this.g){var t=Bi(this.g),e=this.g.ja();this.o<e.length&&(Oy(this),PF(this,t,e),this.i&&t!=4&&ep(this))}};function MJ(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?dI:(n=Number(e.substring(n,r)),isNaN(n)?RF:(r+=1,r+n>e.length?dI:(e=e.slice(r,r+n),t.o=r+n,e)))}Q.cancel=function(){this.J=!0,Pa(this)};function ep(t){t.Y=Date.now()+t.P,kF(t,t.P)}function kF(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Xf(Nn(t.lb,t),e)}function Oy(t){t.C&&(ge.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(NJ(this.j,this.B),this.L!=2&&(rf(),Bn(17)),Pa(this),this.s=2,Zd(this)):kF(this,this.Y-t)};function Zd(t){t.l.H==0||t.J||ZF(t.l,t)}function Pa(t){Oy(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,DS(t.V),wF(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function fI(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||pI(n.i,t))){if(!t.K&&pI(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Kg(n),Fy(n);else break e;zS(n),Bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Xf(Nn(n.ib,n),6e3));if(1>=VF(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ka(n,11)}else if((t.K||n.g==t)&&Kg(n),!Jh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(VS(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ut(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=nV(r,r.J?r.pa:null,r.Y),o.K){UF(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Oy(a),ep(a)),r.g=o}else XF(r);0<n.j.length&&Vy(n)}else u[0]!="stop"&&u[0]!="close"||ka(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ka(n,7):BS(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}rf(4)}catch{}}function LJ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(by(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function $J(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(by(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function NF(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(by(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=$J(t),r=LJ(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var OF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wa){this.h=t.h,Hg(this,t.j),this.s=t.s,this.g=t.g,Gg(this,t.m),this.l=t.l;var e=t.i,n=new sf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),rP(this,n),this.o=t.o}else t&&(e=String(t).match(OF))?(this.h=!1,Hg(this,e[1]||"",!0),this.s=Pd(e[2]||""),this.g=Pd(e[3]||"",!0),Gg(this,e[4]),this.l=Pd(e[5]||"",!0),rP(this,e[6]||"",!0),this.o=Pd(e[7]||"")):(this.h=!1,this.i=new sf(null,this.h))}Wa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kd(e,iP,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(kd(e,iP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(kd(n,n.charAt(0)=="/"?jJ:UJ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",kd(n,zJ)),t.join("")};function Ps(t){return new Wa(t)}function Hg(t,e,n){t.j=n?Pd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rP(t,e,n){e instanceof sf?(t.i=e,WJ(t.i,t.h)):(n||(e=kd(e,BJ)),t.i=new sf(e,t.h))}function ut(t,e,n){t.i.set(e,n)}function Dy(t){return ut(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Pd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,VJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function VJ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var iP=/[#\/\?@]/g,UJ=/[#\?:]/g,jJ=/[#\?]/g,BJ=/[#\?@]/g,zJ=/#/g;function sf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Jo(t){t.g||(t.g=new Map,t.h=0,t.i&&FJ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=sf.prototype;Q.add=function(t,e){Jo(this),this.i=null,t=Pc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function DF(t,e){Jo(t),e=Pc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function MF(t,e){return Jo(t),e=Pc(t,e),t.g.has(e)}Q.forEach=function(t,e){Jo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){Jo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Q.Z=function(t){Jo(this);let e=[];if(typeof t=="string")MF(this,t)&&(e=e.concat(this.g.get(Pc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return Jo(this),this.i=null,t=Pc(this,t),MF(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function LF(t,e,n){DF(t,e),0<n.length&&(t.i=null,t.g.set(Pc(t,e),SS(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Pc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function WJ(t,e){e&&!t.j&&(Jo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(DF(this,r),LF(this,i,n))},t)),t.j=e}var qJ=class{constructor(t,e){this.g=t,this.map=e}};function $F(t){this.l=t||HJ,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var HJ=10;function FF(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function VF(t){return t.h?1:t.g?t.g.size:0}function pI(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function VS(t,e){t.g?t.g.add(e):t.h=e}function UF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$F.prototype.cancel=function(){if(this.i=jF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function jF(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return SS(t.i)}var GJ=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function KJ(){this.g=new GJ}function QJ(t,e,n){const r=n||"";try{NF(t,function(i,s){let o=i;Qf(i)&&(o=NS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function YJ(t,e){const n=new Ay;if(ge.Image){const r=new Image;r.onload=Zp(tm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zp(tm,n,r,"TestLoadImage: error",!1,e),r.onabort=Zp(tm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zp(tm,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function tm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function My(t){this.l=t.ec||null,this.j=t.ob||!1}un(My,LS);My.prototype.g=function(){return new Ly(this.l,this.j)};My.prototype.i=function(t){return function(){return t}}({});function Ly(t,e){ln.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=US,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}un(Ly,ln);var US=0;Q=Ly.prototype;Q.open=function(t,e){if(this.readyState!=US)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,of(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tp(this)),this.readyState=US};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,of(this)),this.g&&(this.readyState=3,of(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function BF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tp(this):of(this),this.readyState==3&&BF(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,tp(this))};Q.Ya=function(t){this.g&&(this.response=t,tp(this))};Q.ka=function(){this.g&&tp(this)};function tp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,of(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function of(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ly.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var XJ=ge.JSON.parse;function kt(t){ln.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zF,this.L=this.M=!1}un(kt,ln);var zF="",JJ=/^https?$/i,ZJ=["POST","PUT"];Q=kt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cI.g(),this.C=this.u?nP(this.u):nP(cI),this.g.onreadystatechange=Nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){sP(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ge.FormData&&t instanceof ge.FormData,!(0<=sF(ZJ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HF(this),0<this.B&&((this.L=eZ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nn(this.ua,this)):this.A=MS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){sP(this,s)}};function eZ(t){return ec&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof bS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function sP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WF(t),$y(t)}function WF(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),$y(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$y(this,!0)),kt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?qF(this):this.kb())};Q.kb=function(){qF(this)};function qF(t){if(t.h&&typeof bS<"u"&&(!t.C[1]||Bi(t)!=4||t.da()!=2)){if(t.v&&Bi(t)==4)MS(t.La,0,t);else if(Tn(t,"readystatechange"),Bi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(OF)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!JJ.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<Bi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",WF(t)}}finally{$y(t)}}}}function $y(t,e){if(t.g){HF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function HF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Bi(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Bi(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),XJ(e)}};function oP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tZ(t){const e={};t=(t.g&&2<=Bi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Jh(t[r]))continue;var n=CJ(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}vJ(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GF(t){let e="";return RS(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function jS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GF(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ut(t,e,n))}function od(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KF(t){this.Ga=0,this.j=[],this.l=new Ay,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=od("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=od("baseRetryDelayMs",5e3,t),this.hb=od("retryDelaySeedMs",1e4,t),this.eb=od("forwardChannelMaxRetries",2,t),this.xa=od("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $F(t&&t.concurrentRequestLimit),this.Ja=new KJ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=KF.prototype;Q.ra=8;Q.H=1;function BS(t){if(QF(t),t.H==3){var e=t.W++,n=Ps(t.I);if(ut(n,"SID",t.K),ut(n,"RID",e),ut(n,"TYPE","terminate"),np(t,n),e=new Zf(t,t.l,e),e.L=2,e.A=Dy(Ps(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ge.Image&&(new Image().src=e.A,n=!0),n||(e.g=rV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ep(e)}tV(t)}function Fy(t){t.g&&(WS(t),t.g.cancel(),t.g=null)}function QF(t){Fy(t),t.u&&(ge.clearTimeout(t.u),t.u=null),Kg(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ge.clearTimeout(t.m),t.m=null)}function Vy(t){if(!FF(t.i)&&!t.m){t.m=!0;var e=t.Na;ef||_F(),tf||(ef(),tf=!0),OS.add(e,t),t.C=0}}function nZ(t,e){return VF(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Xf(Nn(t.Na,t,e),eV(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Zf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=uF(s),cF(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YF(this,i,e),n=Ps(this.I),ut(n,"RID",t),ut(n,"CVER",22),this.F&&ut(n,"X-HTTP-Session-Id",this.F),np(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GF(s)))+"&"+e:this.o&&jS(n,this.o,s)),VS(this.i,i),this.bb&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",e),ut(n,"SID","null"),i.aa=!0,hI(i,n,null)):hI(i,n,e),this.H=2}}else this.H==3&&(t?aP(this,t):this.j.length==0||FF(this.i)||aP(this))};function aP(t,e){var n;e?n=e.m:n=t.W++;const r=Ps(t.I);ut(r,"SID",t.K),ut(r,"RID",n),ut(r,"AID",t.V),np(t,r),t.o&&t.s&&jS(r,t.o,t.s),n=new Zf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),VS(t.i,n),hI(n,r,e)}function np(t,e){t.na&&RS(t.na,function(n,r){ut(e,r,n)}),t.h&&NF({},function(n,r){ut(e,r,n)})}function YF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Nn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{QJ(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function XF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ef||_F(),tf||(ef(),tf=!0),OS.add(e,t),t.A=0}}function zS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Xf(Nn(t.Ma,t),eV(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,JF(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xf(Nn(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),Fy(this),JF(this))};function WS(t){t.B!=null&&(ge.clearTimeout(t.B),t.B=null)}function JF(t){t.g=new Zf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ps(t.wa);ut(e,"RID","rpc"),ut(e,"SID",t.K),ut(e,"AID",t.V),ut(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ut(e,"TO",t.qa),ut(e,"TYPE","xmlhttp"),np(t,e),t.o&&t.s&&jS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Dy(Ps(e)),n.u=null,n.S=!0,xF(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Fy(this),zS(this),Bn(19))};function Kg(t){t.v!=null&&(ge.clearTimeout(t.v),t.v=null)}function ZF(t,e){var n=null;if(t.g==e){Kg(t),WS(t),t.g=null;var r=2}else if(pI(t.i,e))n=e.F,UF(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Py(),Tn(r,new TF(r,n)),Vy(t)}else XF(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&nZ(t,e)||r==2&&zS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ka(t,5);break;case 4:ka(t,10);break;case 3:ka(t,6);break;default:ka(t,2)}}}function eV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ka(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Nn(t.pb,t);n||(n=new Wa("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||Hg(n,"https"),Dy(n)),YJ(n.toString(),r)}else Bn(2);t.H=0,t.h&&t.h.za(e),tV(t),QF(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))};function tV(t){if(t.H=0,t.ma=[],t.h){const e=jF(t.i);(e.length!=0||t.j.length!=0)&&(XA(t.ma,e),XA(t.ma,t.j),t.i.i.length=0,SS(t.j),t.j.length=0),t.h.ya()}}function nV(t,e,n){var r=n instanceof Wa?Ps(n):new Wa(n);if(r.g!="")e&&(r.g=e+"."+r.g),Gg(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Wa(null);r&&Hg(s,r),e&&(s.g=e),i&&Gg(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ut(r,n,e),ut(r,"VER",t.ra),np(t,r),r}function rV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new kt(new My({ob:n})):new kt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function iV(){}Q=iV.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Qg(){if(ec&&!(10<=Number(mJ)))throw Error("Environmental error: no available transport.")}Qg.prototype.g=function(t,e){return new Lr(t,e)};function Lr(t,e){ln.call(this),this.g=new KF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Jh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new kc(this)}un(Lr,ln);Lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nV(t,null,t.Y),Vy(t)};Lr.prototype.close=function(){BS(this.g)};Lr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=NS(t),t=n);e.j.push(new qJ(e.fb++,t)),e.H==3&&Vy(e)};Lr.prototype.N=function(){this.g.h=null,delete this.j,BS(this.g),delete this.g,Lr.$.N.call(this)};function sV(t){$S.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}un(sV,$S);function oV(){FS.call(this),this.status=1}un(oV,FS);function kc(t){this.g=t}un(kc,iV);kc.prototype.Ba=function(){Tn(this.g,"a")};kc.prototype.Aa=function(t){Tn(this.g,new sV(t))};kc.prototype.za=function(t){Tn(this.g,new oV)};kc.prototype.ya=function(){Tn(this.g,"b")};function rZ(){this.blockSize=-1}function bi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}un(bi,rZ);bi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}bi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)cw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){cw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){cw(this,r),i=0;break}}this.h=i,this.i+=e};bi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ge(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var iZ={};function qS(t){return-128<=t&&128>t?hJ(t,function(e){return new Ge([e|0],0>e?-1:0)}):new Ge([t|0],0>t?-1:0)}function zi(t){if(isNaN(t)||!isFinite(t))return ku;if(0>t)return vn(zi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=mI;return new Ge(e,0)}function aV(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return vn(aV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zi(Math.pow(e,8)),r=ku,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=zi(Math.pow(e,s)),r=r.R(s).add(zi(o))):(r=r.R(n),r=r.add(zi(o)))}return r}var mI=4294967296,ku=qS(0),gI=qS(1),lP=qS(16777216);Q=Ge.prototype;Q.ea=function(){if(Hr(this))return-vn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:mI+r)*e,e*=mI}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ps(this))return"0";if(Hr(this))return"-"+vn(this).toString(t);for(var e=zi(Math.pow(t,6)),n=this,r="";;){var i=Xg(n,e).g;n=Yg(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ps(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ps(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Hr(t){return t.h==-1}Q.X=function(t){return t=Yg(this,t),Hr(t)?-1:ps(t)?0:1};function vn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ge(n,~t.h).add(gI)}Q.abs=function(){return Hr(this)?vn(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ge(n,n[n.length-1]&-2147483648?-1:0)};function Yg(t,e){return t.add(vn(e))}Q.R=function(t){if(ps(this)||ps(t))return ku;if(Hr(this))return Hr(t)?vn(this).R(vn(t)):vn(vn(this).R(t));if(Hr(t))return vn(this.R(vn(t)));if(0>this.X(lP)&&0>t.X(lP))return zi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,nm(n,2*r+2*i),n[2*r+2*i+1]+=s*l,nm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,nm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,nm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ge(n,0)};function nm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ad(t,e){this.g=t,this.h=e}function Xg(t,e){if(ps(e))throw Error("division by zero");if(ps(t))return new ad(ku,ku);if(Hr(t))return e=Xg(vn(t),e),new ad(vn(e.g),vn(e.h));if(Hr(e))return e=Xg(t,vn(e)),new ad(vn(e.g),e.h);if(30<t.g.length){if(Hr(t)||Hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=gI,r=e;0>=r.X(t);)n=uP(n),r=uP(r);var i=Vl(n,1),s=Vl(r,1);for(r=Vl(r,2),n=Vl(n,2);!ps(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Vl(r,1),n=Vl(n,1)}return e=Yg(t,i.R(e)),new ad(i,e)}for(i=ku;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=zi(n),o=s.R(e);Hr(o)||0<o.X(t);)n-=r,s=zi(n),o=s.R(e);ps(s)&&(s=gI),i=i.add(s),t=Yg(t,o)}return new ad(i,t)}Q.gb=function(t){return Xg(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ge(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ge(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ge(n,this.h^t.h)};function uP(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ge(n,t.h)}function Vl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ge(i,t.h)}Qg.prototype.createWebChannel=Qg.prototype.g;Lr.prototype.send=Lr.prototype.u;Lr.prototype.open=Lr.prototype.m;Lr.prototype.close=Lr.prototype.close;ky.NO_ERROR=0;ky.TIMEOUT=8;ky.HTTP_ERROR=6;bF.COMPLETE="complete";SF.EventType=Jf;Jf.OPEN="a";Jf.CLOSE="b";Jf.ERROR="c";Jf.MESSAGE="d";ln.prototype.listen=ln.prototype.O;kt.prototype.listenOnce=kt.prototype.P;kt.prototype.getLastError=kt.prototype.Sa;kt.prototype.getLastErrorCode=kt.prototype.Ia;kt.prototype.getStatus=kt.prototype.da;kt.prototype.getResponseJson=kt.prototype.Wa;kt.prototype.getResponseText=kt.prototype.ja;kt.prototype.send=kt.prototype.ha;kt.prototype.setWithCredentials=kt.prototype.Oa;bi.prototype.digest=bi.prototype.l;bi.prototype.reset=bi.prototype.reset;bi.prototype.update=bi.prototype.j;Ge.prototype.add=Ge.prototype.add;Ge.prototype.multiply=Ge.prototype.R;Ge.prototype.modulo=Ge.prototype.gb;Ge.prototype.compare=Ge.prototype.X;Ge.prototype.toNumber=Ge.prototype.ea;Ge.prototype.toString=Ge.prototype.toString;Ge.prototype.getBits=Ge.prototype.D;Ge.fromNumber=zi;Ge.fromString=aV;var sZ=function(){return new Qg},oZ=function(){return Py()},dw=ky,aZ=bF,lZ=bl,cP={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rm=SF,uZ=kt,cZ=bi,Nu=Ge,dZ={};const dP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Lf("@firebase/firestore");function Xl(){return Do.logLevel}function hZ(t){Do.setLogLevel(t)}function D(t,...e){if(Do.logLevel<=Te.DEBUG){const n=e.map(HS);Do.debug(`Firestore (${Nc}): ${t}`,...n)}}function $t(t,...e){if(Do.logLevel<=Te.ERROR){const n=e.map(HS);Do.error(`Firestore (${Nc}): ${t}`,...n)}}function Si(t,...e){if(Do.logLevel<=Te.WARN){const n=e.map(HS);Do.warn(`Firestore (${Nc}): ${t}`,...n)}}function HS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: `+t;throw $t(e),new Error(e)}function ie(t,e){t||J()}function fZ(t,e){t||J()}function K(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class mZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gZ{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new on;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new on,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new on)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie(typeof r.accessToken=="string"),new lV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string"),new nn(e)}}class _Z{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _Z(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ie(typeof n.token=="string"),this.R=n.token,new vZ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=EZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function tc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function cV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new _t(0,0))}static max(){return new ae(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return af.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof af?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends af{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new O(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const IZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends af{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return IZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new O(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new O(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(Le.fromString(e))}static fromName(e){return new H(Le.fromString(e).popFirst(5))}static empty(){return new H(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function _I(t){return t.fields.find(e=>e.kind===2)}function pa(t){return t.fields.filter(e=>e.kind!==2)}Jg.UNKNOWN_ID=-1;class Nm{constructor(e,n){this.fieldPath=e,this.kind=n}}class lf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new lf(0,$r.min())}}function dV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new $r(i,H.empty(),e)}function hV(t){return new $r(t.readTime,t.key,-1)}class $r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $r(ae.min(),H.empty(),-1)}static max(){return new $r(ae.max(),H.empty(),-1)}}function GS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==fV)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new on,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new eh(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=KS(r.target.error);this.V.reject(new eh(e,i))}}static open(e,n,r,i){try{return new Uy(n,e.transaction(i,r))}catch(s){throw new eh(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new bZ(n)}}class gi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,gi.S(Tt())===12.2&&$t("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),va(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dh())return!1;if(gi.C())return!0;const e=Tt(),n=gi.S(e),r=0<n&&n<10,i=gi.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=dZ)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new eh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new O(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new O(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new eh(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Uy.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),R.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class TZ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return va(this.k.delete())}}class eh extends O{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ea(t){return t.name==="IndexedDbTransactionError"}class bZ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),va(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),va(this.store.add(e))}get(e){return va(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),va(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),va(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new R((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new R((r,i)=>{n.onerror=s=>{const o=KS(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new R((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new TZ(a),u=n(a.primaryKey,a.value,l);if(u instanceof R){const c=u.catch(d=>(l.done(),R.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function va(t){return new R((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=KS(r.target.error);n(i)}})}let hP=!1;function KS(t){const e=gi.S(Tt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hP||(hP=!0,setTimeout(()=>{throw r},0)),r}}return t}class SZ{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){D("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{D("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){ea(n)?D("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Zo(n)}await this.ee(6e4)})}}class CZ{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return R.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return D("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(D("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=hV(s);GS(o,r)>0&&(r=o)}),new $r(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}sr._e=-1;function rp(t){return t==null}function uf(t){return t===0&&1/t==-1/0}function mV(t){return typeof t=="number"&&Number.isInteger(t)&&!uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fP(e)),e=RZ(t.get(n),e);return fP(e)}function RZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function fP(t){return t+""}function Wi(t){const e=t.length;if(ie(e>=2),e===2)return ie(t.charAt(0)===""&&t.charAt(1)===""),Le.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&J(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:J()}s=o+2}return new Le(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e){return[t,qn(e)]}function gV(t,e,n){return[t,qn(e),n]}const xZ={},AZ=["prefixPath","collectionGroup","readTime","documentId"],PZ=["prefixPath","collectionGroup","documentId"],kZ=["collectionGroup","readTime","prefixPath","documentId"],NZ=["canonicalId","targetId"],OZ=["targetId","path"],DZ=["path","targetId"],MZ=["collectionId","parent"],LZ=["indexId","uid"],$Z=["uid","sequenceNumber"],FZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VZ=["indexId","uid","orderedDocumentKey"],UZ=["userId","collectionPath","documentId"],jZ=["userId","collectionPath","largestBatchId"],BZ=["userId","collectionGroup","largestBatchId"],_V=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zZ=[..._V,"documentOverlays"],yV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vV=yV,WZ=[...vV,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends pV{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function cn(t,e){const n=K(t);return gi.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new im(this.root,e,this.comparator,!1)}getReverseIterator(){return new im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new im(this.root,e,this.comparator,!0)}}class im{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_n.RED,this.left=i??_n.EMPTY,this.right=s??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _n(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gP(this.data.getIterator())}getIteratorFrom(e){return new gP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class gP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ul(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new or([])}unionWith(e){let n=new Ye(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new EV("Invalid base64 string: "+s):s}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const HZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mo(t){if(ie(!!t),typeof t=="string"){let e=0;const n=HZ.exec(t);if(ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lo(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function QS(t){const e=t.mapValue.fields.__previous_value__;return jy(e)?QS(e):e}function cf(t){const e=Mo(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class $o{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dm={nullValue:"NULL_VALUE"};function sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jy(t)?4:IV(t)?9007199254740991:10:J()}function Zi(t,e){if(t===e)return!0;const n=sl(t);if(n!==sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cf(t).isEqual(cf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mo(i.timestampValue),a=Mo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Lo(i.bytesValue).isEqual(Lo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Rt(i.geoPointValue.latitude)===Rt(s.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Rt(i.integerValue)===Rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Rt(i.doubleValue),a=Rt(s.doubleValue);return o===a?uf(o)===uf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(mP(o)!==mP(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zi(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function df(t,e){return(t.values||[]).find(n=>Zi(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=sl(t),r=sl(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Rt(s.integerValue||s.doubleValue),l=Rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return _P(t.timestampValue,e.timestampValue);case 4:return _P(cf(t),cf(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Lo(s),l=Lo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=_e(a[u],l[u]);if(c!==0)return c}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=_e(Rt(s.latitude),Rt(o.latitude));return a!==0?a:_e(Rt(s.longitude),Rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Fo(a[u],l[u]);if(c)return c}return _e(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===oo.mapValue&&o===oo.mapValue)return 0;if(s===oo.mapValue)return 1;if(o===oo.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=_e(l[d],c[d]);if(h!==0)return h;const f=Fo(a[l[d]],u[c[d]]);if(f!==0)return f}return _e(l.length,c.length)}(t.mapValue,e.mapValue);default:throw J()}}function _P(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Mo(t),r=Mo(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function nc(t){return vI(t)}function vI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Lo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${vI(n.fields[o])}`;return i+"}"}(t.mapValue):J()}function ol(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wI(t){return!!t&&"integerValue"in t}function hf(t){return!!t&&"arrayValue"in t}function yP(t){return!!t&&"nullValue"in t}function vP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mm(t){return!!t&&"mapValue"in t}function th(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=th(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=th(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function KZ(t){return"nullValue"in t?Dm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ol($o.empty(),H.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:J()}function QZ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ol($o.empty(),H.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?oo:J()}function wP(t,e){const n=Fo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function EP(t,e){const n=Fo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=th(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=th(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(th(this.value))}}function TV(t){const e=[];return Sl(t.fields,(n,r)=>{const i=new mt([n]);if(Mm(r)){const s=TV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ct(e,0,ae.min(),ae.min(),ae.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new ct(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new ct(e,2,n,ae.min(),ae.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,ae.min(),ae.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.position=e,this.inclusive=n}}function IP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function TP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n="asc"){this.field=e,this.dir=n}}function YZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{}class Re extends bV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XZ(e,n,r):n==="array-contains"?new eee(e,r):n==="in"?new PV(e,r):n==="not-in"?new tee(e,r):n==="array-contains-any"?new nee(e,r):new Re(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JZ(e,r):new ZZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&sl(this.value)===sl(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qe extends bV{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new qe(e,n)}matches(e){return rc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function rc(t){return t.op==="and"}function EI(t){return t.op==="or"}function YS(t){return SV(t)&&rc(t)}function SV(t){for(const e of t.filters)if(e instanceof qe)return!1;return!0}function II(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(YS(t))return t.filters.map(e=>II(e)).join(",");{const e=t.filters.map(n=>II(n)).join(",");return`${t.op}(${e})`}}function CV(t,e){return t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&Zi(r.value,i.value)}(t,e):t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&CV(o,i.filters[a]),!0):!1}(t,e):void J()}function RV(t,e){const n=t.filters.concat(e);return qe.create(n,t.op)}function xV(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`}(t):t instanceof qe?function(n){return n.op.toString()+" {"+n.getFilters().map(xV).join(" ,")+"}"}(t):"Filter"}class XZ extends Re{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class JZ extends Re{constructor(e,n){super(e,"in",n),this.keys=AV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZZ extends Re{constructor(e,n){super(e,"not-in",n),this.keys=AV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class eee extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hf(n)&&df(n.arrayValue,this.value)}}class PV extends Re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&df(this.value.arrayValue,n)}}class tee extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!df(this.value.arrayValue,n)}}class nee extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>df(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function TI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ree(t,e,n,r,i,s,o)}function al(t){const e=K(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>II(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),e.ce=n}return e.ce}function ip(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TP(t.startAt,e.startAt)&&TP(t.endAt,e.endAt)}function Zg(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function e_(t,e){return t.filters.filter(n=>n instanceof Re&&n.field.isEqual(e))}function bP(t,e,n){let r=Dm,i=!0;for(const s of e_(t,e)){let o=Dm,a=!0;switch(s.op){case"<":case"<=":o=KZ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Dm}wP({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];wP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function SP(t,e,n){let r=oo,i=!0;for(const s of e_(t,e)){let o=oo,a=!0;switch(s.op){case">=":case">":o=QZ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=oo}EP({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];EP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function kV(t,e,n,r,i,s,o,a){return new $s(t,e,n,r,i,s,o,a)}function Oc(t){return new $s(t)}function CP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XS(t){return t.collectionGroup!==null}function Ou(t){const e=K(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ff(s,r))}),n.has(mt.keyField().canonicalString())||e.le.push(new ff(mt.keyField(),r))}return e.le}function Hn(t){const e=K(t);return e.he||(e.he=iee(e,Ou(t))),e.he}function iee(t,e){if(t.limitType==="F")return TI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ff(i.field,s)});const n=t.endAt?new Vo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vo(t.startAt.position,t.startAt.inclusive):null;return TI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bI(t,e){const n=t.filters.concat([e]);return new $s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function t_(t,e,n){return new $s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sp(t,e){return ip(Hn(t),Hn(e))&&t.limitType===e.limitType}function NV(t){return`${al(Hn(t))}|lt:${t.limitType}`}function Jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xV(i)).join(", ")}]`),rp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nc(i)).join(",")),`Target(${r})`}(Hn(t))}; limitType=${t.limitType})`}function op(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ou(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=IP(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ou(r),i)||r.endAt&&!function(o,a,l){const u=IP(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ou(r),i))}(t,e)}function OV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DV(t){return(e,n)=>{let r=!1;for(const i of Ou(t)){const s=see(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function see(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Fo(l,u):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=new rt(H.comparator);function ar(){return oee}const MV=new rt(H.comparator);function Nd(...t){let e=MV;for(const n of t)e=e.insert(n.key,n);return e}function LV(t){let e=MV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return nh()}function $V(){return nh()}function nh(){return new ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const aee=new rt(H.comparator),lee=new Ye(H.comparator);function ye(...t){let e=lee;for(const n of t)e=e.add(n);return e}const uee=new Ye(_e);function JS(){return uee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function VV(t){return{integerValue:""+t}}function UV(t,e){return mV(e)?VV(e):FV(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this._=void 0}}function cee(t,e,n){return t instanceof ic?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jy(s)&&(s=QS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ll?BV(t,e):t instanceof ul?zV(t,e):function(i,s){const o=jV(i,s),a=RP(o)+RP(i.Ie);return wI(o)&&wI(i.Ie)?VV(a):FV(i.serializer,a)}(t,e)}function dee(t,e,n){return t instanceof ll?BV(t,e):t instanceof ul?zV(t,e):n}function jV(t,e){return t instanceof sc?function(r){return wI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ic extends By{}class ll extends By{constructor(e){super(),this.elements=e}}function BV(t,e){const n=WV(e);for(const r of t.elements)n.some(i=>Zi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ul extends By{constructor(e){super(),this.elements=e}}function zV(t,e){let n=WV(e);for(const r of t.elements)n=n.filter(i=>!Zi(i,r));return{arrayValue:{values:n}}}class sc extends By{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function RP(t){return Rt(t.integerValue||t.doubleValue)}function WV(t){return hf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.field=e,this.transform=n}}function hee(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ll&&i instanceof ll||r instanceof ul&&i instanceof ul?tc(r.elements,i.elements,Zi):r instanceof sc&&i instanceof sc?Zi(r.Ie,i.Ie):r instanceof ic&&i instanceof ic}(t.transform,e.transform)}class fee{constructor(e,n){this.version=e,this.transformResults=n}}class gt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gt}static exists(e){return new gt(void 0,e)}static updateTime(e){return new gt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zy{}function qV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mc(t.key,gt.none()):new Dc(t.key,t.data,gt.none());{const n=t.data,r=wn.empty();let i=new Ye(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fs(t.key,r,new or(i.toArray()),gt.none())}}function pee(t,e,n){t instanceof Dc?function(i,s,o){const a=i.value.clone(),l=AP(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(i,s,o){if(!Lm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=AP(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(HV(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rh(t,e,n,r){return t instanceof Dc?function(s,o,a,l){if(!Lm(s.precondition,o))return a;const u=s.value.clone(),c=PP(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fs?function(s,o,a,l){if(!Lm(s.precondition,o))return a;const u=PP(s.fieldTransforms,l,o),c=o.data;return c.setAll(HV(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Lm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function mee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jV(r.transform,i||null);s!=null&&(n===null&&(n=wn.empty()),n.set(r.field,s))}return n||null}function xP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tc(r,i,(s,o)=>hee(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends zy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends zy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AP(t,e,n){const r=new Map;ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,dee(o,a,n[i]))}return r}function PP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,cee(s,o,e))}return r}class Mc extends zy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZS extends zy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&pee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$V();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=qV(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(n,r)=>xP(n,r))&&tc(this.baseMutations,e.baseMutations,(n,r)=>xP(n,r))}}class tC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ie(e.mutations.length===r.length);let i=function(){return aee}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new tC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Me;function GV(t){switch(t){default:return J();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function KV(t){if(t===void 0)return $t("GRPC error has no .code"),k.UNKNOWN;switch(t){case Ut.OK:return k.OK;case Ut.CANCELLED:return k.CANCELLED;case Ut.UNKNOWN:return k.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return k.INTERNAL;case Ut.UNAVAILABLE:return k.UNAVAILABLE;case Ut.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ut.NOT_FOUND:return k.NOT_FOUND;case Ut.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ut.ABORTED:return k.ABORTED;case Ut.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ut.DATA_LOSS:return k.DATA_LOSS;default:return J()}}(Me=Ut||(Ut={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=new Nu([4294967295,4294967295],0);function kP(t){const e=QV().encode(t),n=new cZ;return n.update(e),new Uint8Array(n.digest())}function NP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nu([n,r],0),new Nu([i,s],0)]}class rC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Od(`Invalid padding: ${n}`);if(r<0)throw new Od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Od(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Nu.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Nu.fromNumber(r)));return i.compare(_ee)===1&&(i=new Nu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=kP(e),[r,i]=NP(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new rC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=kP(e),[r,i]=NP(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,up.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lp(ae.min(),i,new rt(_e),ar(),ye())}}class up{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new up(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class YV{constructor(e,n){this.targetId=e,this.fe=n}}class XV{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OP{constructor(){this.ge=0,this.pe=MP(),this.ye=Yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ye(),n=ye(),r=ye();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new up(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=MP()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ie(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yee{constructor(e){this.Le=e,this.ke=new Map,this.qe=ar(),this.Qe=DP(),this.Ke=new rt(_e)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Zg(s))if(r===0){const o=new H(s.path);this.We(n,o,ct.newNoDocument(o,ae.min()))}else ie(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Lo(r).toUint8Array()}catch(l){if(l instanceof EV)return Si("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rC(o,i,s)}catch(l){return Si(l instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Zg(a.target)){const l=new H(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,ct.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ye();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new lp(e,n,this.Ke,this.qe,r);return this.qe=ar(),this.Qe=DP(),this.Ke=new rt(_e),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new OP,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ye(_e),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new OP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DP(){return new rt(H.comparator)}function MP(){return new rt(H.comparator)}const vee={asc:"ASCENDING",desc:"DESCENDING"},wee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Eee={and:"AND",or:"OR"};class Iee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function SI(t,e){return t.useProto3Json||rp(e)?e:{value:e}}function oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tee(t,e){return oc(t,e.toTimestamp())}function Ft(t){return ie(!!t),ae.fromTimestamp(function(n){const r=Mo(n);return new _t(r.seconds,r.nanos)}(t))}function iC(t,e){return function(r){return new Le(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function ZV(t){const e=Le.fromString(t);return ie(lU(e)),e}function pf(t,e){return iC(t.databaseId,e.path)}function Ki(t,e){const n=ZV(e);if(n.get(1)!==t.databaseId.projectId)throw new O(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(tU(n))}function CI(t,e){return iC(t.databaseId,e)}function eU(t){const e=ZV(t);return e.length===4?Le.emptyPath():tU(e)}function mf(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tU(t){return ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LP(t,e,n){return{name:pf(t,e),fields:n.value.mapValue.fields}}function nU(t,e,n){const r=Ki(t,e.name),i=Ft(e.updateTime),s=e.createTime?Ft(e.createTime):ae.min(),o=new wn({mapValue:{fields:e.fields}}),a=ct.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function bee(t,e){return"found"in e?function(r,i){ie(!!i.found),i.found.name,i.found.updateTime;const s=Ki(r,i.found.name),o=Ft(i.found.updateTime),a=i.found.createTime?Ft(i.found.createTime):ae.min(),l=new wn({mapValue:{fields:i.found.fields}});return ct.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ie(!!i.missing),ie(!!i.readTime);const s=Ki(r,i.missing),o=Ft(i.readTime);return ct.newNoDocument(s,o)}(t,e):J()}function See(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ie(c===void 0||typeof c=="string"),Yt.fromBase64String(c||"")):(ie(c===void 0||c instanceof Uint8Array),Yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?k.UNKNOWN:KV(u.code);return new O(c,u.message||"")}(o);n=new XV(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ki(t,r.document.name),s=Ft(r.document.updateTime),o=r.document.createTime?Ft(r.document.createTime):ae.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=ct.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new $m(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ki(t,r.document),s=r.readTime?Ft(r.readTime):ae.min(),o=ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $m([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ki(t,r.document),s=r.removedTargetIds||[];n=new $m([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new gee(i,s),a=r.targetId;n=new YV(a,o)}}return n}function gf(t,e){let n;if(e instanceof Dc)n={update:LP(t,e.key,e.value)};else if(e instanceof Mc)n={delete:pf(t,e.key)};else if(e instanceof Fs)n={update:LP(t,e.key,e.data),updateMask:kee(e.fieldMask)};else{if(!(e instanceof ZS))return J();n={verify:pf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Tee(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function RI(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?gt.updateTime(Ft(s.updateTime)):s.exists!==void 0?gt.exists(s.exists):gt.none()}(e.currentDocument):gt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ie(a.setToServerValue==="REQUEST_TIME"),l=new ic;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new ll(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new ul(c)}else"increment"in a?l=new sc(o,a.increment):J();const u=mt.fromServerFormat(a.fieldPath);return new ap(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ki(t,e.update.name),s=new wn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new or(u.map(c=>mt.fromServerFormat(c)))}(e.updateMask);return new Fs(i,s,o,n,r)}return new Dc(i,s,n,r)}if(e.delete){const i=Ki(t,e.delete);return new Mc(i,n)}if(e.verify){const i=Ki(t,e.verify);return new ZS(i,n)}return J()}function Cee(t,e){return t&&t.length>0?(ie(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ft(i.updateTime):Ft(s);return o.isEqual(ae.min())&&(o=Ft(s)),new fee(o,i.transformResults||[])}(n,e))):[]}function rU(t,e){return{documents:[CI(t,e.path)]}}function iU(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=CI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=CI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return aU(qe.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Zl(d.field),direction:xee(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=SI(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function sU(t){let e=eU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ie(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=oU(d);return h instanceof qe&&YS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new ff(eu(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,rp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Vo(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Vo(f,h)}(n.endAt)),kV(e,i,o,s,a,"F",l,u)}function Ree(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eu(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=eu(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=eu(n.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=eu(n.unaryFilter.field);return Re.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return Re.create(eu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qe.create(n.compositeFilter.filters.map(r=>oU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function xee(t){return vee[t]}function Aee(t){return wee[t]}function Pee(t){return Eee[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function eu(t){return mt.fromServerFormat(t.fieldPath)}function aU(t){return t instanceof Re?function(n){if(n.op==="=="){if(vP(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(yP(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vP(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(yP(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:Aee(n.op),value:n.value}}}(t):t instanceof qe?function(n){const r=n.getFilters().map(i=>aU(i));return r.length===1?r[0]:{compositeFilter:{op:Pee(n.op),filters:r}}}(t):J()}function kee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.ut=e}}function Nee(t,e){let n;if(e.document)n=nU(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=H.fromSegments(e.noDocument.path),i=dl(e.noDocument.readTime);n=ct.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return J();{const r=H.fromSegments(e.unknownDocument.path),i=dl(e.unknownDocument.version);n=ct.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new _t(i[0],i[1]);return ae.fromTimestamp(s)}(e.readTime)),n}function $P(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:n_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:pf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:oc(s,o.version.toTimestamp()),createTime:oc(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:cl(e.version)};else{if(!e.isUnknownDocument())return J();r.unknownDocument={path:n.path.toArray(),version:cl(e.version)}}return r}function n_(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function cl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dl(t){const e=new _t(t.seconds,t.nanoseconds);return ae.fromTimestamp(e)}function wa(t,e){const n=(e.baseMutations||[]).map(s=>RI(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>RI(t.ut,s)),i=_t.fromMillis(e.localWriteTimeMs);return new eC(e.batchId,i,n,r)}function Dd(t){const e=dl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?dl(t.lastLimboFreeSnapshotVersion):ae.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ie(s.documents.length===1),Hn(Oc(eU(s.documents[0])))}(t.query):function(s){return Hn(sU(s))}(t.query),new ms(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Yt.fromBase64String(t.resumeToken))}function cU(t,e){const n=cl(e.snapshotVersion),r=cl(e.lastLimboFreeSnapshotVersion);let i;i=Zg(e.target)?rU(t.ut,e.target):iU(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:al(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function sC(t){const e=sU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?t_(e,e.limit,"L"):e}function hw(t,e){return new nC(e.largestBatchId,RI(t.ut,e.overlayMutation))}function FP(t,e){const n=e.path.lastSegment();return[t,qn(e.path.popLast()),n]}function VP(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:cl(r.readTime),documentKey:qn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{getBundleMetadata(e,n){return UP(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:dl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return UP(e).put(function(i){return{bundleId:i.id,createTime:cl(Ft(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return jP(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:sC(s.bundledQuery),readTime:dl(s.readTime)}}(r)})}saveNamedQuery(e,n){return jP(e).put(function(i){return{name:i.name,readTime:cl(Ft(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function UP(t){return cn(t,"bundles")}function jP(t){return cn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new Wy(e,r)}getOverlay(e,n){return ld(e).get(FP(this.userId,n)).next(r=>r?hw(this.serializer,r):null)}getOverlays(e,n){const r=qi();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new nC(n,o);i.push(this.lt(e,a))}),R.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(qn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(ld(e).H("collectionPathOverlayIndex",a))}),R.waitFor(s)}getOverlaysForCollection(e,n,r){const i=qi(),s=qn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ld(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=hw(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=qi();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ld(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=hw(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}lt(e,n){return ld(e).put(function(i,s,o){const[a,l,u]=FP(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:gf(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function ld(t){return cn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Rt(e.integerValue));else if("doubleValue"in e){const r=Rt(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),uf(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Lo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?IV(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):J()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),H.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Ea.St=new Ea;function Dee(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function BP(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Dee(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Mee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=BP(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=BP(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Lee{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class $ee{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class ud{constructor(){this.Wt=new Mee,this.Gt=new Lee(this.Wt),this.zt=new $ee(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ia(this.indexId,this.documentKey,this.arrayValue,r)}}function Ws(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=zP(t.arrayValue,e.arrayValue),n!==0?n:(n=zP(t.directionalValue,e.directionalValue),n!==0?n:H.comparator(t.documentKey,e.documentKey)))}function zP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.Jt=new Ye((n,r)=>mt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ie(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=_I(e);if(n!==void 0&&!this.tn(n))return!1;const r=pa(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new Ye(mt.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Nm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Nm(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Nm(r.field,r.dir==="asc"?0:1)));return new Jg(Jg.UNKNOWN_ID,this.collectionId,n,lf.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){var e,n;if(ie(t instanceof Re||t instanceof qe),t instanceof Re){if(t instanceof PV){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Re.create(t.field,"==",s)))||[];return qe.create(i,"or")}return t}const r=t.filters.map(i=>dU(i));return qe.create(r,t.op)}function Fee(t){if(t.getFilters().length===0)return[];const e=PI(dU(t));return ie(hU(e)),xI(e)||AI(e)?[e]:e.getFilters()}function xI(t){return t instanceof Re}function AI(t){return t instanceof qe&&YS(t)}function hU(t){return xI(t)||AI(t)||function(n){if(n instanceof qe&&EI(n)){for(const r of n.getFilters())if(!xI(r)&&!AI(r))return!1;return!0}return!1}(t)}function PI(t){if(ie(t instanceof Re||t instanceof qe),t instanceof Re)return t;if(t.filters.length===1)return PI(t.filters[0]);const e=t.filters.map(r=>PI(r));let n=qe.create(e,t.op);return n=r_(n),hU(n)?n:(ie(n instanceof qe),ie(rc(n)),ie(n.filters.length>1),n.filters.reduce((r,i)=>oC(r,i)))}function oC(t,e){let n;return ie(t instanceof Re||t instanceof qe),ie(e instanceof Re||e instanceof qe),n=t instanceof Re?e instanceof Re?function(i,s){return qe.create([i,s],"and")}(t,e):qP(t,e):e instanceof Re?qP(e,t):function(i,s){if(ie(i.filters.length>0&&s.filters.length>0),rc(i)&&rc(s))return RV(i,s.getFilters());const o=EI(i)?i:s,a=EI(i)?s:i,l=o.filters.map(u=>oC(u,a));return qe.create(l,"or")}(t,e),r_(n)}function qP(t,e){if(rc(e))return RV(e,t.getFilters());{const n=e.filters.map(r=>oC(t,r));return qe.create(n,"or")}}function r_(t){if(ie(t instanceof Re||t instanceof qe),t instanceof Re)return t;const e=t.getFilters();if(e.length===1)return r_(e[0]);if(SV(t))return t;const n=e.map(i=>r_(i)),r=[];return n.forEach(i=>{i instanceof Re?r.push(i):i instanceof qe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:qe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(){this.on=new aC}addToCollectionParentIndex(e,n){return this.on.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve($r.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class aC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Uint8Array(0);class Uee{constructor(e,n){this.user=e,this.databaseId=n,this._n=new aC,this.an=new ta(r=>al(r),(r,i)=>ip(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:qn(i)};return HP(e).put(s)}return R.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[cV(n),""],!1,!0);return HP(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Wi(o.parent))}return r})}addFieldIndex(e,n){const r=cd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Bl(e);return s.next(a=>{o.put(VP(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=cd(e),i=Bl(e),s=jl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=cd(e),r=jl(e),i=Bl(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return R.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new WP(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=jl(e);let i=!0;const s=new Map;return R.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ye();const a=[];return R.forEach(s,(l,u)=>{D("IndexedDbIndexManager",`Using index ${function(y){return`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(l)} to execute ${al(n)}`);const c=function(y,w){const b=_I(w);if(b===void 0)return null;for(const C of e_(y,b.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(u,l),d=function(y,w){const b=new Map;for(const C of pa(w))for(const T of e_(y,C.fieldPath))switch(T.op){case"==":case"in":b.set(C.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return b.set(C.fieldPath.canonicalString(),T.value),Array.from(b.values())}return null}(u,l),h=function(y,w){const b=[];let C=!0;for(const T of pa(w)){const A=T.kind===0?bP(y,T.fieldPath,y.startAt):SP(y,T.fieldPath,y.startAt);b.push(A.value),C&&(C=A.inclusive)}return new Vo(b,C)}(u,l),f=function(y,w){const b=[];let C=!0;for(const T of pa(w)){const A=T.kind===0?SP(y,T.fieldPath,y.endAt):bP(y,T.fieldPath,y.endAt);b.push(A.value),C&&(C=A.inclusive)}return new Vo(b,C)}(u,l),p=this.ln(l,u,h),g=this.ln(l,u,f),v=this.hn(l,u,d),m=this.Pn(l.indexId,c,p,h.inclusive,g,f.inclusive,v);return R.forEach(m,_=>r.j(_,n.limit).next(y=>{y.forEach(w=>{const b=H.fromSegments(w.documentKey);o.has(b)||(o=o.add(b),a.push(b))})}))}).next(()=>a)}return R.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=Fee(qe.create(e.filters,"and")).map(r=>TI(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.In(n[d/u]):sm,f=this.Tn(e,h,r[d%u],i),p=this.En(e,h,s[d%u],o),g=a.map(v=>this.Tn(e,h,v,!0));c.push(...this.createRange(f,p,g))}return c}Tn(e,n,r,i){const s=new Ia(e,H.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new Ia(e,H.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new WP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return R.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Ye(mt.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new ud;for(const i of pa(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);Ea.St.ht(s,o)}return r.Ut()}In(e){const n=new ud;return Ea.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new ud;return Ea.St.ht(ol(this.databaseId,n),r.jt(function(s){const o=pa(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new ud);let s=0;for(const o of pa(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&hf(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);Ea.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new ud;l.seed(a.Ut()),Ea.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof Re&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=cd(e),i=Bl(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return R.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new lf(d.sequenceNumber,new $r(dl(d.readTime),new H(Wi(d.documentKey)),d.largestBatchId)):lf.empty(),f=c.fields.map(([p,g])=>new Nm(mt.fromServerFormat(p),g));return new Jg(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:_e(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=cd(e),s=Bl(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>R.forEach(a,l=>s.put(VP(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return R.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?R.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),R.forEach(a,l=>this.gn(e,i,l).next(u=>{const c=this.pn(s,l);return u.isEqual(c)?R.resolve():this.yn(e,s,l,u,c)}))))})}wn(e,n,r,i){return jl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return jl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=jl(e);let s=new Ye(Ws);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new Ia(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new Ye(Ws);const i=this.dn(n,e);if(i==null)return r;const s=_I(n);if(s!=null){const o=e.data.field(s.fieldPath);if(hf(o))for(const a of o.arrayValue.values||[])r=r.add(new Ia(n.indexId,e.key,this.In(a),i))}else r=r.add(new Ia(n.indexId,e.key,sm,i));return r}yn(e,n,r,i,s){D("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),p=u.getIterator();let g=Ul(f),v=Ul(p);for(;g||v;){let m=!1,_=!1;if(g&&v){const y=c(g,v);y<0?_=!0:y>0&&(m=!0)}else g!=null?_=!0:m=!0;m?(d(v),v=Ul(p)):_?(h(g),g=Ul(f)):(g=Ul(f),v=Ul(p))}}(i,s,Ws,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),R.waitFor(o)}fn(e){let n=1;return Bl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ws(o,a)).filter((o,a,l)=>!a||Ws(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ws(o,e),l=Ws(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,sm,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,sm,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return Ws(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(GP)}getMinOffset(e,n){return R.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||J())).next(GP)}}function HP(t){return cn(t,"collectionParents")}function jl(t){return cn(t,"indexEntries")}function cd(t){return cn(t,"indexConfiguration")}function Bl(t){return cn(t,"indexState")}function GP(t){ie(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;GS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $r(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class er{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{ie(a===1)}));const u=[];for(const c of n.mutations){const d=gV(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return R.waitFor(s).next(()=>u)}function i_(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw J();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(41943040,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);class qy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){ie(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new qy(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=tu(e),o=qs(e);return o.add({}).next(a=>{ie(typeof a=="number");const l=new eC(a,n,r,i),u=function(f,p,g){const v=g.baseMutations.map(_=>gf(f.ut,_)),m=g.mutations.map(_=>gf(f.ut,_));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:m}}(this.serializer,this.userId,l),c=[];let d=new Ye((h,f)=>_e(h.canonicalString(),f.canonicalString()));for(const h of i){const f=gV(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,xZ))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),R.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return qs(e).get(n).next(r=>r?(ie(r.userId===this.userId),wa(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?R.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return qs(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ie(a.batchId>=r),s=wa(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return qs(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).W("userMutationsIndex",n).next(r=>r.map(i=>wa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Om(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return tu(e).Y({range:i},(o,a,l)=>{const[u,c,d]=o,h=Wi(c);if(u===this.userId&&n.path.isEqual(h))return qs(e).get(d).next(f=>{if(!f)throw J();ie(f.userId===this.userId),s.push(wa(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(_e);const i=[];return n.forEach(s=>{const o=Om(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=tu(e).Y({range:a},(u,c,d)=>{const[h,f,p]=u,g=Wi(f);h===this.userId&&s.path.isEqual(g)?r=r.add(p):d.done()});i.push(l)}),R.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Om(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ye(_e);return tu(e).Y({range:o},(l,u,c)=>{const[d,h,f]=l,p=Wi(h);d===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):c.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(qs(e).get(s).next(o=>{if(o===null)throw J();ie(o.userId===this.userId),r.push(wa(this.serializer,o))}))}),R.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return fU(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),R.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return R.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return tu(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Wi(s[1]);i.push(l)}else a.done()}).next(()=>{ie(i.length===0)})})}containsKey(e,n){return pU(e,this.userId,n)}Mn(e){return mU(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pU(t,e,n){const r=Om(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return tu(t).Y({range:s,J:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function qs(t){return cn(t,"mutations")}function tu(t){return cn(t,"documentMutations")}function mU(t){return cn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new hl(0)}static Nn(){return new hl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new hl(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ae.fromTimestamp(new _t(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>zl(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ie(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return zl(e).Y((o,a)=>{const l=Dd(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>R.waitFor(s)).next(()=>i)}forEachTarget(e,n){return zl(e).Y((r,i)=>{const s=Dd(i);n(s)})}Bn(e){return QP(e).get("targetGlobalKey").next(n=>(ie(n!==null),n))}Ln(e,n){return QP(e).put("targetGlobalKey",n)}kn(e,n){return zl(e).put(cU(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=al(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return zl(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Dd(a);ip(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=eo(e);return n.forEach(o=>{const a=qn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),R.waitFor(i)}removeMatchingKeys(e,n,r){const i=eo(e);return R.forEach(n,s=>{const o=qn(s.path);return R.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=eo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=eo(e);let s=ye();return i.Y({range:r,J:!0},(o,a,l)=>{const u=Wi(o[1]),c=new H(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=qn(n.path),i=IDBKeyRange.bound([r],[cV(r)],!1,!0);let s=0;return eo(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return zl(e).get(n).next(r=>r?Dd(r):null)}}function zl(t){return cn(t,"targets")}function QP(t){return cn(t,"targetGlobal")}function eo(t){return cn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP([t,e],[n,r]){const i=_e(t,n);return i===0?_e(e,r):i}class Bee{constructor(e){this.Qn=e,this.buffer=new Ye(YP),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zee{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){D("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?D("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Gn(3e5)})}}class Wee{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return R.resolve(sr._e);const r=new Bee(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(D("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(KP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KP):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Xl()<=Te.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function qee(t,e){return new Wee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e,n){this.db=e,this.garbageCollector=qee(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return om(e,r)}removeReference(e,n,r){return om(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return om(e,n)}Xn(e,n){return function(i,s){let o=!1;return mU(i).Z(a=>pU(i,a,s).next(l=>(l&&(o=!0),R.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ae.min()),eo(e).delete(function(d){return[0,qn(d.path)]}(o))))});i.push(l)}}).next(()=>R.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return om(e,n)}Zn(e,n){const r=eo(e);let i,s=sr._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==sr._e&&n(new H(Wi(i)),s),s=u,i=l):s=sr._e}).next(()=>{s!==sr._e&&n(new H(Wi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function om(t,e){return eo(t).put(function(r,i){return{targetId:0,path:qn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.changes=new ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return oa(e).put(r)}removeEntry(e,n,r){return oa(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],n_(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=ct.newInvalidDocument(n);return oa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(dd(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:ct.newInvalidDocument(n)};return oa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(dd(n))},(i,s)=>{r={document:this.tr(n,s),size:i_(s)}}).next(()=>r)}getEntries(e,n){let r=ar();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=ar(),i=new rt(H.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,i_(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return R.resolve();let i=new Ye(ZP);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(dd(i.first()),dd(i.last())),o=i.getIterator();let a=o.getNext();return oa(e).Y({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=H.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&ZP(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.U(dd(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),n_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oa(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=ar();for(const d of u){const h=this.tr(H.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(op(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=ar();const o=JP(n,r),a=JP(n,$r.max());return oa(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.tr(H.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new Kee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return XP(e).get("remoteDocumentGlobalKey").next(n=>(ie(!!n),n))}er(e,n){return XP(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=Nee(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ae.min())))return r}return ct.newInvalidDocument(e)}}function _U(t){return new Gee(t)}class Kee extends gU{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new ta(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ye((s,o)=>_e(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=$P(this._r.serializer,o);i=i.add(s.path.popLast());const u=i_(l);r+=u-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=$P(this._r.serializer,o.convertToNoDocument(ae.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),R.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function XP(t){return cn(t,"remoteDocumentGlobal")}function oa(t){return cn(t,"remoteDocumentsV14")}function dd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function JP(t,e){const n=e.documentKey.path.toArray();return[t,n_(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ZP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=_e(n[s],r[s]),i)return i;return i=_e(n.length,r.length),i||(i=_e(n[n.length-2],r[r.length-2]),i||_e(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rh(r.mutation,i,or.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ar();const o=nh(),a=function(){return nh()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),rh(c.mutation,u,c.mutation.getFieldMask(),_t.now())):o.set(u.key,or.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Qee(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nh();let i=new rt((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||or.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=$V();c.forEach(h=>{if(!s.has(h)){const f=qV(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(qi());let a=-1,l=s;return o.next(u=>R.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?R.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ye())).next(c=>({batchId:a,changes:LV(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Nd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Nd();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,l=>{const u=function(d,h){return new $s(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ct.newInvalidDocument(c)))});let a=Nd();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&rh(c.mutation,u,or.empty(),_t.now()),op(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return R.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ft(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:sC(i.bundledQuery),readTime:Ft(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(){this.overlays=new rt(H.comparator),this.lr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=qi(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=qi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=qi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nC(n,r));let s=this.lr.get(n);s===void 0&&(s=ye(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.hr=new Ye(en.Pr),this.Ir=new Ye(en.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new en(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new en(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new H(new Le([])),r=new en(n,e),i=new en(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new H(new Le([])),r=new en(n,e),i=new en(n,e+1);let s=ye();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new en(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return H.comparator(e.key,n.key)||_e(e.gr,n.gr)}static Tr(e,n){return _e(e.gr,n.gr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ye(en.Pr)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new en(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),i=new en(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(_e);return n.forEach(i=>{const s=new en(i,0),o=new en(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),R.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new en(new H(s),0);let a=new Ye(_e);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),R.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ie(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return R.forEach(n.mutations,i=>{const s=new en(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new en(n,0),i=this.yr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e){this.Cr=e,this.docs=function(){return new rt(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ct.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ar();const o=n.path,a=new H(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||GS(hV(c),r)<=0||(i.has(c.key)||op(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}vr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ete(this)}getSize(e){return R.resolve(this.size)}}class ete extends gU{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e){this.persistence=e,this.Fr=new ta(n=>al(n),ip),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Mr=0,this.Or=new lC,this.targetCount=0,this.Nr=hl.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),R.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.kn(n),R.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.Br={},this.overlays={},this.Lr=new sr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new tte(this),this.indexManager=new Vee,this.remoteDocumentCache=function(i){return new Zee(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new uU(n),this.Kr=new Yee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Jee(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new nte(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class nte extends pV{constructor(e){super(),this.currentSequenceNumber=e}}class Hy{constructor(e){this.persistence=e,this.Gr=new lC,this.zr=null}static jr(e){return new Hy(e)}get Hr(){if(this.zr)return this.zr;throw J()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,r=>{const i=H.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return R.or([()=>R.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e){this.serializer=e}N(e,n,r,i){const s=new Uy("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pP,{unique:!0}),l.createObjectStore("documentMutations")}(e),ek(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=R.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),ek(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ae.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pP,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return R.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:UZ});u.createIndex("collectionPathOverlayIndex",jZ,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",BZ,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:AZ});u.createIndex("documentKeyIndex",PZ),u.createIndex("collectionGroupIndex",kZ)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:LZ}).createIndex("sequenceNumberIndex",$Z,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:FZ}).createIndex("documentKeyIndex",VZ,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=i_(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>R.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>R.forEach(a,l=>{ie(l.userId===s.userId);const u=wa(this.serializer,l);return fU(e,s.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new Le(o),u=function(d){return[0,qn(d)]}(l);s.push(n.get(u).next(c=>c?R.resolve():(d=>n.put({targetId:0,path:qn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>R.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:MZ});const r=n.store("collectionParents"),i=new aC,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:qn(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Le(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const c=Wi(a);return s(c.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Dd(i),o=cU(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new H(Le.fromString(d.document.name).popFirst(5)):d.noDocument?H.fromSegments(d.noDocument.path):d.unknownDocument?H.fromSegments(d.unknownDocument.path):J()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>R.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=_U(this.serializer),s=new vU(Hy.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:ye();wa(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),R.forEach(a,(l,u)=>{const c=new nn(u),d=Wy.ct(this.serializer,c),h=s.getIndexManager(c),f=qy.ct(c,this.serializer,h,s.referenceDelegate);return new yU(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new yI(n,sr._e),l).next()})})}}function ek(t){t.createObjectStore("targetDocuments",{keyPath:OZ}).createIndex("documentTargetsIndex",DZ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",NZ,{unique:!0}),t.createObjectStore("targetGlobal")}const fw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uC{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=c,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!uC.D())throw new O(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hee(this,i),this.Ii=n+"main",this.serializer=new uU(l),this.Ti=new gi(this.Ii,this.ai,new rte(this.serializer)),this.qr=new jee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_U(this.serializer),this.Kr=new Oee,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,c===!1&&$t("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(k.FAILED_PRECONDITION,fw);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new sr(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>am(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(ea(e))return D("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return D("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return hd(e).get("owner").next(n=>R.resolve(this.wi(n)))}Si(e){return am(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=cn(n,"clientMetadata");return r.W().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return R.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?R.resolve(!0):hd(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new O(k.FAILED_PRECONDITION,fw);return!1}}return!(!this.networkEnabled||!this.inForeground)||am(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&D("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new yI(e,sr._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>am(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return qy.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Uee(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Wy.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){D("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?WZ:l===14?vV:l===13?yV:l===12?zZ:l===11?_V:void J()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new yI(a,this.Lr?this.Lr.next():sr._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw $t(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new O(k.FAILED_PRECONDITION,fV);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return hd(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new O(k.FAILED_PRECONDITION,fw)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hd(e).put("owner",n)}static D(){return gi.D()}pi(e){const n=hd(e);return n.get("owner").next(r=>this.wi(r)?(D("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):R.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||($t(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;$9()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return D("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $t("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){$t("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hd(t){return cn(t,"owner")}function am(t){return cn(t,"clientMetadata")}function cC(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ite;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Xl()<=Te.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",Jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(Xl()<=Te.DEBUG&&D("QueryEngine","Query:",Jl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Xl()<=Te.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",Jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):R.resolve())}zi(e,n){if(CP(n))return R.resolve(null);let r=Hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=t_(n,null,"F"),r=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,t_(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return CP(n)||i.isEqual(ae.min())?R.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?R.resolve(null):(Xl()<=Te.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jl(n)),this.Xi(e,o,n,dV(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ye(DV(e));return n.forEach((i,s)=>{op(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Xl()<=Te.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",Jl(n)),this.Gi.getDocumentsMatchingQuery(e,n,$r.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new rt(_e),this.ns=new ta(s=>al(s),ip),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function EU(t,e,n,r){return new ste(t,e,n,r)}async function IU(t,e){const n=K(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ye();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function ote(t,e){const n=K(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=R.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const v=u.docVersions.get(p);ie(v!==null),g.version.compareTo(v)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function TU(t){const e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function ate(t,e){const n=K(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Yt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(g,v,m){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=ar(),u=ye();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(bU(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(ae.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function bU(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ar();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function lte(t,e){const n=K(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ac(t,e){const n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ms(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function lc(t,e,n){const r=K(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ea(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function s_(t,e,n){const r=K(t);let i=ae.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=K(l),h=d.ns.get(c);return h!==void 0?R.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,Hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:ye())).next(a=>(RU(r,OV(e),a),{documents:a,ls:s})))}function SU(t,e){const n=K(t),r=K(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function CU(t,e){const n=K(t),r=n.rs.get(e)||ae.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,dV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(RU(n,e,i),i))}function RU(t,e,n){let r=t.rs.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}async function ute(t,e,n,r){const i=K(t);let s=ye(),o=ar();for(const u of n){const c=e.hs(u.metadata.name);u.document&&(s=s.add(c));const d=e.Ps(u);d.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(c,d)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await ac(i,function(c){return Hn(Oc(Le.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>bU(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.us,c.cs)).next(()=>c.us)))}async function cte(t,e,n=ye()){const r=await ac(t,Hn(sC(e.bundledQuery))),i=K(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Ft(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(Yt.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}function tk(t,e){return`firestore_clients_${t}_${e}`}function nk(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pw(t,e){return`firestore_targets_${t}_${e}`}class o_{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new O(i.error.code,i.error.message))),o?new o_(e,n,i.state,s):($t("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ih{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new O(r.error.code,r.error.message))),s?new ih(e,r.state,i):($t("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class a_{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=JS();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=mV(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new a_(e,s):($t("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class hC{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new hC(n.clientId,n.onlineState):($t("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kI{constructor(){this.activeTargetIds=JS()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mw{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new rt(_e),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=tk(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new kI),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const i=this.getItem(tk(this.persistenceKey,r));if(i){const s=a_.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pw(this.persistenceKey,e));if(r){const i=ih.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pw(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return D("SharedClientState","READ",e,n),n}setItem(e,n){D("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){D("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(D("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void $t("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(s){let o=sr._e;if(s!=null)try{const a=JSON.parse(s);ie(typeof a=="number"),o=a}catch(a){$t("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==sr._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new o_(this.currentUser,e,n,r),s=nk(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=nk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const i=pw(this.persistenceKey,e),s=new ih(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return a_.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return o_.Ts(new nn(s),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return ih.Ts(i,n)}Ms(e){return hC.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);D("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=JS();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class xU{constructor(){this.eo=new kI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new kI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm=null;function gw(){return lm===null?lm=function(){return 268435456+Math.round(2147483648*Math.random())}():lm++,"0x"+lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class pte extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=gw(),l=this.So(n,r);D("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(D("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Si("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=hte[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=gw();return new Promise((o,a)=>{const l=new uZ;l.setWithCredentials(!0),l.listenOnce(aZ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dw.NO_ERROR:const c=l.getResponseJson();D(Rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case dw.TIMEOUT:D(Rn,`RPC '${e}' ${s} timed out`),a(new O(k.DEADLINE_EXCEEDED,"Request time out"));break;case dw.HTTP_ERROR:const d=l.getStatus();if(D(Rn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(m)>=0?m:k.UNKNOWN}(f.status);a(new O(p,f.message))}else a(new O(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new O(k.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{D(Rn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);D(Rn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=gw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sZ(),a=oZ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");D(Rn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new fte({co:v=>{f?D(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(D(Rn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(Rn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},lo:()=>d.close()}),g=(v,m,_)=>{v.listen(m,y=>{try{_(y)}catch(w){setTimeout(()=>{throw w},0)}})};return g(d,rm.EventType.OPEN,()=>{f||D(Rn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,rm.EventType.CLOSE,()=>{f||(f=!0,D(Rn,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,rm.EventType.ERROR,v=>{f||(f=!0,Si(Rn,`RPC '${e}' stream ${i} transport errored:`,v),p.Ro(new O(k.UNAVAILABLE,"The operation could not be completed")))}),g(d,rm.EventType.MESSAGE,v=>{var m;if(!f){const _=v.data[0];ie(!!_);const y=_,w=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(w){D(Rn,`RPC '${e}' stream ${i} received error:`,w);const b=w.status;let C=function(M){const P=Ut[M];if(P!==void 0)return KV(P)}(b),T=w.message;C===void 0&&(C=k.INTERNAL,T="Unknown error status: "+b+" with message "+w.message),f=!0,p.Ro(new O(C,T)),d.close()}else D(Rn,`RPC '${e}' stream ${i} received:`,_),p.Vo(_)}}),g(a,lZ.STAT_EVENT,v=>{v.stat===cP.PROXY?D(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===cP.NOPROXY&&D(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(){return typeof window<"u"?window:null}function Fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){return new Iee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new fC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?($t(n.toString()),$t("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new O(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mte extends PU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=See(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Ft(o.readTime):ae.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=mf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Zg(l)?{documents:rU(s,l)}:{query:iU(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JV(s,o.resumeToken);const u=SI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=oc(s,o.snapshotVersion.toTimestamp());const u=SI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Ree(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=mf(this.serializer),n.removeTarget=e,this.e_(n)}}class gte extends PU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Cee(e.writeResults,e.commitTime),r=Ft(e.commitTime);return this.listener.I_(r,n)}return ie(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=mf(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gf(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _te extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new O(k.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new O(k.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(k.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class yte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?($t(n),this.f_=!1):D("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{na(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=K(l);u.C_.add(4),await Lc(u),u.M_.set("Unknown"),u.C_.delete(4),await dp(u)}(this))})}),this.M_=new yte(r,i)}}async function dp(t){if(na(t))for(const e of t.v_)await e(!0)}async function Lc(t){for(const e of t.v_)await e(!1)}function Gy(t,e){const n=K(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),gC(n)?mC(n):Fc(n).Ho()&&pC(n,e))}function _f(t,e){const n=K(t),r=Fc(n);n.D_.delete(e),r.Ho()&&kU(n,e),n.D_.size===0&&(r.Ho()?r.Zo():na(n)&&n.M_.set("Unknown"))}function pC(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).u_(e)}function kU(t,e){t.x_.Oe(e),Fc(t).c_(e)}function mC(t){t.x_=new yee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.M_.g_()}function gC(t){return na(t)&&!Fc(t).jo()&&t.D_.size>0}function na(t){return K(t).C_.size===0}function NU(t){t.x_=void 0}async function wte(t){t.D_.forEach((e,n)=>{pC(t,e)})}async function Ete(t,e){NU(t),gC(t)?(t.M_.w_(e),mC(t)):t.M_.set("Unknown")}async function Ite(t,e,n){if(t.M_.set("Online"),e instanceof XV&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await l_(t,r)}else if(e instanceof $m?t.x_.$e(e):e instanceof YV?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ae.min()))try{const r=await TU(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(Yt.EMPTY_BYTE_STRING,c.snapshotVersion)),kU(s,l);const d=new ms(c.target,l,u,c.sequenceNumber);pC(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await l_(t,r)}}async function l_(t,e,n){if(!ea(e))throw e;t.C_.add(1),await Lc(t),t.M_.set("Offline"),n||(n=()=>TU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await dp(t)})}function OU(t,e){return e().catch(n=>l_(t,n,e))}async function $c(t){const e=K(t),n=Uo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Tte(e);)try{const i=await lte(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,bte(e,i)}catch(i){await l_(e,i)}DU(e)&&MU(e)}function Tte(t){return na(t)&&t.b_.length<10}function bte(t,e){t.b_.push(e);const n=Uo(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function DU(t){return na(t)&&!Uo(t).jo()&&t.b_.length>0}function MU(t){Uo(t).start()}async function Ste(t){Uo(t).E_()}async function Cte(t){const e=Uo(t);for(const n of t.b_)e.P_(n.mutations)}async function Rte(t,e,n){const r=t.b_.shift(),i=tC.from(r,e,n);await OU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $c(t)}async function xte(t,e){e&&Uo(t).h_&&await async function(r,i){if(function(o){return GV(o)&&o!==k.ABORTED}(i.code)){const s=r.b_.shift();Uo(r).Yo(),await OU(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $c(r)}}(t,e),DU(t)&&MU(t)}async function ik(t,e){const n=K(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=na(n);n.C_.add(3),await Lc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await dp(n)}async function NI(t,e){const n=K(t);e?(n.C_.delete(2),await dp(n)):e||(n.C_.add(2),await Lc(n),n.M_.set("Unknown"))}function Fc(t){return t.O_||(t.O_=function(n,r,i){const s=K(n);return s.A_(),new mte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:wte.bind(null,t),Io:Ete.bind(null,t),a_:Ite.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),gC(t)?mC(t):t.M_.set("Unknown")):(await t.O_.stop(),NU(t))})),t.O_}function Uo(t){return t.N_||(t.N_=function(n,r,i){const s=K(n);return s.A_(),new gte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Ste.bind(null,t),Io:xte.bind(null,t),T_:Cte.bind(null,t),I_:Rte.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await $c(t)):(await t.N_.stop(),t.b_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _C(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(t,e){if($t("AsyncQueue",`${e}: ${t}`),ea(t))return new O(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Nd(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new Du(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.B_=new rt(H.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):J():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class uc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new uc(e,n,Du.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(){this.k_=void 0,this.listeners=[]}}class Pte{constructor(){this.queries=new ta(e=>NV(e),sp),this.onlineState="Unknown",this.q_=new Set}}async function yC(t,e){const n=K(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ate),i)try{s.k_=await n.onListen(r)}catch(o){const a=Vc(o,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&wC(n)}async function vC(t,e){const n=K(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function kte(t,e){const n=K(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&wC(n)}function Nte(t,e,n){const r=K(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function wC(t){t.q_.forEach(e=>{e.next()})}class EC{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.serializer=e}hs(e){return Ki(this.serializer,e)}Ps(e){return e.metadata.exists?nU(this.serializer,e.document,!1):ct.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Ft(e)}}class Dte{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LU(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=Le.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new ok(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ye()).add(s);n.set(o,a)}}return n}async complete(){const e=await ute(this.localStore,new ok(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await cte(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function LU(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.key=e}}class FU{constructor(e){this.key=e}}class VU{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ye(),this.mutatedKeys=ye(),this._a=DV(e),this.aa=new Du(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new sk,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=op(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),v=!0):this.ha(h,f)||(r.track({type:2,doc:f}),v=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,d)=>function(f,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return g(f)-g(p)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new uc(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new sk,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ye(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new FU(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new $U(r))}),n}da(e){this.ia=e.ls,this.oa=ye();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return uc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Mte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lte{constructor(e){this.key=e,this.Ra=!1}}class $te{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ta(a=>NV(a),sp),this.fa=new Map,this.ga=new Set,this.pa=new rt(H.comparator),this.ya=new Map,this.wa=new lC,this.Sa={},this.ba=new Map,this.Da=hl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Fte(t,e){const n=CC(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await ac(n.localStore,Hn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await IC(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Gy(n.remoteStore,o)}return i}async function IC(t,e,n,r,i){t.va=(d,h,f)=>async function(g,v,m,_){let y=v.view.ca(m);y.Zi&&(y=await s_(g.localStore,v.query,!1).then(({documents:T})=>v.view.ca(T,y)));const w=_&&_.targetChanges.get(v.targetId),b=_&&_.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(y,g.isPrimaryClient,w,b);return OI(g,v.targetId,C.Ta),C.snapshot}(t,d,h,f);const s=await s_(t.localStore,e,!0),o=new VU(e,s.ls),a=o.ca(s.documents),l=up.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);OI(t,n,u.Ta);const c=new Mte(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function Vte(t,e){const n=K(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!sp(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await lc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_f(n.remoteStore,r.targetId),cc(n,r.targetId)}).catch(Zo)):(cc(n,r.targetId),await lc(n.localStore,r.targetId,!0))}async function Ute(t,e,n){const r=RC(t);try{const i=await function(o,a){const l=K(o),u=_t.now(),c=a.reduce((f,p)=>f.add(p.key),ye());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=ar(),g=ye();return l.ss.getEntries(f,c).next(v=>{p=v,p.forEach((m,_)=>{_.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(v=>{d=v;const m=[];for(const _ of a){const y=mee(_,d.get(_.key).overlayedDocument);y!=null&&m.push(new Fs(_.key,y,TV(y.value.mapValue),gt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(v=>{h=v;const m=v.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,v.batchId,m)})}).then(()=>({batchId:h.batchId,changes:LV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new rt(_e)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Vs(r,i.changes),await $c(r.remoteStore)}catch(i){const s=Vc(i,"Failed to persist write");n.reject(s)}}async function UU(t,e){const n=K(t);try{const r=await ate(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ie(o.Ra):i.removedDocuments.size>0&&(ie(o.Ra),o.Ra=!1))}),await Vs(n,r,e)}catch(r){await Zo(r)}}function ak(t,e,n){const r=K(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=K(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&wC(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jte(t,e,n){const r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new rt(H.comparator);o=o.insert(s,ct.newNoDocument(s,ae.min()));const a=ye().add(s),l=new lp(ae.min(),new Map,new rt(_e),o,a);await UU(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),SC(r)}else await lc(r.localStore,e,!1).then(()=>cc(r,e,n)).catch(Zo)}async function Bte(t,e){const n=K(t),r=e.batch.batchId;try{const i=await ote(n.localStore,e);bC(n,r,null),TC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vs(n,i)}catch(i){await Zo(i)}}async function zte(t,e,n){const r=K(t);try{const i=await function(o,a){const l=K(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ie(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);bC(r,e,n),TC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vs(r,i)}catch(i){await Zo(i)}}async function Wte(t,e){const n=K(t);na(n.remoteStore)||D("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=K(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Vc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function TC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function bC(t,e,n){const r=K(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function cc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||jU(t,r)})}function jU(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(_f(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),SC(t))}function OI(t,e,n){for(const r of n)r instanceof $U?(t.wa.addReference(r.key,e),qte(t,r)):r instanceof FU?(D("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||jU(t,r.key)):J()}function qte(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ga.add(r),SC(t))}function SC(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new H(Le.fromString(e)),r=t.Da.next();t.ya.set(r,new Lte(n)),t.pa=t.pa.insert(n,r),Gy(t.remoteStore,new ms(Hn(Oc(n.path)),r,"TargetPurposeLimboResolution",sr._e))}}async function Vs(t,e,n){const r=K(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=dC.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=K(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>R.forEach(u,h=>R.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>R.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ea(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(h,g)}}}(r.localStore,s))}async function Hte(t,e){const n=K(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await IU(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new O(k.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vs(n,r._s)}}function Gte(t,e){const n=K(t),r=n.ya.get(e);if(r&&r.Ra)return ye().add(r.key);{let i=ye();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}async function Kte(t,e){const n=K(t),r=await s_(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&OI(n,e.targetId,i.Ta),i}async function Qte(t,e){const n=K(t);return CU(n.localStore,e).then(r=>Vs(n,r))}async function Yte(t,e,n,r){const i=K(t),s=await function(a,l){const u=K(a),c=K(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Cn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):R.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await $c(i.remoteStore):n==="acknowledged"||n==="rejected"?(bC(i,e,r||null),TC(i,e),function(a,l){K(K(a).mutationQueue).Fn(l)}(i.localStore,e)):J(),await Vs(i,s)):D("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Xte(t,e){const n=K(t);if(CC(n),RC(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await lk(n,r.toArray());n.Ca=!0,await NI(n.remoteStore,!0);for(const s of i)Gy(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(cc(n,o),lc(n.localStore,o,!0))),_f(n.remoteStore,o)}),await i,await lk(n,r),function(o){const a=K(o);a.ya.forEach((l,u)=>{_f(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new rt(H.comparator)}(n),n.Ca=!1,await NI(n.remoteStore,!1)}}async function lk(t,e,n){const r=K(t),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&l.length!==0){a=await ac(r.localStore,Hn(l[0]));for(const u of l){const c=r.ma.get(u),d=await Kte(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await SU(r.localStore,o);a=await ac(r.localStore,u),await IC(r,BU(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}function BU(t){return kV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Jte(t){return function(n){return K(K(n).persistence).Bi()}(K(t).localStore)}async function Zte(t,e,n,r){const i=K(t);if(i.Ca)return void D("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await CU(i.localStore,OV(s[0])),a=lp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Yt.EMPTY_BYTE_STRING);await Vs(i,o,a);break}case"rejected":await lc(i.localStore,e,!0),cc(i,e,r);break;default:J()}}async function ene(t,e,n){const r=CC(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){D("SyncEngine","Adding an already active target "+i);continue}const s=await SU(r.localStore,i),o=await ac(r.localStore,s);await IC(r,BU(s),o.targetId,!1,o.resumeToken),Gy(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&await lc(r.localStore,i,!1).then(()=>{_f(r.remoteStore,i),cc(r,i)}).catch(Zo)}}function CC(t){const e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jte.bind(null,e),e.Va.a_=kte.bind(null,e.eventManager),e.Va.Fa=Nte.bind(null,e.eventManager),e}function RC(t){const e=K(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zte.bind(null,e),e}function tne(t,e,n){const r=K(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,p){const g=K(f),v=Ft(p.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",m=>g.Kr.getBundleMetadata(m,p.id)).then(m=>!!m&&m.createTime.compareTo(v)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(LU(l));const u=new Dte(l,s.localStore,o.serializer);let c=await o.Ma();for(;c;){const h=await u.ea(c);h&&a._updateProgress(h),c=await o.Ma()}const d=await u.complete();return await Vs(s,d.ra,void 0),await function(f,p){const g=K(f);return g.persistence.runTransaction("Save bundle","readwrite",v=>g.Kr.saveBundleMetadata(v,p))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.na)}catch(l){return Si("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class DI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return EU(this.persistence,new wU,e.initialUser,this.serializer)}createPersistence(e){return new vU(Hy.jr,this.serializer)}createSharedClientState(e){return new xU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zU extends DI{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await RC(this.xa.syncEngine),await $c(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return EU(this.persistence,new wU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new zee(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new CZ(n,this.persistence);return new SZ(e.asyncQueue,r)}createPersistence(e){const n=cC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new uC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,AU(),Fm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xU}}class nne extends zU{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof mw&&(this.sharedClientState.syncEngine={Ys:Yte.bind(null,n),Zs:Zte.bind(null,n),Xs:ene.bind(null,n),Bi:Jte.bind(null,n),Js:Qte.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await Xte(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=AU();if(!mw.D(n))throw new O(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=cC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class xC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ak(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hte.bind(null,this.syncEngine),await NI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Pte}()}createDatastore(e){const n=cp(e.databaseInfo.databaseId),r=function(s){return new pte(s)}(e.databaseInfo);return function(s,o,a,l){return new _te(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vte(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ak(this.syncEngine,n,0),function(){return rk.D()?new rk:new dte}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new $te(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=K(n);D("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Lc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):$t("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new on,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const i=await this.Ka(r);return new Ote(JSON.parse(i),e.length+r)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new O(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=K(i),a=mf(o.serializer)+"/documents",l={documents:s.map(h=>pf(o.serializer,h))},u=await o.Co("BatchGetDocuments",a,l,s.length),c=new Map;u.forEach(h=>{const f=bee(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());ie(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=H.fromPath(r);this.mutations.push(new ZS(i,this.precondition(i)))}),await async function(r,i){const s=K(r),o=mf(s.serializer)+"/documents",a={writes:i.map(l=>gf(s.serializer,l))};await s.wo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw J();n=ae.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new O(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ae.min())?gt.exists(!1):gt.updateTime(n):gt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ae.min()))throw new O(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gt.updateTime(n)}return gt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new fC(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new ine(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!rp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!GV(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=uV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vm(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AC(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>ik(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>ik(e.remoteStore,s)),t._onlineComponents=e}function WU(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function AC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!WU(n))throw n;Si("Error using user provided cache. Falling back to memory cache: "+n),await Vm(t,new DI)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await Vm(t,new DI);return t._offlineComponents}async function Qy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await MI(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await MI(t,new xC))),t._onlineComponents}function qU(t){return AC(t).then(e=>e.persistence)}function PC(t){return AC(t).then(e=>e.localStore)}function HU(t){return Qy(t).then(e=>e.remoteStore)}function kC(t){return Qy(t).then(e=>e.syncEngine)}function ane(t){return Qy(t).then(e=>e.datastore)}async function dc(t){const e=await Qy(t),n=e.eventManager;return n.onListen=Fte.bind(null,e.syncEngine),n.onUnlisten=Vte.bind(null,e.syncEngine),n}function lne(t){return t.asyncQueue.enqueue(async()=>{const e=await qU(t),n=await HU(t);return e.setNetworkEnabled(!0),function(i){const s=K(i);return s.C_.delete(0),dp(s)}(n)})}function une(t){return t.asyncQueue.enqueue(async()=>{const e=await qU(t),n=await HU(t);return e.setNetworkEnabled(!1),async function(i){const s=K(i);s.C_.add(0),await Lc(s),s.M_.set("Offline")}(n)})}function cne(t,e){const n=new on;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=K(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new O(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Vc(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await PC(t),e,n)),n.promise}function GU(t,e,n={}){const r=new on;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Ky({next:h=>{o.enqueueAndForget(()=>vC(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new O(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new O(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new EC(Oc(a.path),c,{includeMetadataChanges:!0,J_:!0});return yC(s,d)}(await dc(t),t.asyncQueue,e,n,r)),r.promise}function dne(t,e){const n=new on;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await s_(i,s,!0),l=new VU(s,a.ls),u=l.ca(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=Vc(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await PC(t),e,n)),n.promise}function KU(t,e,n={}){const r=new on;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Ky({next:h=>{o.enqueueAndForget(()=>vC(s,d)),h.fromCache&&l.source==="server"?u.reject(new O(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new EC(a,c,{includeMetadataChanges:!0,J_:!0});return yC(s,d)}(await dc(t),t.asyncQueue,e,n,r)),r.promise}function hne(t,e){const n=new Ky(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){K(i).q_.add(s),s.next()}(await dc(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){K(i).q_.delete(s)}(await dc(t),n))}}function fne(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?QV().encode(o):o,function(c,d){return new rne(c,d)}(function(c,d){if(c instanceof Uint8Array)return uk(c,d);if(c instanceof ArrayBuffer)return uk(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,cp(e));t.asyncQueue.enqueueAndForget(async()=>{tne(await kC(t),i,r)})}function pne(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=K(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(await PC(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e,n){if(!n)throw new O(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YU(t,e,n,r){if(e===!0&&r===!0)throw new O(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dk(t){if(!H.isDocumentKey(t))throw new O(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hk(t){if(H.isDocumentKey(t))throw new O(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yy(t);throw new O(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function XU(t,e){if(e<=0)throw new O(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new O(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new O(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new O(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fk(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pZ;switch(r.type){case"firstParty":return new yZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ck.get(n);r&&(D("ComponentProvider","Removing Datastore"),ck.delete(n),r.terminate())}(this),Promise.resolve()}}function mne(t,e,n,r={}){var i;const s=(t=Fe(t,hp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Si("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=nn.MOCK_USER;else{a=_b(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new O(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new nn(u)}t._authCredentials=new mZ(new lV(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gn=class JU{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new JU(this.firestore,e,this._query)}},Et=class ZU{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ZU(this.firestore,e,this._key)}},Eo=class e4 extends Gn{constructor(e,n,r){super(e,n,Oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new H(e))}withConverter(e){return new e4(this.firestore,e,this._path)}};function t4(t,e,...n){if(t=te(t),NC("collection","path",e),t instanceof hp){const r=Le.fromString(e,...n);return hk(r),new Eo(t,null,r)}{if(!(t instanceof Et||t instanceof Eo))throw new O(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return hk(r),new Eo(t.firestore,null,r)}}function gne(t,e){if(t=Fe(t,hp),NC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(k.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gn(t,null,function(r){return new $s(Le.emptyPath(),r)}(e))}function u_(t,e,...n){if(t=te(t),arguments.length===1&&(e=uV.newId()),NC("doc","path",e),t instanceof hp){const r=Le.fromString(e,...n);return dk(r),new Et(t,null,new H(r))}{if(!(t instanceof Et||t instanceof Eo))throw new O(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return dk(r),new Et(t.firestore,t instanceof Eo?t.converter:null,new H(r))}}function n4(t,e){return t=te(t),e=te(e),(t instanceof Et||t instanceof Eo)&&(e instanceof Et||e instanceof Eo)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function r4(t,e){return t=te(t),e=te(e),t instanceof Gn&&e instanceof Gn&&t.firestore===e.firestore&&sp(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new fC(this,"async_queue_retry"),this.iu=()=>{const n=Fm();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Fm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new on;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ea(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $t("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=_C.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&J()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function LI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class yne{constructor(){this._progressObserver={},this._taskCompletionResolver=new on,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vne=-1;let Nt=class extends hp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new _ne}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||i4(this),this._firestoreClient.terminate()}};function dn(t){return t._firestoreClient||i4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function i4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new GZ(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,QU(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new one(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function wne(t,e){o4(t=Fe(t,Nt));const n=dn(t);if(n._uninitializedComponentsProvider)throw new O(k.FAILED_PRECONDITION,"SDK cache is already specified.");Si("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new xC;return s4(n,i,new zU(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Ene(t){o4(t=Fe(t,Nt));const e=dn(t);if(e._uninitializedComponentsProvider)throw new O(k.FAILED_PRECONDITION,"SDK cache is already specified.");Si("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new xC;return s4(e,r,new nne(r,n.cacheSizeBytes))}function s4(t,e,n){const r=new on;return t.asyncQueue.enqueue(async()=>{try{await Vm(t,n),await MI(t,e),r.resolve()}catch(i){const s=i;if(!WU(s))throw s;Si("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Ine(t){if(t._initialized&&!t._terminated)throw new O(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new on;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!gi.D())return Promise.resolve();const i=r+"main";await gi.delete(i)}(cC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Tne(t){return function(n){const r=new on;return n.asyncQueue.enqueueAndForget(async()=>Wte(await kC(n),r)),r.promise}(dn(t=Fe(t,Nt)))}function bne(t){return lne(dn(t=Fe(t,Nt)))}function Sne(t){return une(dn(t=Fe(t,Nt)))}function Cne(t,e){const n=dn(t=Fe(t,Nt)),r=new yne;return fne(n,t._databaseId,e,r),r}function Rne(t,e){return pne(dn(t=Fe(t,Nt)),e).then(n=>n?new Gn(t,null,n.query):null)}function o4(t){if(t._initialized||t._terminated)throw new O(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(Yt.fromBase64String(e))}catch(n){throw new O(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new es(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne=/^__.*__$/;class Ane{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}class a4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function l4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class Jy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return c_(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(l4(this.Iu)&&xne.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Pne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cp(e)}pu(e,n,r,i=!1){return new Jy({Iu:e,methodName:n,gu:r,path:mt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rl(t){const e=t._freezeSettings(),n=cp(t._databaseId);return new Pne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zy(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);LC("Data must be an object, but it was:",o,r);const a=d4(r,o);let l,u;if(s.merge)l=new or(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=$I(e,d,n);if(!o.contains(h))throw new O(k.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);f4(c,h)||c.push(h)}l=new or(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Ane(new wn(a),l,u)}class fp extends Cl{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fp}}function u4(t,e,n){return new Jy({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class OC extends Cl{_toFieldTransform(e){return new ap(e.path,new ic)}isEqual(e){return e instanceof OC}}class kne extends Cl{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=u4(this,e,!0),r=this.yu.map(s=>xl(s,n)),i=new ll(r);return new ap(e.path,i)}isEqual(e){return this===e}}class Nne extends Cl{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=u4(this,e,!0),r=this.yu.map(s=>xl(s,n)),i=new ul(r);return new ap(e.path,i)}isEqual(e){return this===e}}class One extends Cl{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new sc(e.serializer,UV(e.serializer,this.wu));return new ap(e.path,n)}isEqual(e){return this===e}}function DC(t,e,n,r){const i=t.pu(1,e,n);LC("Data must be an object, but it was:",i,r);const s=[],o=wn.empty();Sl(r,(l,u)=>{const c=$C(e,l,n);u=te(u);const d=i.Ru(c);if(u instanceof fp)s.push(c);else{const h=xl(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new or(s);return new a4(o,a,i.fieldTransforms)}function MC(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[$I(e,r,n)],l=[i];if(s.length%2!=0)throw new O(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push($I(e,s[h])),l.push(s[h+1]);const u=[],c=wn.empty();for(let h=a.length-1;h>=0;--h)if(!f4(u,a[h])){const f=a[h];let p=l[h];p=te(p);const g=o.Ru(f);if(p instanceof fp)u.push(f);else{const v=xl(p,g);v!=null&&(u.push(f),c.set(f,v))}}const d=new or(u);return new a4(c,d,o.fieldTransforms)}function c4(t,e,n,r=!1){return xl(n,t.pu(r?4:3,e))}function xl(t,e){if(h4(t=te(t)))return LC("Unsupported field value:",e,t),d4(t,e);if(t instanceof Cl)return function(r,i){if(!l4(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=xl(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=te(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_t.fromDate(r);return{timestampValue:oc(i.serializer,s)}}if(r instanceof _t){const s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(i.serializer,s)}}if(r instanceof Xy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof es)return{bytesValue:JV(i.serializer,r._byteString)};if(r instanceof Et){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Yy(r)}`)}(t,e)}function d4(t,e){const n={};return wV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sl(t,(r,i)=>{const s=xl(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function h4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof Xy||t instanceof es||t instanceof Et||t instanceof Cl)}function LC(t,e,n){if(!h4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yy(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function $I(t,e,n){if((e=te(e))instanceof jo)return e._internalPath;if(typeof e=="string")return $C(t,e);throw c_("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dne=new RegExp("[~\\*/\\[\\]]");function $C(t,e,n){if(e.search(Dne)>=0)throw c_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jo(...e.split("."))._internalPath}catch{throw c_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function c_(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new O(k.INVALID_ARGUMENT,a+t+l)}function f4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ev("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Mne extends yf{data(){return super.data()}}function ev(t,e){return typeof e=="string"?$C(t,e):e instanceof jo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FC{}class pp extends FC{}function Hs(t,e,...n){let r=[];e instanceof FC&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof VC).length,a=s.filter(l=>l instanceof tv).length;if(o>1||o>0&&a>0)throw new O(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tv extends pp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tv(e,n,r)}_apply(e){const n=this._parse(e);return g4(e._query,n),new Gn(e.firestore,e.converter,bI(e._query,n))}_parse(e){const n=Rl(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new O(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){mk(d,c);const f=[];for(const p of d)f.push(pk(l,s,p));h={arrayValue:{values:f}}}else h=pk(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||mk(d,c),h=c4(a,o,d,c==="in"||c==="not-in");return Re.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lne(t,e,n){const r=e,i=ev("where",t);return tv._create(i,r,n)}class VC extends FC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new VC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)g4(o,l),o=bI(o,l)}(e._query,n),new Gn(e.firestore,e.converter,bI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class UC extends pp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new UC(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new O(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ff(s,o)}(e._query,this._field,this._direction);return new Gn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new $s(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function $ne(t,e="asc"){const n=e,r=ev("orderBy",t);return UC._create(r,n)}class nv extends pp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new nv(e,n,r)}_apply(e){return new Gn(e.firestore,e.converter,t_(e._query,this._limit,this._limitType))}}function Fne(t){return XU("limit",t),nv._create("limit",t,"F")}function Vne(t){return XU("limitToLast",t),nv._create("limitToLast",t,"L")}class rv extends pp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new rv(e,n,r)}_apply(e){const n=m4(e,this.type,this._docOrFields,this._inclusive);return new Gn(e.firestore,e.converter,function(i,s){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Une(...t){return rv._create("startAt",t,!0)}function jne(...t){return rv._create("startAfter",t,!1)}class iv extends pp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new iv(e,n,r)}_apply(e){const n=m4(e,this.type,this._docOrFields,this._inclusive);return new Gn(e.firestore,e.converter,function(i,s){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function Bne(...t){return iv._create("endBefore",t,!1)}function zne(...t){return iv._create("endAt",t,!0)}function m4(t,e,n,r){if(n[0]=te(n[0]),n[0]instanceof yf)return function(s,o,a,l,u){if(!l)throw new O(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Ou(s))if(d.field.isKeyField())c.push(ol(o,l.key));else{const h=l.data.field(d.field);if(jy(h))throw new O(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new O(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new Vo(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Rl(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new O(k.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<c.length;p++){const g=c[p];if(h[p].field.isKeyField()){if(typeof g!="string")throw new O(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!XS(o)&&g.indexOf("/")!==-1)throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const v=o.path.child(Le.fromString(g));if(!H.isDocumentKey(v))throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const m=new H(v);f.push(ol(a,m))}else{const v=c4(l,u,g);f.push(v)}}return new Vo(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function pk(t,e,n){if(typeof(n=te(n))=="string"){if(n==="")throw new O(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XS(e)&&n.indexOf("/")!==-1)throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!H.isDocumentKey(r))throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ol(t,new H(r))}if(n instanceof Et)return ol(t,n._key);throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yy(n)}.`)}function mk(t,e){if(!Array.isArray(t)||t.length===0)throw new O(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g4(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new O(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jC{convertValue(e,n="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Xy(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=QS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cf(e));default:return null}}convertTimestamp(e){const n=Mo(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);ie(lU(r));const i=new $o(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||$t(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Wne extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ks=class extends yf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},sh=class extends ks{data(e={}){return super.data(e)}},Bo=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new Na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new sh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new sh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:qne(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function qne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function _4(t,e){return t instanceof ks&&e instanceof ks?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Bo&&e instanceof Bo&&t._firestore===e._firestore&&r4(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(t){t=Fe(t,Et);const e=Fe(t.firestore,Nt);return GU(dn(e),t._key).then(n=>BC(e,t,n))}class Al extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Gne(t){t=Fe(t,Et);const e=Fe(t.firestore,Nt),n=dn(e),r=new Al(e);return cne(n,t._key).then(i=>new ks(e,r,t._key,i,new Na(i!==null&&i.hasLocalMutations,!0),t.converter))}function Kne(t){t=Fe(t,Et);const e=Fe(t.firestore,Nt);return GU(dn(e),t._key,{source:"server"}).then(n=>BC(e,t,n))}function Qne(t){t=Fe(t,Gn);const e=Fe(t.firestore,Nt),n=dn(e),r=new Al(e);return p4(t._query),KU(n,t._query).then(i=>new Bo(e,r,t,i))}function Yne(t){t=Fe(t,Gn);const e=Fe(t.firestore,Nt),n=dn(e),r=new Al(e);return dne(n,t._query).then(i=>new Bo(e,r,t,i))}function Xne(t){t=Fe(t,Gn);const e=Fe(t.firestore,Nt),n=dn(e),r=new Al(e);return KU(n,t._query,{source:"server"}).then(i=>new Bo(e,r,t,i))}function gk(t,e,n){t=Fe(t,Et);const r=Fe(t.firestore,Nt),i=sv(t.converter,e,n);return mp(r,[Zy(Rl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gt.none())])}function _k(t,e,n,...r){t=Fe(t,Et);const i=Fe(t.firestore,Nt),s=Rl(i);let o;return o=typeof(e=te(e))=="string"||e instanceof jo?MC(s,"updateDoc",t._key,e,n,r):DC(s,"updateDoc",t._key,e),mp(i,[o.toMutation(t._key,gt.exists(!0))])}function Jne(t){return mp(Fe(t.firestore,Nt),[new Mc(t._key,gt.none())])}function Zne(t,e){const n=Fe(t.firestore,Nt),r=u_(t),i=sv(t.converter,e);return mp(n,[Zy(Rl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gt.exists(!1))]).then(()=>r)}function y4(t,...e){var n,r,i;t=te(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||LI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(LI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Et)u=Fe(t.firestore,Nt),c=Oc(t._key.path),l={next:d=>{e[o]&&e[o](BC(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Fe(t,Gn);u=Fe(d.firestore,Nt),c=d._query;const h=new Al(u);l={next:f=>{e[o]&&e[o](new Bo(u,h,d,f))},error:e[o+1],complete:e[o+2]},p4(t._query)}return function(h,f,p,g){const v=new Ky(g),m=new EC(f,v,p);return h.asyncQueue.enqueueAndForget(async()=>yC(await dc(h),m)),()=>{v.Na(),h.asyncQueue.enqueueAndForget(async()=>vC(await dc(h),m))}}(dn(u),c,a,l)}function ere(t,e){return hne(dn(t=Fe(t,Nt)),LI(e)?e:{next:e})}function mp(t,e){return function(r,i){const s=new on;return r.asyncQueue.enqueueAndForget(async()=>Ute(await kC(r),i,s)),s.promise}(dn(t),e)}function BC(t,e,n){const r=n.docs.get(e._key),i=new Al(t);return new ks(t,i,e._key,r,new Na(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tre={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nre=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rl(e)}set(e,n,r){this._verifyNotCommitted();const i=to(e,this._firestore),s=sv(i.converter,n,r),o=Zy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,gt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=to(e,this._firestore);let o;return o=typeof(n=te(n))=="string"||n instanceof jo?MC(this._dataReader,"WriteBatch.update",s._key,n,r,i):DC(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,gt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=to(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,gt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function to(t,e){if((t=te(t)).firestore!==e)throw new O(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rre=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Rl(n)}get(n){const r=to(n,this._firestore),i=new Wne(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return J();const o=s[0];if(o.isFoundDocument())return new yf(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new yf(this._firestore,i,r._key,null,r.converter);throw J()})}set(n,r,i){const s=to(n,this._firestore),o=sv(s.converter,r,i),a=Zy(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=to(n,this._firestore);let a;return a=typeof(r=te(r))=="string"||r instanceof jo?MC(this._dataReader,"Transaction.update",o._key,r,i,s):DC(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=to(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=to(e,this._firestore),r=new Al(this._firestore);return super.get(e).then(i=>new ks(this._firestore,r,n._key,i._document,new Na(!1,!1),n.converter))}};function ire(t,e,n){t=Fe(t,Nt);const r=Object.assign(Object.assign({},tre),n);return function(s){if(s.maxAttempts<1)throw new O(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new on;return s.asyncQueue.enqueueAndForget(async()=>{const u=await ane(s);new sne(s.asyncQueue,u,a,o,l).run()}),l.promise}(dn(t),i=>e(new rre(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sre(){return new fp("deleteField")}function ore(){return new OC("serverTimestamp")}function are(...t){return new kne("arrayUnion",t)}function lre(...t){return new Nne("arrayRemove",t)}function ure(t){return new One("increment",t)}(function(e,n=!0){(function(i){Nc=i})(ns),Yi(new ei("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Nt(new gZ(r.getProvider("auth-internal")),new wZ(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new O(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wn(dP,"4.4.0",e),Wn(dP,"4.4.0","esm2017")})();const cre="@firebase/firestore-compat",dre="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new O("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){if(typeof Uint8Array>"u")throw new O("unimplemented","Uint8Arrays are not available in this environment.")}function vk(){if(!qZ())throw new O("unimplemented","Blobs are unavailable in Firestore in this environment.")}let v4=class FI{constructor(e){this._delegate=e}static fromBase64String(e){return vk(),new FI(es.fromBase64String(e))}static fromUint8Array(e){return yk(),new FI(es.fromUint8Array(e))}toBase64(){return vk(),this._delegate.toBase64()}toUint8Array(){return yk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){return hre(t,["next","error","complete"])}function hre(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{enableIndexedDbPersistence(e,n){return wne(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Ene(e._delegate)}clearIndexedDbPersistence(e){return Ine(e._delegate)}}class w4{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $o||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Si("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){mne(this._delegate,e,n,r)}enableNetwork(){return bne(this._delegate)}disableNetwork(){return Sne(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,YU("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Tne(this._delegate)}onSnapshotsInSync(e){return ere(this._delegate,e)}get app(){if(!this._appCompat)throw new O("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hc(this,t4(this._delegate,e))}catch(n){throw Un(n,"collection()","Firestore.collection()")}}doc(e){try{return new Kr(this,u_(this._delegate,e))}catch(n){throw Un(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vn(this,gne(this._delegate,e))}catch(n){throw Un(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return ire(this._delegate,n=>e(new E4(this,n)))}batch(){return dn(this._delegate),new I4(new nre(this._delegate,e=>mp(this._delegate,e)))}loadBundle(e){return Cne(this._delegate,e)}namedQuery(e){return Rne(this._delegate,e).then(n=>n?new Vn(this,n):null)}}class ov extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new v4(new es(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Kr.forKey(n,this.firestore,null)}}function pre(t){hZ(t)}class E4{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ov(e)}get(e){const n=Oa(e);return this._delegate.get(n).then(r=>new vf(this._firestore,new ks(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Oa(e);return r?(zC("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Oa(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Oa(e);return this._delegate.delete(n),this}}class I4{constructor(e){this._delegate=e}set(e,n,r){const i=Oa(e);return r?(zC("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Oa(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Oa(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class fl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new sh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wf(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=fl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new fl(e,new ov(e),n),i.set(n,s)),s}}fl.INSTANCES=new WeakMap;class Kr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ov(e)}static forPath(e,n,r){if(e.length%2!==0)throw new O("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Kr(n,new Et(n._delegate,r,new H(e)))}static forKey(e,n,r){return new Kr(n,new Et(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new hc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hc(this.firestore,t4(this._delegate,e))}catch(n){throw Un(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=te(e),e instanceof Et?n4(this._delegate,e):!1}set(e,n){n=zC("DocumentReference.set",n);try{return n?gk(this._delegate,e,n):gk(this._delegate,e)}catch(r){throw Un(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?_k(this._delegate,e):_k(this._delegate,e,n,...r)}catch(i){throw Un(i,"updateDoc()","DocumentReference.update()")}}delete(){return Jne(this._delegate)}onSnapshot(...e){const n=T4(e),r=b4(e,i=>new vf(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return y4(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Gne(this._delegate):(e==null?void 0:e.source)==="server"?n=Kne(this._delegate):n=Hne(this._delegate),n.then(r=>new vf(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Kr(this.firestore,e?this._delegate.withConverter(fl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Un(t,e,n){return t.message=t.message.replace(e,n),t}function T4(t){for(const e of t)if(typeof e=="object"&&!VI(e))return e;return{}}function b4(t,e){var n,r;let i;return VI(t[0])?i=t[0]:VI(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class vf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Kr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return _4(this._delegate,e._delegate)}}class wf extends vf{data(e){const n=this._delegate.data(e);return this._delegate._converter||fZ(n!==void 0),n}}class Vn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ov(e)}where(e,n,r){try{return new Vn(this.firestore,Hs(this._delegate,Lne(e,n,r)))}catch(i){throw Un(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Vn(this.firestore,Hs(this._delegate,$ne(e,n)))}catch(r){throw Un(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vn(this.firestore,Hs(this._delegate,Fne(e)))}catch(n){throw Un(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Vn(this.firestore,Hs(this._delegate,Vne(e)))}catch(n){throw Un(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vn(this.firestore,Hs(this._delegate,Une(...e)))}catch(n){throw Un(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vn(this.firestore,Hs(this._delegate,jne(...e)))}catch(n){throw Un(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vn(this.firestore,Hs(this._delegate,Bne(...e)))}catch(n){throw Un(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vn(this.firestore,Hs(this._delegate,zne(...e)))}catch(n){throw Un(n,"endAt()","Query.endAt()")}}isEqual(e){return r4(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Yne(this._delegate):(e==null?void 0:e.source)==="server"?n=Xne(this._delegate):n=Qne(this._delegate),n.then(r=>new UI(this.firestore,new Bo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=T4(e),r=b4(e,i=>new UI(this.firestore,new Bo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return y4(this._delegate,n,r)}withConverter(e){return new Vn(this.firestore,e?this._delegate.withConverter(fl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class mre{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new wf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UI{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Vn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new wf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new mre(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new wf(this._firestore,r))})}isEqual(e){return _4(this._delegate,e._delegate)}}class hc extends Vn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Kr(this.firestore,e):null}doc(e){try{return e===void 0?new Kr(this.firestore,u_(this._delegate)):new Kr(this.firestore,u_(this._delegate,e))}catch(n){throw Un(n,"doc()","CollectionReference.doc()")}}add(e){return Zne(this._delegate,e).then(n=>new Kr(this.firestore,n))}isEqual(e){return n4(this._delegate,e._delegate)}withConverter(e){return new hc(this.firestore,e?this._delegate.withConverter(fl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Oa(t){return Fe(t,Et)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(...e){this._delegate=new jo(...e)}static documentId(){return new WC(mt.keyField().canonicalString())}isEqual(e){return e=te(e),e instanceof jo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._delegate=e}static serverTimestamp(){const e=ore();return e._methodName="FieldValue.serverTimestamp",new Ta(e)}static delete(){const e=sre();return e._methodName="FieldValue.delete",new Ta(e)}static arrayUnion(...e){const n=are(...e);return n._methodName="FieldValue.arrayUnion",new Ta(n)}static arrayRemove(...e){const n=lre(...e);return n._methodName="FieldValue.arrayRemove",new Ta(n)}static increment(e){const n=ure(e);return n._methodName="FieldValue.increment",new Ta(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gre={Firestore:w4,GeoPoint:Xy,Timestamp:_t,Blob:v4,Transaction:E4,WriteBatch:I4,DocumentReference:Kr,DocumentSnapshot:vf,Query:Vn,QueryDocumentSnapshot:wf,QuerySnapshot:UI,CollectionReference:hc,FieldPath:WC,FieldValue:Ta,setLogLevel:pre,CACHE_SIZE_UNLIMITED:vne};function _re(t,e){t.INTERNAL.registerComponent(new ei("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},gre)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yre(t){_re(t,(e,n)=>new w4(e,n,new fre)),t.registerVersion(cre,dre)}yre(Iy);const vre={black:"#000",white:"#fff"},Ef=vre,wre={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Wl=wre,Ere={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ql=Ere,Ire={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hl=Ire,Tre={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Gl=Tre,bre={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Kl=bre,Sre={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fd=Sre,Cre={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Rre=Cre;function zo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const gp="$$material";function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function se(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function S4(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var xre=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Are=S4(function(t){return xre.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Pre(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kre(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Nre=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kre(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Pre(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),xn="-ms-",d_="-moz-",Ue="-webkit-",C4="comm",qC="rule",HC="decl",Ore="@import",R4="@keyframes",Dre="@layer",Mre=Math.abs,av=String.fromCharCode,Lre=Object.assign;function $re(t,e){return yn(t,0)^45?(((e<<2^yn(t,0))<<2^yn(t,1))<<2^yn(t,2))<<2^yn(t,3):0}function x4(t){return t.trim()}function Fre(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,n){return t.replace(e,n)}function jI(t,e){return t.indexOf(e)}function yn(t,e){return t.charCodeAt(e)|0}function If(t,e,n){return t.slice(e,n)}function ki(t){return t.length}function GC(t){return t.length}function um(t,e){return e.push(t),t}function Vre(t,e){return t.map(e).join("")}var lv=1,fc=1,A4=0,mr=0,Bt=0,Uc="";function uv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:lv,column:fc,length:o,return:""}}function pd(t,e){return Lre(uv("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ure(){return Bt}function jre(){return Bt=mr>0?yn(Uc,--mr):0,fc--,Bt===10&&(fc=1,lv--),Bt}function kr(){return Bt=mr<A4?yn(Uc,mr++):0,fc++,Bt===10&&(fc=1,lv++),Bt}function Qi(){return yn(Uc,mr)}function Um(){return mr}function _p(t,e){return If(Uc,t,e)}function Tf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P4(t){return lv=fc=1,A4=ki(Uc=t),mr=0,[]}function k4(t){return Uc="",t}function jm(t){return x4(_p(mr-1,BI(t===91?t+2:t===40?t+1:t)))}function Bre(t){for(;(Bt=Qi())&&Bt<33;)kr();return Tf(t)>2||Tf(Bt)>3?"":" "}function zre(t,e){for(;--e&&kr()&&!(Bt<48||Bt>102||Bt>57&&Bt<65||Bt>70&&Bt<97););return _p(t,Um()+(e<6&&Qi()==32&&kr()==32))}function BI(t){for(;kr();)switch(Bt){case t:return mr;case 34:case 39:t!==34&&t!==39&&BI(Bt);break;case 40:t===41&&BI(t);break;case 92:kr();break}return mr}function Wre(t,e){for(;kr()&&t+Bt!==57;)if(t+Bt===84&&Qi()===47)break;return"/*"+_p(e,mr-1)+"*"+av(t===47?t:kr())}function qre(t){for(;!Tf(Qi());)kr();return _p(t,mr)}function Hre(t){return k4(Bm("",null,null,null,[""],t=P4(t),0,[0],t))}function Bm(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,g=1,v=1,m=1,_=0,y="",w=i,b=s,C=r,T=y;v;)switch(p=_,_=kr()){case 40:if(p!=108&&yn(T,d-1)==58){jI(T+=je(jm(_),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:T+=jm(_);break;case 9:case 10:case 13:case 32:T+=Bre(p);break;case 92:T+=zre(Um()-1,7);continue;case 47:switch(Qi()){case 42:case 47:um(Gre(Wre(kr(),Um()),e,n),l);break;default:T+="/"}break;case 123*g:a[u++]=ki(T)*m;case 125*g:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+c:m==-1&&(T=je(T,/\f/g,"")),f>0&&ki(T)-d&&um(f>32?Ek(T+";",r,n,d-1):Ek(je(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(um(C=wk(T,e,n,u,c,i,a,y,w=[],b=[],d),s),_===123)if(c===0)Bm(T,e,C,C,w,s,d,a,b);else switch(h===99&&yn(T,3)===110?100:h){case 100:case 108:case 109:case 115:Bm(t,C,C,r&&um(wk(t,C,C,0,0,i,a,y,i,w=[],d),b),i,b,d,a,r?w:b);break;default:Bm(T,C,C,C,[""],b,0,a,b)}}u=c=f=0,g=m=1,y=T="",d=o;break;case 58:d=1+ki(T),f=p;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&jre()==125)continue}switch(T+=av(_),_*g){case 38:m=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(ki(T)-1)*m,m=1;break;case 64:Qi()===45&&(T+=jm(kr())),h=Qi(),c=d=ki(y=T+=qre(Um())),_++;break;case 45:p===45&&ki(T)==2&&(g=0)}}return s}function wk(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=GC(h),p=0,g=0,v=0;p<r;++p)for(var m=0,_=If(t,d+1,d=Mre(g=o[p])),y=t;m<f;++m)(y=x4(g>0?h[m]+" "+_:je(_,/&\f/g,h[m])))&&(l[v++]=y);return uv(t,e,n,i===0?qC:a,l,u,c)}function Gre(t,e,n){return uv(t,e,n,C4,av(Ure()),If(t,2,-2),0)}function Ek(t,e,n,r){return uv(t,e,n,HC,If(t,0,r),If(t,r+1,-1),r)}function Mu(t,e){for(var n="",r=GC(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Kre(t,e,n,r){switch(t.type){case Dre:if(t.children.length)break;case Ore:case HC:return t.return=t.return||t.value;case C4:return"";case R4:return t.return=t.value+"{"+Mu(t.children,r)+"}";case qC:t.value=t.props.join(",")}return ki(n=Mu(t.children,r))?t.return=t.value+"{"+n+"}":""}function Qre(t){var e=GC(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Yre(t){return function(e){e.root||(e=e.return)&&t(e)}}var Xre=function(e,n,r){for(var i=0,s=0;i=s,s=Qi(),i===38&&s===12&&(n[r]=1),!Tf(s);)kr();return _p(e,mr)},Jre=function(e,n){var r=-1,i=44;do switch(Tf(i)){case 0:i===38&&Qi()===12&&(n[r]=1),e[r]+=Xre(mr-1,n,r);break;case 2:e[r]+=jm(i);break;case 4:if(i===44){e[++r]=Qi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=av(i)}while(i=kr());return e},Zre=function(e,n){return k4(Jre(P4(e),n))},Ik=new WeakMap,eie=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Ik.get(r))&&!i){Ik.set(e,!0);for(var s=[],o=Zre(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},tie=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function N4(t,e){switch($re(t,e)){case 5103:return Ue+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ue+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ue+t+d_+t+xn+t+t;case 6828:case 4268:return Ue+t+xn+t+t;case 6165:return Ue+t+xn+"flex-"+t+t;case 5187:return Ue+t+je(t,/(\w+).+(:[^]+)/,Ue+"box-$1$2"+xn+"flex-$1$2")+t;case 5443:return Ue+t+xn+"flex-item-"+je(t,/flex-|-self/,"")+t;case 4675:return Ue+t+xn+"flex-line-pack"+je(t,/align-content|flex-|-self/,"")+t;case 5548:return Ue+t+xn+je(t,"shrink","negative")+t;case 5292:return Ue+t+xn+je(t,"basis","preferred-size")+t;case 6060:return Ue+"box-"+je(t,"-grow","")+Ue+t+xn+je(t,"grow","positive")+t;case 4554:return Ue+je(t,/([^-])(transform)/g,"$1"+Ue+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,Ue+"$1"),/(image-set)/,Ue+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,Ue+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,Ue+"box-pack:$3"+xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ue+t+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,Ue+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ki(t)-1-e>6)switch(yn(t,e+1)){case 109:if(yn(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+Ue+"$2-$3$1"+d_+(yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~jI(t,"stretch")?N4(je(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(yn(t,e+1)!==115)break;case 6444:switch(yn(t,ki(t)-3-(~jI(t,"!important")&&10))){case 107:return je(t,":",":"+Ue)+t;case 101:return je(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ue+(yn(t,14)===45?"inline-":"")+"box$3$1"+Ue+"$2$3$1"+xn+"$2box$3")+t}break;case 5936:switch(yn(t,e+11)){case 114:return Ue+t+xn+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ue+t+xn+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ue+t+xn+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ue+t+xn+t+t}return t}var nie=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case HC:e.return=N4(e.value,e.length);break;case R4:return Mu([pd(e,{value:je(e.value,"@","@"+Ue)})],i);case qC:if(e.length)return Vre(e.props,function(s){switch(Fre(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mu([pd(e,{props:[je(s,/:(read-\w+)/,":"+d_+"$1")]})],i);case"::placeholder":return Mu([pd(e,{props:[je(s,/:(plac\w+)/,":"+Ue+"input-$1")]}),pd(e,{props:[je(s,/:(plac\w+)/,":"+d_+"$1")]}),pd(e,{props:[je(s,/:(plac\w+)/,xn+"input-$1")]})],i)}return""})}},rie=[nie],iie=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||rie,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),m=1;m<v.length;m++)s[v[m]]=!0;a.push(g)});var l,u=[eie,tie];{var c,d=[Kre,Yre(function(g){c.insert(g)})],h=Qre(u.concat(i,d)),f=function(v){return Mu(Hre(v),h)};l=function(v,m,_,y){c=_,f(v?v+"{"+m.styles+"}":m.styles),y&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new Nre({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},O4={exports:{}},Ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hn=typeof Symbol=="function"&&Symbol.for,KC=hn?Symbol.for("react.element"):60103,QC=hn?Symbol.for("react.portal"):60106,cv=hn?Symbol.for("react.fragment"):60107,dv=hn?Symbol.for("react.strict_mode"):60108,hv=hn?Symbol.for("react.profiler"):60114,fv=hn?Symbol.for("react.provider"):60109,pv=hn?Symbol.for("react.context"):60110,YC=hn?Symbol.for("react.async_mode"):60111,mv=hn?Symbol.for("react.concurrent_mode"):60111,gv=hn?Symbol.for("react.forward_ref"):60112,_v=hn?Symbol.for("react.suspense"):60113,sie=hn?Symbol.for("react.suspense_list"):60120,yv=hn?Symbol.for("react.memo"):60115,vv=hn?Symbol.for("react.lazy"):60116,oie=hn?Symbol.for("react.block"):60121,aie=hn?Symbol.for("react.fundamental"):60117,lie=hn?Symbol.for("react.responder"):60118,uie=hn?Symbol.for("react.scope"):60119;function Ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case KC:switch(t=t.type,t){case YC:case mv:case cv:case hv:case dv:case _v:return t;default:switch(t=t&&t.$$typeof,t){case pv:case gv:case vv:case yv:case fv:return t;default:return e}}case QC:return e}}}function D4(t){return Ur(t)===mv}Ke.AsyncMode=YC;Ke.ConcurrentMode=mv;Ke.ContextConsumer=pv;Ke.ContextProvider=fv;Ke.Element=KC;Ke.ForwardRef=gv;Ke.Fragment=cv;Ke.Lazy=vv;Ke.Memo=yv;Ke.Portal=QC;Ke.Profiler=hv;Ke.StrictMode=dv;Ke.Suspense=_v;Ke.isAsyncMode=function(t){return D4(t)||Ur(t)===YC};Ke.isConcurrentMode=D4;Ke.isContextConsumer=function(t){return Ur(t)===pv};Ke.isContextProvider=function(t){return Ur(t)===fv};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===KC};Ke.isForwardRef=function(t){return Ur(t)===gv};Ke.isFragment=function(t){return Ur(t)===cv};Ke.isLazy=function(t){return Ur(t)===vv};Ke.isMemo=function(t){return Ur(t)===yv};Ke.isPortal=function(t){return Ur(t)===QC};Ke.isProfiler=function(t){return Ur(t)===hv};Ke.isStrictMode=function(t){return Ur(t)===dv};Ke.isSuspense=function(t){return Ur(t)===_v};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cv||t===mv||t===hv||t===dv||t===_v||t===sie||typeof t=="object"&&t!==null&&(t.$$typeof===vv||t.$$typeof===yv||t.$$typeof===fv||t.$$typeof===pv||t.$$typeof===gv||t.$$typeof===aie||t.$$typeof===lie||t.$$typeof===uie||t.$$typeof===oie)};Ke.typeOf=Ur;O4.exports=Ke;var cie=O4.exports,M4=cie,die={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hie={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},L4={};L4[M4.ForwardRef]=die;L4[M4.Memo]=hie;var fie=!0;function pie(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var $4=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||fie===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},F4=function(e,n,r){$4(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function mie(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var gie={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_ie=/[A-Z]|^ms/g,yie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,V4=function(e){return e.charCodeAt(1)===45},Tk=function(e){return e!=null&&typeof e!="boolean"},_w=S4(function(t){return V4(t)?t:t.replace(_ie,"-$&").toLowerCase()}),bk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(yie,function(r,i,s){return Ni={name:i,styles:s,next:Ni},i})}return gie[e]!==1&&!V4(e)&&typeof n=="number"&&n!==0?n+"px":n};function bf(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ni={name:n.name,styles:n.styles,next:Ni},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ni={name:r.name,styles:r.styles,next:Ni},r=r.next;var i=n.styles+";";return i}return vie(t,e,n)}case"function":{if(t!==void 0){var s=Ni,o=n(t);return Ni=s,bf(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function vie(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=bf(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":Tk(o)&&(r+=_w(s)+":"+bk(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)Tk(o[a])&&(r+=_w(s)+":"+bk(s,o[a])+";");else{var l=bf(t,e,o);switch(s){case"animation":case"animationName":{r+=_w(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Sk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ni,XC=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ni=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=bf(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=bf(r,n,e[a]),i&&(s+=o[a]);Sk.lastIndex=0;for(var l="",u;(u=Sk.exec(s))!==null;)l+="-"+u[1];var c=mie(s)+l;return{name:c,styles:s,next:Ni}},wie=function(e){return e()},U4=Fu.useInsertionEffect?Fu.useInsertionEffect:!1,Eie=U4||wie,Ck=U4||E.useLayoutEffect,j4=E.createContext(typeof HTMLElement<"u"?iie({key:"css"}):null);j4.Provider;var B4=function(e){return E.forwardRef(function(n,r){var i=E.useContext(j4);return e(n,i,r)})},JC=E.createContext({}),Iie=B4(function(t,e){var n=t.styles,r=XC([n],void 0,E.useContext(JC)),i=E.useRef();return Ck(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),Ck(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&F4(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function ZC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return XC(e)}var yp=function(){var e=ZC.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Tie=Are,bie=function(e){return e!=="theme"},Rk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Tie:bie},xk=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Sie=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return $4(n,r,i),Eie(function(){return F4(n,r,i)}),null},Cie=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=xk(e,n,r),l=a||Rk(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=B4(function(g,v,m){var _=u&&g.as||i,y="",w=[],b=g;if(g.theme==null){b={};for(var C in g)b[C]=g[C];b.theme=E.useContext(JC)}typeof g.className=="string"?y=pie(v.registered,w,g.className):g.className!=null&&(y=g.className+" ");var T=XC(d.concat(w),v.registered,b);y+=v.key+"-"+T.name,o!==void 0&&(y+=" "+o);var A=u&&a===void 0?Rk(_):l,M={};for(var P in g)u&&P==="as"||A(P)&&(M[P]=g[P]);return M.className=y,M.ref=m,E.createElement(E.Fragment,null,E.createElement(Sie,{cache:v,serialized:T,isStringTag:typeof _=="string"}),E.createElement(_,M))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(g,v){return t(g,S({},n,v,{shouldForwardProp:xk(p,v,!0)})).apply(void 0,d)},p}},Rie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],zI=Cie.bind();Rie.forEach(function(t){zI[t]=zI(t)});function xie(t){return t==null||Object.keys(t).length===0}function Aie(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(xie(i)?n:i):e;return I.jsx(Iie,{styles:r})}function z4(t,e){return zI(t,e)}const Pie=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function us(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function W4(t){if(!us(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=W4(t[n])}),e}function hr(t,e,n={clone:!0}){const r=n.clone?S({},t):t;return us(t)&&us(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(us(e[i])&&i in t&&us(t[i])?r[i]=hr(t[i],e[i],n):n.clone?r[i]=us(e[i])?W4(e[i]):e[i]:r[i]=e[i])}),r}var Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=Symbol.for("react.element"),t1=Symbol.for("react.portal"),wv=Symbol.for("react.fragment"),Ev=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Tv=Symbol.for("react.provider"),bv=Symbol.for("react.context"),kie=Symbol.for("react.server_context"),Sv=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),Rv=Symbol.for("react.suspense_list"),xv=Symbol.for("react.memo"),Av=Symbol.for("react.lazy"),Nie=Symbol.for("react.offscreen"),q4;q4=Symbol.for("react.module.reference");function ri(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case e1:switch(t=t.type,t){case wv:case Iv:case Ev:case Cv:case Rv:return t;default:switch(t=t&&t.$$typeof,t){case kie:case bv:case Sv:case Av:case xv:case Tv:return t;default:return e}}case t1:return e}}}Xe.ContextConsumer=bv;Xe.ContextProvider=Tv;Xe.Element=e1;Xe.ForwardRef=Sv;Xe.Fragment=wv;Xe.Lazy=Av;Xe.Memo=xv;Xe.Portal=t1;Xe.Profiler=Iv;Xe.StrictMode=Ev;Xe.Suspense=Cv;Xe.SuspenseList=Rv;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return ri(t)===bv};Xe.isContextProvider=function(t){return ri(t)===Tv};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===e1};Xe.isForwardRef=function(t){return ri(t)===Sv};Xe.isFragment=function(t){return ri(t)===wv};Xe.isLazy=function(t){return ri(t)===Av};Xe.isMemo=function(t){return ri(t)===xv};Xe.isPortal=function(t){return ri(t)===t1};Xe.isProfiler=function(t){return ri(t)===Iv};Xe.isStrictMode=function(t){return ri(t)===Ev};Xe.isSuspense=function(t){return ri(t)===Cv};Xe.isSuspenseList=function(t){return ri(t)===Rv};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===wv||t===Iv||t===Ev||t===Cv||t===Rv||t===Nie||typeof t=="object"&&t!==null&&(t.$$typeof===Av||t.$$typeof===xv||t.$$typeof===Tv||t.$$typeof===bv||t.$$typeof===Sv||t.$$typeof===q4||t.getModuleId!==void 0)};Xe.typeOf=ri;function le(t){if(typeof t!="string")throw new Error(zo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function WI(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function n1(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function Oie(t,e){return()=>null}function zm(t,e){var n,r;return E.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function fr(t){return t&&t.ownerDocument||document}function Wo(t){return fr(t).defaultView||window}function Die(t,e){return()=>null}function h_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Ns=typeof window<"u"?E.useLayoutEffect:E.useEffect;let Ak=0;function Mie(t){const[e,n]=E.useState(t),r=t||e;return E.useEffect(()=>{e==null&&(Ak+=1,n(`mui-${Ak}`))},[e]),r}const Pk=Fu.useId;function Pv(t){if(Pk!==void 0){const e=Pk();return t??e}return Mie(t)}function Lie(t,e,n,r,i){return null}function qI({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=E.useRef(t!==void 0),[s,o]=E.useState(e),a=i?t:s,l=E.useCallback(u=>{i||o(u)},[]);return[a,l]}function Da(t){const e=E.useRef(t);return Ns(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function Mn(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{h_(n,e)})},t)}let kv=!0,HI=!1,kk;const $ie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Fie(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&$ie[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Vie(t){t.metaKey||t.altKey||t.ctrlKey||(kv=!0)}function yw(){kv=!1}function Uie(){this.visibilityState==="hidden"&&HI&&(kv=!0)}function jie(t){t.addEventListener("keydown",Vie,!0),t.addEventListener("mousedown",yw,!0),t.addEventListener("pointerdown",yw,!0),t.addEventListener("touchstart",yw,!0),t.addEventListener("visibilitychange",Uie,!0)}function Bie(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return kv||Fie(e)}function H4(){const t=E.useCallback(i=>{i!=null&&jie(i.ownerDocument)},[]),e=E.useRef(!1);function n(){return e.current?(HI=!0,window.clearTimeout(kk),kk=window.setTimeout(()=>{HI=!1},100),e.current=!1,!0):!1}function r(i){return Bie(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function G4(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function r1(t,e){const n=S({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=S({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=S({},s),Object.keys(i).forEach(o=>{n[r][o]=r1(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Ne(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const Nk=t=>t,zie=()=>{let t=Nk;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Nk}}},Wie=zie(),i1=Wie,qie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ae(t,e,n="Mui"){const r=qie[e];return r?`${n}-${r}`:`${i1.generate(t)}-${e}`}function Ie(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ae(t,i,n)}),r}const Hie=["values","unit","step"],Gie=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>S({},n,{[r.key]:r.val}),{})};function Kie(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=se(t,Hie),s=Gie(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return S({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const Qie={borderRadius:4},Yie=Qie;function oh(t,e){return e?hr(t,e,{clone:!1}):t}const s1={xs:0,sm:600,md:900,lg:1200,xl:1536},Ok={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${s1[t]}px)`};function ni(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Ok;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Ok;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||s1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Xie(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Jie(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Zie(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Nv({values:t,breakpoints:e,base:n}){const r=n||Zie(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Ov(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function f_(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Ov(t,n)||r,e&&(i=e(i,r,t)),i}function Vt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Ov(l,r)||{};return ni(o,a,d=>{let h=f_(u,i,d);return d===h&&typeof d=="string"&&(h=f_(u,i,`${e}${d==="default"?"":le(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function ese(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const tse={m:"margin",p:"padding"},nse={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Dk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},rse=ese(t=>{if(t.length>2)if(Dk[t])t=Dk[t];else return[t];const[e,n]=t.split(""),r=tse[e],i=nse[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),o1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],a1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...o1,...a1];function vp(t,e,n,r){var i;const s=(i=Ov(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function K4(t){return vp(t,"spacing",8)}function wp(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function ise(t,e){return n=>t.reduce((r,i)=>(r[i]=wp(e,n),r),{})}function sse(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=rse(n),s=ise(i,r),o=t[n];return ni(t,o,s)}function Q4(t,e){const n=K4(t.theme);return Object.keys(t).map(r=>sse(t,e,r,n)).reduce(oh,{})}function bt(t){return Q4(t,o1)}bt.propTypes={};bt.filterProps=o1;function St(t){return Q4(t,a1)}St.propTypes={};St.filterProps=a1;function ose(t=8){if(t.mui)return t;const e=K4({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Dv(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?oh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function qr(t){return typeof t!="number"?t:`${t}px solid`}function ii(t,e){return Vt({prop:t,themeKey:"borders",transform:e})}const ase=ii("border",qr),lse=ii("borderTop",qr),use=ii("borderRight",qr),cse=ii("borderBottom",qr),dse=ii("borderLeft",qr),hse=ii("borderColor"),fse=ii("borderTopColor"),pse=ii("borderRightColor"),mse=ii("borderBottomColor"),gse=ii("borderLeftColor"),_se=ii("outline",qr),yse=ii("outlineColor"),Mv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=vp(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:wp(e,r)});return ni(t,t.borderRadius,n)}return null};Mv.propTypes={};Mv.filterProps=["borderRadius"];Dv(ase,lse,use,cse,dse,hse,fse,pse,mse,gse,Mv,_se,yse);const Lv=t=>{if(t.gap!==void 0&&t.gap!==null){const e=vp(t.theme,"spacing",8),n=r=>({gap:wp(e,r)});return ni(t,t.gap,n)}return null};Lv.propTypes={};Lv.filterProps=["gap"];const $v=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=vp(t.theme,"spacing",8),n=r=>({columnGap:wp(e,r)});return ni(t,t.columnGap,n)}return null};$v.propTypes={};$v.filterProps=["columnGap"];const Fv=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=vp(t.theme,"spacing",8),n=r=>({rowGap:wp(e,r)});return ni(t,t.rowGap,n)}return null};Fv.propTypes={};Fv.filterProps=["rowGap"];const vse=Vt({prop:"gridColumn"}),wse=Vt({prop:"gridRow"}),Ese=Vt({prop:"gridAutoFlow"}),Ise=Vt({prop:"gridAutoColumns"}),Tse=Vt({prop:"gridAutoRows"}),bse=Vt({prop:"gridTemplateColumns"}),Sse=Vt({prop:"gridTemplateRows"}),Cse=Vt({prop:"gridTemplateAreas"}),Rse=Vt({prop:"gridArea"});Dv(Lv,$v,Fv,vse,wse,Ese,Ise,Tse,bse,Sse,Cse,Rse);function Lu(t,e){return e==="grey"?e:t}const xse=Vt({prop:"color",themeKey:"palette",transform:Lu}),Ase=Vt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Lu}),Pse=Vt({prop:"backgroundColor",themeKey:"palette",transform:Lu});Dv(xse,Ase,Pse);function Tr(t){return t<=1&&t!==0?`${t*100}%`:t}const kse=Vt({prop:"width",transform:Tr}),l1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||s1[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Tr(n)}};return ni(t,t.maxWidth,e)}return null};l1.filterProps=["maxWidth"];const Nse=Vt({prop:"minWidth",transform:Tr}),Ose=Vt({prop:"height",transform:Tr}),Dse=Vt({prop:"maxHeight",transform:Tr}),Mse=Vt({prop:"minHeight",transform:Tr});Vt({prop:"size",cssProperty:"width",transform:Tr});Vt({prop:"size",cssProperty:"height",transform:Tr});const Lse=Vt({prop:"boxSizing"});Dv(kse,l1,Nse,Ose,Dse,Mse,Lse);const $se={border:{themeKey:"borders",transform:qr},borderTop:{themeKey:"borders",transform:qr},borderRight:{themeKey:"borders",transform:qr},borderBottom:{themeKey:"borders",transform:qr},borderLeft:{themeKey:"borders",transform:qr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:qr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Mv},color:{themeKey:"palette",transform:Lu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Lu},backgroundColor:{themeKey:"palette",transform:Lu},p:{style:St},pt:{style:St},pr:{style:St},pb:{style:St},pl:{style:St},px:{style:St},py:{style:St},padding:{style:St},paddingTop:{style:St},paddingRight:{style:St},paddingBottom:{style:St},paddingLeft:{style:St},paddingX:{style:St},paddingY:{style:St},paddingInline:{style:St},paddingInlineStart:{style:St},paddingInlineEnd:{style:St},paddingBlock:{style:St},paddingBlockStart:{style:St},paddingBlockEnd:{style:St},m:{style:bt},mt:{style:bt},mr:{style:bt},mb:{style:bt},ml:{style:bt},mx:{style:bt},my:{style:bt},margin:{style:bt},marginTop:{style:bt},marginRight:{style:bt},marginBottom:{style:bt},marginLeft:{style:bt},marginX:{style:bt},marginY:{style:bt},marginInline:{style:bt},marginInlineStart:{style:bt},marginInlineEnd:{style:bt},marginBlock:{style:bt},marginBlockStart:{style:bt},marginBlockEnd:{style:bt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Lv},rowGap:{style:Fv},columnGap:{style:$v},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Tr},maxWidth:{style:l1},minWidth:{transform:Tr},height:{transform:Tr},maxHeight:{transform:Tr},minHeight:{transform:Tr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Vv=$se;function Fse(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Vse(t,e){return typeof t=="function"?t(e):t}function Use(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Ov(i,u)||{};return d?d(o):ni(o,r,p=>{let g=f_(h,c,p);return p===g&&typeof p=="string"&&(g=f_(h,c,`${n}${p==="default"?"":le(p)}`,p)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Vv;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=Xie(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=Vse(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=oh(h,t(f,p,s,o));else{const g=ni({theme:s},p,v=>({[f]:v}));Fse(g,p)?h[f]=e({sx:p,theme:s}):h=oh(h,g)}else h=oh(h,t(f,p,s,o))}),Jie(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Y4=Use();Y4.filterProps=["sx"];const Uv=Y4,jse=["breakpoints","palette","spacing","shape"];function jv(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=se(t,jse),a=Kie(n),l=ose(i);let u=hr({breakpoints:a,direction:"ltr",components:{},palette:S({mode:"light"},r),spacing:l,shape:S({},Yie,s)},o);return u=e.reduce((c,d)=>hr(c,d),u),u.unstable_sxConfig=S({},Vv,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Uv({sx:d,theme:this})},u}function Bse(t){return Object.keys(t).length===0}function zse(t=null){const e=E.useContext(JC);return!e||Bse(e)?t:e}const Wse=jv();function Bv(t=Wse){return zse(t)}function qse({styles:t,themeId:e,defaultTheme:n={}}){const r=Bv(n),i=typeof t=="function"?t(e&&r[e]||r):t;return I.jsx(Aie,{styles:i})}const Hse=["sx"],Gse=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Vv;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function u1(t){const{sx:e}=t,n=se(t,Hse),{systemProps:r,otherProps:i}=Gse(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return us(a)?S({},r,a):r}:s=S({},r,e),S({},i,{sx:s})}function X4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=X4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ue(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=X4(t))&&(r&&(r+=" "),r+=e);return r}const Kse=["className","component"];function Qse(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=z4("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Uv);return E.forwardRef(function(l,u){const c=Bv(n),d=u1(l),{className:h,component:f="div"}=d,p=se(d,Kse);return I.jsx(s,S({as:f,ref:u,className:ue(h,i?i(r):r),theme:e&&c[e]||c},p))})}const Yse=["variant"];function Mk(t){return t.length===0}function J4(t){const{variant:e}=t,n=se(t,Yse);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Mk(r)?t[i]:le(t[i]):r+=`${Mk(r)?i:le(i)}${le(t[i].toString())}`}),r}const Xse=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Jse(t){return Object.keys(t).length===0}function Zse(t){return typeof t=="string"&&t.charCodeAt(0)>96}const eoe=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,p_=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=J4(r.props),n[i]=r.style}),n},toe=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),p_(n)},m_=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let s=0;return n&&n.forEach(o=>{let a=!0;if(typeof o.props=="function"){const l=S({},t,r);a=o.props(l)}else Object.keys(o.props).forEach(l=>{r[l]!==o.props[l]&&t[l]!==o.props[l]&&(a=!1)});a&&(typeof o.props=="function"?i.push(e[`callback${s}`]):i.push(e[J4(o.props)])),typeof o.props=="function"&&(s+=1)}),i},noe=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return m_(t,e,s)};function ah(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const roe=jv(),ioe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Wm({defaultTheme:t,theme:e,themeId:n}){return Jse(e)?t:e[n]||e}function soe(t){return t?(e,n)=>n[t]:null}const Lk=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(S({},e,{theme:Wm(S({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=m_(e,p_(s),s);return[i,...o]}return i};function Z4(t={}){const{themeId:e,defaultTheme:n=roe,rootShouldForwardProp:r=ah,slotShouldForwardProp:i=ah}=t,s=o=>Uv(S({},o,{theme:Wm(S({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{Pie(o,w=>w.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=soe(ioe(u))}=a,f=se(a,Xse),p=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,g=d||!1;let v,m=ah;u==="Root"||u==="root"?m=r:u?m=i:Zse(o)&&(m=void 0);const _=z4(o,S({shouldForwardProp:m,label:v},f)),y=(w,...b)=>{const C=b?b.map(P=>{if(typeof P=="function"&&P.__emotion_real!==P)return L=>Lk({styledArg:P,props:L,defaultTheme:n,themeId:e});if(us(P)){let L=P,G;return P&&P.variants&&(G=P.variants,delete L.variants,L=F=>{let U=P;return m_(F,p_(G),G).forEach(Y=>{U=hr(U,Y)}),U}),L}return P}):[];let T=w;if(us(w)){let P;w&&w.variants&&(P=w.variants,delete T.variants,T=L=>{let G=w;return m_(L,p_(P),P).forEach(U=>{G=hr(G,U)}),G})}else typeof w=="function"&&w.__emotion_real!==w&&(T=P=>Lk({styledArg:w,props:P,defaultTheme:n,themeId:e}));l&&h&&C.push(P=>{const L=Wm(S({},P,{defaultTheme:n,themeId:e})),G=eoe(l,L);if(G){const F={};return Object.entries(G).forEach(([U,B])=>{F[U]=typeof B=="function"?B(S({},P,{theme:L})):B}),h(P,F)}return null}),l&&!p&&C.push(P=>{const L=Wm(S({},P,{defaultTheme:n,themeId:e}));return noe(P,toe(l,L),L,l)}),g||C.push(s);const A=C.length-b.length;if(Array.isArray(w)&&A>0){const P=new Array(A).fill("");T=[...w,...P],T.raw=[...w.raw,...P]}const M=_(T,...C);return o.muiName&&(M.muiName=o.muiName),M};return _.withConfig&&(y.withConfig=_.withConfig),y}}const ooe=Z4();function aoe(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:r1(e.components[n].defaultProps,r)}function ej({props:t,name:e,defaultTheme:n,themeId:r}){let i=Bv(n);return r&&(i=i[r]||i),aoe({theme:i,name:e,props:t})}function c1(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function loe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function pl(t){if(t.type)return t;if(t.charAt(0)==="#")return pl(loe(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(zo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(zo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function zv(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function uoe(t){t=pl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),zv({type:a,values:l})}function $k(t){t=pl(t);let e=t.type==="hsl"||t.type==="hsla"?pl(uoe(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function coe(t,e){const n=$k(t),r=$k(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Qr(t,e){return t=pl(t),e=c1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,zv(t)}function doe(t,e){if(t=pl(t),e=c1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return zv(t)}function hoe(t,e){if(t=pl(t),e=c1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return zv(t)}const foe=["className","component","disableGutters","fixed","maxWidth","classes"],poe=jv(),moe=ooe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${le(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),goe=t=>ej({props:t,name:"MuiContainer",defaultTheme:poe}),_oe=(t,e)=>{const n=l=>Ae(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${le(String(o))}`,i&&"fixed",s&&"disableGutters"]};return Ne(a,n,r)};function yoe(t={}){const{createStyledComponent:e=moe,useThemeProps:n=goe,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>S({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const c=u,d=o.breakpoints.values[c];return d!==0&&(l[o.breakpoints.up(c)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>S({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return E.forwardRef(function(a,l){const u=n(a),{className:c,component:d="div",disableGutters:h=!1,fixed:f=!1,maxWidth:p="lg"}=u,g=se(u,foe),v=S({},u,{component:d,disableGutters:h,fixed:f,maxWidth:p}),m=_oe(v,r);return I.jsx(i,S({as:d,ownerState:v,className:ue(m.root,c),ref:l},g))})}function voe(t,e){return S({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const woe=["mode","contrastThreshold","tonalOffset"],Fk={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ef.white,default:Ef.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},vw={text:{primary:Ef.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ef.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Vk(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=hoe(t.main,i):e==="dark"&&(t.dark=doe(t.main,s)))}function Eoe(t="light"){return t==="dark"?{main:Hl[200],light:Hl[50],dark:Hl[400]}:{main:Hl[700],light:Hl[400],dark:Hl[800]}}function Ioe(t="light"){return t==="dark"?{main:ql[200],light:ql[50],dark:ql[400]}:{main:ql[500],light:ql[300],dark:ql[700]}}function Toe(t="light"){return t==="dark"?{main:Wl[500],light:Wl[300],dark:Wl[700]}:{main:Wl[700],light:Wl[400],dark:Wl[800]}}function boe(t="light"){return t==="dark"?{main:Gl[400],light:Gl[300],dark:Gl[700]}:{main:Gl[700],light:Gl[500],dark:Gl[900]}}function Soe(t="light"){return t==="dark"?{main:Kl[400],light:Kl[300],dark:Kl[700]}:{main:Kl[800],light:Kl[500],dark:Kl[900]}}function Coe(t="light"){return t==="dark"?{main:fd[400],light:fd[300],dark:fd[700]}:{main:"#ed6c02",light:fd[500],dark:fd[900]}}function Roe(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=se(t,woe),s=t.primary||Eoe(e),o=t.secondary||Ioe(e),a=t.error||Toe(e),l=t.info||boe(e),u=t.success||Soe(e),c=t.warning||Coe(e);function d(g){return coe(g,vw.text.primary)>=n?vw.text.primary:Fk.text.primary}const h=({color:g,name:v,mainShade:m=500,lightShade:_=300,darkShade:y=700})=>{if(g=S({},g),!g.main&&g[m]&&(g.main=g[m]),!g.hasOwnProperty("main"))throw new Error(zo(11,v?` (${v})`:"",m));if(typeof g.main!="string")throw new Error(zo(12,v?` (${v})`:"",JSON.stringify(g.main)));return Vk(g,"light",_,r),Vk(g,"dark",y,r),g.contrastText||(g.contrastText=d(g.main)),g},f={dark:vw,light:Fk};return hr(S({common:S({},Ef),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:Rre,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const xoe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Aoe(t){return Math.round(t*1e5)/1e5}const Uk={textTransform:"uppercase"},jk='"Roboto", "Helvetica", "Arial", sans-serif';function Poe(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=jk,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=se(n,xoe),f=i/14,p=d||(m=>`${m/u*f}rem`),g=(m,_,y,w,b)=>S({fontFamily:r,fontWeight:m,fontSize:p(_),lineHeight:y},r===jk?{letterSpacing:`${Aoe(w/_)}em`}:{},b,c),v={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,Uk),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,Uk),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return hr(S({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),h,{clone:!1})}const koe=.2,Noe=.14,Ooe=.12;function ft(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${koe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Noe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Ooe})`].join(",")}const Doe=["none",ft(0,2,1,-1,0,1,1,0,0,1,3,0),ft(0,3,1,-2,0,2,2,0,0,1,5,0),ft(0,3,3,-2,0,3,4,0,0,1,8,0),ft(0,2,4,-1,0,4,5,0,0,1,10,0),ft(0,3,5,-1,0,5,8,0,0,1,14,0),ft(0,3,5,-1,0,6,10,0,0,1,18,0),ft(0,4,5,-2,0,7,10,1,0,2,16,1),ft(0,5,5,-3,0,8,10,1,0,3,14,2),ft(0,5,6,-3,0,9,12,1,0,3,16,2),ft(0,6,6,-3,0,10,14,1,0,4,18,3),ft(0,6,7,-4,0,11,15,1,0,4,20,3),ft(0,7,8,-4,0,12,17,2,0,5,22,4),ft(0,7,8,-4,0,13,19,2,0,5,24,4),ft(0,7,9,-4,0,14,21,2,0,5,26,4),ft(0,8,9,-5,0,15,22,2,0,6,28,5),ft(0,8,10,-5,0,16,24,2,0,6,30,5),ft(0,8,11,-5,0,17,26,2,0,6,32,5),ft(0,9,11,-5,0,18,28,2,0,7,34,6),ft(0,9,12,-6,0,19,29,2,0,7,36,6),ft(0,10,13,-6,0,20,31,3,0,8,38,7),ft(0,10,13,-6,0,21,33,3,0,8,40,7),ft(0,10,14,-6,0,22,35,3,0,8,42,7),ft(0,11,14,-7,0,23,36,3,0,9,44,8),ft(0,11,15,-7,0,24,38,3,0,9,46,8)],Moe=["duration","easing","delay"],Loe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$oe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Bk(t){return`${Math.round(t)}ms`}function Foe(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Voe(t){const e=S({},Loe,t.easing),n=S({},$oe,t.duration);return S({getAutoHeightDuration:Foe,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return se(s,Moe),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:Bk(o)} ${a} ${typeof l=="string"?l:Bk(l)}`).join(",")}},t,{easing:e,duration:n})}const Uoe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},joe=Uoe,Boe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function tj(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=se(t,Boe);if(t.vars)throw new Error(zo(18));const a=Roe(r),l=jv(t);let u=hr(l,{mixins:voe(l.breakpoints,n),palette:a,shadows:Doe.slice(),typography:Poe(a,s),transitions:Voe(i),zIndex:S({},joe)});return u=hr(u,o),u=e.reduce((c,d)=>hr(c,d),u),u.unstable_sxConfig=S({},Vv,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Uv({sx:d,theme:this})},u}const zoe=tj(),Wv=zoe;function Ep(){const t=Bv(Wv);return t[gp]||t}function Oe({props:t,name:e}){return ej({props:t,name:e,defaultTheme:Wv,themeId:gp})}const si=t=>ah(t)&&t!=="classes",Woe=ah,re=Z4({themeId:gp,defaultTheme:Wv,rootShouldForwardProp:si}),zk=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function qoe(t){return Ae("MuiSvgIcon",t)}Ie("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Hoe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Goe=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${le(e)}`,`fontSize${le(n)}`]};return Ne(i,qoe,r)},Koe=re("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${le(n.color)}`],e[`fontSize${le(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),GI=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=se(r,Hoe),p=E.isValidElement(i)&&i.type==="svg",g=S({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p}),v={};c||(v.viewBox=h);const m=Goe(g);return I.jsxs(Koe,S({as:a,className:ue(m.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},v,f,p&&i.props,{ownerState:g,children:[p?i.props.children:i,d?I.jsx("title",{children:d}):null]}))});GI.muiName="SvgIcon";function d1(t,e){function n(r,i){return I.jsx(GI,S({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=GI.muiName,E.memo(E.forwardRef(n))}const Qoe={configure:t=>{i1.configure(t)}},Yoe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:le,createChainedFunction:WI,createSvgIcon:d1,debounce:n1,deprecatedPropType:Oie,isMuiElement:zm,ownerDocument:fr,ownerWindow:Wo,requirePropFactory:Die,setRef:h_,unstable_ClassNameGenerator:Qoe,unstable_useEnhancedEffect:Ns,unstable_useId:Pv,unsupportedProp:Lie,useControlled:qI,useEventCallback:Da,useForkRef:Mn,useIsFocusVisible:H4},Symbol.toStringTag,{value:"Module"}));function KI(t,e){return KI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KI(t,e)}function nj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,KI(t,e)}const Wk={disabled:!1},g_=rr.createContext(null);var Xoe=function(e){return e.scrollTop},Md="unmounted",ma="exited",ga="entering",nu="entered",QI="exiting",Us=function(t){nj(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ma,s.appearStatus=ga):l=nu:r.unmountOnExit||r.mountOnEnter?l=Md:l=ma,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Md?{status:ma}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ga&&o!==nu&&(s=ga):(o===ga||o===nu)&&(s=QI)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ga){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Wp.findDOMNode(this);o&&Xoe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ma&&this.setState({status:Md})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Wp.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||Wk.disabled){this.safeSetState({status:nu},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:ga},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:nu},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Wp.findDOMNode(this);if(!s||Wk.disabled){this.safeSetState({status:ma},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:QI},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ma},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Wp.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Md)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=se(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return rr.createElement(g_.Provider,{value:null},typeof o=="function"?o(i,a):rr.cloneElement(rr.Children.only(o),a))},e}(rr.Component);Us.contextType=g_;Us.propTypes={};function Ql(){}Us.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ql,onEntering:Ql,onEntered:Ql,onExit:Ql,onExiting:Ql,onExited:Ql};Us.UNMOUNTED=Md;Us.EXITED=ma;Us.ENTERING=ga;Us.ENTERED=nu;Us.EXITING=QI;const rj=Us;function Joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h1(t,e){var n=function(s){return e&&E.isValidElement(s)?e(s):s},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Zoe(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ma(t,e,n){return n[e]!=null?n[e]:t.props[e]}function eae(t,e){return h1(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ma(n,"appear",t),enter:Ma(n,"enter",t),exit:Ma(n,"exit",t)})})}function tae(t,e,n){var r=h1(t.children),i=Zoe(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(E.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=E.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ma(o,"exit",t),enter:Ma(o,"enter",t)}):!l&&a&&!c?i[s]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(u)&&(i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Ma(o,"exit",t),enter:Ma(o,"enter",t)}))}}),i}var nae=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},rae={component:"div",childFactory:function(e){return e}},f1=function(t){nj(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Joe(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?eae(i,a):tae(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=h1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=S({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=se(i,["component","childFactory"]),l=this.state.contextValue,u=nae(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?rr.createElement(g_.Provider,{value:l},u):rr.createElement(g_.Provider,{value:l},rr.createElement(s,a,u))},e}(rr.Component);f1.propTypes={};f1.defaultProps=rae;const iae=f1,ij=t=>t.scrollTop;function __(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function sae(t){return Ae("MuiPaper",t)}Ie("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const oae=["className","component","elevation","square","variant"],aae=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ne(s,sae,i)},lae=re("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return S({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&S({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Qr("#fff",zk(e.elevation))}, ${Qr("#fff",zk(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),uae=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=se(r,oae),c=S({},r,{component:s,elevation:o,square:a,variant:l}),d=aae(c);return I.jsx(lae,S({as:s,ownerState:c,className:ue(d.root,i),ref:n},u))}),Ip=uae;function cae(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=E.useState(!1),h=ue(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=ue(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),E.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),I.jsx("span",{className:h,style:f,children:I.jsx("span",{className:p})})}const Br=Ie("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),dae=["center","classes","className"];let qv=t=>t,qk,Hk,Gk,Kk;const YI=550,hae=80,fae=yp(qk||(qk=qv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),pae=yp(Hk||(Hk=qv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),mae=yp(Gk||(Gk=qv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),gae=re("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),_ae=re(cae,{name:"MuiTouchRipple",slot:"Ripple"})(Kk||(Kk=qv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Br.rippleVisible,fae,YI,({theme:t})=>t.transitions.easing.easeInOut,Br.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Br.child,Br.childLeaving,pae,YI,({theme:t})=>t.transitions.easing.easeInOut,Br.childPulsate,mae,({theme:t})=>t.transitions.easing.easeInOut),yae=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=se(r,dae),[l,u]=E.useState([]),c=E.useRef(0),d=E.useRef(null);E.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=E.useRef(!1),f=E.useRef(0),p=E.useRef(null),g=E.useRef(null);E.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const v=E.useCallback(w=>{const{pulsate:b,rippleX:C,rippleY:T,rippleSize:A,cb:M}=w;u(P=>[...P,I.jsx(_ae,{classes:{ripple:ue(s.ripple,Br.ripple),rippleVisible:ue(s.rippleVisible,Br.rippleVisible),ripplePulsate:ue(s.ripplePulsate,Br.ripplePulsate),child:ue(s.child,Br.child),childLeaving:ue(s.childLeaving,Br.childLeaving),childPulsate:ue(s.childPulsate,Br.childPulsate)},timeout:YI,pulsate:b,rippleX:C,rippleY:T,rippleSize:A},c.current)]),c.current+=1,d.current=M},[s]),m=E.useCallback((w={},b={},C=()=>{})=>{const{pulsate:T=!1,center:A=i||b.pulsate,fakeElement:M=!1}=b;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const P=M?null:g.current,L=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let G,F,U;if(A||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)G=Math.round(L.width/2),F=Math.round(L.height/2);else{const{clientX:B,clientY:Y}=w.touches&&w.touches.length>0?w.touches[0]:w;G=Math.round(B-L.left),F=Math.round(Y-L.top)}if(A)U=Math.sqrt((2*L.width**2+L.height**2)/3),U%2===0&&(U+=1);else{const B=Math.max(Math.abs((P?P.clientWidth:0)-G),G)*2+2,Y=Math.max(Math.abs((P?P.clientHeight:0)-F),F)*2+2;U=Math.sqrt(B**2+Y**2)}w!=null&&w.touches?p.current===null&&(p.current=()=>{v({pulsate:T,rippleX:G,rippleY:F,rippleSize:U,cb:C})},f.current=setTimeout(()=>{p.current&&(p.current(),p.current=null)},hae)):v({pulsate:T,rippleX:G,rippleY:F,rippleSize:U,cb:C})},[i,v]),_=E.useCallback(()=>{m({},{pulsate:!0})},[m]),y=E.useCallback((w,b)=>{if(clearTimeout(f.current),(w==null?void 0:w.type)==="touchend"&&p.current){p.current(),p.current=null,f.current=setTimeout(()=>{y(w,b)});return}p.current=null,u(C=>C.length>0?C.slice(1):C),d.current=b},[]);return E.useImperativeHandle(n,()=>({pulsate:_,start:m,stop:y}),[_,m,y]),I.jsx(gae,S({className:ue(Br.root,s.root,o),ref:g},a,{children:I.jsx(iae,{component:null,exit:!0,children:l})}))}),vae=yae;function wae(t){return Ae("MuiButtonBase",t)}const Eae=Ie("MuiButtonBase",["root","disabled","focusVisible"]),Iae=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Tae=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Ne({root:["root",e&&"disabled",n&&"focusVisible"]},wae,i);return n&&r&&(o.root+=` ${r}`),o},bae=re("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Eae.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Sae=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:v,onDragLeave:m,onFocus:_,onFocusVisible:y,onKeyDown:w,onKeyUp:b,onMouseDown:C,onMouseLeave:T,onMouseUp:A,onTouchEnd:M,onTouchMove:P,onTouchStart:L,tabIndex:G=0,TouchRippleProps:F,touchRippleRef:U,type:B}=r,Y=se(r,Iae),Z=E.useRef(null),N=E.useRef(null),z=Mn(N,U),{isFocusVisibleRef:X,onFocus:ve,onBlur:he,ref:Be}=H4(),[fe,Pe]=E.useState(!1);u&&fe&&Pe(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{Pe(!0),Z.current.focus()}}),[]);const[ke,yt]=E.useState(!1);E.useEffect(()=>{yt(!0)},[]);const Xt=ke&&!c&&!u;E.useEffect(()=>{fe&&h&&!c&&ke&&N.current.pulsate()},[c,h,fe,ke]);function ht(oe,yr,is=d){return Da(sa=>(yr&&yr(sa),!is&&N.current&&N.current[oe](sa),!0))}const fn=ht("start",C),De=ht("stop",v),it=ht("stop",m),we=ht("stop",A),ze=ht("stop",oe=>{fe&&oe.preventDefault(),T&&T(oe)}),Ze=ht("start",L),Ci=ht("stop",M),Yn=ht("stop",P),Xn=ht("stop",oe=>{he(oe),X.current===!1&&Pe(!1),p&&p(oe)},!1),Ln=Da(oe=>{Z.current||(Z.current=oe.currentTarget),ve(oe),X.current===!0&&(Pe(!0),y&&y(oe)),_&&_(oe)}),Jn=()=>{const oe=Z.current;return l&&l!=="button"&&!(oe.tagName==="A"&&oe.href)},st=E.useRef(!1),x=Da(oe=>{h&&!st.current&&fe&&N.current&&oe.key===" "&&(st.current=!0,N.current.stop(oe,()=>{N.current.start(oe)})),oe.target===oe.currentTarget&&Jn()&&oe.key===" "&&oe.preventDefault(),w&&w(oe),oe.target===oe.currentTarget&&Jn()&&oe.key==="Enter"&&!u&&(oe.preventDefault(),g&&g(oe))}),q=Da(oe=>{h&&oe.key===" "&&N.current&&fe&&!oe.defaultPrevented&&(st.current=!1,N.current.stop(oe,()=>{N.current.pulsate(oe)})),b&&b(oe),g&&oe.target===oe.currentTarget&&Jn()&&oe.key===" "&&!oe.defaultPrevented&&g(oe)});let W=l;W==="button"&&(Y.href||Y.to)&&(W=f);const ne={};W==="button"?(ne.type=B===void 0?"button":B,ne.disabled=u):(!Y.href&&!Y.to&&(ne.role="button"),u&&(ne["aria-disabled"]=u));const pe=Mn(n,Be,Z),Ee=S({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:G,focusVisible:fe}),me=Tae(Ee);return I.jsxs(bae,S({as:W,className:ue(me.root,a),ownerState:Ee,onBlur:Xn,onClick:g,onContextMenu:De,onFocus:Ln,onKeyDown:x,onKeyUp:q,onMouseDown:fn,onMouseLeave:ze,onMouseUp:we,onDragLeave:it,onTouchEnd:Ci,onTouchMove:Yn,onTouchStart:Ze,ref:pe,tabIndex:u?-1:G,type:B},ne,Y,{children:[o,Xt?I.jsx(vae,S({ref:z,center:s},F)):null]}))}),p1=Sae;function Cae(t){return Ae("MuiIconButton",t)}const Rae=Ie("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),xae=["edge","children","className","color","disabled","disableFocusRipple","size"],Aae=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${le(r)}`,i&&`edge${le(i)}`,`size${le(s)}`]};return Ne(o,Cae,e)},Pae=re(p1,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${le(n.color)}`],n.edge&&e[`edge${le(n.edge)}`],e[`size${le(n.size)}`]]}})(({theme:t,ownerState:e})=>S({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Qr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return S({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&S({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":S({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Rae.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),kae=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=se(r,xae),h=S({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),f=Aae(h);return I.jsx(Pae,S({className:ue(f.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),ww=kae;function Nae(t){return Ae("MuiTypography",t)}Ie("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Oae=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Dae=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${le(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ne(a,Nae,o)},Mae=re("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${le(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>S({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Qk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Lae={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$ae=t=>Lae[t]||t,Fae=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiTypography"}),i=$ae(r.color),s=u1(S({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=Qk}=s,p=se(s,Oae),g=S({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),v=l||(d?"p":f[h]||Qk[h])||"span",m=Dae(g);return I.jsx(Mae,S({as:v,ref:n,ownerState:g,className:ue(m.root,a)},p))}),We=Fae;function Vae(t){return Ae("MuiAppBar",t)}Ie("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Uae=["className","color","enableColorOnDark","position"],jae=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${le(e)}`,`position${le(n)}`]};return Ne(i,Vae,r)},cm=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Bae=re(Ip,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${le(n.position)}`],e[`color${le(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return S({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&S({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&S({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&S({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:cm(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:cm(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:cm(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:cm(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),zae=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=se(r,Uae),u=S({},r,{color:s,position:a,enableColorOnDark:o}),c=jae(u);return I.jsx(Bae,S({square:!0,component:"header",ownerState:u,elevation:4,className:ue(c.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),Wae=zae;function y_(t){return typeof t=="string"}function qae(t,e,n){return t===void 0||y_(t)?e:S({},e,{ownerState:S({},e.ownerState,n)})}function sj(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Hae(t,e,n){return typeof t=="function"?t(e,n):t}function Yk(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Gae(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=ue(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=S({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=S({},n,i,r);return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=sj(S({},i,r)),a=Yk(r),l=Yk(i),u=e(o),c=ue(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=S({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=S({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const Kae=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function pc(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=se(t,Kae),a=s?{}:Hae(r,i),{props:l,internalRef:u}=Gae(S({},o,{externalSlotProps:a})),c=Mn(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return qae(n,S({},l,{ref:c}),i)}const Qae=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Yae(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Xae(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Jae(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Xae(t))}function Zae(t){const e=[],n=[];return Array.from(t.querySelectorAll(Qae)).forEach((r,i)=>{const s=Yae(r);s===-1||!Jae(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function ele(){return!0}function tle(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Zae,isEnabled:o=ele,open:a}=t,l=E.useRef(!1),u=E.useRef(null),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=E.useRef(!1),p=E.useRef(null),g=Mn(e.ref,p),v=E.useRef(null);E.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!p.current)return;const y=fr(p.current);return p.current.contains(y.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),E.useEffect(()=>{if(!a||!p.current)return;const y=fr(p.current),w=T=>{v.current=T,!(r||!o()||T.key!=="Tab")&&y.activeElement===p.current&&T.shiftKey&&(l.current=!0,c.current&&c.current.focus())},b=()=>{const T=p.current;if(T===null)return;if(!y.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(y.activeElement)||r&&y.activeElement!==u.current&&y.activeElement!==c.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let A=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(A=s(p.current)),A.length>0){var M,P;const L=!!((M=v.current)!=null&&M.shiftKey&&((P=v.current)==null?void 0:P.key)==="Tab"),G=A[0],F=A[A.length-1];typeof G!="string"&&typeof F!="string"&&(L?F.focus():G.focus())}else T.focus()};y.addEventListener("focusin",b),y.addEventListener("keydown",w,!0);const C=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&b()},50);return()=>{clearInterval(C),y.removeEventListener("focusin",b),y.removeEventListener("keydown",w,!0)}},[n,r,i,o,a,s]);const m=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0,h.current=y.target;const w=e.props.onFocus;w&&w(y)},_=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0};return I.jsxs(E.Fragment,{children:[I.jsx("div",{tabIndex:a?0:-1,onFocus:_,ref:u,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:g,onFocus:m}),I.jsx("div",{tabIndex:a?0:-1,onFocus:_,ref:c,"data-testid":"sentinelEnd"})]})}function nle(t){return typeof t=="function"?t():t}const rle=E.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=E.useState(null),l=Mn(E.isValidElement(r)?r.ref:null,n);if(Ns(()=>{s||a(nle(i)||document.body)},[i,s]),Ns(()=>{if(o&&!s)return h_(n,o),()=>{h_(n,null)}},[n,o,s]),s){if(E.isValidElement(r)){const u={ref:l};return E.cloneElement(r,u)}return I.jsx(E.Fragment,{children:r})}return I.jsx(E.Fragment,{children:o&&j_.createPortal(r,o)})});function ile(t){const e=fr(t);return e.body===t?Wo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function lh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Xk(t){return parseInt(Wo(t).getComputedStyle(t).paddingRight,10)||0}function sle(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Jk(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!sle(o);a&&l&&lh(o,i)})}function Ew(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function ole(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(ile(r)){const o=G4(fr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Xk(r)+o}px`;const a=fr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Xk(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=fr(r).body;else{const o=r.parentElement,a=Wo(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function ale(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class lle{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&lh(e.modalRef,!1);const i=ale(n);Jk(n,e.mount,e.modalRef,i,!0);const s=Ew(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Ew(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=ole(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Ew(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&lh(e.modalRef,n),Jk(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&lh(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function ule(t){return typeof t=="function"?t():t}function cle(t){return t?t.props.hasOwnProperty("in"):!1}const dle=new lle;function hle(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=dle,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=E.useRef({}),f=E.useRef(null),p=E.useRef(null),g=Mn(p,d),[v,m]=E.useState(!c),_=cle(l);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const w=()=>fr(f.current),b=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),C=()=>{i.mount(b(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},T=Da(()=>{const Y=ule(e)||w().body;i.add(b(),Y),p.current&&C()}),A=E.useCallback(()=>i.isTopModal(b()),[i]),M=Da(Y=>{f.current=Y,Y&&(c&&A()?C():p.current&&lh(p.current,y))}),P=E.useCallback(()=>{i.remove(b(),y)},[y,i]);E.useEffect(()=>()=>{P()},[P]),E.useEffect(()=>{c?T():(!_||!s)&&P()},[c,P,_,s,T]);const L=Y=>Z=>{var N;(N=Y.onKeyDown)==null||N.call(Y,Z),!(Z.key!=="Escape"||Z.which===229||!A())&&(n||(Z.stopPropagation(),u&&u(Z,"escapeKeyDown")))},G=Y=>Z=>{var N;(N=Y.onClick)==null||N.call(Y,Z),Z.target===Z.currentTarget&&u&&u(Z,"backdropClick")};return{getRootProps:(Y={})=>{const Z=sj(t);delete Z.onTransitionEnter,delete Z.onTransitionExited;const N=S({},Z,Y);return S({role:"presentation"},N,{onKeyDown:L(N),ref:g})},getBackdropProps:(Y={})=>{const Z=Y;return S({"aria-hidden":!0},Z,{onClick:G(Z),open:c})},getTransitionProps:()=>{const Y=()=>{m(!1),o&&o()},Z=()=>{m(!0),a&&a(),s&&P()};return{onEnter:WI(Y,l==null?void 0:l.props.onEnter),onExited:WI(Z,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:M,isTopModal:A,exited:v,hasTransition:_}}const fle=["onChange","maxRows","minRows","style","value"];function dm(t){return parseInt(t,10)||0}const ple={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Zk(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const mle=E.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=se(e,fle),{current:u}=E.useRef(a!=null),c=E.useRef(null),d=Mn(n,c),h=E.useRef(null),f=E.useRef(0),[p,g]=E.useState({outerHeightStyle:0}),v=E.useCallback(()=>{const w=c.current,C=Wo(w).getComputedStyle(w);if(C.width==="0px")return{outerHeightStyle:0};const T=h.current;T.style.width=C.width,T.value=w.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const A=C.boxSizing,M=dm(C.paddingBottom)+dm(C.paddingTop),P=dm(C.borderBottomWidth)+dm(C.borderTopWidth),L=T.scrollHeight;T.value="x";const G=T.scrollHeight;let F=L;s&&(F=Math.max(Number(s)*G,F)),i&&(F=Math.min(Number(i)*G,F)),F=Math.max(F,G);const U=F+(A==="border-box"?M+P:0),B=Math.abs(F-L)<=1;return{outerHeightStyle:U,overflow:B}},[i,s,e.placeholder]),m=(w,b)=>{const{outerHeightStyle:C,overflow:T}=b;return f.current<20&&(C>0&&Math.abs((w.outerHeightStyle||0)-C)>1||w.overflow!==T)?(f.current+=1,{overflow:T,outerHeightStyle:C}):w},_=E.useCallback(()=>{const w=v();Zk(w)||g(b=>m(b,w))},[v]);Ns(()=>{const w=()=>{const L=v();Zk(L)||j_.flushSync(()=>{g(G=>m(G,L))})},b=()=>{f.current=0,w()};let C;const T=n1(b),A=c.current,M=Wo(A);M.addEventListener("resize",T);let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(b),P.observe(A)),()=>{T.clear(),cancelAnimationFrame(C),M.removeEventListener("resize",T),P&&P.disconnect()}},[v]),Ns(()=>{_()}),E.useEffect(()=>{f.current=0},[a]);const y=w=>{f.current=0,u||_(),r&&r(w)};return I.jsxs(E.Fragment,{children:[I.jsx("textarea",S({value:a,onChange:y,ref:d,rows:s,style:S({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},o)},l)),I.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:S({},ple.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function jc({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const gle=E.createContext(void 0),m1=gle;function Bc(){return E.useContext(m1)}function _le(t){return I.jsx(qse,S({},t,{defaultTheme:Wv,themeId:gp}))}function eN(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function v_(t,e=!1){return t&&(eN(t.value)&&t.value!==""||e&&eN(t.defaultValue)&&t.defaultValue!=="")}function yle(t){return t.startAdornment}function vle(t){return Ae("MuiInputBase",t)}const wle=Ie("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),mc=wle,Ele=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Hv=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${le(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Gv=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Ile=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,g={root:["root",`color${le(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${le(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Ne(g,vle,e)},Kv=re("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Hv})(({theme:t,ownerState:e})=>S({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${mc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&S({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Qv=re("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Gv})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=S({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return S({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${mc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${mc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Tle=I.jsx(_le,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),ble=E.forwardRef(function(e,n){var r;const i=Oe({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:g=!1,id:v,inputComponent:m="input",inputProps:_={},inputRef:y,maxRows:w,minRows:b,multiline:C=!1,name:T,onBlur:A,onChange:M,onClick:P,onFocus:L,onKeyDown:G,onKeyUp:F,placeholder:U,readOnly:B,renderSuffix:Y,rows:Z,slotProps:N={},slots:z={},startAdornment:X,type:ve="text",value:he}=i,Be=se(i,Ele),fe=_.value!=null?_.value:he,{current:Pe}=E.useRef(fe!=null),ke=E.useRef(),yt=E.useCallback(me=>{},[]),Xt=Mn(ke,y,_.ref,yt),[ht,fn]=E.useState(!1),De=Bc(),it=jc({props:i,muiFormControl:De,states:["color","disabled","error","hiddenLabel","size","required","filled"]});it.focused=De?De.focused:ht,E.useEffect(()=>{!De&&h&&ht&&(fn(!1),A&&A())},[De,h,ht,A]);const we=De&&De.onFilled,ze=De&&De.onEmpty,Ze=E.useCallback(me=>{v_(me)?we&&we():ze&&ze()},[we,ze]);Ns(()=>{Pe&&Ze({value:fe})},[fe,Ze,Pe]);const Ci=me=>{if(it.disabled){me.stopPropagation();return}L&&L(me),_.onFocus&&_.onFocus(me),De&&De.onFocus?De.onFocus(me):fn(!0)},Yn=me=>{A&&A(me),_.onBlur&&_.onBlur(me),De&&De.onBlur?De.onBlur(me):fn(!1)},Xn=(me,...oe)=>{if(!Pe){const yr=me.target||ke.current;if(yr==null)throw new Error(zo(1));Ze({value:yr.value})}_.onChange&&_.onChange(me,...oe),M&&M(me,...oe)};E.useEffect(()=>{Ze(ke.current)},[]);const Ln=me=>{ke.current&&me.currentTarget===me.target&&ke.current.focus(),P&&P(me)};let Jn=m,st=_;C&&Jn==="input"&&(Z?st=S({type:void 0,minRows:Z,maxRows:Z},st):st=S({type:void 0,maxRows:w,minRows:b},st),Jn=mle);const x=me=>{Ze(me.animationName==="mui-auto-fill-cancel"?ke.current:{value:"x"})};E.useEffect(()=>{De&&De.setAdornedStart(!!X)},[De,X]);const q=S({},i,{color:it.color||"primary",disabled:it.disabled,endAdornment:p,error:it.error,focused:it.focused,formControl:De,fullWidth:g,hiddenLabel:it.hiddenLabel,multiline:C,size:it.size,startAdornment:X,type:ve}),W=Ile(q),ne=z.root||u.Root||Kv,pe=N.root||c.root||{},Ee=z.input||u.Input||Qv;return st=S({},st,(r=N.input)!=null?r:c.input),I.jsxs(E.Fragment,{children:[!f&&Tle,I.jsxs(ne,S({},pe,!y_(ne)&&{ownerState:S({},q,pe.ownerState)},{ref:n,onClick:Ln},Be,{className:ue(W.root,pe.className,l,B&&"MuiInputBase-readOnly"),children:[X,I.jsx(m1.Provider,{value:null,children:I.jsx(Ee,S({ownerState:q,"aria-invalid":it.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:it.disabled,id:v,onAnimationStart:x,name:T,placeholder:U,readOnly:B,required:it.required,rows:Z,value:fe,onKeyDown:G,onKeyUp:F,type:ve},st,!y_(Ee)&&{as:Jn,ownerState:S({},q,st.ownerState)},{ref:Xt,className:ue(W.input,st.className,B&&"MuiInputBase-readOnly"),onBlur:Yn,onChange:Xn,onFocus:Ci}))}),p,Y?Y(S({},it,{startAdornment:X})):null]}))]})}),g1=ble;function Sle(t){return Ae("MuiInput",t)}const Cle=S({},mc,Ie("MuiInput",["root","underline","input"])),md=Cle;function Rle(t){return Ae("MuiOutlinedInput",t)}const xle=S({},mc,Ie("MuiOutlinedInput",["root","notchedOutline","input"])),Gs=xle;function Ale(t){return Ae("MuiFilledInput",t)}const Ple=S({},mc,Ie("MuiFilledInput",["root","underline","input"])),aa=Ple,kle=d1(I.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Nle=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Ole={entering:{opacity:1},entered:{opacity:1}},Dle=E.forwardRef(function(e,n){const r=Ep(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:g,style:v,timeout:m=i,TransitionComponent:_=rj}=e,y=se(e,Nle),w=E.useRef(null),b=Mn(w,a.ref,n),C=U=>B=>{if(U){const Y=w.current;B===void 0?U(Y):U(Y,B)}},T=C(h),A=C((U,B)=>{ij(U);const Y=__({style:v,timeout:m,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",Y),U.style.transition=r.transitions.create("opacity",Y),c&&c(U,B)}),M=C(d),P=C(g),L=C(U=>{const B=__({style:v,timeout:m,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",B),U.style.transition=r.transitions.create("opacity",B),f&&f(U)}),G=C(p),F=U=>{s&&s(w.current,U)};return I.jsx(_,S({appear:o,in:u,nodeRef:w,onEnter:A,onEntered:M,onEntering:T,onExit:L,onExited:G,onExiting:P,addEndListener:F,timeout:m},y,{children:(U,B)=>E.cloneElement(a,S({style:S({opacity:0,visibility:U==="exited"&&!u?"hidden":void 0},Ole[U],v,a.props.style),ref:b},B))}))}),oj=Dle;function Mle(t){return Ae("MuiBackdrop",t)}Ie("MuiBackdrop",["root","invisible"]);const Lle=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],$le=t=>{const{classes:e,invisible:n}=t;return Ne({root:["root",n&&"invisible"]},Mle,e)},Fle=re("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>S({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Vle=E.forwardRef(function(e,n){var r,i,s;const o=Oe({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:p={},slots:g={},TransitionComponent:v=oj,transitionDuration:m}=o,_=se(o,Lle),y=S({},o,{component:u,invisible:h}),w=$le(y),b=(r=p.root)!=null?r:d.root;return I.jsx(v,S({in:f,timeout:m},_,{children:I.jsx(Fle,S({"aria-hidden":!0},b,{as:(i=(s=g.root)!=null?s:c.Root)!=null?i:u,className:ue(w.root,l,b==null?void 0:b.className),ownerState:S({},y,b==null?void 0:b.ownerState),classes:w,ref:n,children:a}))}))}),aj=Vle,Ule=Ie("MuiBox",["root"]),jle=Ule,Ble=tj(),zle=Qse({themeId:gp,defaultTheme:Ble,defaultClassName:jle.root,generateClassName:i1.generate}),Wle=zle;function qle(t){return Ae("MuiButton",t)}const Hle=Ie("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),hm=Hle,Gle=E.createContext({}),Kle=Gle,Qle=E.createContext(void 0),Yle=Qle,Xle=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Jle=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${le(e)}`,`size${le(i)}`,`${s}Size${le(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${le(i)}`],endIcon:["endIcon",`iconSize${le(i)}`]},l=Ne(a,qle,o);return S({},o,l)},lj=t=>S({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Zle=re(p1,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${le(n.color)}`],e[`size${le(n.size)}`],e[`${n.variant}Size${le(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return S({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":S({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Qr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":S({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${hm.focusVisible}`]:S({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${hm.disabled}`]:S({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Qr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${hm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${hm.disabled}`]:{boxShadow:"none"}}),eue=re("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${le(n.size)}`]]}})(({ownerState:t})=>S({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},lj(t))),tue=re("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${le(n.size)}`]]}})(({ownerState:t})=>S({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},lj(t))),nue=E.forwardRef(function(e,n){const r=E.useContext(Kle),i=E.useContext(Yle),s=r1(r,e),o=Oe({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:g,fullWidth:v=!1,size:m="medium",startIcon:_,type:y,variant:w="text"}=o,b=se(o,Xle),C=S({},o,{color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:v,size:m,type:y,variant:w}),T=Jle(C),A=_&&I.jsx(eue,{className:T.startIcon,ownerState:C,children:_}),M=p&&I.jsx(tue,{className:T.endIcon,ownerState:C,children:p}),P=i||"";return I.jsxs(Zle,S({ownerState:C,className:ue(r.className,T.root,c,P),component:u,disabled:d,focusRipple:!f,focusVisibleClassName:ue(T.focusVisible,g),ref:n,type:y},b,{classes:T,children:[A,a,M]}))}),Nr=nue;function rue(t){return Ae("MuiCard",t)}Ie("MuiCard",["root"]);const iue=["className","raised"],sue=t=>{const{classes:e}=t;return Ne({root:["root"]},rue,e)},oue=re(Ip,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),aue=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=se(r,iue),a=S({},r,{raised:s}),l=sue(a);return I.jsx(oue,S({className:ue(l.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))}),Tp=aue;function lue(t){return Ae("MuiCardContent",t)}Ie("MuiCardContent",["root"]);const uue=["className","component"],cue=t=>{const{classes:e}=t;return Ne({root:["root"]},lue,e)},due=re("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),hue=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=se(r,uue),a=S({},r,{component:s}),l=cue(a);return I.jsx(due,S({as:s,className:ue(l.root,i),ownerState:a,ref:n},o))}),bp=hue;function fue(t){return Ae("MuiCardMedia",t)}Ie("MuiCardMedia",["root","media","img"]);const pue=["children","className","component","image","src","style"],mue=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Ne({root:["root",n&&"media",r&&"img"]},fue,e)},gue=re("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>S({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),_ue=["video","audio","picture","iframe","img"],yue=["picture","img"],vue=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:l,style:u}=r,c=se(r,pue),d=_ue.indexOf(o)!==-1,h=!d&&a?S({backgroundImage:`url("${a}")`},u):u,f=S({},r,{component:o,isMediaComponent:d,isImageComponent:yue.indexOf(o)!==-1}),p=mue(f);return I.jsx(gue,S({className:ue(p.root,s),as:o,role:!d&&a?"img":void 0,ref:n,style:h,ownerState:f,src:d?a||l:void 0},c,{children:i}))}),uj=vue;function wue(t){return Ae("MuiCircularProgress",t)}Ie("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Eue=["className","color","disableShrink","size","style","thickness","value","variant"];let Yv=t=>t,tN,nN,rN,iN;const Ks=44,Iue=yp(tN||(tN=Yv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Tue=yp(nN||(nN=Yv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),bue=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${le(r)}`],svg:["svg"],circle:["circle",`circle${le(n)}`,i&&"circleDisableShrink"]};return Ne(s,wue,e)},Sue=re("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${le(n.color)}`]]}})(({ownerState:t,theme:e})=>S({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&ZC(rN||(rN=Yv`
      animation: ${0} 1.4s linear infinite;
    `),Iue)),Cue=re("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Rue=re("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${le(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>S({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&ZC(iN||(iN=Yv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Tue)),xue=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=se(r,Eue),f=S({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),p=bue(f),g={},v={},m={};if(d==="determinate"){const _=2*Math.PI*((Ks-u)/2);g.strokeDasharray=_.toFixed(3),m["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*_).toFixed(3)}px`,v.transform="rotate(-90deg)"}return I.jsx(Sue,S({className:ue(p.root,i),style:S({width:a,height:a},v,l),ownerState:f,ref:n,role:"progressbar"},m,h,{children:I.jsx(Cue,{className:p.svg,ownerState:f,viewBox:`${Ks/2} ${Ks/2} ${Ks} ${Ks}`,children:I.jsx(Rue,{className:p.circle,style:g,ownerState:f,cx:Ks,cy:Ks,r:(Ks-u)/2,fill:"none",strokeWidth:u})})}))}),Aue=xue,Pue=yoe({createStyledComponent:re("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${le(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Oe({props:t,name:"MuiContainer"})}),kue=Pue;function Nue(t){return Ae("MuiModal",t)}Ie("MuiModal",["root","hidden","backdrop"]);const Oue=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Due=t=>{const{open:e,exited:n,classes:r}=t;return Ne({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Nue,r)},Mue=re("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>S({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Lue=re(aj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),$ue=E.forwardRef(function(e,n){var r,i,s,o,a,l;const u=Oe({name:"MuiModal",props:e}),{BackdropComponent:c=Lue,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:g,component:v,components:m={},componentsProps:_={},disableAutoFocus:y=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:b=!1,disablePortal:C=!1,disableRestoreFocus:T=!1,disableScrollLock:A=!1,hideBackdrop:M=!1,keepMounted:P=!1,onBackdropClick:L,open:G,slotProps:F,slots:U}=u,B=se(u,Oue),Y=S({},u,{closeAfterTransition:f,disableAutoFocus:y,disableEnforceFocus:w,disableEscapeKeyDown:b,disablePortal:C,disableRestoreFocus:T,disableScrollLock:A,hideBackdrop:M,keepMounted:P}),{getRootProps:Z,getBackdropProps:N,getTransitionProps:z,portalRef:X,isTopModal:ve,exited:he,hasTransition:Be}=hle(S({},Y,{rootRef:n})),fe=S({},Y,{exited:he}),Pe=Due(fe),ke={};if(p.props.tabIndex===void 0&&(ke.tabIndex="-1"),Be){const{onEnter:we,onExited:ze}=z();ke.onEnter=we,ke.onExited=ze}const yt=(r=(i=U==null?void 0:U.root)!=null?i:m.Root)!=null?r:Mue,Xt=(s=(o=U==null?void 0:U.backdrop)!=null?o:m.Backdrop)!=null?s:c,ht=(a=F==null?void 0:F.root)!=null?a:_.root,fn=(l=F==null?void 0:F.backdrop)!=null?l:_.backdrop,De=pc({elementType:yt,externalSlotProps:ht,externalForwardedProps:B,getSlotProps:Z,additionalProps:{ref:n,as:v},ownerState:fe,className:ue(h,ht==null?void 0:ht.className,Pe==null?void 0:Pe.root,!fe.open&&fe.exited&&(Pe==null?void 0:Pe.hidden))}),it=pc({elementType:Xt,externalSlotProps:fn,additionalProps:d,getSlotProps:we=>N(S({},we,{onClick:ze=>{L&&L(ze),we!=null&&we.onClick&&we.onClick(ze)}})),className:ue(fn==null?void 0:fn.className,d==null?void 0:d.className,Pe==null?void 0:Pe.backdrop),ownerState:fe});return!P&&!G&&(!Be||he)?null:I.jsx(rle,{ref:X,container:g,disablePortal:C,children:I.jsxs(yt,S({},De,{children:[!M&&c?I.jsx(Xt,S({},it)):null,I.jsx(tle,{disableEnforceFocus:w,disableAutoFocus:y,disableRestoreFocus:T,isEnabled:ve,open:G,children:E.cloneElement(p,ke)})]}))})}),cj=$ue;function Fue(t){return Ae("MuiDialog",t)}const Vue=Ie("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Iw=Vue,Uue=E.createContext({}),dj=Uue,jue=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Bue=re(aj,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),zue=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${le(n)}`],paper:["paper",`paperScroll${le(n)}`,`paperWidth${le(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ne(o,Fue,e)},Wue=re(cj,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),que=re("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${le(n.scroll)}`]]}})(({ownerState:t})=>S({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Hue=re(Ip,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${le(n.scroll)}`],e[`paperWidth${le(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>S({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Iw.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Iw.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Iw.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Gue=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiDialog"}),i=Ep(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:u,children:c,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:g="sm",onBackdropClick:v,onClose:m,open:_,PaperComponent:y=Ip,PaperProps:w={},scroll:b="paper",TransitionComponent:C=oj,transitionDuration:T=s,TransitionProps:A}=r,M=se(r,jue),P=S({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:g,scroll:b}),L=zue(P),G=E.useRef(),F=Z=>{G.current=Z.target===Z.currentTarget},U=Z=>{G.current&&(G.current=null,v&&v(Z),m&&m(Z,"backdropClick"))},B=Pv(a),Y=E.useMemo(()=>({titleId:B}),[B]);return I.jsx(Wue,S({className:ue(L.root,d),closeAfterTransition:!0,components:{Backdrop:Bue},componentsProps:{backdrop:S({transitionDuration:T,as:l},u)},disableEscapeKeyDown:h,onClose:m,open:_,ref:n,onClick:U,ownerState:P},M,{children:I.jsx(C,S({appear:!0,in:_,timeout:T,role:"presentation"},A,{children:I.jsx(que,{className:ue(L.container),onMouseDown:F,ownerState:P,children:I.jsx(Hue,S({as:y,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":B},w,{className:ue(L.paper,w.className),ownerState:P,children:I.jsx(dj.Provider,{value:Y,children:c})}))})}))}))}),_1=Gue;function Kue(t){return Ae("MuiDialogActions",t)}Ie("MuiDialogActions",["root","spacing"]);const Que=["className","disableSpacing"],Yue=t=>{const{classes:e,disableSpacing:n}=t;return Ne({root:["root",!n&&"spacing"]},Kue,e)},Xue=re("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>S({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Jue=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,o=se(r,Que),a=S({},r,{disableSpacing:s}),l=Yue(a);return I.jsx(Xue,S({className:ue(l.root,i),ownerState:a,ref:n},o))}),y1=Jue;function Zue(t){return Ae("MuiDialogContent",t)}Ie("MuiDialogContent",["root","dividers"]);function ece(t){return Ae("MuiDialogTitle",t)}const tce=Ie("MuiDialogTitle",["root"]),nce=tce,rce=["className","dividers"],ice=t=>{const{classes:e,dividers:n}=t;return Ne({root:["root",n&&"dividers"]},Zue,e)},sce=re("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>S({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${nce.root} + &`]:{paddingTop:0}})),oce=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,o=se(r,rce),a=S({},r,{dividers:s}),l=ice(a);return I.jsx(sce,S({className:ue(l.root,i),ownerState:a,ref:n},o))}),v1=oce,ace=["className","id"],lce=t=>{const{classes:e}=t;return Ne({root:["root"]},ece,e)},uce=re(We,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),cce=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=se(r,ace),a=r,l=lce(a),{titleId:u=s}=E.useContext(dj);return I.jsx(uce,S({component:"h2",className:ue(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??u},o))}),w1=cce,dce=Ie("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),sN=dce,hce=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],fce=t=>{const{classes:e,disableUnderline:n}=t,i=Ne({root:["root",!n&&"underline"],input:["input"]},Ale,e);return S({},e,i)},pce=re(Kv,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Hv(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return S({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${aa.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${aa.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${aa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${aa.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${aa.disabled}, .${aa.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${aa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&S({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),mce=re(Qv,{name:"MuiFilledInput",slot:"Input",overridesResolver:Gv})(({theme:t,ownerState:e})=>S({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),hj=E.forwardRef(function(e,n){var r,i,s,o;const a=Oe({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:g="text"}=a,v=se(a,hce),m=S({},a,{fullWidth:c,inputComponent:d,multiline:h,type:g}),_=fce(a),y={root:{ownerState:m},input:{ownerState:m}},w=f??u?hr(y,f??u):y,b=(r=(i=p.root)!=null?i:l.Root)!=null?r:pce,C=(s=(o=p.input)!=null?o:l.Input)!=null?s:mce;return I.jsx(g1,S({slots:{root:b,input:C},componentsProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:g},v,{classes:_}))});hj.muiName="Input";const fj=hj;function gce(t){return Ae("MuiFormControl",t)}Ie("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _ce=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],yce=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${le(n)}`,r&&"fullWidth"]};return Ne(i,gce,e)},vce=re("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>S({},e.root,e[`margin${le(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>S({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),wce=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:g="medium",variant:v="outlined"}=r,m=se(r,_ce),_=S({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:g,variant:v}),y=yce(_),[w,b]=E.useState(()=>{let F=!1;return i&&E.Children.forEach(i,U=>{if(!zm(U,["Input","Select"]))return;const B=zm(U,["Select"])?U.props.input:U;B&&yle(B.props)&&(F=!0)}),F}),[C,T]=E.useState(()=>{let F=!1;return i&&E.Children.forEach(i,U=>{zm(U,["Input","Select"])&&(v_(U.props,!0)||v_(U.props.inputProps,!0))&&(F=!0)}),F}),[A,M]=E.useState(!1);l&&A&&M(!1);const P=c!==void 0&&!l?c:A;let L;const G=E.useMemo(()=>({adornedStart:w,setAdornedStart:b,color:o,disabled:l,error:u,filled:C,focused:P,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{M(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{M(!0)},registerEffect:L,required:p,variant:v}),[w,o,l,u,C,P,d,h,L,p,g,v]);return I.jsx(m1.Provider,{value:G,children:I.jsx(vce,S({as:a,ownerState:_,className:ue(y.root,s),ref:n},m,{children:i}))})}),Ece=wce;function Ice(t){return Ae("MuiFormHelperText",t)}const Tce=Ie("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),oN=Tce;var aN;const bce=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Sce=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${le(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Ne(u,Ice,e)},Cce=re("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${le(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>S({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${oN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${oN.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Rce=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=se(r,bce),l=Bc(),u=jc({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=S({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Sce(c);return I.jsx(Cce,S({as:o,ownerState:c,className:ue(d.root,s),ref:n},a,{children:i===" "?aN||(aN=I.jsx("span",{className:"notranslate",children:"​"})):i}))}),xce=Rce;function Ace(t){return Ae("MuiFormLabel",t)}const Pce=Ie("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),uh=Pce,kce=["children","className","color","component","disabled","error","filled","focused","required"],Nce=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${le(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Ne(l,Ace,e)},Oce=re("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>S({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>S({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${uh.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${uh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${uh.error}`]:{color:(t.vars||t).palette.error.main}})),Dce=re("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${uh.error}`]:{color:(t.vars||t).palette.error.main}})),Mce=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=se(r,kce),l=Bc(),u=jc({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=S({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Nce(c);return I.jsxs(Oce,S({as:o,ownerState:c,className:ue(d.root,s),ref:n},a,{children:[i,u.required&&I.jsxs(Dce,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),Lce=Mce,$ce=E.createContext(),lN=$ce;function Fce(t){return Ae("MuiGrid",t)}const Vce=[0,1,2,3,4,5,6,7,8,9,10],Uce=["column-reverse","column","row-reverse","row"],jce=["nowrap","wrap-reverse","wrap"],gd=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Sf=Ie("MuiGrid",["root","container","item","zeroMinWidth",...Vce.map(t=>`spacing-xs-${t}`),...Uce.map(t=>`direction-xs-${t}`),...jce.map(t=>`wrap-xs-${t}`),...gd.map(t=>`grid-xs-${t}`),...gd.map(t=>`grid-sm-${t}`),...gd.map(t=>`grid-md-${t}`),...gd.map(t=>`grid-lg-${t}`),...gd.map(t=>`grid-xl-${t}`)]),Bce=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function $u(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function zce({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Nv({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const c=t.spacing(e.columnSpacing);if(c!=="0px"){const d=`calc(${l} + ${$u(c)})`;u={flexBasis:d,maxWidth:d}}}s=S({flexBasis:l,flexGrow:0,maxWidth:l},u)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function Wce({theme:t,ownerState:e}){const n=Nv({values:e.direction,breakpoints:t.breakpoints.values});return ni({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Sf.item}`]={maxWidth:"none"}),i})}function pj({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function qce({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Nv({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=pj({breakpoints:t.breakpoints.values,values:s})),i=ni({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{marginTop:`-${$u(c)}`,[`& > .${Sf.item}`]:{paddingTop:$u(c)}}:(u=o)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${Sf.item}`]:{paddingTop:0}}})}return i}function Hce({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Nv({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=pj({breakpoints:t.breakpoints.values,values:s})),i=ni({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{width:`calc(100% + ${$u(c)})`,marginLeft:`-${$u(c)}`,[`& > .${Sf.item}`]:{paddingLeft:$u(c)}}:(u=o)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Sf.item}`]:{paddingLeft:0}}})}return i}function Gce(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const Kce=re("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=Gce(o,u,e));const d=[];return u.forEach(h=>{const f=n[h];f&&d.push(e[`grid-${h}-${String(f)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...c,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>S({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),Wce,qce,Hce,zce);function Qce(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const Yce=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let u=[];n&&(u=Qce(s,l));const c=[];l.forEach(h=>{const f=t[h];f&&c.push(`grid-${h}-${String(f)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...c]};return Ne(d,Fce,e)},Xce=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiGrid"}),{breakpoints:i}=Ep(),s=u1(r),{className:o,columns:a,columnSpacing:l,component:u="div",container:c=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:g="wrap",zeroMinWidth:v=!1}=s,m=se(s,Bce),_=f||p,y=l||p,w=E.useContext(lN),b=c?a||12:w,C={},T=S({},m);i.keys.forEach(P=>{m[P]!=null&&(C[P]=m[P],delete T[P])});const A=S({},s,{columns:b,container:c,direction:d,item:h,rowSpacing:_,columnSpacing:y,wrap:g,zeroMinWidth:v,spacing:p},C,{breakpoints:i.keys}),M=Yce(A);return I.jsx(lN.Provider,{value:b,children:I.jsx(Kce,S({ownerState:A,className:ue(M.root,o),as:u,ref:n},T))})}),qo=Xce,Jce=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function XI(t){return`scale(${t}, ${t**2})`}const Zce={entering:{opacity:1,transform:XI(1)},entered:{opacity:1,transform:"none"}},Tw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),mj=E.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:g="auto",TransitionComponent:v=rj}=e,m=se(e,Jce),_=E.useRef(),y=E.useRef(),w=Ep(),b=E.useRef(null),C=Mn(b,s.ref,n),T=B=>Y=>{if(B){const Z=b.current;Y===void 0?B(Z):B(Z,Y)}},A=T(c),M=T((B,Y)=>{ij(B);const{duration:Z,delay:N,easing:z}=__({style:p,timeout:g,easing:o},{mode:"enter"});let X;g==="auto"?(X=w.transitions.getAutoHeightDuration(B.clientHeight),y.current=X):X=Z,B.style.transition=[w.transitions.create("opacity",{duration:X,delay:N}),w.transitions.create("transform",{duration:Tw?X:X*.666,delay:N,easing:z})].join(","),l&&l(B,Y)}),P=T(u),L=T(f),G=T(B=>{const{duration:Y,delay:Z,easing:N}=__({style:p,timeout:g,easing:o},{mode:"exit"});let z;g==="auto"?(z=w.transitions.getAutoHeightDuration(B.clientHeight),y.current=z):z=Y,B.style.transition=[w.transitions.create("opacity",{duration:z,delay:Z}),w.transitions.create("transform",{duration:Tw?z:z*.666,delay:Tw?Z:Z||z*.333,easing:N})].join(","),B.style.opacity=0,B.style.transform=XI(.75),d&&d(B)}),F=T(h),U=B=>{g==="auto"&&(_.current=setTimeout(B,y.current||0)),r&&r(b.current,B)};return E.useEffect(()=>()=>{clearTimeout(_.current)},[]),I.jsx(v,S({appear:i,in:a,nodeRef:b,onEnter:M,onEntered:P,onEntering:A,onExit:G,onExited:F,onExiting:L,addEndListener:U,timeout:g==="auto"?null:g},m,{children:(B,Y)=>E.cloneElement(s,S({style:S({opacity:0,transform:XI(.75),visibility:B==="exited"&&!a?"hidden":void 0},Zce[B],p,s.props.style),ref:C},Y))}))});mj.muiSupportAuto=!0;const ede=mj,tde=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],nde=t=>{const{classes:e,disableUnderline:n}=t,i=Ne({root:["root",!n&&"underline"],input:["input"]},Sle,e);return S({},e,i)},rde=re(Kv,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Hv(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),S({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${md.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${md.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${md.disabled}, .${md.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${md.disabled}:before`]:{borderBottomStyle:"dotted"}})}),ide=re(Qv,{name:"MuiInput",slot:"Input",overridesResolver:Gv})({}),gj=E.forwardRef(function(e,n){var r,i,s,o;const a=Oe({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:g={},type:v="text"}=a,m=se(a,tde),_=nde(a),w={root:{ownerState:{disableUnderline:l}}},b=p??c?hr(p??c,w):w,C=(r=(i=g.root)!=null?i:u.Root)!=null?r:rde,T=(s=(o=g.input)!=null?o:u.Input)!=null?s:ide;return I.jsx(g1,S({slots:{root:C,input:T},slotProps:b,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:v},m,{classes:_}))});gj.muiName="Input";const _j=gj;function sde(t){return Ae("MuiInputLabel",t)}Ie("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ode=["disableAnimation","margin","shrink","variant","className"],ade=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${le(r)}`,o],asterisk:[a&&"asterisk"]},u=Ne(l,sde,e);return S({},e,u)},lde=re(Lce,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${uh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>S({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&S({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&S({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&S({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),ude=E.forwardRef(function(e,n){const r=Oe({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=se(r,ode),l=Bc();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=jc({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=S({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=ade(d);return I.jsx(lde,S({"data-shrink":u,ownerState:d,ref:n,className:ue(h.root,o)},a,{classes:h}))}),cde=ude,dde=E.createContext({}),JI=dde;function hde(t){return Ae("MuiList",t)}Ie("MuiList",["root","padding","dense","subheader"]);const fde=["children","className","component","dense","disablePadding","subheader"],pde=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ne({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},hde,e)},mde=re("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>S({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),gde=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=se(r,fde),d=E.useMemo(()=>({dense:a}),[a]),h=S({},r,{component:o,dense:a,disablePadding:l}),f=pde(h);return I.jsx(JI.Provider,{value:d,children:I.jsxs(mde,S({as:o,className:ue(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),_de=gde,yde=Ie("MuiListItemIcon",["root","alignItemsFlexStart"]),uN=yde,vde=Ie("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),cN=vde,wde=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function bw(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function dN(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function yj(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function _d(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!yj(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Ede=E.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=se(e,wde),f=E.useRef(null),p=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ns(()=>{i&&f.current.focus()},[i]),E.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(y,w)=>{const b=!f.current.style.width;if(y.clientHeight<f.current.clientHeight&&b){const C=`${G4(fr(y))}px`;f.current.style[w.direction==="rtl"?"paddingLeft":"paddingRight"]=C,f.current.style.width=`calc(100% + ${C})`}return f.current}}),[]);const g=y=>{const w=f.current,b=y.key,C=fr(w).activeElement;if(b==="ArrowDown")y.preventDefault(),_d(w,C,u,l,bw);else if(b==="ArrowUp")y.preventDefault(),_d(w,C,u,l,dN);else if(b==="Home")y.preventDefault(),_d(w,null,u,l,bw);else if(b==="End")y.preventDefault(),_d(w,null,u,l,dN);else if(b.length===1){const T=p.current,A=b.toLowerCase(),M=performance.now();T.keys.length>0&&(M-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&A!==T.keys[0]&&(T.repeating=!1)),T.lastTime=M,T.keys.push(A);const P=C&&!T.repeating&&yj(C,T);T.previousKeyMatched&&(P||_d(w,C,!1,l,bw,T))?y.preventDefault():T.previousKeyMatched=!1}c&&c(y)},v=Mn(f,n);let m=-1;E.Children.forEach(o,(y,w)=>{if(!E.isValidElement(y)){m===w&&(m+=1,m>=o.length&&(m=-1));return}y.props.disabled||(d==="selectedMenu"&&y.props.selected||m===-1)&&(m=w),m===w&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(m+=1,m>=o.length&&(m=-1))});const _=E.Children.map(o,(y,w)=>{if(w===m){const b={};return s&&(b.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(b.tabIndex=0),E.cloneElement(y,b)}return y});return I.jsx(_de,S({role:"menu",ref:v,className:a,onKeyDown:g,tabIndex:i?0:-1},h,{children:_}))}),Ide=Ede;function Tde(t){return Ae("MuiPopover",t)}Ie("MuiPopover",["root","paper"]);const bde=["onEntering"],Sde=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Cde=["slotProps"];function hN(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function fN(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function pN(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Sw(t){return typeof t=="function"?t():t}const Rde=t=>{const{classes:e}=t;return Ne({root:["root"],paper:["paper"]},Tde,e)},xde=re(cj,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),vj=re(Ip,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ade=E.forwardRef(function(e,n){var r,i,s;const o=Oe({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:g=8,marginThreshold:v=16,open:m,PaperProps:_={},slots:y,slotProps:w,transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:C=ede,transitionDuration:T="auto",TransitionProps:{onEntering:A}={},disableScrollLock:M=!1}=o,P=se(o.TransitionProps,bde),L=se(o,Sde),G=(r=w==null?void 0:w.paper)!=null?r:_,F=E.useRef(),U=Mn(F,G.ref),B=S({},o,{anchorOrigin:u,anchorReference:d,elevation:g,marginThreshold:v,externalPaperSlotProps:G,transformOrigin:b,TransitionComponent:C,transitionDuration:T,TransitionProps:P}),Y=Rde(B),Z=E.useCallback(()=>{if(d==="anchorPosition")return c;const we=Sw(l),Ze=(we&&we.nodeType===1?we:fr(F.current).body).getBoundingClientRect();return{top:Ze.top+hN(Ze,u.vertical),left:Ze.left+fN(Ze,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),N=E.useCallback(we=>({vertical:hN(we,b.vertical),horizontal:fN(we,b.horizontal)}),[b.horizontal,b.vertical]),z=E.useCallback(we=>{const ze={width:we.offsetWidth,height:we.offsetHeight},Ze=N(ze);if(d==="none")return{top:null,left:null,transformOrigin:pN(Ze)};const Ci=Z();let Yn=Ci.top-Ze.vertical,Xn=Ci.left-Ze.horizontal;const Ln=Yn+ze.height,Jn=Xn+ze.width,st=Wo(Sw(l)),x=st.innerHeight-v,q=st.innerWidth-v;if(v!==null&&Yn<v){const W=Yn-v;Yn-=W,Ze.vertical+=W}else if(v!==null&&Ln>x){const W=Ln-x;Yn-=W,Ze.vertical+=W}if(v!==null&&Xn<v){const W=Xn-v;Xn-=W,Ze.horizontal+=W}else if(Jn>q){const W=Jn-q;Xn-=W,Ze.horizontal+=W}return{top:`${Math.round(Yn)}px`,left:`${Math.round(Xn)}px`,transformOrigin:pN(Ze)}},[l,d,Z,N,v]),[X,ve]=E.useState(m),he=E.useCallback(()=>{const we=F.current;if(!we)return;const ze=z(we);ze.top!==null&&(we.style.top=ze.top),ze.left!==null&&(we.style.left=ze.left),we.style.transformOrigin=ze.transformOrigin,ve(!0)},[z]);E.useEffect(()=>(M&&window.addEventListener("scroll",he),()=>window.removeEventListener("scroll",he)),[l,M,he]);const Be=(we,ze)=>{A&&A(we,ze),he()},fe=()=>{ve(!1)};E.useEffect(()=>{m&&he()}),E.useImperativeHandle(a,()=>m?{updatePosition:()=>{he()}}:null,[m,he]),E.useEffect(()=>{if(!m)return;const we=n1(()=>{he()}),ze=Wo(l);return ze.addEventListener("resize",we),()=>{we.clear(),ze.removeEventListener("resize",we)}},[l,m,he]);let Pe=T;T==="auto"&&!C.muiSupportAuto&&(Pe=void 0);const ke=p||(l?fr(Sw(l)).body:void 0),yt=(i=y==null?void 0:y.root)!=null?i:xde,Xt=(s=y==null?void 0:y.paper)!=null?s:vj,ht=pc({elementType:Xt,externalSlotProps:S({},G,{style:X?G.style:S({},G.style,{opacity:0})}),additionalProps:{elevation:g,ref:U},ownerState:B,className:ue(Y.paper,G==null?void 0:G.className)}),fn=pc({elementType:yt,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:L,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ke,open:m},ownerState:B,className:ue(Y.root,f)}),{slotProps:De}=fn,it=se(fn,Cde);return I.jsx(yt,S({},it,!y_(yt)&&{slotProps:De,disableScrollLock:M},{children:I.jsx(C,S({appear:!0,in:m,onEntering:Be,onExited:fe,timeout:Pe},P,{children:I.jsx(Xt,S({},ht,{children:h}))}))}))}),Pde=Ade;function kde(t){return Ae("MuiMenu",t)}Ie("MuiMenu",["root","paper","list"]);const Nde=["onEntering"],Ode=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Dde={vertical:"top",horizontal:"right"},Mde={vertical:"top",horizontal:"left"},Lde=t=>{const{classes:e}=t;return Ne({root:["root"],paper:["paper"],list:["list"]},kde,e)},$de=re(Pde,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Fde=re(vj,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Vde=re(Ide,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Ude=E.forwardRef(function(e,n){var r,i;const s=Oe({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:v}={},variant:m="selectedMenu",slots:_={},slotProps:y={}}=s,w=se(s.TransitionProps,Nde),b=se(s,Ode),C=Ep(),T=C.direction==="rtl",A=S({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:v,PaperProps:f,transitionDuration:g,TransitionProps:w,variant:m}),M=Lde(A),P=o&&!u&&h,L=E.useRef(null),G=(z,X)=>{L.current&&L.current.adjustStyleForScrollbar(z,C),v&&v(z,X)},F=z=>{z.key==="Tab"&&(z.preventDefault(),d&&d(z,"tabKeyDown"))};let U=-1;E.Children.map(a,(z,X)=>{E.isValidElement(z)&&(z.props.disabled||(m==="selectedMenu"&&z.props.selected||U===-1)&&(U=X))});const B=(r=_.paper)!=null?r:Fde,Y=(i=y.paper)!=null?i:f,Z=pc({elementType:_.root,externalSlotProps:y.root,ownerState:A,className:[M.root,l]}),N=pc({elementType:B,externalSlotProps:Y,ownerState:A,className:M.paper});return I.jsx($de,S({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?Dde:Mde,slots:{paper:B,root:_.root},slotProps:{root:Z,paper:N},open:h,ref:n,transitionDuration:g,TransitionProps:S({onEntering:G},w),ownerState:A},b,{classes:p,children:I.jsx(Vde,S({onKeyDown:F,actions:L,autoFocus:o&&(U===-1||u),autoFocusItem:P,variant:m},c,{className:ue(M.list,c.className),children:a}))}))}),qm=Ude;function jde(t){return Ae("MuiMenuItem",t)}const Bde=Ie("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),yd=Bde,zde=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Wde=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},qde=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=Ne({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},jde,o);return S({},o,l)},Hde=re(p1,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Wde})(({theme:t,ownerState:e})=>S({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${yd.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Qr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${yd.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Qr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${yd.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Qr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Qr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${yd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${yd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${sN.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${sN.inset}`]:{marginLeft:52},[`& .${cN.root}`]:{marginTop:0,marginBottom:0},[`& .${cN.inset}`]:{paddingLeft:36},[`& .${uN.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&S({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${uN.root} svg`]:{fontSize:"1.25rem"}}))),Gde=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:h}=r,f=se(r,zde),p=E.useContext(JI),g=E.useMemo(()=>({dense:o||p.dense||!1,disableGutters:l}),[p.dense,o,l]),v=E.useRef(null);Ns(()=>{i&&v.current&&v.current.focus()},[i]);const m=S({},r,{dense:g.dense,divider:a,disableGutters:l}),_=qde(r),y=Mn(v,n);let w;return r.disabled||(w=d!==void 0?d:-1),I.jsx(JI.Provider,{value:g,children:I.jsx(Hde,S({ref:y,role:c,tabIndex:w,component:s,focusVisibleClassName:ue(_.focusVisible,u),className:ue(_.root,h)},f,{ownerState:m,classes:_}))})}),xi=Gde;function Kde(t){return Ae("MuiNativeSelect",t)}const Qde=Ie("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),E1=Qde,Yde=["className","disabled","error","IconComponent","inputRef","variant"],Xde=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${le(n)}`,s&&"iconOpen",r&&"disabled"]};return Ne(a,Kde,e)},wj=({ownerState:t,theme:e})=>S({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":S({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${E1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Jde=re("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:si,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${E1.multiple}`]:e.multiple}]}})(wj),Ej=({ownerState:t,theme:e})=>S({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${E1.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Zde=re("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${le(n.variant)}`],n.open&&e.iconOpen]}})(Ej),ehe=E.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=se(e,Yde),c=S({},e,{disabled:i,variant:l,error:s}),d=Xde(c);return I.jsxs(E.Fragment,{children:[I.jsx(Jde,S({ownerState:c,className:ue(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:I.jsx(Zde,{as:o,ownerState:c,className:d.icon})]})}),the=ehe;var mN;const nhe=["children","classes","className","label","notched"],rhe=re("fieldset",{shouldForwardProp:si})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),ihe=re("legend",{shouldForwardProp:si})(({ownerState:t,theme:e})=>S({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&S({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function she(t){const{className:e,label:n,notched:r}=t,i=se(t,nhe),s=n!=null&&n!=="",o=S({},t,{notched:r,withLabel:s});return I.jsx(rhe,S({"aria-hidden":!0,className:e,ownerState:o},i,{children:I.jsx(ihe,{ownerState:o,children:s?I.jsx("span",{children:n}):mN||(mN=I.jsx("span",{className:"notranslate",children:"​"}))})}))}const ohe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],ahe=t=>{const{classes:e}=t,r=Ne({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Rle,e);return S({},e,r)},lhe=re(Kv,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Hv})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return S({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Gs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Gs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Gs.focused} .${Gs.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Gs.error} .${Gs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Gs.disabled} .${Gs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&S({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),uhe=re(she,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),che=re(Qv,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Gv})(({theme:t,ownerState:e})=>S({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Ij=E.forwardRef(function(e,n){var r,i,s,o,a;const l=Oe({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:g={},type:v="text"}=l,m=se(l,ohe),_=ahe(l),y=Bc(),w=jc({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b=S({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:y,fullWidth:c,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:v}),C=(r=(i=g.root)!=null?i:u.Root)!=null?r:lhe,T=(s=(o=g.input)!=null?o:u.Input)!=null?s:che;return I.jsx(g1,S({slots:{root:C,input:T},renderSuffix:A=>I.jsx(uhe,{ownerState:b,className:_.notchedOutline,label:h!=null&&h!==""&&w.required?a||(a=I.jsxs(E.Fragment,{children:[h," ","*"]})):h,notched:typeof p<"u"?p:!!(A.startAdornment||A.filled||A.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:v},m,{classes:S({},_,{notchedOutline:null})}))});Ij.muiName="Input";const Tj=Ij;function dhe(t){return Ae("MuiSelect",t)}const vd=Ie("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var gN;const hhe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],fhe=re("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${vd.select}`]:e.select},{[`&.${vd.select}`]:e[n.variant]},{[`&.${vd.error}`]:e.error},{[`&.${vd.multiple}`]:e.multiple}]}})(wj,{[`&.${vd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),phe=re("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${le(n.variant)}`],n.open&&e.iconOpen]}})(Ej),mhe=re("input",{shouldForwardProp:t=>Woe(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function _N(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function ghe(t){return t==null||typeof t=="string"&&!t.trim()}const _he=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${le(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ne(a,dhe,e)},yhe=E.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:v,labelId:m,MenuProps:_={},multiple:y,name:w,onBlur:b,onChange:C,onClose:T,onFocus:A,onOpen:M,open:P,readOnly:L,renderValue:G,SelectDisplayProps:F={},tabIndex:U,value:B,variant:Y="standard"}=e,Z=se(e,hhe),[N,z]=qI({controlled:B,default:d,name:"Select"}),[X,ve]=qI({controlled:P,default:c,name:"Select"}),he=E.useRef(null),Be=E.useRef(null),[fe,Pe]=E.useState(null),{current:ke}=E.useRef(P!=null),[yt,Xt]=E.useState(),ht=Mn(n,v),fn=E.useCallback(ce=>{Be.current=ce,ce&&Pe(ce)},[]),De=fe==null?void 0:fe.parentNode;E.useImperativeHandle(ht,()=>({focus:()=>{Be.current.focus()},node:he.current,value:N}),[N]),E.useEffect(()=>{c&&X&&fe&&!ke&&(Xt(a?null:De.clientWidth),Be.current.focus())},[fe,a]),E.useEffect(()=>{o&&Be.current.focus()},[o]),E.useEffect(()=>{if(!m)return;const ce=fr(Be.current).getElementById(m);if(ce){const Qe=()=>{getSelection().isCollapsed&&Be.current.focus()};return ce.addEventListener("click",Qe),()=>{ce.removeEventListener("click",Qe)}}},[m]);const it=(ce,Qe)=>{ce?M&&M(Qe):T&&T(Qe),ke||(Xt(a?null:De.clientWidth),ve(ce))},we=ce=>{ce.button===0&&(ce.preventDefault(),Be.current.focus(),it(!0,ce))},ze=ce=>{it(!1,ce)},Ze=E.Children.toArray(l),Ci=ce=>{const Qe=Ze.find(qt=>qt.props.value===ce.target.value);Qe!==void 0&&(z(Qe.props.value),C&&C(ce,Qe))},Yn=ce=>Qe=>{let qt;if(Qe.currentTarget.hasAttribute("tabindex")){if(y){qt=Array.isArray(N)?N.slice():[];const Ml=N.indexOf(ce.props.value);Ml===-1?qt.push(ce.props.value):qt.splice(Ml,1)}else qt=ce.props.value;if(ce.props.onClick&&ce.props.onClick(Qe),N!==qt&&(z(qt),C)){const Ml=Qe.nativeEvent||Qe,eR=new Ml.constructor(Ml.type,Ml);Object.defineProperty(eR,"target",{writable:!0,value:{value:qt,name:w}}),C(eR,ce)}y||it(!1,Qe)}},Xn=ce=>{L||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ce.key)!==-1&&(ce.preventDefault(),it(!0,ce))},Ln=fe!==null&&X,Jn=ce=>{!Ln&&b&&(Object.defineProperty(ce,"target",{writable:!0,value:{value:N,name:w}}),b(ce))};delete Z["aria-invalid"];let st,x;const q=[];let W=!1;(v_({value:N})||f)&&(G?st=G(N):W=!0);const ne=Ze.map(ce=>{if(!E.isValidElement(ce))return null;let Qe;if(y){if(!Array.isArray(N))throw new Error(zo(2));Qe=N.some(qt=>_N(qt,ce.props.value)),Qe&&W&&q.push(ce.props.children)}else Qe=_N(N,ce.props.value),Qe&&W&&(x=ce.props.children);return E.cloneElement(ce,{"aria-selected":Qe?"true":"false",onClick:Yn(ce),onKeyUp:qt=>{qt.key===" "&&qt.preventDefault(),ce.props.onKeyUp&&ce.props.onKeyUp(qt)},role:"option",selected:Qe,value:void 0,"data-value":ce.props.value})});W&&(y?q.length===0?st=null:st=q.reduce((ce,Qe,qt)=>(ce.push(Qe),qt<q.length-1&&ce.push(", "),ce),[]):st=x);let pe=yt;!a&&ke&&fe&&(pe=De.clientWidth);let Ee;typeof U<"u"?Ee=U:Ee=h?null:0;const me=F.id||(w?`mui-component-select-${w}`:void 0),oe=S({},e,{variant:Y,value:N,open:Ln,error:p}),yr=_he(oe),is=S({},_.PaperProps,(r=_.slotProps)==null?void 0:r.paper),sa=Pv();return I.jsxs(E.Fragment,{children:[I.jsx(fhe,S({ref:fn,tabIndex:Ee,role:"combobox","aria-controls":sa,"aria-disabled":h?"true":void 0,"aria-expanded":Ln?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[m,me].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Xn,onMouseDown:h||L?null:we,onBlur:Jn,onFocus:A},F,{ownerState:oe,className:ue(F.className,yr.select,u),id:me,children:ghe(st)?gN||(gN=I.jsx("span",{className:"notranslate",children:"​"})):st})),I.jsx(mhe,S({"aria-invalid":p,value:Array.isArray(N)?N.join(","):N,name:w,ref:he,"aria-hidden":!0,onChange:Ci,tabIndex:-1,disabled:h,className:yr.nativeInput,autoFocus:o,ownerState:oe},Z)),I.jsx(phe,{as:g,className:yr.icon,ownerState:oe}),I.jsx(qm,S({id:`menu-${w||""}`,anchorEl:De,open:Ln,onClose:ze,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:S({"aria-labelledby":m,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:sa},_.MenuListProps),slotProps:S({},_.slotProps,{paper:S({},is,{style:S({minWidth:pe},is!=null?is.style:null)})}),children:ne}))]})}),vhe=yhe,whe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ehe=["root"],Ihe=t=>{const{classes:e}=t;return e},I1={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>si(t)&&t!=="variant",slot:"Root"},The=re(_j,I1)(""),bhe=re(Tj,I1)(""),She=re(fj,I1)(""),bj=E.forwardRef(function(e,n){const r=Oe({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=kle,id:d,input:h,inputProps:f,label:p,labelId:g,MenuProps:v,multiple:m=!1,native:_=!1,onClose:y,onOpen:w,open:b,renderValue:C,SelectDisplayProps:T,variant:A="outlined"}=r,M=se(r,whe),P=_?the:vhe,L=Bc(),G=jc({props:r,muiFormControl:L,states:["variant","error"]}),F=G.variant||A,U=S({},r,{variant:F,classes:o}),B=Ihe(U),Y=se(B,Ehe),Z=h||{standard:I.jsx(The,{ownerState:U}),outlined:I.jsx(bhe,{label:p,ownerState:U}),filled:I.jsx(She,{ownerState:U})}[F],N=Mn(n,Z.ref);return I.jsx(E.Fragment,{children:E.cloneElement(Z,S({inputComponent:P,inputProps:S({children:s,error:G.error,IconComponent:c,variant:F,type:void 0,multiple:m},_?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:g,MenuProps:v,onClose:y,onOpen:w,open:b,renderValue:C,SelectDisplayProps:S({id:d},T)},f,{classes:f?hr(Y,f.classes):Y},h?h.props.inputProps:{})},m&&_&&F==="outlined"?{notched:!0}:{},{ref:N,className:ue(Z.props.className,a,B.root)},!h&&{variant:F},M))})});bj.muiName="Select";const Che=bj;function Rhe(t){return Ae("MuiToolbar",t)}Ie("MuiToolbar",["root","gutters","regular","dense"]);const xhe=["className","component","disableGutters","variant"],Ahe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Ne({root:["root",!n&&"gutters",r]},Rhe,e)},Phe=re("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>S({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),khe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=se(r,xhe),u=S({},r,{component:s,disableGutters:o,variant:a}),c=Ahe(u);return I.jsx(Phe,S({as:s,className:ue(c.root,i),ref:n,ownerState:u},l))}),Nhe=khe;function Ohe(t){return Ae("MuiTextField",t)}Ie("MuiTextField",["root"]);const Dhe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Mhe={standard:_j,filled:fj,outlined:Tj},Lhe=t=>{const{classes:e}=t;return Ne({root:["root"]},Ohe,e)},$he=re(Ece,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Fhe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:g,InputLabelProps:v,inputProps:m,InputProps:_,inputRef:y,label:w,maxRows:b,minRows:C,multiline:T=!1,name:A,onBlur:M,onChange:P,onFocus:L,placeholder:G,required:F=!1,rows:U,select:B=!1,SelectProps:Y,type:Z,value:N,variant:z="outlined"}=r,X=se(r,Dhe),ve=S({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:T,required:F,select:B,variant:z}),he=Lhe(ve),Be={};z==="outlined"&&(v&&typeof v.shrink<"u"&&(Be.notched=v.shrink),Be.label=w),B&&((!Y||!Y.native)&&(Be.id=void 0),Be["aria-describedby"]=void 0);const fe=Pv(g),Pe=p&&fe?`${fe}-helper-text`:void 0,ke=w&&fe?`${fe}-label`:void 0,yt=Mhe[z],Xt=I.jsx(yt,S({"aria-describedby":Pe,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:T,name:A,rows:U,maxRows:b,minRows:C,type:Z,value:N,id:fe,inputRef:y,onBlur:M,onChange:P,onFocus:L,placeholder:G,inputProps:m},Be,_));return I.jsxs($he,S({className:ue(he.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:F,color:l,variant:z,ownerState:ve},X,{children:[w!=null&&w!==""&&I.jsx(cde,S({htmlFor:fe,id:ke},v,{children:w})),B?I.jsx(Che,S({"aria-describedby":Pe,id:fe,labelId:ke,value:N,input:Xt},Y,{children:o})):Xt,p&&I.jsx(xce,S({id:Pe},h,{children:p}))]}))}),Xr=Fhe,Vhe=()=>{const t=Kf(),[e,n]=E.useState(!1),r=i=>{i.target.files&&i.target.files.length>0&&(n(!0),t(NK(i.target.files[0])).then(()=>n(!1)))};return I.jsxs(I.Fragment,{children:[I.jsx(Xr,{onChange:r,type:"file"}),e&&I.jsx(Aue,{})]})},Uhe=()=>{const t=Is(f=>f.upload.uploadImg),[e,n]=E.useState(""),[r,i]=E.useState(""),[s,o]=E.useState(""),a=f=>{n(f.currentTarget.value)},l=f=>{i(f.currentTarget.value)},u=f=>{o(f.currentTarget.value)},c=Kf(),d=rS(),h=()=>{const f={id:d,name:e,photo:t,price:+r,quantity:+s};c(M2(f))};return I.jsx(I.Fragment,{children:I.jsx(Tp,{children:I.jsxs(bp,{children:[I.jsx(We,{component:"div",sx:{flexGrow:1},variant:"h6",children:"Add product"}),I.jsxs(We,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Name product: ",I.jsx(Xr,{onChange:a})]}),I.jsxs(We,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Price product: ",I.jsx(Xr,{onChange:l})]}),I.jsxs(We,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Quantity product: ",I.jsx(Xr,{onChange:u})]}),I.jsxs(We,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Image product: ",I.jsx(Vhe,{})]}),I.jsx(Nr,{component:Co,onClick:h,to:"/",variant:"contained",children:"Add product"})]})})})};var jhe=function(e){return Bhe(e)&&!zhe(e)};function Bhe(t){return!!t&&typeof t=="object"}function zhe(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Hhe(t)}var Whe=typeof Symbol=="function"&&Symbol.for,qhe=Whe?Symbol.for("react.element"):60103;function Hhe(t){return t.$$typeof===qhe}function Ghe(t){return Array.isArray(t)?[]:{}}function w_(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Cf(Ghe(t),t,e):t}function Khe(t,e,n){return t.concat(e).map(function(r){return w_(r,n)})}function Qhe(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=w_(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=w_(e[i],n):r[i]=Cf(t[i],e[i],n)}),r}function Cf(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Khe,n.isMergeableObject=n.isMergeableObject||jhe;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Qhe(t,e,n):w_(e,n)}Cf.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Cf(r,i,n)},{})};var ZI=Cf,Sj=typeof global=="object"&&global&&global.Object===Object&&global,Yhe=typeof self=="object"&&self&&self.Object===Object&&self,rs=Sj||Yhe||Function("return this")(),Ho=rs.Symbol,Cj=Object.prototype,Xhe=Cj.hasOwnProperty,Jhe=Cj.toString,wd=Ho?Ho.toStringTag:void 0;function Zhe(t){var e=Xhe.call(t,wd),n=t[wd];try{t[wd]=void 0;var r=!0}catch{}var i=Jhe.call(t);return r&&(e?t[wd]=n:delete t[wd]),i}var efe=Object.prototype,tfe=efe.toString;function nfe(t){return tfe.call(t)}var rfe="[object Null]",ife="[object Undefined]",yN=Ho?Ho.toStringTag:void 0;function Pl(t){return t==null?t===void 0?ife:rfe:yN&&yN in Object(t)?Zhe(t):nfe(t)}function Rj(t,e){return function(n){return t(e(n))}}var T1=Rj(Object.getPrototypeOf,Object);function kl(t){return t!=null&&typeof t=="object"}var sfe="[object Object]",ofe=Function.prototype,afe=Object.prototype,xj=ofe.toString,lfe=afe.hasOwnProperty,ufe=xj.call(Object);function vN(t){if(!kl(t)||Pl(t)!=sfe)return!1;var e=T1(t);if(e===null)return!0;var n=lfe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&xj.call(n)==ufe}var wN=Array.isArray,EN=Object.keys,cfe=Object.prototype.hasOwnProperty,dfe=typeof Element<"u";function eT(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=wN(t),r=wN(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!eT(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var d=EN(t);if(s=d.length,s!==EN(e).length)return!1;for(i=s;i--!==0;)if(!cfe.call(e,d[i]))return!1;if(dfe&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!eT(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var hfe=function(e,n){try{return eT(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const _a=T_(hfe);function ffe(){this.__data__=[],this.size=0}function Aj(t,e){return t===e||t!==t&&e!==e}function Xv(t,e){for(var n=t.length;n--;)if(Aj(t[n][0],e))return n;return-1}var pfe=Array.prototype,mfe=pfe.splice;function gfe(t){var e=this.__data__,n=Xv(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():mfe.call(e,n,1),--this.size,!0}function _fe(t){var e=this.__data__,n=Xv(e,t);return n<0?void 0:e[n][1]}function yfe(t){return Xv(this.__data__,t)>-1}function vfe(t,e){var n=this.__data__,r=Xv(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function js(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}js.prototype.clear=ffe;js.prototype.delete=gfe;js.prototype.get=_fe;js.prototype.has=yfe;js.prototype.set=vfe;function wfe(){this.__data__=new js,this.size=0}function Efe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Ife(t){return this.__data__.get(t)}function Tfe(t){return this.__data__.has(t)}function Sp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bfe="[object AsyncFunction]",Sfe="[object Function]",Cfe="[object GeneratorFunction]",Rfe="[object Proxy]";function Pj(t){if(!Sp(t))return!1;var e=Pl(t);return e==Sfe||e==Cfe||e==bfe||e==Rfe}var Cw=rs["__core-js_shared__"],IN=function(){var t=/[^.]+$/.exec(Cw&&Cw.keys&&Cw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xfe(t){return!!IN&&IN in t}var Afe=Function.prototype,Pfe=Afe.toString;function Nl(t){if(t!=null){try{return Pfe.call(t)}catch{}try{return t+""}catch{}}return""}var kfe=/[\\^$.*+?()[\]{}|]/g,Nfe=/^\[object .+?Constructor\]$/,Ofe=Function.prototype,Dfe=Object.prototype,Mfe=Ofe.toString,Lfe=Dfe.hasOwnProperty,$fe=RegExp("^"+Mfe.call(Lfe).replace(kfe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ffe(t){if(!Sp(t)||xfe(t))return!1;var e=Pj(t)?$fe:Nfe;return e.test(Nl(t))}function Vfe(t,e){return t==null?void 0:t[e]}function Ol(t,e){var n=Vfe(t,e);return Ffe(n)?n:void 0}var Rf=Ol(rs,"Map"),xf=Ol(Object,"create");function Ufe(){this.__data__=xf?xf(null):{},this.size=0}function jfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Bfe="__lodash_hash_undefined__",zfe=Object.prototype,Wfe=zfe.hasOwnProperty;function qfe(t){var e=this.__data__;if(xf){var n=e[t];return n===Bfe?void 0:n}return Wfe.call(e,t)?e[t]:void 0}var Hfe=Object.prototype,Gfe=Hfe.hasOwnProperty;function Kfe(t){var e=this.__data__;return xf?e[t]!==void 0:Gfe.call(e,t)}var Qfe="__lodash_hash_undefined__";function Yfe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=xf&&e===void 0?Qfe:e,this}function ml(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ml.prototype.clear=Ufe;ml.prototype.delete=jfe;ml.prototype.get=qfe;ml.prototype.has=Kfe;ml.prototype.set=Yfe;function Xfe(){this.size=0,this.__data__={hash:new ml,map:new(Rf||js),string:new ml}}function Jfe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Jv(t,e){var n=t.__data__;return Jfe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Zfe(t){var e=Jv(this,t).delete(t);return this.size-=e?1:0,e}function epe(t){return Jv(this,t).get(t)}function tpe(t){return Jv(this,t).has(t)}function npe(t,e){var n=Jv(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ra(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ra.prototype.clear=Xfe;ra.prototype.delete=Zfe;ra.prototype.get=epe;ra.prototype.has=tpe;ra.prototype.set=npe;var rpe=200;function ipe(t,e){var n=this.__data__;if(n instanceof js){var r=n.__data__;if(!Rf||r.length<rpe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ra(r)}return n.set(t,e),this.size=n.size,this}function zc(t){var e=this.__data__=new js(t);this.size=e.size}zc.prototype.clear=wfe;zc.prototype.delete=Efe;zc.prototype.get=Ife;zc.prototype.has=Tfe;zc.prototype.set=ipe;function spe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var TN=function(){try{var t=Ol(Object,"defineProperty");return t({},"",{}),t}catch{}}();function kj(t,e,n){e=="__proto__"&&TN?TN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ope=Object.prototype,ape=ope.hasOwnProperty;function Nj(t,e,n){var r=t[e];(!(ape.call(t,e)&&Aj(r,n))||n===void 0&&!(e in t))&&kj(t,e,n)}function Zv(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?kj(n,a,l):Nj(n,a,l)}return n}function lpe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var upe="[object Arguments]";function bN(t){return kl(t)&&Pl(t)==upe}var Oj=Object.prototype,cpe=Oj.hasOwnProperty,dpe=Oj.propertyIsEnumerable,hpe=bN(function(){return arguments}())?bN:function(t){return kl(t)&&cpe.call(t,"callee")&&!dpe.call(t,"callee")},Cp=Array.isArray;function fpe(){return!1}var Dj=typeof xr=="object"&&xr&&!xr.nodeType&&xr,SN=Dj&&typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,ppe=SN&&SN.exports===Dj,CN=ppe?rs.Buffer:void 0,mpe=CN?CN.isBuffer:void 0,Mj=mpe||fpe,gpe=9007199254740991,_pe=/^(?:0|[1-9]\d*)$/;function ype(t,e){var n=typeof t;return e=e??gpe,!!e&&(n=="number"||n!="symbol"&&_pe.test(t))&&t>-1&&t%1==0&&t<e}var vpe=9007199254740991;function Lj(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vpe}var wpe="[object Arguments]",Epe="[object Array]",Ipe="[object Boolean]",Tpe="[object Date]",bpe="[object Error]",Spe="[object Function]",Cpe="[object Map]",Rpe="[object Number]",xpe="[object Object]",Ape="[object RegExp]",Ppe="[object Set]",kpe="[object String]",Npe="[object WeakMap]",Ope="[object ArrayBuffer]",Dpe="[object DataView]",Mpe="[object Float32Array]",Lpe="[object Float64Array]",$pe="[object Int8Array]",Fpe="[object Int16Array]",Vpe="[object Int32Array]",Upe="[object Uint8Array]",jpe="[object Uint8ClampedArray]",Bpe="[object Uint16Array]",zpe="[object Uint32Array]",at={};at[Mpe]=at[Lpe]=at[$pe]=at[Fpe]=at[Vpe]=at[Upe]=at[jpe]=at[Bpe]=at[zpe]=!0;at[wpe]=at[Epe]=at[Ope]=at[Ipe]=at[Dpe]=at[Tpe]=at[bpe]=at[Spe]=at[Cpe]=at[Rpe]=at[xpe]=at[Ape]=at[Ppe]=at[kpe]=at[Npe]=!1;function Wpe(t){return kl(t)&&Lj(t.length)&&!!at[Pl(t)]}function b1(t){return function(e){return t(e)}}var $j=typeof xr=="object"&&xr&&!xr.nodeType&&xr,ch=$j&&typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,qpe=ch&&ch.exports===$j,Rw=qpe&&Sj.process,gc=function(){try{var t=ch&&ch.require&&ch.require("util").types;return t||Rw&&Rw.binding&&Rw.binding("util")}catch{}}(),RN=gc&&gc.isTypedArray,Hpe=RN?b1(RN):Wpe,Gpe=Object.prototype,Kpe=Gpe.hasOwnProperty;function Fj(t,e){var n=Cp(t),r=!n&&hpe(t),i=!n&&!r&&Mj(t),s=!n&&!r&&!i&&Hpe(t),o=n||r||i||s,a=o?lpe(t.length,String):[],l=a.length;for(var u in t)(e||Kpe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ype(u,l)))&&a.push(u);return a}var Qpe=Object.prototype;function S1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Qpe;return t===n}var Ype=Rj(Object.keys,Object),Xpe=Object.prototype,Jpe=Xpe.hasOwnProperty;function Zpe(t){if(!S1(t))return Ype(t);var e=[];for(var n in Object(t))Jpe.call(t,n)&&n!="constructor"&&e.push(n);return e}function Vj(t){return t!=null&&Lj(t.length)&&!Pj(t)}function C1(t){return Vj(t)?Fj(t):Zpe(t)}function eme(t,e){return t&&Zv(e,C1(e),t)}function tme(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var nme=Object.prototype,rme=nme.hasOwnProperty;function ime(t){if(!Sp(t))return tme(t);var e=S1(t),n=[];for(var r in t)r=="constructor"&&(e||!rme.call(t,r))||n.push(r);return n}function R1(t){return Vj(t)?Fj(t,!0):ime(t)}function sme(t,e){return t&&Zv(e,R1(e),t)}var Uj=typeof xr=="object"&&xr&&!xr.nodeType&&xr,xN=Uj&&typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,ome=xN&&xN.exports===Uj,AN=ome?rs.Buffer:void 0,PN=AN?AN.allocUnsafe:void 0;function ame(t,e){if(e)return t.slice();var n=t.length,r=PN?PN(n):new t.constructor(n);return t.copy(r),r}function jj(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function lme(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Bj(){return[]}var ume=Object.prototype,cme=ume.propertyIsEnumerable,kN=Object.getOwnPropertySymbols,x1=kN?function(t){return t==null?[]:(t=Object(t),lme(kN(t),function(e){return cme.call(t,e)}))}:Bj;function dme(t,e){return Zv(t,x1(t),e)}function zj(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var hme=Object.getOwnPropertySymbols,Wj=hme?function(t){for(var e=[];t;)zj(e,x1(t)),t=T1(t);return e}:Bj;function fme(t,e){return Zv(t,Wj(t),e)}function qj(t,e,n){var r=e(t);return Cp(t)?r:zj(r,n(t))}function pme(t){return qj(t,C1,x1)}function mme(t){return qj(t,R1,Wj)}var tT=Ol(rs,"DataView"),nT=Ol(rs,"Promise"),rT=Ol(rs,"Set"),iT=Ol(rs,"WeakMap"),NN="[object Map]",gme="[object Object]",ON="[object Promise]",DN="[object Set]",MN="[object WeakMap]",LN="[object DataView]",_me=Nl(tT),yme=Nl(Rf),vme=Nl(nT),wme=Nl(rT),Eme=Nl(iT),ya=Pl;(tT&&ya(new tT(new ArrayBuffer(1)))!=LN||Rf&&ya(new Rf)!=NN||nT&&ya(nT.resolve())!=ON||rT&&ya(new rT)!=DN||iT&&ya(new iT)!=MN)&&(ya=function(t){var e=Pl(t),n=e==gme?t.constructor:void 0,r=n?Nl(n):"";if(r)switch(r){case _me:return LN;case yme:return NN;case vme:return ON;case wme:return DN;case Eme:return MN}return e});const A1=ya;var Ime=Object.prototype,Tme=Ime.hasOwnProperty;function bme(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Tme.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var $N=rs.Uint8Array;function P1(t){var e=new t.constructor(t.byteLength);return new $N(e).set(new $N(t)),e}function Sme(t,e){var n=e?P1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Cme=/\w*$/;function Rme(t){var e=new t.constructor(t.source,Cme.exec(t));return e.lastIndex=t.lastIndex,e}var FN=Ho?Ho.prototype:void 0,VN=FN?FN.valueOf:void 0;function xme(t){return VN?Object(VN.call(t)):{}}function Ame(t,e){var n=e?P1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Pme="[object Boolean]",kme="[object Date]",Nme="[object Map]",Ome="[object Number]",Dme="[object RegExp]",Mme="[object Set]",Lme="[object String]",$me="[object Symbol]",Fme="[object ArrayBuffer]",Vme="[object DataView]",Ume="[object Float32Array]",jme="[object Float64Array]",Bme="[object Int8Array]",zme="[object Int16Array]",Wme="[object Int32Array]",qme="[object Uint8Array]",Hme="[object Uint8ClampedArray]",Gme="[object Uint16Array]",Kme="[object Uint32Array]";function Qme(t,e,n){var r=t.constructor;switch(e){case Fme:return P1(t);case Pme:case kme:return new r(+t);case Vme:return Sme(t,n);case Ume:case jme:case Bme:case zme:case Wme:case qme:case Hme:case Gme:case Kme:return Ame(t,n);case Nme:return new r;case Ome:case Lme:return new r(t);case Dme:return Rme(t);case Mme:return new r;case $me:return xme(t)}}var UN=Object.create,Yme=function(){function t(){}return function(e){if(!Sp(e))return{};if(UN)return UN(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Xme(t){return typeof t.constructor=="function"&&!S1(t)?Yme(T1(t)):{}}var Jme="[object Map]";function Zme(t){return kl(t)&&A1(t)==Jme}var jN=gc&&gc.isMap,ege=jN?b1(jN):Zme,tge="[object Set]";function nge(t){return kl(t)&&A1(t)==tge}var BN=gc&&gc.isSet,rge=BN?b1(BN):nge,ige=1,sge=2,oge=4,Hj="[object Arguments]",age="[object Array]",lge="[object Boolean]",uge="[object Date]",cge="[object Error]",Gj="[object Function]",dge="[object GeneratorFunction]",hge="[object Map]",fge="[object Number]",Kj="[object Object]",pge="[object RegExp]",mge="[object Set]",gge="[object String]",_ge="[object Symbol]",yge="[object WeakMap]",vge="[object ArrayBuffer]",wge="[object DataView]",Ege="[object Float32Array]",Ige="[object Float64Array]",Tge="[object Int8Array]",bge="[object Int16Array]",Sge="[object Int32Array]",Cge="[object Uint8Array]",Rge="[object Uint8ClampedArray]",xge="[object Uint16Array]",Age="[object Uint32Array]",et={};et[Hj]=et[age]=et[vge]=et[wge]=et[lge]=et[uge]=et[Ege]=et[Ige]=et[Tge]=et[bge]=et[Sge]=et[hge]=et[fge]=et[Kj]=et[pge]=et[mge]=et[gge]=et[_ge]=et[Cge]=et[Rge]=et[xge]=et[Age]=!0;et[cge]=et[Gj]=et[yge]=!1;function Hm(t,e,n,r,i,s){var o,a=e&ige,l=e&sge,u=e&oge;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Sp(t))return t;var c=Cp(t);if(c){if(o=bme(t),!a)return jj(t,o)}else{var d=A1(t),h=d==Gj||d==dge;if(Mj(t))return ame(t,a);if(d==Kj||d==Hj||h&&!i){if(o=l||h?{}:Xme(t),!a)return l?fme(t,sme(o,t)):dme(t,eme(o,t))}else{if(!et[d])return i?t:{};o=Qme(t,d,a)}}s||(s=new zc);var f=s.get(t);if(f)return f;s.set(t,o),rge(t)?t.forEach(function(v){o.add(Hm(v,e,n,v,t,s))}):ege(t)&&t.forEach(function(v,m){o.set(m,Hm(v,e,n,m,t,s))});var p=u?l?mme:pme:l?R1:C1,g=c?void 0:p(t);return spe(g||t,function(v,m){g&&(m=v,v=t[m]),Nj(o,m,Hm(v,e,n,m,t,s))}),o}var Pge=4;function zN(t){return Hm(t,Pge)}function Qj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var kge="[object Symbol]";function k1(t){return typeof t=="symbol"||kl(t)&&Pl(t)==kge}var Nge="Expected a function";function N1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Nge);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(N1.Cache||ra),n}N1.Cache=ra;var Oge=500;function Dge(t){var e=N1(t,function(r){return n.size===Oge&&n.clear(),r}),n=e.cache;return e}var Mge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lge=/\\(\\)?/g,$ge=Dge(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mge,function(n,r,i,s){e.push(i?s.replace(Lge,"$1"):r||n)}),e});const Fge=$ge;var Vge=1/0;function Uge(t){if(typeof t=="string"||k1(t))return t;var e=t+"";return e=="0"&&1/t==-Vge?"-0":e}var jge=1/0,WN=Ho?Ho.prototype:void 0,qN=WN?WN.toString:void 0;function Yj(t){if(typeof t=="string")return t;if(Cp(t))return Qj(t,Yj)+"";if(k1(t))return qN?qN.call(t):"";var e=t+"";return e=="0"&&1/t==-jge?"-0":e}function Bge(t){return t==null?"":Yj(t)}function Xj(t){return Cp(t)?Qj(t,Uge):k1(t)?[t]:jj(Fge(Bge(t)))}function Jt(){return Jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jt.apply(this,arguments)}function Jj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var e0=E.createContext(void 0);e0.displayName="FormikContext";e0.Provider;e0.Consumer;function zge(){var t=E.useContext(e0);return t}var ai=function(e){return typeof e=="function"},t0=function(e){return e!==null&&typeof e=="object"},Wge=function(e){return String(Math.floor(Number(e)))===e},xw=function(e){return Object.prototype.toString.call(e)==="[object String]"},Aw=function(e){return t0(e)&&ai(e.then)};function vr(t,e,n,r){r===void 0&&(r=0);for(var i=Xj(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function qa(t,e,n){for(var r=zN(t),i=r,s=0,o=Xj(e);s<o.length-1;s++){var a=o[s],l=vr(t,o.slice(0,s+1));if(l&&(t0(l)||Array.isArray(l)))i=i[a]=zN(l);else{var u=o[s+1];i=i[a]=Wge(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function Zj(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];t0(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},Zj(a,e,n,r[o])):r[o]=e}return r}function qge(t,e){switch(e.type){case"SET_VALUES":return Jt({},t,{values:e.payload});case"SET_TOUCHED":return Jt({},t,{touched:e.payload});case"SET_ERRORS":return _a(t.errors,e.payload)?t:Jt({},t,{errors:e.payload});case"SET_STATUS":return Jt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Jt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Jt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Jt({},t,{values:qa(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Jt({},t,{touched:qa(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Jt({},t,{errors:qa(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Jt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Jt({},t,{touched:Zj(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Jt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Jt({},t,{isSubmitting:!1});default:return t}}var la={},fm={};function O1(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,d=Jj(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=Jt({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},d),f=E.useRef(h.initialValues),p=E.useRef(h.initialErrors||la),g=E.useRef(h.initialTouched||fm),v=E.useRef(h.initialStatus),m=E.useRef(!1),_=E.useRef({});E.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var y=E.useState(0),w=y[1],b=E.useRef({values:h.initialValues,errors:h.initialErrors||la,touched:h.initialTouched||fm,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),C=b.current,T=E.useCallback(function(x){var q=b.current;b.current=qge(q,x),q!==b.current&&w(function(W){return W+1})},[]),A=E.useCallback(function(x,q){return new Promise(function(W,ne){var pe=h.validate(x,q);pe==null?W(la):Aw(pe)?pe.then(function(Ee){W(Ee||la)},function(Ee){ne(Ee)}):W(pe)})},[h.validate]),M=E.useCallback(function(x,q){var W=h.validationSchema,ne=ai(W)?W(q):W,pe=q&&ne.validateAt?ne.validateAt(q,x):Gge(x,ne);return new Promise(function(Ee,me){pe.then(function(){Ee(la)},function(oe){oe.name==="ValidationError"?Ee(Hge(oe)):me(oe)})})},[h.validationSchema]),P=E.useCallback(function(x,q){return new Promise(function(W){return W(_.current[x].validate(q))})},[]),L=E.useCallback(function(x){var q=Object.keys(_.current).filter(function(ne){return ai(_.current[ne].validate)}),W=q.length>0?q.map(function(ne){return P(ne,vr(x,ne))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(W).then(function(ne){return ne.reduce(function(pe,Ee,me){return Ee==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ee&&(pe=qa(pe,q[me],Ee)),pe},{})})},[P]),G=E.useCallback(function(x){return Promise.all([L(x),h.validationSchema?M(x):{},h.validate?A(x):{}]).then(function(q){var W=q[0],ne=q[1],pe=q[2],Ee=ZI.all([W,ne,pe],{arrayMerge:Kge});return Ee})},[h.validate,h.validationSchema,L,A,M]),F=jr(function(x){return x===void 0&&(x=C.values),T({type:"SET_ISVALIDATING",payload:!0}),G(x).then(function(q){return m.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:q})),q})});E.useEffect(function(){o&&m.current===!0&&_a(f.current,h.initialValues)&&F(f.current)},[o,F]);var U=E.useCallback(function(x){var q=x&&x.values?x.values:f.current,W=x&&x.errors?x.errors:p.current?p.current:h.initialErrors||{},ne=x&&x.touched?x.touched:g.current?g.current:h.initialTouched||{},pe=x&&x.status?x.status:v.current?v.current:h.initialStatus;f.current=q,p.current=W,g.current=ne,v.current=pe;var Ee=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!x&&!!x.isSubmitting,errors:W,touched:ne,status:pe,values:q,isValidating:!!x&&!!x.isValidating,submitCount:x&&x.submitCount&&typeof x.submitCount=="number"?x.submitCount:0}})};if(h.onReset){var me=h.onReset(C.values,we);Aw(me)?me.then(Ee):Ee()}else Ee()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);E.useEffect(function(){m.current===!0&&!_a(f.current,h.initialValues)&&u&&(f.current=h.initialValues,U(),o&&F(f.current))},[u,h.initialValues,U,o,F]),E.useEffect(function(){u&&m.current===!0&&!_a(p.current,h.initialErrors)&&(p.current=h.initialErrors||la,T({type:"SET_ERRORS",payload:h.initialErrors||la}))},[u,h.initialErrors]),E.useEffect(function(){u&&m.current===!0&&!_a(g.current,h.initialTouched)&&(g.current=h.initialTouched||fm,T({type:"SET_TOUCHED",payload:h.initialTouched||fm}))},[u,h.initialTouched]),E.useEffect(function(){u&&m.current===!0&&!_a(v.current,h.initialStatus)&&(v.current=h.initialStatus,T({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var B=jr(function(x){if(_.current[x]&&ai(_.current[x].validate)){var q=vr(C.values,x),W=_.current[x].validate(q);return Aw(W)?(T({type:"SET_ISVALIDATING",payload:!0}),W.then(function(ne){return ne}).then(function(ne){T({type:"SET_FIELD_ERROR",payload:{field:x,value:ne}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:x,value:W}}),Promise.resolve(W))}else if(h.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),M(C.values,x).then(function(ne){return ne}).then(function(ne){T({type:"SET_FIELD_ERROR",payload:{field:x,value:vr(ne,x)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Y=E.useCallback(function(x,q){var W=q.validate;_.current[x]={validate:W}},[]),Z=E.useCallback(function(x){delete _.current[x]},[]),N=jr(function(x,q){T({type:"SET_TOUCHED",payload:x});var W=q===void 0?i:q;return W?F(C.values):Promise.resolve()}),z=E.useCallback(function(x){T({type:"SET_ERRORS",payload:x})},[]),X=jr(function(x,q){var W=ai(x)?x(C.values):x;T({type:"SET_VALUES",payload:W});var ne=q===void 0?n:q;return ne?F(W):Promise.resolve()}),ve=E.useCallback(function(x,q){T({type:"SET_FIELD_ERROR",payload:{field:x,value:q}})},[]),he=jr(function(x,q,W){T({type:"SET_FIELD_VALUE",payload:{field:x,value:q}});var ne=W===void 0?n:W;return ne?F(qa(C.values,x,q)):Promise.resolve()}),Be=E.useCallback(function(x,q){var W=q,ne=x,pe;if(!xw(x)){x.persist&&x.persist();var Ee=x.target?x.target:x.currentTarget,me=Ee.type,oe=Ee.name,yr=Ee.id,is=Ee.value,sa=Ee.checked,ce=Ee.outerHTML,Qe=Ee.options,qt=Ee.multiple;W=q||oe||yr,ne=/number|range/.test(me)?(pe=parseFloat(is),isNaN(pe)?"":pe):/checkbox/.test(me)?Yge(vr(C.values,W),sa,is):Qe&&qt?Qge(Qe):is}W&&he(W,ne)},[he,C.values]),fe=jr(function(x){if(xw(x))return function(q){return Be(q,x)};Be(x)}),Pe=jr(function(x,q,W){q===void 0&&(q=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:x,value:q}});var ne=W===void 0?i:W;return ne?F(C.values):Promise.resolve()}),ke=E.useCallback(function(x,q){x.persist&&x.persist();var W=x.target,ne=W.name,pe=W.id,Ee=W.outerHTML,me=q||ne||pe;Pe(me,!0)},[Pe]),yt=jr(function(x){if(xw(x))return function(q){return ke(q,x)};ke(x)}),Xt=E.useCallback(function(x){ai(x)?T({type:"SET_FORMIK_STATE",payload:x}):T({type:"SET_FORMIK_STATE",payload:function(){return x}})},[]),ht=E.useCallback(function(x){T({type:"SET_STATUS",payload:x})},[]),fn=E.useCallback(function(x){T({type:"SET_ISSUBMITTING",payload:x})},[]),De=jr(function(){return T({type:"SUBMIT_ATTEMPT"}),F().then(function(x){var q=x instanceof Error,W=!q&&Object.keys(x).length===0;if(W){var ne;try{if(ne=ze(),ne===void 0)return}catch(pe){throw pe}return Promise.resolve(ne).then(function(pe){return m.current&&T({type:"SUBMIT_SUCCESS"}),pe}).catch(function(pe){if(m.current)throw T({type:"SUBMIT_FAILURE"}),pe})}else if(m.current&&(T({type:"SUBMIT_FAILURE"}),q))throw x})}),it=jr(function(x){x&&x.preventDefault&&ai(x.preventDefault)&&x.preventDefault(),x&&x.stopPropagation&&ai(x.stopPropagation)&&x.stopPropagation(),De().catch(function(q){console.warn("Warning: An unhandled error was caught from submitForm()",q)})}),we={resetForm:U,validateForm:F,validateField:B,setErrors:z,setFieldError:ve,setFieldTouched:Pe,setFieldValue:he,setStatus:ht,setSubmitting:fn,setTouched:N,setValues:X,setFormikState:Xt,submitForm:De},ze=jr(function(){return c(C.values,we)}),Ze=jr(function(x){x&&x.preventDefault&&ai(x.preventDefault)&&x.preventDefault(),x&&x.stopPropagation&&ai(x.stopPropagation)&&x.stopPropagation(),U()}),Ci=E.useCallback(function(x){return{value:vr(C.values,x),error:vr(C.errors,x),touched:!!vr(C.touched,x),initialValue:vr(f.current,x),initialTouched:!!vr(g.current,x),initialError:vr(p.current,x)}},[C.errors,C.touched,C.values]),Yn=E.useCallback(function(x){return{setValue:function(W,ne){return he(x,W,ne)},setTouched:function(W,ne){return Pe(x,W,ne)},setError:function(W){return ve(x,W)}}},[he,Pe,ve]),Xn=E.useCallback(function(x){var q=t0(x),W=q?x.name:x,ne=vr(C.values,W),pe={name:W,value:ne,onChange:fe,onBlur:yt};if(q){var Ee=x.type,me=x.value,oe=x.as,yr=x.multiple;Ee==="checkbox"?me===void 0?pe.checked=!!ne:(pe.checked=!!(Array.isArray(ne)&&~ne.indexOf(me)),pe.value=me):Ee==="radio"?(pe.checked=ne===me,pe.value=me):oe==="select"&&yr&&(pe.value=pe.value||[],pe.multiple=!0)}return pe},[yt,fe,C.values]),Ln=E.useMemo(function(){return!_a(f.current,C.values)},[f.current,C.values]),Jn=E.useMemo(function(){return typeof a<"u"?Ln?C.errors&&Object.keys(C.errors).length===0:a!==!1&&ai(a)?a(h):a:C.errors&&Object.keys(C.errors).length===0},[a,Ln,C.errors,h]),st=Jt({},C,{initialValues:f.current,initialErrors:p.current,initialTouched:g.current,initialStatus:v.current,handleBlur:yt,handleChange:fe,handleReset:Ze,handleSubmit:it,resetForm:U,setErrors:z,setFormikState:Xt,setFieldTouched:Pe,setFieldValue:he,setFieldError:ve,setStatus:ht,setSubmitting:fn,setTouched:N,setValues:X,submitForm:De,validateForm:F,validateField:B,isValid:Jn,dirty:Ln,unregisterField:Z,registerField:Y,getFieldProps:Xn,getFieldMeta:Ci,getFieldHelpers:Yn,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return st}function Hge(t){var e={};if(t.inner){if(t.inner.length===0)return qa(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;vr(e,o.path)||(e=qa(e,o.path,o.message))}}return e}function Gge(t,e,n,r){n===void 0&&(n=!1);var i=sT(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function sT(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||vN(i)?sT(i):i!==""?i:void 0}):vN(t[r])?e[r]=sT(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function Kge(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?ZI(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=ZI(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function Qge(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function Yge(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var Xge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function jr(t){var e=E.useRef(t);return Xge(function(){e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var Jge=E.forwardRef(function(t,e){var n=t.action,r=Jj(t,["action"]),i=n??"#",s=zge(),o=s.handleReset,a=s.handleSubmit;return E.createElement("form",Jt({onSubmit:a,ref:e,onReset:o,action:i},r))});Jge.displayName="Form";function Dl(t){this._maxSize=t,this.clear()}Dl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Dl.prototype.get=function(t){return this._values[t]};Dl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Zge=/[^.^\]^[]+|(?=\[\]|\.\.)/g,eB=/^\d+$/,e_e=/^\d/,t_e=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,n_e=/^\s*(['"]?)(.*?)(\1)\s*$/,D1=512,HN=new Dl(D1),GN=new Dl(D1),KN=new Dl(D1),Ha={Cache:Dl,split:oT,normalizePath:Pw,setter:function(t){var e=Pw(t);return GN.get(t)||GN.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Pw(t);return KN.get(t)||KN.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(M1(n)||eB.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){r_e(Array.isArray(t)?t:oT(t),e,n)}};function Pw(t){return HN.get(t)||HN.set(t,oT(t).map(function(e){return e.replace(n_e,"$2")}))}function oT(t){return t.match(Zge)||[""]}function r_e(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(o_e(i)&&(i='"'+i+'"'),a=M1(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function M1(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function i_e(t){return t.match(e_e)&&!t.match(eB)}function s_e(t){return t_e.test(t)}function o_e(t){return!M1(t)&&(i_e(t)||s_e(t))}const a_e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n0=t=>t.match(a_e)||[],r0=t=>t[0].toUpperCase()+t.slice(1),L1=(t,e)=>n0(t).join(e).toLowerCase(),tB=t=>n0(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),l_e=t=>r0(tB(t)),u_e=t=>L1(t,"_"),c_e=t=>L1(t,"-"),d_e=t=>r0(L1(t," ")),h_e=t=>n0(t).map(r0).join(" ");var kw={words:n0,upperFirst:r0,camelCase:tB,pascalCase:l_e,snakeCase:u_e,kebabCase:c_e,sentenceCase:d_e,titleCase:h_e},$1={exports:{}};$1.exports=function(t){return nB(f_e(t),t)};$1.exports.array=nB;function nB(t,e){var n=t.length,r=new Array(n),i={},s=n,o=p_e(e),a=m_e(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,d){if(d.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var f=o.get(u)||new Set;if(f=Array.from(f),c=f.length){d.add(u);do{var p=f[--c];l(p,a.get(p),d)}while(c);d.delete(u)}r[--n]=u}}}function f_e(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function p_e(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function m_e(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var g_e=$1.exports;const __e=T_(g_e),y_e=Object.prototype.toString,v_e=Error.prototype.toString,w_e=RegExp.prototype.toString,E_e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",I_e=/^Symbol\((.*)\)(.*)$/;function T_e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function QN(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return T_e(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return E_e.call(t).replace(I_e,"Symbol($1)");const r=y_e.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+v_e.call(t)+"]":r==="RegExp"?w_e.call(t):null}function Io(t,e){let n=QN(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=QN(this[r],e);return s!==null?s:i},2)}function rB(t){return t==null?[]:[].concat(t)}let iB,b_e=/\$\{\s*(\w+)\s*\}/g;iB=Symbol.toStringTag;class nr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(b_e,(i,s)=>Io(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[iB]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],rB(e).forEach(o=>{if(nr.isError(o)){this.errors.push(...o.errors);const a=o.inner.length?o.inner:[o];this.inner.push(...a)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,nr)}}let Pi={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Io(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Io(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Io(n,!0)}\``+i}},li={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},S_e={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},aT={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},C_e={isValue:"${path} field must be ${value}"},lT={noUnknown:"${path} field has unspecified keys: ${unknown}"},R_e={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},x_e={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Io(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Io(n,!0)}\``}return nr.formatError(Pi.notType,t)}};Object.assign(Object.create(null),{mixed:Pi,string:li,number:S_e,date:aT,object:lT,array:R_e,boolean:C_e,tuple:x_e});const F1=t=>t&&t.__isYupSchema__;class E_{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new E_(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!F1(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const pm={context:"$",value:"."};function A_e(t,e){return new ia(t,e)}class ia{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===pm.context,this.isValue=this.key[0]===pm.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?pm.context:this.isValue?pm.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Ha.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ia.prototype.__isYupRef=!0;const La=t=>t==null;function Yl(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:d,message:h,skipAbsent:f}=t;let{parent:p,context:g,abortEarly:v=o.spec.abortEarly,disableStackTrace:m=o.spec.disableStackTrace}=i;function _(L){return ia.isRef(L)?L.getValue(n,p,g):L}function y(L={}){var G;const F=Object.assign({value:n,originalValue:s,label:o.spec.label,path:L.path||r,spec:o.spec},d,L.params);for(const B of Object.keys(F))F[B]=_(F[B]);const U=new nr(nr.formatError(L.message||h,F),n,F.path,L.type||u,(G=L.disableStackTrace)!=null?G:m);return U.params=F,U}const w=v?a:l;let b={path:r,parent:p,type:u,from:i.from,createError:y,resolve:_,options:i,originalValue:s,schema:o};const C=L=>{nr.isError(L)?w(L):L?l(null):w(y())},T=L=>{nr.isError(L)?w(L):a(L)};if(f&&La(n))return C(!0);let M;try{var P;if(M=c.call(b,n,b),typeof((P=M)==null?void 0:P.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${b.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(M).then(C,T)}}catch(L){T(L);return}C(M)}return e.OPTIONS=t,e}function P_e(t,e,n,r=n){let i,s,o;return e?(Ha.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",h=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[h],t=d?t.spec.types[h]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class I_ extends Set{describe(){const e=[];for(const n of this.values())e.push(ia.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new I_(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function yu(t,e=new Map){if(F1(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=yu(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,yu(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(yu(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=yu(i,e)}else throw Error(`Unable to clone ${t}`);return n}class ts{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new I_,this._blacklist=new I_,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Pi.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=yu(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&La(s))return s;let o=Io(e),a=Io(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=g=>{i||(i=!0,n(g,o))},d=g=>{i||(i=!0,r(g,o))},h=s.length,f=[];if(!h)return d([]);let p={value:o,originalValue:a,path:l,options:u,schema:this};for(let g=0;g<s.length;g++){const v=s[g];v(p,c,function(_){_&&(Array.isArray(_)?f.push(..._):f.push(_)),--h<=0&&d(f)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,h,f)=>this.resolve(c)._validate(u,c,h,f)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{nr.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new nr(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw nr.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new nr(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(nr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(nr.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):yu(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Yl({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Yl({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Pi.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Pi.notNull){return this.nullability(!1,e)}required(e=Pi.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Pi.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Yl(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=rB(e).map(s=>new ia(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new E_(i,n):E_.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Yl({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Pi.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Yl({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Pi.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Yl({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}ts.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ts.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=P_e(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])ts.prototype[t]=ts.prototype.oneOf;for(const t of["not","nope"])ts.prototype[t]=ts.prototype.notOneOf;let k_e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,N_e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,O_e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,D_e=t=>La(t)||t===t.trim(),M_e={}.toString();function ws(){return new sB}class sB extends ts{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===M_e?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Pi.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=li.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=li.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=li.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||li.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=li.email){return this.matches(k_e,{name:"email",message:e,excludeEmptyString:!0})}url(e=li.url){return this.matches(N_e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=li.uuid){return this.matches(O_e,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=li.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:D_e})}lowercase(e=li.lowercase){return this.transform(n=>La(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>La(n)||n===n.toLowerCase()})}uppercase(e=li.uppercase){return this.transform(n=>La(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>La(n)||n===n.toUpperCase()})}}ws.prototype=sB.prototype;const L_e=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ss(t,e=0){return Number(t)||e}function $_e(t){const e=L_e.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:ss(e[1]),month:ss(e[2],1)-1,day:ss(e[3],1),hour:ss(e[4]),minute:ss(e[5]),second:ss(e[6]),millisecond:e[7]?ss(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:ss(e[10]),minuteOffset:ss(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let F_e=new Date(""),V_e=t=>Object.prototype.toString.call(t)==="[object Date]";class i0 extends ts{constructor(){super({type:"date",check(e){return V_e(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=$_e(e),isNaN(e)?i0.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ia.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=aT.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=aT.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}i0.INVALID_DATE=F_e;i0.prototype;function U_e(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Ha.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ia.isRef(a)&&a.isSibling?s(a.path,o):F1(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return __e.array(Array.from(r),n).reverse()}function YN(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function oB(t){return(e,n)=>YN(t,e)-YN(t,n)}const j_e=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Gm(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Gm(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Gm(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Gm)}):"optional"in t?t.optional():t}const B_e=(t,e)=>{const n=[...Ha.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Ha.getter(Ha.join(n),!0)(t);return!!(i&&r in i)};let XN=t=>Object.prototype.toString.call(t)==="[object Object]";function z_e(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const W_e=oB([]);function s0(t){return new aB(t)}class aB extends ts{constructor(e){super({type:"object",check(n){return XN(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=W_e,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let h=s[d],f=d in i;if(h){let p,g=i[d];u.path=(n.path?`${n.path}.`:"")+d,h=h.resolve({value:g,context:n.context,parent:l});let v=h instanceof ts?h.spec:void 0,m=v==null?void 0:v.strict;if(v!=null&&v.strip){c=c||d in i;continue}p=!n.__validating||!m?h.cast(i[d],u):i[d],p!==void 0&&(l[d]=p)}else f&&!o&&(l[d]=i[d]);(f!==d in l||l[d]!==i[d])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!XN(u)){i(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let h=this.fields[d];!h||ia.isRef(h)||c.push(h.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=U_e(e,n),r._sortErrors=oB(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Gm(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Ha.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return B_e(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(j_e)}noUnknown(e=!0,n=lT.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=z_e(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=lT.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(kw.camelCase)}snakeCase(){return this.transformKeys(kw.snakeCase)}constantCase(){return this.transformKeys(e=>kw.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}s0.prototype=aB.prototype;const q_e="_container_khuy3_1",Es={container:q_e},H_e=({onSubmit:t})=>{const e=S_(),n={cardNumber:"",cvv:"",expirationDate:""},r=s0({cardNumber:ws().matches(/^\d{16}$/,"enter any 16 digits").required("required field"),cvv:ws().matches(/^\d{3}$/,"enter any 3 digits").required("required field"),expirationDate:ws().matches(/^\d{2}\/\d{2}$/,`
enter the date in the format 01/01`).required("required field")}),i=O1({initialValues:n,onSubmit:l=>{localStorage.clear(),e(S9()),o(!0),t(l)},validationSchema:r}),[s,o]=rr.useState(!1),a=()=>{o(!1)};return I.jsx(qo,{className:Es.form,container:!0,justifyContent:"center",children:I.jsx(qo,{item:!0,xs:8,children:I.jsxs("form",{onSubmit:i.handleSubmit,children:[I.jsxs(_1,{onClose:a,open:s,children:[I.jsx(w1,{className:Es.dialogTitle,children:"payment message"}),I.jsx(v1,{children:I.jsx("div",{children:"Your order has been successfully paid"})}),I.jsx(y1,{children:I.jsx(Nr,{autoFocus:!0,color:"primary",onClick:a,component:Co,to:"/",children:"CLOSE"})})]}),I.jsxs("div",{className:Es.container,children:[I.jsx(Xr,{error:i.touched.cardNumber&&!!i.errors.cardNumber,helperText:i.touched.cardNumber&&i.errors.cardNumber,label:"Card Number",name:"cardNumber",onChange:i.handleChange,value:i.values.cardNumber,variant:"outlined"}),I.jsx(Xr,{error:i.touched.expirationDate&&!!i.errors.expirationDate,helperText:i.touched.expirationDate&&i.errors.expirationDate,label:"Expiration Date",name:"expirationDate",onChange:i.handleChange,style:{margin:"20px 0 20px 0"},value:i.values.expirationDate,variant:"outlined"}),I.jsx(Xr,{error:i.touched.cvv&&!!i.errors.cvv,helperText:i.touched.cvv&&i.errors.cvv,label:"CVV",name:"cvv",onChange:i.handleChange,value:i.values.cvv,variant:"outlined"}),I.jsx(Nr,{color:"primary",type:"submit",variant:"contained",children:"Pay"})]})]})})})},G_e="_error404_1lt3v_1",K_e="_wrapper_1lt3v_6",JN={error404:G_e,wrapper:K_e},Q_e="/eShop/assets/404-kMbd88y6.svg",Y_e=()=>I.jsx("div",{id:"hw5-page-404",children:I.jsx("div",{className:JN.wrapper,children:I.jsx("img",{alt:"404",className:JN.error404,src:Q_e})})}),X_e=({id:t,name:e,photo:n,price:r,quantity:i})=>{const s=S_(),o=Is(c=>c.cart.items.find(d=>d.id===t)),[a,l]=E.useState(!1);E.useEffect(()=>{i===0&&l(!0)},[i]);const u=()=>{s(o?qM(t):T9({id:t,name:e,photo:n,price:r,quantity:i}))};return I.jsx(Tp,{sx:{marginTop:2},children:I.jsxs(bp,{children:[I.jsx(We,{component:"div",variant:"h5",children:e}),I.jsx(uj,{style:a?{opacity:.5}:{},alt:e,component:"img",height:"250",image:n}),a?I.jsx(We,{style:{position:"relative",bottom:"140px"},component:"div",variant:"h5",children:"Not available"}):I.jsx(We,{component:"div",variant:"h5"}),a?I.jsx(We,{variant:"body1"}):I.jsxs(We,{color:"text.secondary",variant:"body1",children:["Price: $",r]}),I.jsx(Nr,{disabled:a,onClick:u,variant:"contained",children:"Add to Cart"})]})})},J_e=()=>{const t=Is(n=>n.product.items),e=Object.values(t);return I.jsx(qo,{container:!0,spacing:2,justifyContent:"center",children:e.map(n=>I.jsx(qo,{width:"300px",item:!0,children:I.jsx(X_e,{id:n.id,name:n.name,photo:n.photo,price:n.price,quantity:n.quantity},n.id)},n.id))})};var V1={},lB={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(lB);var gr=lB.exports,Nw={};const Z_e=RB(Yoe);var ZN;function _r(){return ZN||(ZN=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Z_e}(Nw)),Nw}var eye=gr;Object.defineProperty(V1,"__esModule",{value:!0});var uB=V1.default=void 0,tye=eye(_r()),eO=I,nye=(0,tye.default)([(0,eO.jsx)("path",{d:"M18 11c.7 0 1.37.1 2 .29V9l-8-6-8 6v12h7.68c-.43-.91-.68-1.92-.68-3 0-3.87 3.13-7 7-7z"},"0"),(0,eO.jsx)("path",{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm3 5.5h-2.5V21h-1v-2.5H15v-1h2.5V15h1v2.5H21v1z"},"1")],"AddHome");uB=V1.default=nye;var U1={},rye=gr;Object.defineProperty(U1,"__esModule",{value:!0});var cB=U1.default=void 0,iye=rye(_r()),sye=I,oye=(0,iye.default)((0,sye.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");cB=U1.default=oye;var j1={},aye=gr;Object.defineProperty(j1,"__esModule",{value:!0});var dB=j1.default=void 0,lye=aye(_r()),uye=I,cye=(0,lye.default)((0,uye.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"Payment");dB=j1.default=cye;var B1={},dye=gr;Object.defineProperty(B1,"__esModule",{value:!0});var uT=B1.default=void 0,hye=dye(_r()),fye=I,pye=(0,hye.default)((0,fye.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");uT=B1.default=pye;var z1={},mye=gr;Object.defineProperty(z1,"__esModule",{value:!0});var hB=z1.default=void 0,gye=mye(_r()),_ye=I,yye=(0,gye.default)((0,_ye.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");hB=z1.default=yye;var W1={},vye=gr;Object.defineProperty(W1,"__esModule",{value:!0});var fB=W1.default=void 0,wye=vye(_r()),Eye=I,Iye=(0,wye.default)((0,Eye.jsx)("path",{d:"M7.5 11C9.43 11 11 9.43 11 7.5S9.43 4 7.5 4 4 5.57 4 7.5 5.57 11 7.5 11zm0-5C8.33 6 9 6.67 9 7.5S8.33 9 7.5 9 6 8.33 6 7.5 6.67 6 7.5 6zM4.0025 18.5832 18.59 3.9955l1.4142 1.4143L5.4167 19.9974zM16.5 13c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5zm0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Percent");fB=W1.default=Iye;const Tye="_container_1qpp8_1",bye={container:Tye};var q1={},Sye=gr;Object.defineProperty(q1,"__esModule",{value:!0});var pB=q1.default=void 0,Cye=Sye(_r()),Rye=I,xye=(0,Cye.default)((0,Rye.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");pB=q1.default=xye;var H1={},Aye=gr;Object.defineProperty(H1,"__esModule",{value:!0});var mB=H1.default=void 0,Pye=Aye(_r()),kye=I,Nye=(0,Pye.default)((0,kye.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Article");mB=H1.default=Nye;var G1={},Oye=gr;Object.defineProperty(G1,"__esModule",{value:!0});var gB=G1.default=void 0,Dye=Oye(_r()),Mye=I,Lye=(0,Dye.default)((0,Mye.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");gB=G1.default=Lye;var K1={},$ye=gr;Object.defineProperty(K1,"__esModule",{value:!0});var _B=K1.default=void 0,Fye=$ye(_r()),Vye=I,Uye=(0,Fye.default)((0,Vye.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");_B=K1.default=Uye;var Q1={},jye=gr;Object.defineProperty(Q1,"__esModule",{value:!0});var yB=Q1.default=void 0,Bye=jye(_r()),zye=I,Wye=(0,Bye.default)((0,zye.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");yB=Q1.default=Wye;var Y1={},qye=gr;Object.defineProperty(Y1,"__esModule",{value:!0});var vB=Y1.default=void 0,Hye=qye(_r()),Gye=I,Kye=(0,Hye.default)((0,Gye.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");vB=Y1.default=Kye;const Qye=({id:t,name:e,photo:n,price:r,quantity:i})=>{const s=S_(),o=()=>{s(kx(t)),localStorage.clear()},a=()=>{i>1?s(b9(t)):(s(kx(t)),localStorage.clear())},l=()=>{s(qM(t))};return I.jsx(Tp,{children:I.jsxs(bp,{children:[I.jsx(We,{component:"div",variant:"h5",children:e}),I.jsx(uj,{alt:e,component:"img",image:n,style:{height:100,width:100}}),I.jsxs(We,{color:"text.secondary",variant:"body1",children:["Price: $",r]}),I.jsxs(We,{color:"text.secondary",variant:"body1",children:[I.jsx(Nr,{onClick:o,variant:"outlined",children:I.jsx(yB,{})}),I.jsx(Nr,{onClick:a,variant:"text",children:I.jsx(vB,{})}),i,I.jsx(Nr,{onClick:l,variant:"text",children:I.jsx(_B,{})})]})]})})},Yye=()=>{const t=Is(n=>n.cart.items),e=t.reduce((n,r)=>n+r.price*r.quantity,0);return E.useEffect(()=>{t.length!==0&&localStorage.setItem("cartItems",JSON.stringify(t))},[t]),I.jsx(Tp,{children:I.jsxs(bp,{children:[t.length>0?I.jsxs(We,{component:"div",variant:"h5",children:["Cart",I.jsx(Nr,{component:Co,style:{margin:"10px"},to:"/checkout",variant:"contained",children:"Order"})]}):I.jsx(We,{component:"div",variant:"h5",children:"Cart is empty"}),t.map(n=>I.jsx(Qye,{id:n.id,name:n.name,photo:n.photo,price:n.price,quantity:n.quantity},n.id)),I.jsxs(We,{color:"text.secondary",variant:"body1",children:["Total: $",e]})]})})},Xye=()=>{const t=Is(i=>i.cart.items),e=t.reduce((i,s)=>i+s.price*s.quantity,0),n=rS(),r=()=>{};return I.jsx(Tp,{children:I.jsxs(bp,{children:[I.jsxs(We,{component:"div",variant:"h5",children:["Checkout # ",n]}),t.map(i=>I.jsx("div",{children:I.jsxs(We,{component:"div",variant:"body1",children:[i.name," - ",i.quantity,"pcs. - $",i.price]})},i.id)),I.jsxs(We,{color:"div",style:{margin:"20px 0"},variant:"h5",children:[I.jsx(Nr,{component:Co,disabled:e===0,onClick:r,style:{margin:"0 10px 0 0"},to:"/payment",variant:"contained",children:"Place Order"}),"Total: $",e]})]})})},Jye=d1(I.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");var X1={},Zye=gr;Object.defineProperty(X1,"__esModule",{value:!0});var wB=X1.default=void 0,eve=Zye(_r()),tve=I,nve=(0,eve.default)((0,tve.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");wB=X1.default=nve;const rve=()=>{const t=Kf(),e=Is(l=>l.auth.error),n={email:"",password:"",passwordRepeat:""},r=s0({email:ws().matches(/^\S+@\S+\.\S+$/,"Enter a valid email address").required("Email is a required field"),password:ws().matches(/^[a-zA-Z0-9]{1,6}$/,"Create a password of no more than 6 characters, numbers, and letters").required("Password is a required field"),passwordRepeat:ws().oneOf([A_e("password"),null],"Passwords must match").required("Repeat password is a required field")}),i=O1({initialValues:n,onSubmit:l=>{t(nX(l)).then(u=>{console.log(u),o(!0)})},validationSchema:r}),[s,o]=E.useState(!1),a=()=>{o(!1)};return I.jsx(qo,{className:Es.form,container:!0,justifyContent:"center",children:I.jsxs(qo,{item:!0,xs:8,children:[I.jsx(We,{component:"div",variant:"h3",children:"Create account"}),I.jsxs("form",{onSubmit:i.handleSubmit,children:[I.jsxs(_1,{onClose:a,open:s,children:[I.jsx(w1,{className:Es.dialogTitle,children:"account message"}),I.jsx(v1,{children:e?I.jsx(We,{component:"div",style:{color:"red"},variant:"body2",children:e}):I.jsx(We,{component:"div",style:{color:"green"},variant:"body2",children:"Your are successfully registered"})}),I.jsx(y1,{children:I.jsx(Nr,{autoFocus:!0,color:"primary",onClick:a,component:Co,to:"/",children:"CLOSE"})})]}),I.jsxs("div",{className:Es.container,children:[I.jsx(Xr,{error:i.touched.email&&!!i.errors.email,helperText:i.touched.email&&i.errors.email,label:"email",name:"email",onChange:i.handleChange,value:i.values.email,variant:"outlined"}),I.jsx(Xr,{error:i.touched.password&&!!i.errors.password,helperText:i.touched.password&&i.errors.password,label:"password",name:"password",onChange:i.handleChange,style:{margin:"20px 0 20px 0"},value:i.values.password,variant:"outlined"}),I.jsx(Xr,{error:i.touched.passwordRepeat&&!!i.errors.passwordRepeat,helperText:i.touched.passwordRepeat&&i.errors.passwordRepeat,label:"Repeat password",name:"passwordRepeat",onChange:i.handleChange,value:i.values.passwordRepeat,variant:"outlined"}),I.jsx(Nr,{color:"primary",type:"submit",variant:"contained",children:"Create account"})]})]})]})})};var J1={},ive=gr;Object.defineProperty(J1,"__esModule",{value:!0});var EB=J1.default=void 0,sve=ive(_r()),ove=I,ave=(0,sve.default)((0,ove.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"}),"Login");EB=J1.default=ave;const lve=()=>{const t=Kf(),e=Is(l=>l.auth.error),n={email:"",password:""},r=s0({email:ws().matches(/^\S+@\S+\.\S+$/,"Enter a valid email address").required("Email is a required field"),password:ws().matches(/^[a-zA-Z0-9]{1,6}$/,"Create a password of no more than 6 characters, numbers, and letters").required("Password is a required field")}),i=O1({initialValues:n,onSubmit:l=>{t(rX(l)).then(u=>{console.log(u),o(!0)})},validationSchema:r}),[s,o]=E.useState(!1),a=()=>{o(!1)};return I.jsx(qo,{className:Es.form,container:!0,justifyContent:"center",children:I.jsxs(qo,{item:!0,xs:8,children:[I.jsx(We,{component:"div",variant:"h3",children:"Login"}),I.jsxs("form",{onSubmit:i.handleSubmit,children:[I.jsxs(_1,{onClose:a,open:s,children:[I.jsx(w1,{className:Es.dialogTitle,children:"account message"}),I.jsx(v1,{children:e?I.jsx(We,{component:"div",style:{color:"red"},variant:"body2",children:e}):I.jsx(We,{component:"div",style:{color:"green"},variant:"body2",children:"You are logged into your account"})}),I.jsx(y1,{children:I.jsx(Nr,{autoFocus:!0,color:"primary",onClick:a,component:Co,to:"/",children:"CLOSE"})})]}),I.jsxs("div",{className:Es.container,children:[I.jsx(Xr,{error:i.touched.email&&!!i.errors.email,helperText:i.touched.email&&i.errors.email,label:"email",name:"email",onChange:i.handleChange,value:i.values.email,variant:"outlined"}),I.jsx(Xr,{error:i.touched.password&&!!i.errors.password,helperText:i.touched.password&&i.errors.password,label:"password",name:"password",onChange:i.handleChange,style:{margin:"20px 0 20px 0"},value:i.values.password,variant:"outlined"}),I.jsx(Nr,{color:"primary",type:"submit",variant:"contained",children:"Login"})]})]})]})})},uve=()=>{const[t,e]=rr.useState(null),[n,r]=rr.useState(null),i=Is(w=>w.auth.isAuthenticated),s=Is(w=>w.cart.items),o=s.reduce((w,b)=>w+b.price*b.quantity,0),a=s.reduce((w,b)=>w+b.quantity,0),l=Kf(),u=CM();E.useEffect(()=>{l(D2())},[l]),E.useEffect(()=>{s.length!==0&&localStorage.setItem("cartItems",JSON.stringify(s))},[s]),E.useEffect(()=>{const w=localStorage.getItem("cartItems");w&&l(C9(JSON.parse(w)))},[l]);const c=w=>{e(w.currentTarget)},d=w=>{r(w.currentTarget)},h=()=>{e(null)},f=()=>{r(null)},p=()=>{u("/"),e(null)},g=()=>{u("/add"),r(null)},v=()=>{u("/cart"),r(null)},m=()=>{u("/checkout"),r(null)},_=()=>{u("/signUp"),r(null)},y=()=>{u("/signIn"),r(null)};return I.jsxs(Wle,{sx:{flexGrow:2},children:[I.jsx(Wae,{position:"fixed",children:I.jsxs(Nhe,{style:{display:"flex",justifyContent:"space-between"},children:[I.jsxs("div",{children:[I.jsx(ww,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:c,color:"inherit",children:I.jsx(hB,{})}),I.jsxs(qm,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!t,onClose:h,children:[I.jsxs(xi,{onClick:p,children:[I.jsx(cB,{})," Home"]}),I.jsxs(xi,{onClick:p,children:[I.jsx(fB,{})," Promotional code"]}),I.jsxs(xi,{onClick:p,children:[I.jsx(mB,{})," News"]}),I.jsxs(xi,{onClick:p,children:[I.jsx(gB,{})," About"]})]}),I.jsx(We,{color:"inherit",style:{width:"0px",textDecoration:"none"},variant:"h6",component:Co,to:"/",sx:{flexGrow:1},children:"My Shop"})]}),I.jsxs("div",{children:[I.jsxs(ww,{size:"large",component:Co,to:"/cart",style:{padding:"0"},color:"inherit",children:[I.jsx(uT,{}),a?I.jsx(We,{style:{position:"relative",right:"16px",bottom:"6px",fontWeight:"bold"},color:"red",component:"span",variant:"body2",children:a}):""]}),o?I.jsxs(We,{color:"text.secondary",component:"span",variant:"h6",children:["$",o]}):"",I.jsx(ww,{size:"large","aria-label":"account of current user","aria-controls":"user-appbar","aria-haspopup":"true",onClick:d,color:"inherit",children:I.jsx(Jye,{})}),i?I.jsxs(qm,{id:"user-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!n,onClose:f,children:[I.jsxs(xi,{onClick:f,children:[I.jsx(pB,{})," Profile"]}),I.jsxs(xi,{onClick:g,children:[I.jsx(uB,{})," Add product"]}),I.jsxs(xi,{onClick:v,children:[I.jsx(uT,{}),a?I.jsx(We,{style:{position:"relative",right:"16px",bottom:"6px",fontWeight:"bold"},color:"red",component:"span",variant:"body2",children:a}):""," Cart"]}),I.jsxs(xi,{onClick:m,children:[I.jsx(dB,{})," Pay for the order"]})]}):I.jsxs(qm,{id:"user-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!n,onClose:f,children:[I.jsxs(xi,{onClick:_,children:[I.jsx(wB,{})," SignUp"]}),I.jsxs(xi,{onClick:y,children:[I.jsx(EB,{})," SignIn"]})]})]})]})}),I.jsx(kue,{className:bye.container,children:I.jsxs(u3,{children:[I.jsx(os,{element:I.jsx(J_e,{}),path:"/"}),I.jsx(os,{element:I.jsx(Uhe,{}),path:"/add"}),I.jsx(os,{element:I.jsx(Yye,{}),path:"/cart"}),I.jsx(os,{element:I.jsx(Xye,{}),path:"/checkout"}),I.jsx(os,{element:I.jsx(H_e,{}),path:"/payment"}),I.jsx(os,{element:I.jsx(rve,{}),path:"/signUp"}),I.jsx(os,{element:I.jsx(lve,{}),path:"/signIn"}),I.jsx(os,{element:I.jsx(Y_e,{}),path:"*"})]})})]})},cve={apiKey:"AIzaSyD1u4VDvhbnOQvIlTsJd88GrMb0TTyvo7M",appId:"1:1004589233541:web:0185c11193e27aa053c0ec",authDomain:"eshop2-7a876.firebaseapp.com",databaseURL:"https://eshop2-7a876-default-rtdb.firebaseio.com",messagingSenderId:"1004589233541",projectId:"eshop2-7a876",storageBucket:"eshop2-7a876.appspot.com"},Z1=Z_(cve),cT=lG(Z1),dve=TK(Z1),IB=eX(Z1);Y$(document.getElementById("root")).render(I.jsx(p5,{store:aX,children:I.jsx(m3,{basename:"/eShop/",children:I.jsx(uve,{})})}))});export default hve();
