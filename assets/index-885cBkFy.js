var bz=Object.defineProperty;var Sz=(t,e,n)=>e in t?bz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Cz=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var V0=(t,e,n)=>(Sz(t,typeof e!="symbol"?e+"":e,n),n);var W0e=Cz((Or,Dr)=>{function Rz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function n_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xz(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var HO={exports:{}},r_={},GO={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=Symbol.for("react.element"),Pz=Symbol.for("react.portal"),Az=Symbol.for("react.fragment"),kz=Symbol.for("react.strict_mode"),Nz=Symbol.for("react.profiler"),Oz=Symbol.for("react.provider"),Dz=Symbol.for("react.context"),Mz=Symbol.for("react.forward_ref"),Lz=Symbol.for("react.suspense"),Fz=Symbol.for("react.memo"),$z=Symbol.for("react.lazy"),Bx=Symbol.iterator;function Vz(t){return t===null||typeof t!="object"?null:(t=Bx&&t[Bx]||t["@@iterator"],typeof t=="function"?t:null)}var KO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QO=Object.assign,YO={};function kc(t,e,n){this.props=t,this.context=e,this.refs=YO,this.updater=n||KO}kc.prototype.isReactComponent={};kc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XO(){}XO.prototype=kc.prototype;function GI(t,e,n){this.props=t,this.context=e,this.refs=YO,this.updater=n||KO}var KI=GI.prototype=new XO;KI.constructor=GI;QO(KI,kc.prototype);KI.isPureReactComponent=!0;var jx=Array.isArray,JO=Object.prototype.hasOwnProperty,QI={current:null},ZO={key:!0,ref:!0,__self:!0,__source:!0};function eD(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)JO.call(e,r)&&!ZO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tp,type:t,key:s,ref:o,props:i,_owner:QI.current}}function Uz(t,e){return{$$typeof:tp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function YI(t){return typeof t=="object"&&t!==null&&t.$$typeof===tp}function Bz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zx=/\/+/g;function U0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bz(""+t.key):e.toString(36)}function qm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tp:case Pz:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+U0(o,0):r,jx(i)?(n="",t!=null&&(n=t.replace(zx,"$&/")+"/"),qm(i,e,n,"",function(u){return u})):i!=null&&(YI(i)&&(i=Uz(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jx(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+U0(s,a);o+=qm(s,e,n,l,i)}else if(l=Vz(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+U0(s,a++),o+=qm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zp(t,e,n){if(t==null)return t;var r=[],i=0;return qm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tr={current:null},Hm={transition:null},zz={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:Hm,ReactCurrentOwner:QI};De.Children={map:Zp,forEach:function(t,e,n){Zp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zp(t,function(){e++}),e},toArray:function(t){return Zp(t,function(e){return e})||[]},only:function(t){if(!YI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=kc;De.Fragment=Az;De.Profiler=Nz;De.PureComponent=GI;De.StrictMode=kz;De.Suspense=Lz;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zz;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=QI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)JO.call(e,l)&&!ZO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:tp,type:t.type,key:i,ref:s,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:Dz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Oz,_context:t},t.Consumer=t};De.createElement=eD;De.createFactory=function(t){var e=eD.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:Mz,render:t}};De.isValidElement=YI;De.lazy=function(t){return{$$typeof:$z,_payload:{_status:-1,_result:t},_init:jz}};De.memo=function(t,e){return{$$typeof:Fz,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Hm.transition;Hm.transition={};try{t()}finally{Hm.transition=e}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(t,e){return tr.current.useCallback(t,e)};De.useContext=function(t){return tr.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return tr.current.useDeferredValue(t)};De.useEffect=function(t,e){return tr.current.useEffect(t,e)};De.useId=function(){return tr.current.useId()};De.useImperativeHandle=function(t,e,n){return tr.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return tr.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return tr.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return tr.current.useMemo(t,e)};De.useReducer=function(t,e,n){return tr.current.useReducer(t,e,n)};De.useRef=function(t){return tr.current.useRef(t)};De.useState=function(t){return tr.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return tr.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return tr.current.useTransition()};De.version="18.2.0";GO.exports=De;var E=GO.exports;const Jr=n_(E),Yu=Rz({__proto__:null,default:Jr},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz=E,qz=Symbol.for("react.element"),Hz=Symbol.for("react.fragment"),Gz=Object.prototype.hasOwnProperty,Kz=Wz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qz={key:!0,ref:!0,__self:!0,__source:!0};function tD(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Gz.call(e,r)&&!Qz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qz,type:t,key:s,ref:o,props:i,_owner:Kz.current}}r_.Fragment=Hz;r_.jsx=tD;r_.jsxs=tD;HO.exports=r_;var C=HO.exports,nD={exports:{}},rD={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=E;function Yz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xz=typeof Object.is=="function"?Object.is:Yz,Jz=np.useSyncExternalStore,Zz=np.useRef,e5=np.useEffect,t5=np.useMemo,n5=np.useDebugValue;rD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Zz(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=t5(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,Xz(c,f))return p;var g=r(f);return i!==void 0&&i(p,g)?p:(c=f,d=g)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=Jz(t,s[0],s[1]);return e5(function(){o.hasValue=!0,o.value=a},[a]),n5(a),a};nD.exports=rD;var r5=nD.exports,xr="default"in Yu?Jr:Yu,Wx=Symbol.for("react-redux-context"),qx=typeof globalThis<"u"?globalThis:{};function i5(){if(!xr.createContext)return{};const t=qx[Wx]??(qx[Wx]=new Map);let e=t.get(xr.createContext);return e||(e=xr.createContext(null),t.set(xr.createContext,e)),e}var ko=i5(),s5=()=>{throw new Error("uSES not initialized!")};function XI(t=ko){return function(){return xr.useContext(t)}}var iD=XI(),sD=s5,o5=t=>{sD=t},a5=(t,e)=>t===e;function l5(t=ko){const e=t===ko?iD:XI(t);return function(r,i={}){const{equalityFn:s=a5,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e();xr.useRef(!0);const h=xr.useCallback({[r.name](p){return r(p)}}[r.name],[r,c,o.stabilityCheck]),f=sD(l.addNestedSub,a.getState,u||a.getState,h,s);return xr.useDebugValue(f),f}}var Nc=l5();function u5(t){t()}function c5(){let t=null,e=null;return{clear(){t=null,e=null},notify(){u5(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Hx={notify(){},get:()=>[]};function d5(t,e){let n,r=Hx,i=0,s=!1;function o(g){c();const v=r.subscribe(g);let m=!1;return()=>{m||(m=!0,v(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=c5())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Hx)}function h(){s||(s=!0,c())}function f(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>r};return p}var h5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f5=h5?xr.useLayoutEffect:xr.useEffect;function p5({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=xr.useMemo(()=>{const u=d5(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=xr.useMemo(()=>t.getState(),[t]);f5(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||ko;return xr.createElement(l.Provider,{value:o},n)}var m5=p5;function oD(t=ko){const e=t===ko?iD:XI(t);return function(){const{store:r}=e();return r}}var g5=oD();function y5(t=ko){const e=t===ko?g5:oD(t);return function(){return e().dispatch}}var i_=y5();o5(r5.useSyncExternalStoreWithSelector);var aD={exports:{}},zr={},lD={exports:{}},uD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,U){var Y=N.length;N.push(U);e:for(;0<Y;){var ge=Y-1>>>1,ce=N[ge];if(0<i(ce,U))N[ge]=U,N[Y]=ce,Y=ge;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var U=N[0],Y=N.pop();if(Y!==U){N[0]=Y;e:for(var ge=0,ce=N.length,Se=ce>>>1;ge<Se;){var ue=2*(ge+1)-1,ye=N[ue],Ee=ue+1,qe=N[Ee];if(0>i(ye,Y))Ee<ce&&0>i(qe,ye)?(N[ge]=qe,N[Ee]=Y,ge=Ee):(N[ge]=ye,N[ue]=Y,ge=ue);else if(Ee<ce&&0>i(qe,Y))N[ge]=qe,N[Ee]=Y,ge=Ee;else break e}}return U}function i(N,U){var Y=N.sortIndex-U.sortIndex;return Y!==0?Y:N.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=N)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function w(N){if(g=!1,_(N),!p)if(n(l)!==null)p=!0,B(I);else{var U=n(u);U!==null&&K(w,U.startTime-N)}}function I(N,U){p=!1,g&&(g=!1,m(x),x=-1),f=!0;var Y=h;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||N&&!D());){var ge=d.callback;if(typeof ge=="function"){d.callback=null,h=d.priorityLevel;var ce=ge(d.expirationTime<=U);U=t.unstable_now(),typeof ce=="function"?d.callback=ce:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var Se=!0;else{var ue=n(u);ue!==null&&K(w,ue.startTime-U),Se=!1}return Se}finally{d=null,h=Y,f=!1}}var b=!1,T=null,x=-1,O=5,R=-1;function D(){return!(t.unstable_now()-R<O)}function z(){if(T!==null){var N=t.unstable_now();R=N;var U=!0;try{U=T(!0,N)}finally{U?M():(b=!1,T=null)}}else b=!1}var M;if(typeof y=="function")M=function(){y(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,V=$.port2;$.port1.onmessage=z,M=function(){V.postMessage(null)}}else M=function(){v(z,0)};function B(N){T=N,b||(b=!0,M())}function K(N,U){x=v(function(){N(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,B(I))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var Y=h;h=U;try{return N()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,U){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=h;h=N;try{return U()}finally{h=Y}},t.unstable_scheduleCallback=function(N,U,Y){var ge=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,N){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Y+ce,N={id:c++,callback:U,priorityLevel:N,startTime:Y,expirationTime:ce,sortIndex:-1},Y>ge?(N.sortIndex=Y,e(u,N),n(l)===null&&N===n(u)&&(g?(m(x),x=-1):g=!0,K(w,Y-ge))):(N.sortIndex=ce,e(l,N),p||f||(p=!0,B(I))),N},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(N){var U=h;return function(){var Y=h;h=U;try{return N.apply(this,arguments)}finally{h=Y}}}})(uD);lD.exports=uD;var _5=lD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD=E,Fr=_5;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dD=new Set,Dh={};function Cl(t,e){Xu(t,e),Xu(t+"Capture",e)}function Xu(t,e){for(Dh[t]=e,t=0;t<e.length;t++)dD.add(e[t])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fE=Object.prototype.hasOwnProperty,v5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gx={},Kx={};function w5(t){return fE.call(Kx,t)?!0:fE.call(Gx,t)?!1:v5.test(t)?Kx[t]=!0:(Gx[t]=!0,!1)}function E5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T5(t,e,n,r){if(e===null||typeof e>"u"||E5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var JI=/[\-:]([a-z])/g;function ZI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(JI,ZI);kn[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(JI,ZI);kn[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(JI,ZI);kn[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function eb(t,e,n,r){var i=kn.hasOwnProperty(e)?kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(T5(e,n,i,r)&&(n=null),r||i===null?w5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $s=cD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,em=Symbol.for("react.element"),mu=Symbol.for("react.portal"),gu=Symbol.for("react.fragment"),tb=Symbol.for("react.strict_mode"),pE=Symbol.for("react.profiler"),hD=Symbol.for("react.provider"),fD=Symbol.for("react.context"),nb=Symbol.for("react.forward_ref"),mE=Symbol.for("react.suspense"),gE=Symbol.for("react.suspense_list"),rb=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),pD=Symbol.for("react.offscreen"),Qx=Symbol.iterator;function ud(t){return t===null||typeof t!="object"?null:(t=Qx&&t[Qx]||t["@@iterator"],typeof t=="function"?t:null)}var Rt=Object.assign,B0;function Bd(t){if(B0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B0=e&&e[1]||""}return`
`+B0+t}var j0=!1;function z0(t,e){if(!t||j0)return"";j0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{j0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bd(t):""}function I5(t){switch(t.tag){case 5:return Bd(t.type);case 16:return Bd("Lazy");case 13:return Bd("Suspense");case 19:return Bd("SuspenseList");case 0:case 2:case 15:return t=z0(t.type,!1),t;case 11:return t=z0(t.type.render,!1),t;case 1:return t=z0(t.type,!0),t;default:return""}}function yE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gu:return"Fragment";case mu:return"Portal";case pE:return"Profiler";case tb:return"StrictMode";case mE:return"Suspense";case gE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fD:return(t.displayName||"Context")+".Consumer";case hD:return(t._context.displayName||"Context")+".Provider";case nb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rb:return e=t.displayName||null,e!==null?e:yE(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return yE(t(e))}catch{}}return null}function b5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yE(e);case 8:return e===tb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S5(t){var e=mD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tm(t){t._valueTracker||(t._valueTracker=S5(t))}function gD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _E(t,e){var n=e.checked;return Rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=No(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yD(t,e){e=e.checked,e!=null&&eb(t,"checked",e,!1)}function vE(t,e){yD(t,e);var n=No(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wE(t,e.type,n):e.hasOwnProperty("defaultValue")&&wE(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wE(t,e,n){(e!=="number"||Sg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jd=Array.isArray;function ku(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+No(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function EE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(jd(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:No(n)}}function _D(t,e){var n=No(e.value),r=No(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nm,wD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nm=nm||document.createElement("div"),nm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C5=["Webkit","ms","Moz","O"];Object.keys(rh).forEach(function(t){C5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rh[e]=rh[t]})});function ED(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rh.hasOwnProperty(t)&&rh[t]?(""+e).trim():e+"px"}function TD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ED(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var R5=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function IE(t,e){if(e){if(R5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function bE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SE=null;function ib(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var CE=null,Nu=null,Ou=null;function e1(t){if(t=sp(t)){if(typeof CE!="function")throw Error(j(280));var e=t.stateNode;e&&(e=u_(e),CE(t.stateNode,t.type,e))}}function ID(t){Nu?Ou?Ou.push(t):Ou=[t]:Nu=t}function bD(){if(Nu){var t=Nu,e=Ou;if(Ou=Nu=null,e1(t),e)for(t=0;t<e.length;t++)e1(e[t])}}function SD(t,e){return t(e)}function CD(){}var W0=!1;function RD(t,e,n){if(W0)return t(e,n);W0=!0;try{return SD(t,e,n)}finally{W0=!1,(Nu!==null||Ou!==null)&&(CD(),bD())}}function Lh(t,e){var n=t.stateNode;if(n===null)return null;var r=u_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var RE=!1;if(xs)try{var cd={};Object.defineProperty(cd,"passive",{get:function(){RE=!0}}),window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{RE=!1}function x5(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ih=!1,Cg=null,Rg=!1,xE=null,P5={onError:function(t){ih=!0,Cg=t}};function A5(t,e,n,r,i,s,o,a,l){ih=!1,Cg=null,x5.apply(P5,arguments)}function k5(t,e,n,r,i,s,o,a,l){if(A5.apply(this,arguments),ih){if(ih){var u=Cg;ih=!1,Cg=null}else throw Error(j(198));Rg||(Rg=!0,xE=u)}}function Rl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t1(t){if(Rl(t)!==t)throw Error(j(188))}function N5(t){var e=t.alternate;if(!e){if(e=Rl(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return t1(i),t;if(s===r)return t1(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function PD(t){return t=N5(t),t!==null?AD(t):null}function AD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AD(t);if(e!==null)return e;t=t.sibling}return null}var kD=Fr.unstable_scheduleCallback,n1=Fr.unstable_cancelCallback,O5=Fr.unstable_shouldYield,D5=Fr.unstable_requestPaint,jt=Fr.unstable_now,M5=Fr.unstable_getCurrentPriorityLevel,sb=Fr.unstable_ImmediatePriority,ND=Fr.unstable_UserBlockingPriority,xg=Fr.unstable_NormalPriority,L5=Fr.unstable_LowPriority,OD=Fr.unstable_IdlePriority,s_=null,Zi=null;function F5(t){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(s_,t,void 0,(t.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:U5,$5=Math.log,V5=Math.LN2;function U5(t){return t>>>=0,t===0?32:31-($5(t)/V5|0)|0}var rm=64,im=4194304;function zd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=zd(a):(s&=o,s!==0&&(r=zd(s)))}else o=n&~i,o!==0?r=zd(o):s!==0&&(r=zd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bi(e),i=1<<n,r|=t[n],e&=~i;return r}function B5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-bi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=B5(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function PE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DD(){var t=rm;return rm<<=1,!(rm&4194240)&&(rm=64),t}function q0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bi(e),t[e]=n}function z5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ob(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ze=0;function MD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LD,ab,FD,$D,VD,AE=!1,sm=[],go=null,yo=null,_o=null,Fh=new Map,$h=new Map,no=[],W5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r1(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Fh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$h.delete(e.pointerId)}}function dd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sp(e),e!==null&&ab(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function q5(t,e,n,r,i){switch(e){case"focusin":return go=dd(go,t,e,n,r,i),!0;case"dragenter":return yo=dd(yo,t,e,n,r,i),!0;case"mouseover":return _o=dd(_o,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fh.set(s,dd(Fh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$h.set(s,dd($h.get(s)||null,t,e,n,r,i)),!0}return!1}function UD(t){var e=Pa(t.target);if(e!==null){var n=Rl(e);if(n!==null){if(e=n.tag,e===13){if(e=xD(n),e!==null){t.blockedOn=e,VD(t.priority,function(){FD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);SE=r,n.target.dispatchEvent(r),SE=null}else return e=sp(n),e!==null&&ab(e),t.blockedOn=n,!1;e.shift()}return!0}function i1(t,e,n){Gm(t)&&n.delete(e)}function H5(){AE=!1,go!==null&&Gm(go)&&(go=null),yo!==null&&Gm(yo)&&(yo=null),_o!==null&&Gm(_o)&&(_o=null),Fh.forEach(i1),$h.forEach(i1)}function hd(t,e){t.blockedOn===e&&(t.blockedOn=null,AE||(AE=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,H5)))}function Vh(t){function e(i){return hd(i,t)}if(0<sm.length){hd(sm[0],t);for(var n=1;n<sm.length;n++){var r=sm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&hd(go,t),yo!==null&&hd(yo,t),_o!==null&&hd(_o,t),Fh.forEach(e),$h.forEach(e),n=0;n<no.length;n++)r=no[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<no.length&&(n=no[0],n.blockedOn===null);)UD(n),n.blockedOn===null&&no.shift()}var Du=$s.ReactCurrentBatchConfig,Ag=!0;function G5(t,e,n,r){var i=Ze,s=Du.transition;Du.transition=null;try{Ze=1,lb(t,e,n,r)}finally{Ze=i,Du.transition=s}}function K5(t,e,n,r){var i=Ze,s=Du.transition;Du.transition=null;try{Ze=4,lb(t,e,n,r)}finally{Ze=i,Du.transition=s}}function lb(t,e,n,r){if(Ag){var i=kE(t,e,n,r);if(i===null)tw(t,e,r,kg,n),r1(t,r);else if(q5(i,t,e,n,r))r.stopPropagation();else if(r1(t,r),e&4&&-1<W5.indexOf(t)){for(;i!==null;){var s=sp(i);if(s!==null&&LD(s),s=kE(t,e,n,r),s===null&&tw(t,e,r,kg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tw(t,e,r,null,n)}}var kg=null;function kE(t,e,n,r){if(kg=null,t=ib(r),t=Pa(t),t!==null)if(e=Rl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kg=t,null}function BD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M5()){case sb:return 1;case ND:return 4;case xg:case L5:return 16;case OD:return 536870912;default:return 16}default:return 16}}var ao=null,ub=null,Km=null;function jD(){if(Km)return Km;var t,e=ub,n=e.length,r,i="value"in ao?ao.value:ao.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Km=i.slice(t,1<r?1-r:void 0)}function Qm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function om(){return!0}function s1(){return!1}function Wr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?om:s1,this.isPropagationStopped=s1,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=om)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=om)},persist:function(){},isPersistent:om}),e}var Oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cb=Wr(Oc),ip=Rt({},Oc,{view:0,detail:0}),Q5=Wr(ip),H0,G0,fd,o_=Rt({},ip,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:db,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fd&&(fd&&t.type==="mousemove"?(H0=t.screenX-fd.screenX,G0=t.screenY-fd.screenY):G0=H0=0,fd=t),H0)},movementY:function(t){return"movementY"in t?t.movementY:G0}}),o1=Wr(o_),Y5=Rt({},o_,{dataTransfer:0}),X5=Wr(Y5),J5=Rt({},ip,{relatedTarget:0}),K0=Wr(J5),Z5=Rt({},Oc,{animationName:0,elapsedTime:0,pseudoElement:0}),e6=Wr(Z5),t6=Rt({},Oc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n6=Wr(t6),r6=Rt({},Oc,{data:0}),a1=Wr(r6),i6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o6[t])?!!e[t]:!1}function db(){return a6}var l6=Rt({},ip,{key:function(t){if(t.key){var e=i6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:db,charCode:function(t){return t.type==="keypress"?Qm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u6=Wr(l6),c6=Rt({},o_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l1=Wr(c6),d6=Rt({},ip,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:db}),h6=Wr(d6),f6=Rt({},Oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),p6=Wr(f6),m6=Rt({},o_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g6=Wr(m6),y6=[9,13,27,32],hb=xs&&"CompositionEvent"in window,sh=null;xs&&"documentMode"in document&&(sh=document.documentMode);var _6=xs&&"TextEvent"in window&&!sh,zD=xs&&(!hb||sh&&8<sh&&11>=sh),u1=" ",c1=!1;function WD(t,e){switch(t){case"keyup":return y6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yu=!1;function v6(t,e){switch(t){case"compositionend":return qD(e);case"keypress":return e.which!==32?null:(c1=!0,u1);case"textInput":return t=e.data,t===u1&&c1?null:t;default:return null}}function w6(t,e){if(yu)return t==="compositionend"||!hb&&WD(t,e)?(t=jD(),Km=ub=ao=null,yu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zD&&e.locale!=="ko"?null:e.data;default:return null}}var E6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E6[t.type]:e==="textarea"}function HD(t,e,n,r){ID(r),e=Ng(e,"onChange"),0<e.length&&(n=new cb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oh=null,Uh=null;function T6(t){rM(t,0)}function a_(t){var e=wu(t);if(gD(e))return t}function I6(t,e){if(t==="change")return e}var GD=!1;if(xs){var Q0;if(xs){var Y0="oninput"in document;if(!Y0){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Y0=typeof h1.oninput=="function"}Q0=Y0}else Q0=!1;GD=Q0&&(!document.documentMode||9<document.documentMode)}function f1(){oh&&(oh.detachEvent("onpropertychange",KD),Uh=oh=null)}function KD(t){if(t.propertyName==="value"&&a_(Uh)){var e=[];HD(e,Uh,t,ib(t)),RD(T6,e)}}function b6(t,e,n){t==="focusin"?(f1(),oh=e,Uh=n,oh.attachEvent("onpropertychange",KD)):t==="focusout"&&f1()}function S6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return a_(Uh)}function C6(t,e){if(t==="click")return a_(e)}function R6(t,e){if(t==="input"||t==="change")return a_(e)}function x6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xi=typeof Object.is=="function"?Object.is:x6;function Bh(t,e){if(xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fE.call(e,i)||!xi(t[i],e[i]))return!1}return!0}function p1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m1(t,e){var n=p1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p1(n)}}function QD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YD(){for(var t=window,e=Sg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sg(t.document)}return e}function fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function P6(t){var e=YD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QD(n.ownerDocument.documentElement,n)){if(r!==null&&fb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=m1(n,s);var o=m1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A6=xs&&"documentMode"in document&&11>=document.documentMode,_u=null,NE=null,ah=null,OE=!1;function g1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;OE||_u==null||_u!==Sg(r)||(r=_u,"selectionStart"in r&&fb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ah&&Bh(ah,r)||(ah=r,r=Ng(NE,"onSelect"),0<r.length&&(e=new cb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_u)))}function am(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vu={animationend:am("Animation","AnimationEnd"),animationiteration:am("Animation","AnimationIteration"),animationstart:am("Animation","AnimationStart"),transitionend:am("Transition","TransitionEnd")},X0={},XD={};xs&&(XD=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function l_(t){if(X0[t])return X0[t];if(!vu[t])return t;var e=vu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XD)return X0[t]=e[n];return t}var JD=l_("animationend"),ZD=l_("animationiteration"),eM=l_("animationstart"),tM=l_("transitionend"),nM=new Map,y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(t,e){nM.set(t,e),Cl(e,[t])}for(var J0=0;J0<y1.length;J0++){var Z0=y1[J0],k6=Z0.toLowerCase(),N6=Z0[0].toUpperCase()+Z0.slice(1);Jo(k6,"on"+N6)}Jo(JD,"onAnimationEnd");Jo(ZD,"onAnimationIteration");Jo(eM,"onAnimationStart");Jo("dblclick","onDoubleClick");Jo("focusin","onFocus");Jo("focusout","onBlur");Jo(tM,"onTransitionEnd");Xu("onMouseEnter",["mouseout","mouseover"]);Xu("onMouseLeave",["mouseout","mouseover"]);Xu("onPointerEnter",["pointerout","pointerover"]);Xu("onPointerLeave",["pointerout","pointerover"]);Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wd));function _1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,k5(r,e,void 0,t),t.currentTarget=null}function rM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;_1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;_1(i,a,u),s=l}}}if(Rg)throw t=xE,Rg=!1,xE=null,t}function ct(t,e){var n=e[$E];n===void 0&&(n=e[$E]=new Set);var r=t+"__bubble";n.has(r)||(iM(e,t,2,!1),n.add(r))}function ew(t,e,n){var r=0;e&&(r|=4),iM(n,t,r,e)}var lm="_reactListening"+Math.random().toString(36).slice(2);function jh(t){if(!t[lm]){t[lm]=!0,dD.forEach(function(n){n!=="selectionchange"&&(O6.has(n)||ew(n,!1,t),ew(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lm]||(e[lm]=!0,ew("selectionchange",!1,e))}}function iM(t,e,n,r){switch(BD(e)){case 1:var i=G5;break;case 4:i=K5;break;default:i=lb}n=i.bind(null,e,n,t),i=void 0,!RE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Pa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}RD(function(){var u=s,c=ib(n),d=[];e:{var h=nM.get(t);if(h!==void 0){var f=cb,p=t;switch(t){case"keypress":if(Qm(n)===0)break e;case"keydown":case"keyup":f=u6;break;case"focusin":p="focus",f=K0;break;case"focusout":p="blur",f=K0;break;case"beforeblur":case"afterblur":f=K0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=o1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=X5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=h6;break;case JD:case ZD:case eM:f=e6;break;case tM:f=p6;break;case"scroll":f=Q5;break;case"wheel":f=g6;break;case"copy":case"cut":case"paste":f=n6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=l1}var g=(e&4)!==0,v=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,_;y!==null;){_=y;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,m!==null&&(w=Lh(y,m),w!=null&&g.push(zh(y,w,_)))),v)break;y=y.return}0<g.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==SE&&(p=n.relatedTarget||n.fromElement)&&(Pa(p)||p[Ps]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Pa(p):null,p!==null&&(v=Rl(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=o1,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=l1,w="onPointerLeave",m="onPointerEnter",y="pointer"),v=f==null?h:wu(f),_=p==null?h:wu(p),h=new g(w,y+"leave",f,n,c),h.target=v,h.relatedTarget=_,w=null,Pa(c)===u&&(g=new g(m,y+"enter",p,n,c),g.target=_,g.relatedTarget=v,w=g),v=w,f&&p)t:{for(g=f,m=p,y=0,_=g;_;_=Kl(_))y++;for(_=0,w=m;w;w=Kl(w))_++;for(;0<y-_;)g=Kl(g),y--;for(;0<_-y;)m=Kl(m),_--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Kl(g),m=Kl(m)}g=null}else g=null;f!==null&&v1(d,h,f,g,!1),p!==null&&v!==null&&v1(d,v,p,g,!0)}}e:{if(h=u?wu(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=I6;else if(d1(h))if(GD)I=R6;else{I=S6;var b=b6}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=C6);if(I&&(I=I(t,u))){HD(d,I,n,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&wE(h,"number",h.value)}switch(b=u?wu(u):window,t){case"focusin":(d1(b)||b.contentEditable==="true")&&(_u=b,NE=u,ah=null);break;case"focusout":ah=NE=_u=null;break;case"mousedown":OE=!0;break;case"contextmenu":case"mouseup":case"dragend":OE=!1,g1(d,n,c);break;case"selectionchange":if(A6)break;case"keydown":case"keyup":g1(d,n,c)}var T;if(hb)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else yu?WD(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(zD&&n.locale!=="ko"&&(yu||x!=="onCompositionStart"?x==="onCompositionEnd"&&yu&&(T=jD()):(ao=c,ub="value"in ao?ao.value:ao.textContent,yu=!0)),b=Ng(u,x),0<b.length&&(x=new a1(x,t,null,n,c),d.push({event:x,listeners:b}),T?x.data=T:(T=qD(n),T!==null&&(x.data=T)))),(T=_6?v6(t,n):w6(t,n))&&(u=Ng(u,"onBeforeInput"),0<u.length&&(c=new a1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}rM(d,e)})}function zh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ng(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lh(t,n),s!=null&&r.unshift(zh(t,s,i)),s=Lh(t,e),s!=null&&r.push(zh(t,s,i))),t=t.return}return r}function Kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Lh(n,s),l!=null&&o.unshift(zh(n,l,a))):i||(l=Lh(n,s),l!=null&&o.push(zh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var D6=/\r\n?/g,M6=/\u0000|\uFFFD/g;function w1(t){return(typeof t=="string"?t:""+t).replace(D6,`
`).replace(M6,"")}function um(t,e,n){if(e=w1(e),w1(t)!==e&&n)throw Error(j(425))}function Og(){}var DE=null,ME=null;function LE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var FE=typeof setTimeout=="function"?setTimeout:void 0,L6=typeof clearTimeout=="function"?clearTimeout:void 0,E1=typeof Promise=="function"?Promise:void 0,F6=typeof queueMicrotask=="function"?queueMicrotask:typeof E1<"u"?function(t){return E1.resolve(null).then(t).catch($6)}:FE;function $6(t){setTimeout(function(){throw t})}function nw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vh(e)}function vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),Ui="__reactFiber$"+Dc,Wh="__reactProps$"+Dc,Ps="__reactContainer$"+Dc,$E="__reactEvents$"+Dc,V6="__reactListeners$"+Dc,U6="__reactHandles$"+Dc;function Pa(t){var e=t[Ui];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ps]||n[Ui]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=T1(t);t!==null;){if(n=t[Ui])return n;t=T1(t)}return e}t=n,n=t.parentNode}return null}function sp(t){return t=t[Ui]||t[Ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function u_(t){return t[Wh]||null}var VE=[],Eu=-1;function Zo(t){return{current:t}}function mt(t){0>Eu||(t.current=VE[Eu],VE[Eu]=null,Eu--)}function lt(t,e){Eu++,VE[Eu]=t.current,t.current=e}var Oo={},zn=Zo(Oo),dr=Zo(!1),el=Oo;function Ju(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hr(t){return t=t.childContextTypes,t!=null}function Dg(){mt(dr),mt(zn)}function I1(t,e,n){if(zn.current!==Oo)throw Error(j(168));lt(zn,e),lt(dr,n)}function sM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,b5(t)||"Unknown",i));return Rt({},n,r)}function Mg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,el=zn.current,lt(zn,t),lt(dr,dr.current),!0}function b1(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=sM(t,e,el),r.__reactInternalMemoizedMergedChildContext=t,mt(dr),mt(zn),lt(zn,t)):mt(dr),lt(dr,n)}var gs=null,c_=!1,rw=!1;function oM(t){gs===null?gs=[t]:gs.push(t)}function B6(t){c_=!0,oM(t)}function ea(){if(!rw&&gs!==null){rw=!0;var t=0,e=Ze;try{var n=gs;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gs=null,c_=!1}catch(i){throw gs!==null&&(gs=gs.slice(t+1)),kD(sb,ea),i}finally{Ze=e,rw=!1}}return null}var Tu=[],Iu=0,Lg=null,Fg=0,Kr=[],Qr=0,tl=null,_s=1,vs="";function fa(t,e){Tu[Iu++]=Fg,Tu[Iu++]=Lg,Lg=t,Fg=e}function aM(t,e,n){Kr[Qr++]=_s,Kr[Qr++]=vs,Kr[Qr++]=tl,tl=t;var r=_s;t=vs;var i=32-bi(r)-1;r&=~(1<<i),n+=1;var s=32-bi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_s=1<<32-bi(e)+i|n<<i|r,vs=s+t}else _s=1<<s|n<<i|r,vs=t}function pb(t){t.return!==null&&(fa(t,1),aM(t,1,0))}function mb(t){for(;t===Lg;)Lg=Tu[--Iu],Tu[Iu]=null,Fg=Tu[--Iu],Tu[Iu]=null;for(;t===tl;)tl=Kr[--Qr],Kr[Qr]=null,vs=Kr[--Qr],Kr[Qr]=null,_s=Kr[--Qr],Kr[Qr]=null}var Mr=null,Pr=null,vt=!1,_i=null;function lM(t,e){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function S1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mr=t,Pr=vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mr=t,Pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tl!==null?{id:_s,overflow:vs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mr=t,Pr=null,!0):!1;default:return!1}}function UE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function BE(t){if(vt){var e=Pr;if(e){var n=e;if(!S1(t,e)){if(UE(t))throw Error(j(418));e=vo(n.nextSibling);var r=Mr;e&&S1(t,e)?lM(r,n):(t.flags=t.flags&-4097|2,vt=!1,Mr=t)}}else{if(UE(t))throw Error(j(418));t.flags=t.flags&-4097|2,vt=!1,Mr=t}}}function C1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mr=t}function cm(t){if(t!==Mr)return!1;if(!vt)return C1(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!LE(t.type,t.memoizedProps)),e&&(e=Pr)){if(UE(t))throw uM(),Error(j(418));for(;e;)lM(t,e),e=vo(e.nextSibling)}if(C1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pr=vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pr=null}}else Pr=Mr?vo(t.stateNode.nextSibling):null;return!0}function uM(){for(var t=Pr;t;)t=vo(t.nextSibling)}function Zu(){Pr=Mr=null,vt=!1}function gb(t){_i===null?_i=[t]:_i.push(t)}var j6=$s.ReactCurrentBatchConfig;function gi(t,e){if(t&&t.defaultProps){e=Rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $g=Zo(null),Vg=null,bu=null,yb=null;function _b(){yb=bu=Vg=null}function vb(t){var e=$g.current;mt($g),t._currentValue=e}function jE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mu(t,e){Vg=t,yb=bu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ar=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(yb!==t)if(t={context:t,memoizedValue:e,next:null},bu===null){if(Vg===null)throw Error(j(308));bu=t,Vg.dependencies={lanes:0,firstContext:t}}else bu=bu.next=t;return e}var Aa=null;function wb(t){Aa===null?Aa=[t]:Aa.push(t)}function cM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wb(e)):(n.next=i.next,i.next=n),e.interleaved=n,As(t,r)}function As(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function Eb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,As(t,n)}return i=r.interleaved,i===null?(e.next=e,wb(r)):(e.next=i.next,i.next=e),r.interleaved=e,As(t,n)}function Ym(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ob(t,n)}}function R1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ug(t,e,n,r){var i=t.updateQueue;to=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Rt({},d,h);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);rl|=o,t.lanes=o,t.memoizedState=d}}function x1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var hM=new cD.Component().refs;function zE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var d_={isMounted:function(t){return(t=t._reactInternals)?Rl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=To(t),s=bs(r,i);s.payload=e,n!=null&&(s.callback=n),e=wo(t,s,i),e!==null&&(Si(e,t,i,r),Ym(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=To(t),s=bs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wo(t,s,i),e!==null&&(Si(e,t,i,r),Ym(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yn(),r=To(t),i=bs(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(Si(e,t,r,n),Ym(e,t,r))}};function P1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bh(n,r)||!Bh(i,s):!0}function fM(t,e,n){var r=!1,i=Oo,s=e.contextType;return typeof s=="object"&&s!==null?s=ri(s):(i=hr(e)?el:zn.current,r=e.contextTypes,s=(r=r!=null)?Ju(t,i):Oo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=d_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function A1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&d_.enqueueReplaceState(e,e.state,null)}function WE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=hM,Eb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ri(s):(s=hr(e)?el:zn.current,i.context=Ju(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&d_.enqueueReplaceState(i,i.state,null),Ug(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===hM&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function dm(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k1(t){var e=t._init;return e(t._payload)}function pM(t){function e(m,y){if(t){var _=m.deletions;_===null?(m.deletions=[y],m.flags|=16):_.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Io(m,y),m.index=0,m.sibling=null,m}function s(m,y,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<y?(m.flags|=2,y):_):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,_,w){return y===null||y.tag!==6?(y=cw(_,m.mode,w),y.return=m,y):(y=i(y,_),y.return=m,y)}function l(m,y,_,w){var I=_.type;return I===gu?c(m,y,_.props.children,w,_.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===eo&&k1(I)===y.type)?(w=i(y,_.props),w.ref=pd(m,y,_),w.return=m,w):(w=ng(_.type,_.key,_.props,null,m.mode,w),w.ref=pd(m,y,_),w.return=m,w)}function u(m,y,_,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=dw(_,m.mode,w),y.return=m,y):(y=i(y,_.children||[]),y.return=m,y)}function c(m,y,_,w,I){return y===null||y.tag!==7?(y=za(_,m.mode,w,I),y.return=m,y):(y=i(y,_),y.return=m,y)}function d(m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=cw(""+y,m.mode,_),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case em:return _=ng(y.type,y.key,y.props,null,m.mode,_),_.ref=pd(m,null,y),_.return=m,_;case mu:return y=dw(y,m.mode,_),y.return=m,y;case eo:var w=y._init;return d(m,w(y._payload),_)}if(jd(y)||ud(y))return y=za(y,m.mode,_,null),y.return=m,y;dm(m,y)}return null}function h(m,y,_,w){var I=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(m,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case em:return _.key===I?l(m,y,_,w):null;case mu:return _.key===I?u(m,y,_,w):null;case eo:return I=_._init,h(m,y,I(_._payload),w)}if(jd(_)||ud(_))return I!==null?null:c(m,y,_,w,null);dm(m,_)}return null}function f(m,y,_,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(_)||null,a(y,m,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case em:return m=m.get(w.key===null?_:w.key)||null,l(y,m,w,I);case mu:return m=m.get(w.key===null?_:w.key)||null,u(y,m,w,I);case eo:var b=w._init;return f(m,y,_,b(w._payload),I)}if(jd(w)||ud(w))return m=m.get(_)||null,c(y,m,w,I,null);dm(y,w)}return null}function p(m,y,_,w){for(var I=null,b=null,T=y,x=y=0,O=null;T!==null&&x<_.length;x++){T.index>x?(O=T,T=null):O=T.sibling;var R=h(m,T,_[x],w);if(R===null){T===null&&(T=O);break}t&&T&&R.alternate===null&&e(m,T),y=s(R,y,x),b===null?I=R:b.sibling=R,b=R,T=O}if(x===_.length)return n(m,T),vt&&fa(m,x),I;if(T===null){for(;x<_.length;x++)T=d(m,_[x],w),T!==null&&(y=s(T,y,x),b===null?I=T:b.sibling=T,b=T);return vt&&fa(m,x),I}for(T=r(m,T);x<_.length;x++)O=f(T,m,x,_[x],w),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?x:O.key),y=s(O,y,x),b===null?I=O:b.sibling=O,b=O);return t&&T.forEach(function(D){return e(m,D)}),vt&&fa(m,x),I}function g(m,y,_,w){var I=ud(_);if(typeof I!="function")throw Error(j(150));if(_=I.call(_),_==null)throw Error(j(151));for(var b=I=null,T=y,x=y=0,O=null,R=_.next();T!==null&&!R.done;x++,R=_.next()){T.index>x?(O=T,T=null):O=T.sibling;var D=h(m,T,R.value,w);if(D===null){T===null&&(T=O);break}t&&T&&D.alternate===null&&e(m,T),y=s(D,y,x),b===null?I=D:b.sibling=D,b=D,T=O}if(R.done)return n(m,T),vt&&fa(m,x),I;if(T===null){for(;!R.done;x++,R=_.next())R=d(m,R.value,w),R!==null&&(y=s(R,y,x),b===null?I=R:b.sibling=R,b=R);return vt&&fa(m,x),I}for(T=r(m,T);!R.done;x++,R=_.next())R=f(T,m,x,R.value,w),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?x:R.key),y=s(R,y,x),b===null?I=R:b.sibling=R,b=R);return t&&T.forEach(function(z){return e(m,z)}),vt&&fa(m,x),I}function v(m,y,_,w){if(typeof _=="object"&&_!==null&&_.type===gu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case em:e:{for(var I=_.key,b=y;b!==null;){if(b.key===I){if(I=_.type,I===gu){if(b.tag===7){n(m,b.sibling),y=i(b,_.props.children),y.return=m,m=y;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===eo&&k1(I)===b.type){n(m,b.sibling),y=i(b,_.props),y.ref=pd(m,b,_),y.return=m,m=y;break e}n(m,b);break}else e(m,b);b=b.sibling}_.type===gu?(y=za(_.props.children,m.mode,w,_.key),y.return=m,m=y):(w=ng(_.type,_.key,_.props,null,m.mode,w),w.ref=pd(m,y,_),w.return=m,m=w)}return o(m);case mu:e:{for(b=_.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(m,y.sibling),y=i(y,_.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=dw(_,m.mode,w),y.return=m,m=y}return o(m);case eo:return b=_._init,v(m,y,b(_._payload),w)}if(jd(_))return p(m,y,_,w);if(ud(_))return g(m,y,_,w);dm(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,_),y.return=m,m=y):(n(m,y),y=cw(_,m.mode,w),y.return=m,m=y),o(m)):n(m,y)}return v}var ec=pM(!0),mM=pM(!1),op={},es=Zo(op),qh=Zo(op),Hh=Zo(op);function ka(t){if(t===op)throw Error(j(174));return t}function Tb(t,e){switch(lt(Hh,e),lt(qh,t),lt(es,op),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:TE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=TE(e,t)}mt(es),lt(es,e)}function tc(){mt(es),mt(qh),mt(Hh)}function gM(t){ka(Hh.current);var e=ka(es.current),n=TE(e,t.type);e!==n&&(lt(qh,t),lt(es,n))}function Ib(t){qh.current===t&&(mt(es),mt(qh))}var bt=Zo(0);function Bg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iw=[];function bb(){for(var t=0;t<iw.length;t++)iw[t]._workInProgressVersionPrimary=null;iw.length=0}var Xm=$s.ReactCurrentDispatcher,sw=$s.ReactCurrentBatchConfig,nl=0,St=null,Zt=null,un=null,jg=!1,lh=!1,Gh=0,z6=0;function On(){throw Error(j(321))}function Sb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xi(t[n],e[n]))return!1;return!0}function Cb(t,e,n,r,i,s){if(nl=s,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xm.current=t===null||t.memoizedState===null?G6:K6,t=n(r,i),lh){s=0;do{if(lh=!1,Gh=0,25<=s)throw Error(j(301));s+=1,un=Zt=null,e.updateQueue=null,Xm.current=Q6,t=n(r,i)}while(lh)}if(Xm.current=zg,e=Zt!==null&&Zt.next!==null,nl=0,un=Zt=St=null,jg=!1,e)throw Error(j(300));return t}function Rb(){var t=Gh!==0;return Gh=0,t}function Li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?St.memoizedState=un=t:un=un.next=t,un}function ii(){if(Zt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=un===null?St.memoizedState:un.next;if(e!==null)un=e,Zt=t;else{if(t===null)throw Error(j(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},un===null?St.memoizedState=un=t:un=un.next=t}return un}function Kh(t,e){return typeof e=="function"?e(t):e}function ow(t){var e=ii(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Zt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((nl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,St.lanes|=c,rl|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,xi(r,e.memoizedState)||(ar=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,St.lanes|=s,rl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function aw(t){var e=ii(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xi(s,e.memoizedState)||(ar=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yM(){}function _M(t,e){var n=St,r=ii(),i=e(),s=!xi(r.memoizedState,i);if(s&&(r.memoizedState=i,ar=!0),r=r.queue,xb(EM.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||un!==null&&un.memoizedState.tag&1){if(n.flags|=2048,Qh(9,wM.bind(null,n,r,i,e),void 0,null),hn===null)throw Error(j(349));nl&30||vM(n,e,i)}return i}function vM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wM(t,e,n,r){e.value=n,e.getSnapshot=r,TM(e)&&IM(t)}function EM(t,e,n){return n(function(){TM(e)&&IM(t)})}function TM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xi(t,n)}catch{return!0}}function IM(t){var e=As(t,1);e!==null&&Si(e,t,1,-1)}function N1(t){var e=Li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kh,lastRenderedState:t},e.queue=t,t=t.dispatch=H6.bind(null,St,t),[e.memoizedState,t]}function Qh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bM(){return ii().memoizedState}function Jm(t,e,n,r){var i=Li();St.flags|=t,i.memoizedState=Qh(1|e,n,void 0,r===void 0?null:r)}function h_(t,e,n,r){var i=ii();r=r===void 0?null:r;var s=void 0;if(Zt!==null){var o=Zt.memoizedState;if(s=o.destroy,r!==null&&Sb(r,o.deps)){i.memoizedState=Qh(e,n,s,r);return}}St.flags|=t,i.memoizedState=Qh(1|e,n,s,r)}function O1(t,e){return Jm(8390656,8,t,e)}function xb(t,e){return h_(2048,8,t,e)}function SM(t,e){return h_(4,2,t,e)}function CM(t,e){return h_(4,4,t,e)}function RM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xM(t,e,n){return n=n!=null?n.concat([t]):null,h_(4,4,RM.bind(null,e,t),n)}function Pb(){}function PM(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AM(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kM(t,e,n){return nl&21?(xi(n,e)||(n=DD(),St.lanes|=n,rl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ar=!0),t.memoizedState=n)}function W6(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=sw.transition;sw.transition={};try{t(!1),e()}finally{Ze=n,sw.transition=r}}function NM(){return ii().memoizedState}function q6(t,e,n){var r=To(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OM(t))DM(e,n);else if(n=cM(t,e,n,r),n!==null){var i=Yn();Si(n,t,r,i),MM(n,e,r)}}function H6(t,e,n){var r=To(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OM(t))DM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xi(a,o)){var l=e.interleaved;l===null?(i.next=i,wb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cM(t,e,i,r),n!==null&&(i=Yn(),Si(n,t,r,i),MM(n,e,r))}}function OM(t){var e=t.alternate;return t===St||e!==null&&e===St}function DM(t,e){lh=jg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ob(t,n)}}var zg={readContext:ri,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},G6={readContext:ri,useCallback:function(t,e){return Li().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:O1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jm(4194308,4,RM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jm(4,2,t,e)},useMemo:function(t,e){var n=Li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Li();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q6.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var e=Li();return t={current:t},e.memoizedState=t},useState:N1,useDebugValue:Pb,useDeferredValue:function(t){return Li().memoizedState=t},useTransition:function(){var t=N1(!1),e=t[0];return t=W6.bind(null,t[1]),Li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=St,i=Li();if(vt){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),hn===null)throw Error(j(349));nl&30||vM(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,O1(EM.bind(null,r,s,t),[t]),r.flags|=2048,Qh(9,wM.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Li(),e=hn.identifierPrefix;if(vt){var n=vs,r=_s;n=(r&~(1<<32-bi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=z6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K6={readContext:ri,useCallback:PM,useContext:ri,useEffect:xb,useImperativeHandle:xM,useInsertionEffect:SM,useLayoutEffect:CM,useMemo:AM,useReducer:ow,useRef:bM,useState:function(){return ow(Kh)},useDebugValue:Pb,useDeferredValue:function(t){var e=ii();return kM(e,Zt.memoizedState,t)},useTransition:function(){var t=ow(Kh)[0],e=ii().memoizedState;return[t,e]},useMutableSource:yM,useSyncExternalStore:_M,useId:NM,unstable_isNewReconciler:!1},Q6={readContext:ri,useCallback:PM,useContext:ri,useEffect:xb,useImperativeHandle:xM,useInsertionEffect:SM,useLayoutEffect:CM,useMemo:AM,useReducer:aw,useRef:bM,useState:function(){return aw(Kh)},useDebugValue:Pb,useDeferredValue:function(t){var e=ii();return Zt===null?e.memoizedState=t:kM(e,Zt.memoizedState,t)},useTransition:function(){var t=aw(Kh)[0],e=ii().memoizedState;return[t,e]},useMutableSource:yM,useSyncExternalStore:_M,useId:NM,unstable_isNewReconciler:!1};function nc(t,e){try{var n="",r=e;do n+=I5(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function lw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y6=typeof WeakMap=="function"?WeakMap:Map;function LM(t,e,n){n=bs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qg||(qg=!0,tT=r),qE(t,e)},n}function FM(t,e,n){n=bs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qE(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Y6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=c3.bind(null,t,e,n),e.then(t,t))}function M1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function L1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bs(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var X6=$s.ReactCurrentOwner,ar=!1;function qn(t,e,n,r){e.child=t===null?mM(e,null,n,r):ec(e,t.child,n,r)}function F1(t,e,n,r,i){n=n.render;var s=e.ref;return Mu(e,i),r=Cb(t,e,n,r,s,i),n=Rb(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(vt&&n&&pb(e),e.flags|=1,qn(t,e,r,i),e.child)}function $1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Fb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$M(t,e,s,r,i)):(t=ng(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bh,n(o,r)&&t.ref===e.ref)return ks(t,e,i)}return e.flags|=1,t=Io(s,r),t.ref=e.ref,t.return=e,e.child=t}function $M(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bh(s,r)&&t.ref===e.ref)if(ar=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ar=!0);else return e.lanes=t.lanes,ks(t,e,i)}return HE(t,e,n,r,i)}function VM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Cu,br),br|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Cu,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,lt(Cu,br),br|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,lt(Cu,br),br|=r;return qn(t,e,i,n),e.child}function UM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function HE(t,e,n,r,i){var s=hr(n)?el:zn.current;return s=Ju(e,s),Mu(e,i),n=Cb(t,e,n,r,s,i),r=Rb(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(vt&&r&&pb(e),e.flags|=1,qn(t,e,n,i),e.child)}function V1(t,e,n,r,i){if(hr(n)){var s=!0;Mg(e)}else s=!1;if(Mu(e,i),e.stateNode===null)Zm(t,e),fM(e,n,r),WE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ri(u):(u=hr(n)?el:zn.current,u=Ju(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&A1(e,o,r,u),to=!1;var h=e.memoizedState;o.state=h,Ug(e,r,o,i),l=e.memoizedState,a!==r||h!==l||dr.current||to?(typeof c=="function"&&(zE(e,n,c,r),l=e.memoizedState),(a=to||P1(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dM(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gi(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ri(l):(l=hr(n)?el:zn.current,l=Ju(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&A1(e,o,r,l),to=!1,h=e.memoizedState,o.state=h,Ug(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||dr.current||to?(typeof f=="function"&&(zE(e,n,f,r),p=e.memoizedState),(u=to||P1(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return GE(t,e,n,r,s,i)}function GE(t,e,n,r,i,s){UM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&b1(e,n,!1),ks(t,e,s);r=e.stateNode,X6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ec(e,t.child,null,s),e.child=ec(e,null,a,s)):qn(t,e,a,s),e.memoizedState=r.state,i&&b1(e,n,!0),e.child}function BM(t){var e=t.stateNode;e.pendingContext?I1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I1(t,e.context,!1),Tb(t,e.containerInfo)}function U1(t,e,n,r,i){return Zu(),gb(i),e.flags|=256,qn(t,e,n,r),e.child}var KE={dehydrated:null,treeContext:null,retryLane:0};function QE(t){return{baseLanes:t,cachePool:null,transitions:null}}function jM(t,e,n){var r=e.pendingProps,i=bt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(bt,i&1),t===null)return BE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=m_(o,r,0,null),t=za(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=QE(n),e.memoizedState=KE,t):Ab(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return J6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Io(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Io(a,s):(s=za(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?QE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=KE,r}return s=t.child,t=s.sibling,r=Io(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ab(t,e){return e=m_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hm(t,e,n,r){return r!==null&&gb(r),ec(e,t.child,null,n),t=Ab(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=lw(Error(j(422))),hm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=m_({mode:"visible",children:r.children},i,0,null),s=za(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ec(e,t.child,null,o),e.child.memoizedState=QE(o),e.memoizedState=KE,s);if(!(e.mode&1))return hm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=lw(s,r,void 0),hm(t,e,o,r)}if(a=(o&t.childLanes)!==0,ar||a){if(r=hn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,As(t,i),Si(r,t,i,-1))}return Lb(),r=lw(Error(j(421))),hm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=d3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Pr=vo(i.nextSibling),Mr=e,vt=!0,_i=null,t!==null&&(Kr[Qr++]=_s,Kr[Qr++]=vs,Kr[Qr++]=tl,_s=t.id,vs=t.overflow,tl=e),e=Ab(e,r.children),e.flags|=4096,e)}function B1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jE(t.return,e,n)}function uw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qn(t,e,r.children,n),r=bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B1(t,n,e);else if(t.tag===19)B1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(bt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),uw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}uw(e,!0,n,null,s);break;case"together":uw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Io(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Io(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Z6(t,e,n){switch(e.tag){case 3:BM(e),Zu();break;case 5:gM(e);break;case 1:hr(e.type)&&Mg(e);break;case 4:Tb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt($g,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?jM(t,e,n):(lt(bt,bt.current&1),t=ks(t,e,n),t!==null?t.sibling:null);lt(bt,bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(bt,bt.current),r)break;return null;case 22:case 23:return e.lanes=0,VM(t,e,n)}return ks(t,e,n)}var WM,YE,qM,HM;WM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};YE=function(){};qM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ka(es.current);var s=null;switch(n){case"input":i=_E(t,i),r=_E(t,r),s=[];break;case"select":i=Rt({},i,{value:void 0}),r=Rt({},r,{value:void 0}),s=[];break;case"textarea":i=EE(t,i),r=EE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Og)}IE(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ct("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};HM=function(t,e,n,r){n!==r&&(e.flags|=4)};function md(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function e3(t,e,n){var r=e.pendingProps;switch(mb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(e),null;case 1:return hr(e.type)&&Dg(),Dn(e),null;case 3:return r=e.stateNode,tc(),mt(dr),mt(zn),bb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_i!==null&&(iT(_i),_i=null))),YE(t,e),Dn(e),null;case 5:Ib(e);var i=ka(Hh.current);if(n=e.type,t!==null&&e.stateNode!=null)qM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Dn(e),null}if(t=ka(es.current),cm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ui]=e,r[Wh]=s,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<Wd.length;i++)ct(Wd[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":Yx(r,s),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ct("invalid",r);break;case"textarea":Jx(r,s),ct("invalid",r)}IE(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&um(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&um(r.textContent,a,t),i=["children",""+a]):Dh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":tm(r),Xx(r,s,!0);break;case"textarea":tm(r),Zx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Og)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ui]=e,t[Wh]=r,WM(t,e,!1,!1),e.stateNode=t;e:{switch(o=bE(n,r),n){case"dialog":ct("cancel",t),ct("close",t),i=r;break;case"iframe":case"object":case"embed":ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wd.length;i++)ct(Wd[i],t);i=r;break;case"source":ct("error",t),i=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=r;break;case"details":ct("toggle",t),i=r;break;case"input":Yx(t,r),i=_E(t,r),ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Rt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":Jx(t,r),i=EE(t,r),ct("invalid",t);break;default:i=r}IE(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?TD(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wD(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mh(t,l):typeof l=="number"&&Mh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Dh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ct("scroll",t):l!=null&&eb(t,s,l,o))}switch(n){case"input":tm(t),Xx(t,r,!1);break;case"textarea":tm(t),Zx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+No(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ku(t,!!r.multiple,s,!1):r.defaultValue!=null&&ku(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Og)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dn(e),null;case 6:if(t&&e.stateNode!=null)HM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=ka(Hh.current),ka(es.current),cm(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ui]=e,(s=r.nodeValue!==n)&&(t=Mr,t!==null))switch(t.tag){case 3:um(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&um(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ui]=e,e.stateNode=r}return Dn(e),null;case 13:if(mt(bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Pr!==null&&e.mode&1&&!(e.flags&128))uM(),Zu(),e.flags|=98560,s=!1;else if(s=cm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Ui]=e}else Zu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dn(e),s=!1}else _i!==null&&(iT(_i),_i=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?rn===0&&(rn=3):Lb())),e.updateQueue!==null&&(e.flags|=4),Dn(e),null);case 4:return tc(),YE(t,e),t===null&&jh(e.stateNode.containerInfo),Dn(e),null;case 10:return vb(e.type._context),Dn(e),null;case 17:return hr(e.type)&&Dg(),Dn(e),null;case 19:if(mt(bt),s=e.memoizedState,s===null)return Dn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)md(s,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bg(t),o!==null){for(e.flags|=128,md(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(bt,bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>rc&&(e.flags|=128,r=!0,md(s,!1),e.lanes=4194304)}else{if(!r)if(t=Bg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),md(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!vt)return Dn(e),null}else 2*jt()-s.renderingStartTime>rc&&n!==1073741824&&(e.flags|=128,r=!0,md(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,n=bt.current,lt(bt,r?n&1|2:n&1),e):(Dn(e),null);case 22:case 23:return Mb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?br&1073741824&&(Dn(e),e.subtreeFlags&6&&(e.flags|=8192)):Dn(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function t3(t,e){switch(mb(e),e.tag){case 1:return hr(e.type)&&Dg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tc(),mt(dr),mt(zn),bb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ib(e),null;case 13:if(mt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Zu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(bt),null;case 4:return tc(),null;case 10:return vb(e.type._context),null;case 22:case 23:return Mb(),null;case 24:return null;default:return null}}var fm=!1,Fn=!1,n3=typeof WeakSet=="function"?WeakSet:Set,te=null;function Su(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(t,e,r)}else n.current=null}function XE(t,e,n){try{n()}catch(r){Nt(t,e,r)}}var j1=!1;function r3(t,e){if(DE=Ag,t=YD(),fb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ME={focusedElem:t,selectionRange:n},Ag=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:gi(e.type,g),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(w){Nt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return p=j1,j1=!1,p}function uh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&XE(e,n,s)}i=i.next}while(i!==r)}}function f_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function JE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GM(t){var e=t.alternate;e!==null&&(t.alternate=null,GM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ui],delete e[Wh],delete e[$E],delete e[V6],delete e[U6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KM(t){return t.tag===5||t.tag===3||t.tag===4}function z1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ZE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Og));else if(r!==4&&(t=t.child,t!==null))for(ZE(t,e,n),t=t.sibling;t!==null;)ZE(t,e,n),t=t.sibling}function eT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(eT(t,e,n),t=t.sibling;t!==null;)eT(t,e,n),t=t.sibling}var In=null,yi=!1;function Gs(t,e,n){for(n=n.child;n!==null;)QM(t,e,n),n=n.sibling}function QM(t,e,n){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(s_,n)}catch{}switch(n.tag){case 5:Fn||Su(n,e);case 6:var r=In,i=yi;In=null,Gs(t,e,n),In=r,yi=i,In!==null&&(yi?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(yi?(t=In,n=n.stateNode,t.nodeType===8?nw(t.parentNode,n):t.nodeType===1&&nw(t,n),Vh(t)):nw(In,n.stateNode));break;case 4:r=In,i=yi,In=n.stateNode.containerInfo,yi=!0,Gs(t,e,n),In=r,yi=i;break;case 0:case 11:case 14:case 15:if(!Fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&XE(n,e,o),i=i.next}while(i!==r)}Gs(t,e,n);break;case 1:if(!Fn&&(Su(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nt(n,e,a)}Gs(t,e,n);break;case 21:Gs(t,e,n);break;case 22:n.mode&1?(Fn=(r=Fn)||n.memoizedState!==null,Gs(t,e,n),Fn=r):Gs(t,e,n);break;default:Gs(t,e,n)}}function W1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n3),e.forEach(function(r){var i=h3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:In=a.stateNode,yi=!1;break e;case 3:In=a.stateNode.containerInfo,yi=!0;break e;case 4:In=a.stateNode.containerInfo,yi=!0;break e}a=a.return}if(In===null)throw Error(j(160));QM(s,o,i),In=null,yi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Nt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YM(e,t),e=e.sibling}function YM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fi(e,t),Mi(t),r&4){try{uh(3,t,t.return),f_(3,t)}catch(g){Nt(t,t.return,g)}try{uh(5,t,t.return)}catch(g){Nt(t,t.return,g)}}break;case 1:fi(e,t),Mi(t),r&512&&n!==null&&Su(n,n.return);break;case 5:if(fi(e,t),Mi(t),r&512&&n!==null&&Su(n,n.return),t.flags&32){var i=t.stateNode;try{Mh(i,"")}catch(g){Nt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yD(i,s),bE(a,o);var u=bE(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?TD(i,d):c==="dangerouslySetInnerHTML"?wD(i,d):c==="children"?Mh(i,d):eb(i,c,d,u)}switch(a){case"input":vE(i,s);break;case"textarea":_D(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ku(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?ku(i,!!s.multiple,s.defaultValue,!0):ku(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wh]=s}catch(g){Nt(t,t.return,g)}}break;case 6:if(fi(e,t),Mi(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Nt(t,t.return,g)}}break;case 3:if(fi(e,t),Mi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vh(e.containerInfo)}catch(g){Nt(t,t.return,g)}break;case 4:fi(e,t),Mi(t);break;case 13:fi(e,t),Mi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ob=jt())),r&4&&W1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Fn=(u=Fn)||c,fi(e,t),Fn=u):fi(e,t),Mi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(te=t,c=t.child;c!==null;){for(d=te=c;te!==null;){switch(h=te,f=h.child,h.tag){case 0:case 11:case 14:case 15:uh(4,h,h.return);break;case 1:Su(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Nt(r,n,g)}}break;case 5:Su(h,h.return);break;case 22:if(h.memoizedState!==null){H1(d);continue}}f!==null?(f.return=h,te=f):H1(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ED("display",o))}catch(g){Nt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Nt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fi(e,t),Mi(t),r&4&&W1(t);break;case 21:break;default:fi(e,t),Mi(t)}}function Mi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KM(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mh(i,""),r.flags&=-33);var s=z1(t);eT(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=z1(t);ZE(t,a,o);break;default:throw Error(j(161))}}catch(l){Nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function i3(t,e,n){te=t,XM(t)}function XM(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Fn;a=fm;var u=Fn;if(fm=o,(Fn=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?G1(i):l!==null?(l.return=o,te=l):G1(i);for(;s!==null;)te=s,XM(s),s=s.sibling;te=i,fm=a,Fn=u}q1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):q1(t)}}function q1(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||f_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&x1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}x1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Vh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Fn||e.flags&512&&JE(e)}catch(h){Nt(e,e.return,h)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function H1(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function G1(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{f_(4,e)}catch(l){Nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nt(e,i,l)}}var s=e.return;try{JE(e)}catch(l){Nt(e,s,l)}break;case 5:var o=e.return;try{JE(e)}catch(l){Nt(e,o,l)}}}catch(l){Nt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var s3=Math.ceil,Wg=$s.ReactCurrentDispatcher,kb=$s.ReactCurrentOwner,ti=$s.ReactCurrentBatchConfig,ze=0,hn=null,Yt=null,xn=0,br=0,Cu=Zo(0),rn=0,Yh=null,rl=0,p_=0,Nb=0,ch=null,sr=null,Ob=0,rc=1/0,ms=null,qg=!1,tT=null,Eo=null,pm=!1,lo=null,Hg=0,dh=0,nT=null,eg=-1,tg=0;function Yn(){return ze&6?jt():eg!==-1?eg:eg=jt()}function To(t){return t.mode&1?ze&2&&xn!==0?xn&-xn:j6.transition!==null?(tg===0&&(tg=DD()),tg):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:BD(t.type)),t):1}function Si(t,e,n,r){if(50<dh)throw dh=0,nT=null,Error(j(185));rp(t,n,r),(!(ze&2)||t!==hn)&&(t===hn&&(!(ze&2)&&(p_|=n),rn===4&&ro(t,xn)),fr(t,r),n===1&&ze===0&&!(e.mode&1)&&(rc=jt()+500,c_&&ea()))}function fr(t,e){var n=t.callbackNode;j5(t,e);var r=Pg(t,t===hn?xn:0);if(r===0)n!==null&&n1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n1(n),e===1)t.tag===0?B6(K1.bind(null,t)):oM(K1.bind(null,t)),F6(function(){!(ze&6)&&ea()}),n=null;else{switch(MD(r)){case 1:n=sb;break;case 4:n=ND;break;case 16:n=xg;break;case 536870912:n=OD;break;default:n=xg}n=sL(n,JM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function JM(t,e){if(eg=-1,tg=0,ze&6)throw Error(j(327));var n=t.callbackNode;if(Lu()&&t.callbackNode!==n)return null;var r=Pg(t,t===hn?xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gg(t,r);else{e=r;var i=ze;ze|=2;var s=eL();(hn!==t||xn!==e)&&(ms=null,rc=jt()+500,ja(t,e));do try{l3();break}catch(a){ZM(t,a)}while(!0);_b(),Wg.current=s,ze=i,Yt!==null?e=0:(hn=null,xn=0,e=rn)}if(e!==0){if(e===2&&(i=PE(t),i!==0&&(r=i,e=rT(t,i))),e===1)throw n=Yh,ja(t,0),ro(t,r),fr(t,jt()),n;if(e===6)ro(t,r);else{if(i=t.current.alternate,!(r&30)&&!o3(i)&&(e=Gg(t,r),e===2&&(s=PE(t),s!==0&&(r=s,e=rT(t,s))),e===1))throw n=Yh,ja(t,0),ro(t,r),fr(t,jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:pa(t,sr,ms);break;case 3:if(ro(t,r),(r&130023424)===r&&(e=Ob+500-jt(),10<e)){if(Pg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=FE(pa.bind(null,t,sr,ms),e);break}pa(t,sr,ms);break;case 4:if(ro(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-bi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s3(r/1960))-r,10<r){t.timeoutHandle=FE(pa.bind(null,t,sr,ms),r);break}pa(t,sr,ms);break;case 5:pa(t,sr,ms);break;default:throw Error(j(329))}}}return fr(t,jt()),t.callbackNode===n?JM.bind(null,t):null}function rT(t,e){var n=ch;return t.current.memoizedState.isDehydrated&&(ja(t,e).flags|=256),t=Gg(t,e),t!==2&&(e=sr,sr=n,e!==null&&iT(e)),t}function iT(t){sr===null?sr=t:sr.push.apply(sr,t)}function o3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~Nb,e&=~p_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bi(e),r=1<<n;t[n]=-1,e&=~r}}function K1(t){if(ze&6)throw Error(j(327));Lu();var e=Pg(t,0);if(!(e&1))return fr(t,jt()),null;var n=Gg(t,e);if(t.tag!==0&&n===2){var r=PE(t);r!==0&&(e=r,n=rT(t,r))}if(n===1)throw n=Yh,ja(t,0),ro(t,e),fr(t,jt()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pa(t,sr,ms),fr(t,jt()),null}function Db(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(rc=jt()+500,c_&&ea())}}function il(t){lo!==null&&lo.tag===0&&!(ze&6)&&Lu();var e=ze;ze|=1;var n=ti.transition,r=Ze;try{if(ti.transition=null,Ze=1,t)return t()}finally{Ze=r,ti.transition=n,ze=e,!(ze&6)&&ea()}}function Mb(){br=Cu.current,mt(Cu)}function ja(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,L6(n)),Yt!==null)for(n=Yt.return;n!==null;){var r=n;switch(mb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dg();break;case 3:tc(),mt(dr),mt(zn),bb();break;case 5:Ib(r);break;case 4:tc();break;case 13:mt(bt);break;case 19:mt(bt);break;case 10:vb(r.type._context);break;case 22:case 23:Mb()}n=n.return}if(hn=t,Yt=t=Io(t.current,null),xn=br=e,rn=0,Yh=null,Nb=p_=rl=0,sr=ch=null,Aa!==null){for(e=0;e<Aa.length;e++)if(n=Aa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Aa=null}return t}function ZM(t,e){do{var n=Yt;try{if(_b(),Xm.current=zg,jg){for(var r=St.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jg=!1}if(nl=0,un=Zt=St=null,lh=!1,Gh=0,kb.current=null,n===null||n.return===null){rn=1,Yh=e,Yt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=M1(o);if(f!==null){f.flags&=-257,L1(f,o,a,s,e),f.mode&1&&D1(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){D1(s,u,e),Lb();break e}l=Error(j(426))}}else if(vt&&a.mode&1){var v=M1(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),L1(v,o,a,s,e),gb(nc(l,a));break e}}s=l=nc(l,a),rn!==4&&(rn=2),ch===null?ch=[s]:ch.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=LM(s,l,e);R1(s,m);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Eo===null||!Eo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=FM(s,a,e);R1(s,w);break e}}s=s.return}while(s!==null)}nL(n)}catch(I){e=I,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(!0)}function eL(){var t=Wg.current;return Wg.current=zg,t===null?zg:t}function Lb(){(rn===0||rn===3||rn===2)&&(rn=4),hn===null||!(rl&268435455)&&!(p_&268435455)||ro(hn,xn)}function Gg(t,e){var n=ze;ze|=2;var r=eL();(hn!==t||xn!==e)&&(ms=null,ja(t,e));do try{a3();break}catch(i){ZM(t,i)}while(!0);if(_b(),ze=n,Wg.current=r,Yt!==null)throw Error(j(261));return hn=null,xn=0,rn}function a3(){for(;Yt!==null;)tL(Yt)}function l3(){for(;Yt!==null&&!O5();)tL(Yt)}function tL(t){var e=iL(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?nL(t):Yt=e,kb.current=null}function nL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=t3(n,e),n!==null){n.flags&=32767,Yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Yt=null;return}}else if(n=e3(n,e,br),n!==null){Yt=n;return}if(e=e.sibling,e!==null){Yt=e;return}Yt=e=t}while(e!==null);rn===0&&(rn=5)}function pa(t,e,n){var r=Ze,i=ti.transition;try{ti.transition=null,Ze=1,u3(t,e,n,r)}finally{ti.transition=i,Ze=r}return null}function u3(t,e,n,r){do Lu();while(lo!==null);if(ze&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(z5(t,s),t===hn&&(Yt=hn=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pm||(pm=!0,sL(xg,function(){return Lu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ti.transition,ti.transition=null;var o=Ze;Ze=1;var a=ze;ze|=4,kb.current=null,r3(t,n),YM(n,t),P6(ME),Ag=!!DE,ME=DE=null,t.current=n,i3(n),D5(),ze=a,Ze=o,ti.transition=s}else t.current=n;if(pm&&(pm=!1,lo=t,Hg=i),s=t.pendingLanes,s===0&&(Eo=null),F5(n.stateNode),fr(t,jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qg)throw qg=!1,t=tT,tT=null,t;return Hg&1&&t.tag!==0&&Lu(),s=t.pendingLanes,s&1?t===nT?dh++:(dh=0,nT=t):dh=0,ea(),null}function Lu(){if(lo!==null){var t=MD(Hg),e=ti.transition,n=Ze;try{if(ti.transition=null,Ze=16>t?16:t,lo===null)var r=!1;else{if(t=lo,lo=null,Hg=0,ze&6)throw Error(j(331));var i=ze;for(ze|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:uh(8,c,s)}var d=c.child;if(d!==null)d.return=c,te=d;else for(;te!==null;){c=te;var h=c.sibling,f=c.return;if(GM(c),c===u){te=null;break}if(h!==null){h.return=f,te=h;break}te=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uh(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,te=m;break e}te=s.return}}var y=t.current;for(te=y;te!==null;){o=te;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,te=_;else e:for(o=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:f_(9,a)}}catch(I){Nt(a,a.return,I)}if(a===o){te=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,te=w;break e}te=a.return}}if(ze=i,ea(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(s_,t)}catch{}r=!0}return r}finally{Ze=n,ti.transition=e}}return!1}function Q1(t,e,n){e=nc(n,e),e=LM(t,e,1),t=wo(t,e,1),e=Yn(),t!==null&&(rp(t,1,e),fr(t,e))}function Nt(t,e,n){if(t.tag===3)Q1(t,t,n);else for(;e!==null;){if(e.tag===3){Q1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=nc(n,t),t=FM(e,t,1),e=wo(e,t,1),t=Yn(),e!==null&&(rp(e,1,t),fr(e,t));break}}e=e.return}}function c3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&n,hn===t&&(xn&n)===n&&(rn===4||rn===3&&(xn&130023424)===xn&&500>jt()-Ob?ja(t,0):Nb|=n),fr(t,e)}function rL(t,e){e===0&&(t.mode&1?(e=im,im<<=1,!(im&130023424)&&(im=4194304)):e=1);var n=Yn();t=As(t,e),t!==null&&(rp(t,e,n),fr(t,n))}function d3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rL(t,n)}function h3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),rL(t,n)}var iL;iL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)ar=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ar=!1,Z6(t,e,n);ar=!!(t.flags&131072)}else ar=!1,vt&&e.flags&1048576&&aM(e,Fg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zm(t,e),t=e.pendingProps;var i=Ju(e,zn.current);Mu(e,n),i=Cb(null,e,r,t,i,n);var s=Rb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hr(r)?(s=!0,Mg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Eb(e),i.updater=d_,e.stateNode=i,i._reactInternals=e,WE(e,r,t,n),e=GE(null,e,r,!0,s,n)):(e.tag=0,vt&&s&&pb(e),qn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=p3(r),t=gi(r,t),i){case 0:e=HE(null,e,r,t,n);break e;case 1:e=V1(null,e,r,t,n);break e;case 11:e=F1(null,e,r,t,n);break e;case 14:e=$1(null,e,r,gi(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gi(r,i),HE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gi(r,i),V1(t,e,r,i,n);case 3:e:{if(BM(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,dM(t,e),Ug(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nc(Error(j(423)),e),e=U1(t,e,r,n,i);break e}else if(r!==i){i=nc(Error(j(424)),e),e=U1(t,e,r,n,i);break e}else for(Pr=vo(e.stateNode.containerInfo.firstChild),Mr=e,vt=!0,_i=null,n=mM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zu(),r===i){e=ks(t,e,n);break e}qn(t,e,r,n)}e=e.child}return e;case 5:return gM(e),t===null&&BE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,LE(r,i)?o=null:s!==null&&LE(r,s)&&(e.flags|=32),UM(t,e),qn(t,e,o,n),e.child;case 6:return t===null&&BE(e),null;case 13:return jM(t,e,n);case 4:return Tb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ec(e,null,r,n):qn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gi(r,i),F1(t,e,r,i,n);case 7:return qn(t,e,e.pendingProps,n),e.child;case 8:return qn(t,e,e.pendingProps.children,n),e.child;case 12:return qn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lt($g,r._currentValue),r._currentValue=o,s!==null)if(xi(s.value,o)){if(s.children===i.children&&!dr.current){e=ks(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bs(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jE(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mu(e,n),i=ri(i),r=r(i),e.flags|=1,qn(t,e,r,n),e.child;case 14:return r=e.type,i=gi(r,e.pendingProps),i=gi(r.type,i),$1(t,e,r,i,n);case 15:return $M(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gi(r,i),Zm(t,e),e.tag=1,hr(r)?(t=!0,Mg(e)):t=!1,Mu(e,n),fM(e,r,i),WE(e,r,i,n),GE(null,e,r,!0,t,n);case 19:return zM(t,e,n);case 22:return VM(t,e,n)}throw Error(j(156,e.tag))};function sL(t,e){return kD(t,e)}function f3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(t,e,n,r){return new f3(t,e,n,r)}function Fb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p3(t){if(typeof t=="function")return Fb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nb)return 11;if(t===rb)return 14}return 2}function Io(t,e){var n=t.alternate;return n===null?(n=Zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ng(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Fb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gu:return za(n.children,i,s,e);case tb:o=8,i|=8;break;case pE:return t=Zr(12,n,e,i|2),t.elementType=pE,t.lanes=s,t;case mE:return t=Zr(13,n,e,i),t.elementType=mE,t.lanes=s,t;case gE:return t=Zr(19,n,e,i),t.elementType=gE,t.lanes=s,t;case pD:return m_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hD:o=10;break e;case fD:o=9;break e;case nb:o=11;break e;case rb:o=14;break e;case eo:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Zr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function za(t,e,n,r){return t=Zr(7,t,r,e),t.lanes=n,t}function m_(t,e,n,r){return t=Zr(22,t,r,e),t.elementType=pD,t.lanes=n,t.stateNode={isHidden:!1},t}function cw(t,e,n){return t=Zr(6,t,null,e),t.lanes=n,t}function dw(t,e,n){return e=Zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function m3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=q0(0),this.expirationTimes=q0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=q0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $b(t,e,n,r,i,s,o,a,l){return t=new m3(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eb(s),t}function g3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oL(t){if(!t)return Oo;t=t._reactInternals;e:{if(Rl(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(hr(n))return sM(t,n,e)}return e}function aL(t,e,n,r,i,s,o,a,l){return t=$b(n,r,!0,t,i,s,o,a,l),t.context=oL(null),n=t.current,r=Yn(),i=To(n),s=bs(r,i),s.callback=e??null,wo(n,s,i),t.current.lanes=i,rp(t,i,r),fr(t,r),t}function g_(t,e,n,r){var i=e.current,s=Yn(),o=To(i);return n=oL(n),e.context===null?e.context=n:e.pendingContext=n,e=bs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,o),t!==null&&(Si(t,i,o,s),Ym(t,i,o)),o}function Kg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vb(t,e){Y1(t,e),(t=t.alternate)&&Y1(t,e)}function y3(){return null}var lL=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ub(t){this._internalRoot=t}y_.prototype.render=Ub.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));g_(t,e,null,null)};y_.prototype.unmount=Ub.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;il(function(){g_(null,t,null,null)}),e[Ps]=null}};function y_(t){this._internalRoot=t}y_.prototype.unstable_scheduleHydration=function(t){if(t){var e=$D();t={blockedOn:null,target:t,priority:e};for(var n=0;n<no.length&&e!==0&&e<no[n].priority;n++);no.splice(n,0,t),n===0&&UD(t)}};function Bb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function __(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function X1(){}function _3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Kg(o);s.call(u)}}var o=aL(e,r,t,0,null,!1,!1,"",X1);return t._reactRootContainer=o,t[Ps]=o.current,jh(t.nodeType===8?t.parentNode:t),il(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Kg(l);a.call(u)}}var l=$b(t,0,!1,null,null,!1,!1,"",X1);return t._reactRootContainer=l,t[Ps]=l.current,jh(t.nodeType===8?t.parentNode:t),il(function(){g_(e,l,n,r)}),l}function v_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Kg(o);a.call(l)}}g_(e,o,t,i)}else o=_3(n,e,t,i,r);return Kg(o)}LD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zd(e.pendingLanes);n!==0&&(ob(e,n|1),fr(e,jt()),!(ze&6)&&(rc=jt()+500,ea()))}break;case 13:il(function(){var r=As(t,1);if(r!==null){var i=Yn();Si(r,t,1,i)}}),Vb(t,1)}};ab=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var n=Yn();Si(e,t,134217728,n)}Vb(t,134217728)}};FD=function(t){if(t.tag===13){var e=To(t),n=As(t,e);if(n!==null){var r=Yn();Si(n,t,e,r)}Vb(t,e)}};$D=function(){return Ze};VD=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};CE=function(t,e,n){switch(e){case"input":if(vE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=u_(r);if(!i)throw Error(j(90));gD(r),vE(r,i)}}}break;case"textarea":_D(t,n);break;case"select":e=n.value,e!=null&&ku(t,!!n.multiple,e,!1)}};SD=Db;CD=il;var v3={usingClientEntryPoint:!1,Events:[sp,wu,u_,ID,bD,Db]},gd={findFiberByHostInstance:Pa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},w3={bundleType:gd.bundleType,version:gd.version,rendererPackageName:gd.rendererPackageName,rendererConfig:gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PD(t),t===null?null:t.stateNode},findFiberByHostInstance:gd.findFiberByHostInstance||y3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mm.isDisabled&&mm.supportsFiber)try{s_=mm.inject(w3),Zi=mm}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v3;zr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bb(e))throw Error(j(200));return g3(t,e,null,n)};zr.createRoot=function(t,e){if(!Bb(t))throw Error(j(299));var n=!1,r="",i=lL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$b(t,1,!1,null,null,n,!1,r,i),t[Ps]=e.current,jh(t.nodeType===8?t.parentNode:t),new Ub(e)};zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=PD(e),t=t===null?null:t.stateNode,t};zr.flushSync=function(t){return il(t)};zr.hydrate=function(t,e,n){if(!__(e))throw Error(j(200));return v_(null,t,e,!0,n)};zr.hydrateRoot=function(t,e,n){if(!Bb(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=aL(e,null,t,1,n??null,i,!1,s,o),t[Ps]=e.current,jh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new y_(e)};zr.render=function(t,e,n){if(!__(e))throw Error(j(200));return v_(null,t,e,!1,n)};zr.unmountComponentAtNode=function(t){if(!__(t))throw Error(j(40));return t._reactRootContainer?(il(function(){v_(null,null,t,!1,function(){t._reactRootContainer=null,t[Ps]=null})}),!0):!1};zr.unstable_batchedUpdates=Db;zr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!__(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return v_(t,e,n,!1,r)};zr.version="18.2.0-next-9e3b772b8-20220608";function uL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uL)}catch(t){console.error(t)}}uL(),aD.exports=zr;var w_=aD.exports;const gm=n_(w_);/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}var uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(uo||(uo={}));const J1="popstate";function E3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sT("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qg(i)}return I3(e,n,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T3(){return Math.random().toString(36).substr(2,8)}function Z1(t,e){return{usr:t.state,key:t.key,idx:e}}function sT(t,e,n,r){return n===void 0&&(n=null),Xh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mc(e):e,{state:n,key:e&&e.key||r||T3()})}function Qg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function I3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=uo.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Xh({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=uo.Pop;let v=c(),m=v==null?null:v-u;u=v,l&&l({action:a,location:g.location,delta:m})}function h(v,m){a=uo.Push;let y=sT(g.location,v,m);n&&n(y,v),u=c()+1;let _=Z1(y,u),w=g.createHref(y);try{o.pushState(_,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(w)}s&&l&&l({action:a,location:g.location,delta:1})}function f(v,m){a=uo.Replace;let y=sT(g.location,v,m);n&&n(y,v),u=c();let _=Z1(y,u),w=g.createHref(y);o.replaceState(_,"",w),s&&l&&l({action:a,location:g.location,delta:0})}function p(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Qg(v);return Xt(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(J1,d),l=v,()=>{i.removeEventListener(J1,d),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(v){return o.go(v)}};return g}var eP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eP||(eP={}));function b3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Mc(e):e,i=zb(r.pathname||"/",n);if(i==null)return null;let s=cL(t);S3(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=D3(s[a],F3(i));return o}function cL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bo([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Xt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cL(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:N3(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of dL(s.path))i(s,o,l)}),e}function dL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=dL(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function S3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C3=/^:\w+$/,R3=3,x3=2,P3=1,A3=10,k3=-2,tP=t=>t==="*";function N3(t,e){let n=t.split("/"),r=n.length;return n.some(tP)&&(r+=k3),e&&(r+=x3),n.filter(i=>!tP(i)).reduce((i,s)=>i+(C3.test(s)?R3:s===""?P3:A3),r)}function O3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function D3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=M3({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:bo([i,c.pathname]),pathnameBase:j3(bo([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=bo([i,c.pathnameBase]))}return s}function M3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=L3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=$3(p||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function L3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function F3(t){try{return decodeURI(t)}catch(e){return jb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $3(t,e){try{return decodeURIComponent(t)}catch(n){return jb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function zb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function V3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Mc(t):t;return{pathname:n?n.startsWith("/")?n:U3(n,e):e,search:z3(r),hash:W3(i)}}function U3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hL(t,e){let n=B3(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fL(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Mc(t):(i=Xh({},t),Xt(!i.pathname||!i.pathname.includes("?"),hw("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),hw("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),hw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=V3(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const bo=t=>t.join("/").replace(/\/\/+/g,"/"),j3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function q3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pL=["post","put","patch","delete"];new Set(pL);const H3=["get",...pL];new Set(H3);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}const Wb=E.createContext(null),G3=E.createContext(null),xl=E.createContext(null),E_=E.createContext(null),Pl=E.createContext({outlet:null,matches:[],isDataRoute:!1}),mL=E.createContext(null);function K3(t,e){let{relative:n}=e===void 0?{}:e;ap()||Xt(!1);let{basename:r,navigator:i}=E.useContext(xl),{hash:s,pathname:o,search:a}=yL(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:bo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ap(){return E.useContext(E_)!=null}function T_(){return ap()||Xt(!1),E.useContext(E_).location}function gL(t){E.useContext(xl).static||E.useLayoutEffect(t)}function Q3(){let{isDataRoute:t}=E.useContext(Pl);return t?lW():Y3()}function Y3(){ap()||Xt(!1);let t=E.useContext(Wb),{basename:e,future:n,navigator:r}=E.useContext(xl),{matches:i}=E.useContext(Pl),{pathname:s}=T_(),o=JSON.stringify(hL(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return gL(()=>{a.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=fL(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:bo([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function yL(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(xl),{matches:i}=E.useContext(Pl),{pathname:s}=T_(),o=JSON.stringify(hL(i,r.v7_relativeSplatPath));return E.useMemo(()=>fL(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function X3(t,e){return J3(t,e)}function J3(t,e,n,r){ap()||Xt(!1);let{navigator:i}=E.useContext(xl),{matches:s}=E.useContext(Pl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=T_(),c;if(e){var d;let v=typeof e=="string"?Mc(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Xt(!1),c=v}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",p=b3(t,{pathname:f}),g=rW(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:bo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:bo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&g?E.createElement(E_.Provider,{value:{location:Jh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:uo.Pop}},g):g}function Z3(){let t=aW(),e=q3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const eW=E.createElement(Z3,null);class tW extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Pl.Provider,{value:this.props.routeContext},E.createElement(mL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nW(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Wb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Pl.Provider,{value:e},r)}function rW(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Xt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,g=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||eW,l&&(u<0&&h===0?(uW("route-fallback",!1),p=!0,v=null):u===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),y=()=>{let _;return f?_=g:p?_=v:d.route.Component?_=E.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,E.createElement(nW,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(tW,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var _L=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_L||{}),Yg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yg||{});function iW(t){let e=E.useContext(Wb);return e||Xt(!1),e}function sW(t){let e=E.useContext(G3);return e||Xt(!1),e}function oW(t){let e=E.useContext(Pl);return e||Xt(!1),e}function vL(t){let e=oW(),n=e.matches[e.matches.length-1];return n.route.id||Xt(!1),n.route.id}function aW(){var t;let e=E.useContext(mL),n=sW(Yg.UseRouteError),r=vL(Yg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function lW(){let{router:t}=iW(_L.UseNavigateStable),e=vL(Yg.UseNavigateStable),n=E.useRef(!1);return gL(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jh({fromRouteId:e},s)))},[t,e])}const nP={};function uW(t,e,n){!e&&!nP[t]&&(nP[t]=!0)}function ma(t){Xt(!1)}function cW(t){let{basename:e="/",children:n=null,location:r,navigationType:i=uo.Pop,navigator:s,static:o=!1,future:a}=t;ap()&&Xt(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Jh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Mc(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=E.useMemo(()=>{let v=zb(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return g==null?null:E.createElement(xl.Provider,{value:u},E.createElement(E_.Provider,{children:n,value:g}))}function dW(t){let{children:e,location:n}=t;return X3(oT(e),n)}new Promise(()=>{});function oT(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,oT(r.props.children,s));return}r.type!==ma&&Xt(!1),!r.props.index||!r.props.children||Xt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=oT(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aT.apply(this,arguments)}function hW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pW(t,e){return t.button===0&&(!e||e==="_self")&&!fW(t)}const mW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],gW="startTransition",rP=Yu[gW];function yW(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=E3({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=E.useCallback(d=>{u&&rP?rP(()=>l(d)):l(d)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(cW,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const _W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=hW(e,mW),{basename:f}=E.useContext(xl),p,g=!1;if(typeof u=="string"&&vW.test(u)&&(p=u,_W))try{let _=new URL(window.location.href),w=u.startsWith("//")?new URL(_.protocol+u):new URL(u),I=zb(w.pathname,f);w.origin===_.origin&&I!=null?u=I+w.search+w.hash:g=!0}catch{}let v=K3(u,{relative:i}),m=wW(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function y(_){r&&r(_),_.defaultPrevented||m(_)}return E.createElement("a",aT({},h,{href:p||v,onClick:g||s?r:y,ref:n,target:l}))});var iP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iP||(iP={}));var sP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sP||(sP={}));function wW(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Q3(),u=T_(),c=yL(t,{relative:o});return E.useCallback(d=>{if(pW(d,n)){d.preventDefault();let h=r!==void 0?r:Qg(u)===Qg(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function Tn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var EW=typeof Symbol=="function"&&Symbol.observable||"@@observable",oP=EW,fw=()=>Math.random().toString(36).substring(7).split("").join("."),TW={INIT:`@@redux/INIT${fw()}`,REPLACE:`@@redux/REPLACE${fw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fw()}`},Xg=TW;function qb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function wL(t,e,n){if(typeof t!="function")throw new Error(Tn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tn(1));return n(wL)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((v,m)=>{o.set(m,v)}))}function c(){if(l)throw new Error(Tn(3));return i}function d(v){if(typeof v!="function")throw new Error(Tn(4));if(l)throw new Error(Tn(5));let m=!0;u();const y=a++;return o.set(y,v),function(){if(m){if(l)throw new Error(Tn(6));m=!1,u(),o.delete(y),s=null}}}function h(v){if(!qb(v))throw new Error(Tn(7));if(typeof v.type>"u")throw new Error(Tn(8));if(typeof v.type!="string")throw new Error(Tn(17));if(l)throw new Error(Tn(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=o).forEach(y=>{y()}),v}function f(v){if(typeof v!="function")throw new Error(Tn(10));r=v,h({type:Xg.REPLACE})}function p(){const v=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Tn(11));function y(){const w=m;w.next&&w.next(c())}return y(),{unsubscribe:v(y)}},[oP](){return this}}}return h({type:Xg.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:f,[oP]:p}}function IW(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Xg.INIT})>"u")throw new Error(Tn(12));if(typeof n(void 0,{type:Xg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tn(13))})}function bW(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{IW(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],f=o[d],p=h(f,a);if(typeof p>"u")throw a&&a.type,new Error(Tn(14));u[d]=p,l=l||p!==f}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Jg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function SW(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Tn(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=Jg(...a)(i.dispatch),{...i,dispatch:s}}}function CW(t){return qb(t)&&"type"in t&&typeof t.type=="string"}var EL=Symbol.for("immer-nothing"),aP=Symbol.for("immer-draftable"),$r=Symbol.for("immer-state");function vi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ic=Object.getPrototypeOf;function Do(t){return!!t&&!!t[$r]}function Ns(t){var e;return t?TL(t)||Array.isArray(t)||!!t[aP]||!!((e=t.constructor)!=null&&e[aP])||b_(t)||S_(t):!1}var RW=Object.prototype.constructor.toString();function TL(t){if(!t||typeof t!="object")return!1;const e=ic(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===RW}function Zh(t,e){I_(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function I_(t){const e=t[$r];return e?e.type_:Array.isArray(t)?1:b_(t)?2:S_(t)?3:0}function lT(t,e){return I_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function IL(t,e,n){const r=I_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function xW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function b_(t){return t instanceof Map}function S_(t){return t instanceof Set}function ga(t){return t.copy_||t.base_}function uT(t,e){if(b_(t))return new Map(t);if(S_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&TL(t))return ic(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[$r];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(ic(t),n)}function Hb(t,e=!1){return C_(t)||Do(t)||!Ns(t)||(I_(t)>1&&(t.set=t.add=t.clear=t.delete=PW),Object.freeze(t),e&&Zh(t,(n,r)=>Hb(r,!0))),t}function PW(){vi(2)}function C_(t){return Object.isFrozen(t)}var AW={};function sl(t){const e=AW[t];return e||vi(0,t),e}var ef;function bL(){return ef}function kW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lP(t,e){e&&(sl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function cT(t){dT(t),t.drafts_.forEach(NW),t.drafts_=null}function dT(t){t===ef&&(ef=t.parent_)}function uP(t){return ef=kW(ef,t)}function NW(t){const e=t[$r];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[$r].modified_&&(cT(e),vi(4)),Ns(t)&&(t=Zg(e,t),e.parent_||ey(e,t)),e.patches_&&sl("Patches").generateReplacementPatches_(n[$r].base_,t,e.patches_,e.inversePatches_)):t=Zg(e,n,[]),cT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==EL?t:void 0}function Zg(t,e,n){if(C_(e))return e;const r=e[$r];if(!r)return Zh(e,(i,s)=>dP(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ey(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Zh(s,(a,l)=>dP(t,r,i,a,l,n,o)),ey(t,i,!1),n&&t.patches_&&sl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function dP(t,e,n,r,i,s,o){if(Do(i)){const a=s&&e&&e.type_!==3&&!lT(e.assigned_,r)?s.concat(r):void 0,l=Zg(t,i,a);if(IL(n,r,l),Do(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Ns(i)&&!C_(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Zg(t,i),(!e||!e.scope_.parent_)&&ey(t,i)}}function ey(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Hb(e,n)}function OW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:bL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Gb;n&&(i=[r],s=tf);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Gb={get(t,e){if(e===$r)return t;const n=ga(t);if(!lT(n,e))return DW(t,n,e);const r=n[e];return t.finalized_||!Ns(r)?r:r===pw(t.base_,e)?(mw(t),t.copy_[e]=fT(r,t)):r},has(t,e){return e in ga(t)},ownKeys(t){return Reflect.ownKeys(ga(t))},set(t,e,n){const r=SL(ga(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=pw(ga(t),e),s=i==null?void 0:i[$r];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(xW(n,i)&&(n!==void 0||lT(t.base_,e)))return!0;mw(t),hT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return pw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mw(t),hT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ga(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){vi(11)},getPrototypeOf(t){return ic(t.base_)},setPrototypeOf(){vi(12)}},tf={};Zh(Gb,(t,e)=>{tf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});tf.deleteProperty=function(t,e){return tf.set.call(this,t,e,void 0)};tf.set=function(t,e,n){return Gb.set.call(this,t[0],e,n,t[0])};function pw(t,e){const n=t[$r];return(n?ga(n):t)[e]}function DW(t,e,n){var i;const r=SL(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function SL(t,e){if(!(e in t))return;let n=ic(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ic(n)}}function hT(t){t.modified_||(t.modified_=!0,t.parent_&&hT(t.parent_))}function mw(t){t.copy_||(t.copy_=uT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var MW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&vi(6),r!==void 0&&typeof r!="function"&&vi(7);let i;if(Ns(e)){const s=uP(this),o=fT(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?cT(s):dT(s)}return lP(s,r),cP(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===EL&&(i=void 0),this.autoFreeze_&&Hb(i,!0),r){const s=[],o=[];sl("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else vi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ns(t)||vi(8),Do(t)&&(t=CL(t));const e=uP(this),n=fT(t,void 0);return n[$r].isManual_=!0,dT(e),n}finishDraft(t,e){const n=t&&t[$r];(!n||!n.isManual_)&&vi(9);const{scope_:r}=n;return lP(r,e),cP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=sl("Patches").applyPatches_;return Do(t)?r(t,e):this.produce(t,i=>r(i,e))}};function fT(t,e){const n=b_(t)?sl("MapSet").proxyMap_(t,e):S_(t)?sl("MapSet").proxySet_(t,e):OW(t,e);return(e?e.scope_:bL()).drafts_.push(n),n}function CL(t){return Do(t)||vi(10,t),RL(t)}function RL(t){if(!Ns(t)||C_(t))return t;const e=t[$r];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=uT(t,e.scope_.immer_.useStrictShallowCopy_)}else n=uT(t,!0);return Zh(n,(r,i)=>{IL(n,r,RL(i))}),e&&(e.finalized_=!1),n}var Vr=new MW,xL=Vr.produce;Vr.produceWithPatches.bind(Vr);Vr.setAutoFreeze.bind(Vr);Vr.setUseStrictShallowCopy.bind(Vr);Vr.applyPatches.bind(Vr);Vr.createDraft.bind(Vr);Vr.finishDraft.bind(Vr);function LW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function FW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function $W(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var hP=t=>Array.isArray(t)?t:[t];function VW(t){const e=Array.isArray(t[0])?t[0]:t;return $W(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function UW(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var BW=class{constructor(t){this.value=t}deref(){return this.value}},jW=typeof WeakRef<"u"?WeakRef:BW,zW=0,fP=1;function ym(){return{s:zW,v:void 0,o:null,p:null}}function Kb(t,e={}){let n=ym();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=a.o;g===null&&(a.o=g=new WeakMap);const v=g.get(p);v===void 0?(a=ym(),g.set(p,a)):a=v}else{let g=a.p;g===null&&(a.p=g=new Map);const v=g.get(p);v===void 0?(a=ym(),g.set(p,a)):a=v}}const u=a;let c;if(a.s===fP?c=a.v:(c=t.apply(null,arguments),s++),u.s=fP,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new jW(c):c}return u.v=c,c}return o.clearCache=()=>{n=ym(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function PL(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),LW(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:f=Kb,argsMemoizeOptions:p=[],devModeChecks:g={}}=c,v=hP(h),m=hP(p),y=VW(i),_=d(function(){return s++,u.apply(null,arguments)},...v),w=f(function(){o++;const b=UW(y,arguments);return a=_.apply(null,b),a},...m);return Object.assign(w,{resultFunc:u,memoizedResultFunc:_,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var WW=PL(Kb),qW=Object.assign((t,e=WW)=>{FW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>qW});function AL(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var HW=AL(),GW=AL,KW=(...t)=>{const e=PL(...t);return(...n)=>{const r=e(...n),i=(s,...o)=>r(Do(s)?CL(s):s,...o);return Object.assign(i,r),i}};KW(Kb);var QW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jg:Jg.apply(null,arguments)},YW=t=>t&&typeof t.match=="function";function So(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ci(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>CW(r)&&r.type===t,n}var kL=class qd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,qd.prototype)}static get[Symbol.species](){return qd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new qd(...e[0].concat(this)):new qd(...e.concat(this))}};function pP(t){return Ns(t)?xL(t,()=>{}):t}function mP(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Ci(10));const r=n.insert(e,t);return t.set(e,r),r}function XW(t){return typeof t=="boolean"}var JW=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new kL;return n&&(XW(n)?o.push(HW):o.push(GW(n.extraArgument))),o},ZW="RTK_autoBatch",NL=t=>e=>{setTimeout(e,t)},e9=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:NL(10),t9=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?e9:t.type==="callback"?t.queueNotification:NL(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[ZW]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},n9=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new kL(t);return r&&i.push(t9(typeof r=="object"?r:void 0)),i},r9=!0;function i9(t){const e=JW(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(qb(n))a=bW(n);else throw new Error(Ci(1));let l;typeof r=="function"?l=r(e):l=e();let u=Jg;i&&(u=QW({trace:!r9,...typeof i=="object"&&i}));const c=SW(...l),d=n9(c);let h=typeof o=="function"?o(d):d();const f=u(...h);return wL(a,s,f)}function OL(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Ci(28));if(a in e)throw new Error(Ci(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function s9(t){return typeof t=="function"}function o9(t,e){let[n,r,i]=OL(e),s;if(s9(t))s=()=>pP(t());else{const a=pP(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Do(c)){const f=d(c,l);return f===void 0?c:f}else{if(Ns(c))return xL(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw new Error(Ci(9))}return h}}return c},a)}return o.getInitialState=s,o}var a9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",l9=(t=21)=>{let e="",n=t;for(;n--;)e+=a9[Math.random()*64|0];return e},u9=(t,e)=>YW(t)?t.match(e):t(e);function c9(...t){return e=>t.some(n=>u9(n,e))}var d9=["name","message","stack","code"],gw=class{constructor(t,e){V0(this,"_type");this.payload=t,this.meta=e}},gP=class{constructor(t,e){V0(this,"_type");this.payload=t,this.meta=e}},h9=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of d9)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Qb=(()=>{function t(e,n,r){const i=So(e+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),s=So(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),o=So(e+"/rejected",(l,u,c,d,h)=>({payload:d,error:(r&&r.serializeError||h9)(l||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(u,c,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):l9(),f=new AbortController;let p;function g(m){p=m,f.abort()}const v=async function(){var _,w;let m;try{let I=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:c,extra:d});if(p9(I)&&(I=await I),I===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const b=new Promise((T,x)=>f.signal.addEventListener("abort",()=>x({name:"AbortError",message:p||"Aborted"})));u(s(h,l,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:l},{getState:c,extra:d}))),m=await Promise.race([b,Promise.resolve(n(l,{dispatch:u,getState:c,extra:d,requestId:h,signal:f.signal,abort:g,rejectWithValue:(T,x)=>new gw(T,x),fulfillWithValue:(T,x)=>new gP(T,x)})).then(T=>{if(T instanceof gw)throw T;return T instanceof gP?i(T.payload,h,l,T.meta):i(T,h,l)})])}catch(I){m=I instanceof gw?o(null,h,l,I.payload,I.meta):o(I,h,l)}return r&&!r.dispatchConditionRejection&&o.match(m)&&m.meta.condition||u(m),m}();return Object.assign(v,{abort:g,requestId:h,arg:l,unwrap(){return v.then(f9)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:c9(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function f9(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function p9(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var m9=Symbol.for("rtk-slice-createasyncthunk");function g9(t,e){return`${t}/${e}`}function y9({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[m9];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Ci(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(v9()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(v,m){const y=typeof v=="string"?v:v.type;if(!y)throw new Error(Ci(12));if(y in u.sliceCaseReducersByType)throw new Error(Ci(13));return u.sliceCaseReducersByType[y]=m,c},addMatcher(v,m){return u.sliceMatchers.push({matcher:v,reducer:m}),c},exposeAction(v,m){return u.actionCreators[v]=m,c},exposeCaseReducer(v,m){return u.sliceCaseReducersByName[v]=m,c}};l.forEach(v=>{const m=a[v],y={reducerName:v,type:g9(s,v),createNotation:typeof i.reducers=="function"};E9(m)?I9(y,m,c,e):w9(y,m,c)});function d(){const[v={},m=[],y=void 0]=typeof i.extraReducers=="function"?OL(i.extraReducers):[i.extraReducers],_={...v,...u.sliceCaseReducersByType};return o9(i.initialState,w=>{for(let I in _)w.addCase(I,_[I]);for(let I of u.sliceMatchers)w.addMatcher(I.matcher,I.reducer);for(let I of m)w.addMatcher(I.matcher,I.reducer);y&&w.addDefaultCase(y)})}const h=v=>v,f=new WeakMap;let p;const g={name:s,reducerPath:o,reducer(v,m){return p||(p=d()),p(v,m)},actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState(){return p||(p=d()),p.getInitialState()},getSelectors(v=h){const m=mP(f,this,{insert:()=>new WeakMap});return mP(m,v,{insert:()=>{const y={};for(const[_,w]of Object.entries(i.selectors??{}))y[_]=_9(this,w,v,this!==g);return y}})},selectSlice(v){let m=v[this.reducerPath];return typeof m>"u"&&this!==g&&(m=this.getInitialState()),m},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(v,{reducerPath:m,...y}={}){const _=m??this.reducerPath;return v.inject({reducerPath:_,reducer:this.reducer},y),{...this,reducerPath:_}}};return g}}function _9(t,e,n,r){function i(s,...o){let a=n.call(t,s);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var Yb=y9();function v9(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function w9({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!T9(r))throw new Error(Ci(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?So(t,o):So(t))}function E9(t){return t._reducerDefinitionType==="asyncThunk"}function T9(t){return t._reducerDefinitionType==="reducerWithPrepare"}function I9({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ci(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(t,s,c);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:o||_m,pending:a||_m,rejected:l||_m,settled:u||_m})}function _m(){}var Xb="listenerMiddleware";So(`${Xb}/add`);So(`${Xb}/removeAll`);So(`${Xb}/remove`);function Ci(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const b9={items:[]},DL=Yb({initialState:b9,name:"cart",reducers:{addItem:(t,e)=>{t.items.push(e.payload)},decreaseItem:(t,e)=>{const n=t.items.find(r=>r.id===e.payload);n&&(n.quantity-=1)},deleteCart:t=>{t.items=[]},increaseItem:(t,e)=>{const n=t.items.find(r=>r.id===e.payload);n&&(n.quantity+=1)},removeItem:(t,e)=>{t.items=t.items.filter(n=>n.id!==e.payload)},setCart:(t,e)=>{t.items=e.payload}}}),{addItem:S9,decreaseItem:C9,deleteCart:R9,increaseItem:ML,removeItem:yP,setCart:x9}=DL.actions,P9=DL.reducer,A9=Qb.withTypes();var _P={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw Lc(e)},Lc=function(t){return new Error("Firebase Database ("+LL.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},k9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new N9;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $L=function(t){const e=FL(t);return Jb.encodeByteArray(e,!0)},ty=function(t){return $L(t).replace(/\./g,"")},ny=function(t){try{return Jb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){return nf(void 0,t)}function nf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!D9(n)||(t[n]=nf(t[n],e[n]));return t}function D9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=()=>M9().__FIREBASE_DEFAULTS__,F9=()=>{if(typeof process>"u"||typeof _P>"u")return;const t=_P.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ny(t[1]);return e&&JSON.parse(e)},R_=()=>{try{return L9()||F9()||$9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},V9=t=>{var e,n;return(n=(e=R_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VL=t=>{const e=V9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UL=()=>{var t;return(t=R_())===null||t===void 0?void 0:t.config},U9=t=>{var e;return(e=R_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ty(JSON.stringify(n)),ty(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function tS(){var t;const e=(t=R_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B9(){return typeof self=="object"&&self.self===self}function BL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jL(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zL(){return LL.NODE_ADMIN===!0}function j9(){return!tS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rf(){try{return typeof indexedDB=="object"}catch{return!1}}function z9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="FirebaseError";class Vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W9,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?q9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Vn(i,a,r)}}function q9(t,e){return t.replace(H9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return JSON.parse(t)}function en(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=sf(ny(s[0])||""),n=sf(ny(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},G9=function(t){const e=WL(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},K9=function(t){const e=WL(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function pT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ry(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function mT(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vP(s)&&vP(o)){if(!mT(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ru(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function qL(t,e){const n=new Y9(t,e);return n.subscribe.bind(n)}class Y9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");X9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yw),i.error===void 0&&(i.error=yw),i.complete===void 0&&(i.complete=yw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yw(){}function nS(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t){return t&&t._delegate?t._delegate:t}class si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tq(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eq(t){return t===ya?void 0:t}function tq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=[];var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const HL={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},rq=Ce.INFO,iq={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},sq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=rq,this._logHandler=sq,this._userLogHandler=null,rS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}function oq(t){rS.forEach(e=>{e.setLogLevel(t)})}function aq(t,e){for(const n of rS){let r=null;e&&e.level&&(r=HL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Ce[s].toLowerCase(),message:a,args:o,type:i.name})}}}const lq=(t,e)=>e.some(n=>t instanceof n);let wP,EP;function uq(){return wP||(wP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cq(){return EP||(EP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GL=new WeakMap,gT=new WeakMap,KL=new WeakMap,_w=new WeakMap,iS=new WeakMap;function dq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Co(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GL.set(n,t)}).catch(()=>{}),iS.set(e,t),e}function hq(t){if(gT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gT.set(t,e)}let yT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fq(t){yT=t(yT)}function pq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vw(this),e,...n);return KL.set(r,e.sort?e.sort():[e]),Co(r)}:cq().includes(t)?function(...e){return t.apply(vw(this),e),Co(GL.get(this))}:function(...e){return Co(t.apply(vw(this),e))}}function mq(t){return typeof t=="function"?pq(t):(t instanceof IDBTransaction&&hq(t),lq(t,uq())?new Proxy(t,yT):t)}function Co(t){if(t instanceof IDBRequest)return dq(t);if(_w.has(t))return _w.get(t);const e=mq(t);return e!==t&&(_w.set(t,e),iS.set(e,t)),e}const vw=t=>iS.get(t);function gq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Co(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Co(o.result),l.oldVersion,l.newVersion,Co(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const yq=["get","getKey","getAll","getAllKeys","count"],_q=["put","add","delete","clear"],ww=new Map;function TP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ww.get(e))return ww.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_q.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yq.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ww.set(e,s),s}fq(t=>({...t,get:(e,n,r)=>TP(e,n)||t.get(e,n,r),has:(e,n)=>!!TP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _T="@firebase/app",IP="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new lp("@firebase/app"),Eq="@firebase/app-compat",Tq="@firebase/analytics-compat",Iq="@firebase/analytics",bq="@firebase/app-check-compat",Sq="@firebase/app-check",Cq="@firebase/auth",Rq="@firebase/auth-compat",xq="@firebase/database",Pq="@firebase/database-compat",Aq="@firebase/functions",kq="@firebase/functions-compat",Nq="@firebase/installations",Oq="@firebase/installations-compat",Dq="@firebase/messaging",Mq="@firebase/messaging-compat",Lq="@firebase/performance",Fq="@firebase/performance-compat",$q="@firebase/remote-config",Vq="@firebase/remote-config-compat",Uq="@firebase/storage",Bq="@firebase/storage-compat",jq="@firebase/firestore",zq="@firebase/firestore-compat",Wq="firebase",qq="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]",Hq={[_T]:"fire-core",[Eq]:"fire-core-compat",[Iq]:"fire-analytics",[Tq]:"fire-analytics-compat",[Sq]:"fire-app-check",[bq]:"fire-app-check-compat",[Cq]:"fire-auth",[Rq]:"fire-auth-compat",[xq]:"fire-rtdb",[Pq]:"fire-rtdb-compat",[Aq]:"fire-fn",[kq]:"fire-fn-compat",[Nq]:"fire-iid",[Oq]:"fire-iid-compat",[Dq]:"fire-fcm",[Mq]:"fire-fcm-compat",[Lq]:"fire-perf",[Fq]:"fire-perf-compat",[$q]:"fire-rc",[Vq]:"fire-rc-compat",[Uq]:"fire-gcs",[Bq]:"fire-gcs-compat",[jq]:"fire-fst",[zq]:"fire-fst-compat","fire-js":"fire-js",[Wq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,of=new Map;function iy(t,e){try{t.container.addComponent(e)}catch(n){ol.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function QL(t,e){t.container.addOrOverwriteComponent(e)}function is(t){const e=t.name;if(of.has(e))return ol.debug(`There were multiple attempts to register component ${e}.`),!1;of.set(e,t);for(const n of Lo.values())iy(n,t);return!0}function k_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gq(t,e,n=Mo){k_(t,e).clearInstance(n)}function Kq(){of.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ss=new Al("app","Firebase",Qq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yq=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=qq;function N_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(n||(n=UL()),!n)throw Ss.create("no-options");const s=Lo.get(i);if(s){if(mT(n,s.options)&&mT(r,s.config))return s;throw Ss.create("duplicate-app",{appName:i})}const o=new nq(i);for(const l of of.values())o.addComponent(l);const a=new Yq(n,r,o);return Lo.set(i,a),a}function sS(t=Mo){const e=Lo.get(t);if(!e&&t===Mo&&UL())return N_();if(!e)throw Ss.create("no-app",{appName:t});return e}function Xq(){return Array.from(Lo.values())}async function YL(t){const e=t.name;Lo.has(e)&&(Lo.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Xn(t,e,n){var r;let i=(r=Hq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ol.warn(a.join(" "));return}is(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function XL(t,e){if(t!==null&&typeof t!="function")throw Ss.create("invalid-log-argument");aq(t,e)}function JL(t){oq(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq="firebase-heartbeat-database",Zq=1,af="firebase-heartbeat-store";let Ew=null;function ZL(){return Ew||(Ew=gq(Jq,Zq,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(af)}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),Ew}async function eH(t){try{return await(await ZL()).transaction(af).objectStore(af).get(eF(t))}catch(e){if(e instanceof Vn)ol.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ol.warn(n.message)}}}async function bP(t,e){try{const r=(await ZL()).transaction(af,"readwrite");await r.objectStore(af).put(e,eF(t)),await r.done}catch(n){if(n instanceof Vn)ol.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ol.warn(r.message)}}}function eF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=1024,nH=30*24*60*60*1e3;class rH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SP();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=nH}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SP(),{heartbeatsToSend:r,unsentEntries:i}=iH(this._heartbeatsCache.heartbeats),s=ty(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function SP(){return new Date().toISOString().substring(0,10)}function iH(t,e=tH){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rf()?z9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function CP(t){return ty(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(t){is(new si("platform-logger",e=>new vq(e),"PRIVATE")),is(new si("heartbeat",e=>new rH(e),"PRIVATE")),Xn(_T,IP,t),Xn(_T,IP,"esm2017"),Xn("fire-js","")}oH("");const aH=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Vn,SDK_VERSION:hs,_DEFAULT_ENTRY_NAME:Mo,_addComponent:iy,_addOrOverwriteComponent:QL,_apps:Lo,_clearComponents:Kq,_components:of,_getProvider:k_,_registerComponent:is,_removeServiceInstance:Gq,deleteApp:YL,getApp:sS,getApps:Xq,initializeApp:N_,onLog:XL,registerVersion:Xn,setLogLevel:JL},Symbol.toStringTag,{value:"Module"}));var RP={};const xP="@firebase/database",PP="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tF="";function lH(t){tF=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),en(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:sf(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Pi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uH(e)}}catch{}return new cH},Oa=nF("localStorage"),vT=nF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new lp("@firebase/database"),dH=function(){let t=1;return function(){return t++}}(),rF=function(t){const e=J9(t),n=new Q9;n.update(e);const r=n.digest();return Jb.encodeByteArray(r)},up=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=up.apply(null,r):typeof r=="object"?e+=en(r):e+=r,e+=" "}return e};let Wa=null,AP=!0;const hH=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Fu.logLevel=Ce.VERBOSE,Wa=Fu.log.bind(Fu),e&&vT.set("logging_enabled",!0)):typeof t=="function"?Wa=t:(Wa=null,vT.remove("logging_enabled"))},$n=function(...t){if(AP===!0&&(AP=!1,Wa===null&&vT.get("logging_enabled")===!0&&hH(!0)),Wa){const e=up.apply(null,t);Wa(e)}},cp=function(t){return function(...e){$n(t,...e)}},wT=function(...t){const e="FIREBASE INTERNAL ERROR: "+up(...t);Fu.error(e)},Os=function(...t){const e=`FIREBASE FATAL ERROR: ${up(...t)}`;throw Fu.error(e),new Error(e)},pr=function(...t){const e="FIREBASE WARNING: "+up(...t);Fu.warn(e)},fH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},iF=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},oc="[MIN_NAME]",al="[MAX_NAME]",Fc=function(t,e){if(t===e)return 0;if(t===oc||e===al)return-1;if(e===oc||t===al)return 1;{const n=kP(t),r=kP(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},mH=function(t,e){return t===e?0:t<e?-1:1},yd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+en(e))},oS=function(t){if(typeof t!="object"||t===null)return en(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=en(e[r]),n+=":",n+=oS(t[e[r]]);return n+="}",n},sF=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function _r(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const oF=function(t){G(!iF(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},gH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _H(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const vH=new RegExp("^-?(0*)\\d{1,10}$"),wH=-2147483648,EH=2147483647,kP=function(t){if(vH.test(t)){const e=Number(t);if(e>=wH&&e<=EH)return e}return null},$c=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw pr("Exception was thrown by user callback.",n),e},Math.floor(0))}},TH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){pr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pr(e)}}class $u{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$u.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="5",aF="v",lF="s",uF="r",cF="f",dF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hF="ls",fF="p",ET="ac",pF="websocket",mF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Oa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function SH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function yF(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===pF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===mF)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);SH(t)&&(n.ns=t.namespace);const i=[];return _r(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(){this.counters_={}}incrementCounter(e,n=1){Pi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return O9(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw={},Iw={};function lS(t){const e=t.toString();return Tw[e]||(Tw[e]=new CH),Tw[e]}function RH(t,e){const n=t.toString();return Iw[n]||(Iw[n]=e()),Iw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$c(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="start",PH="close",AH="pLPCommand",kH="pRTLPCB",_F="id",vF="pw",wF="ser",NH="cb",OH="seg",DH="ts",MH="d",LH="dframe",EF=1870,TF=30,FH=EF-TF,$H=25e3,VH=3e4;class xu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cp(e),this.stats_=lS(n),this.urlFn=l=>(this.appCheckToken&&(l[ET]=this.appCheckToken),yF(n,mF,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VH)),pH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new uS((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===NP)this.id=a,this.password=l;else if(o===PH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[NP]="t",r[wF]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[aF]=aS,this.transportSessionId&&(r[lF]=this.transportSessionId),this.lastSessionId&&(r[hF]=this.lastSessionId),this.applicationId&&(r[fF]=this.applicationId),this.appCheckToken&&(r[ET]=this.appCheckToken),typeof location<"u"&&location.hostname&&dF.test(location.hostname)&&(r[uF]=cF);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xu.forceAllow_=!0}static forceDisallow(){xu.forceDisallow_=!0}static isAvailable(){return xu.forceAllow_?!0:!xu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gH()&&!yH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=en(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$L(n),i=sF(r,FH);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[LH]="t",r[_F]=e,r[vF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=en(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class uS{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dH(),window[AH+this.uniqueCallbackIdentifier]=e,window[kH+this.uniqueCallbackIdentifier]=n,this.myIFrame=uS.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){$n("frame writing exception"),a.stack&&$n(a.stack),$n(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$n("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_F]=this.myID,e[vF]=this.myPW,e[wF]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+TF+r.length<=EF;){const o=this.pendingSegs.shift();r=r+"&"+OH+i+"="+o.seg+"&"+DH+i+"="+o.ts+"&"+MH+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor($H)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{$n("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=16384,BH=45e3;let sy=null;typeof MozWebSocket<"u"?sy=MozWebSocket:typeof WebSocket<"u"&&(sy=WebSocket);class wi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cp(this.connId),this.stats_=lS(n),this.connURL=wi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[aF]=aS,typeof location<"u"&&location.hostname&&dF.test(location.hostname)&&(o[uF]=cF),n&&(o[lF]=n),r&&(o[hF]=r),i&&(o[ET]=i),s&&(o[fF]=s),yF(e,pF,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oa.set("previous_websocket_failure",!0);try{let r;zL(),this.mySock=new sy(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){wi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sy!==null&&!wi.forceDisallow_}static previouslyFailed(){return Oa.isInMemoryStorage||Oa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Oa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=sf(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=en(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sF(n,UH);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BH))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wi.responsesRequiredToBeHealthy=2;wi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xu,wi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=wi&&wi.isAvailable();let r=n&&!wi.previouslyFailed();if(e.webSocketOnly&&(n||pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wi];else{const i=this.transports_=[];for(const s of lf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);lf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=6e4,zH=5e3,WH=10*1024,qH=100*1024,bw="t",OP="d",HH="s",DP="r",GH="e",MP="o",LP="a",FP="n",$P="p",KH="h";class QH{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cp("c:"+this.id+":"),this.transportManager_=new lf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=hh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(bw in e){const n=e[bw];n===LP?this.upgradeIfSecondaryHealthy_():n===DP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===MP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yd("t",e),r=yd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$P,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:LP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:FP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yd("t",e),r=yd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yd(bw,e);if(OP in e){const r=e[OP];if(n===KH){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===FP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HH?this.onConnectionShutdown_(r):n===DP?this.onReset_(r):n===GH?wT("Server Error: "+r):n===MP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wT("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),aS!==r&&pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$P,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends bF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!eS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oy}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=32,UP=768;class it{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ge(){return new it("")}function Ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fo(t){return t.pieces_.length-t.pieceNum_}function at(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new it(t.pieces_,e)}function SF(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function CF(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function RF(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new it(e,0)}function tn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof it)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new it(n,0)}function Pe(t){return t.pieceNum_>=t.pieces_.length}function Kn(t,e){const n=Ne(t),r=Ne(e);if(n===null)return e;if(n===r)return Kn(at(t),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xF(t,e){if(Fo(t)!==Fo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ei(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Fo(t)>Fo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class XH{constructor(e,n){this.errorPrefix_=n,this.parts_=CF(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=A_(this.parts_[r]);PF(this)}}function JH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=A_(e),PF(t)}function ZH(t){const e=t.parts_.pop();t.byteLength_-=A_(e),t.parts_.length>0&&(t.byteLength_-=1)}function PF(t){if(t.byteLength_>UP)throw new Error(t.errorPrefix_+"has a key path longer than "+UP+" bytes ("+t.byteLength_+").");if(t.parts_.length>VP)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VP+") or object contains a cycle "+_a(t))}function _a(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends bF{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new cS}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=1e3,e8=60*5*1e3,BP=30*1e3,t8=1.3,n8=3e4,r8="server_kill",jP=3;class Cs extends IF{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Cs.nextPersistentConnectionId_++,this.log_=cp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_d,this.maxReconnectDelay_=e8,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!zL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cS.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&oy.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(en(s)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new x_,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Cs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Pi(e,"w")){const r=sc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||K9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=BP)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=G9(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+en(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wT("Unrecognized action received from server: "+en(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>n8&&(this.reconnectDelay_=_d),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*t8)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Cs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?$n("getToken() completed but was canceled"):($n("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new QH(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{pr(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(r8)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&pr(d),l())}}}interrupt(e){$n("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$n("Resuming connection for reason: "+e),delete this.interruptReasons_[e],pT(this.interruptReasons_)&&(this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>oS(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new it(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){$n("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jP&&(this.reconnectDelay_=BP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){$n("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+tF.replace(/\./g,"-")]=1,eS()?e["framework.cordova"]=1:P_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oy.getInstance().currentlyOnline();return pT(this.interruptReasons_)&&e}}Cs.nextPersistentConnectionId_=0;Cs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Re(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Re(oc,e),i=new Re(oc,n);return this.compare(r,i)!==0}minPost(){return Re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm;class AF extends O_{static get __EMPTY_NODE(){return vm}static set __EMPTY_NODE(e){vm=e}compare(e,n){return Fc(e.name,n.name)}isDefinedOn(e){throw Lc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Re.MIN}maxPost(){return new Re(al,vm)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Re(e,vm)}toString(){return".key"}}const Vu=new AF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Sr=class Gd{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gd.RED,this.left=i??Hi.EMPTY_NODE,this.right=s??Hi.EMPTY_NODE}copy(e,n,r,i,s){return new Gd(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Hi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Gd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Gd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Sr.RED=!0;Sr.BLACK=!1;class i8{copy(e,n,r,i,s){return this}insert(e,n,r){return new Sr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Hi=class rg{constructor(e,n=rg.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new rg(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Sr.BLACK,null,null))}remove(e){return new rg(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Sr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new wm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new wm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new wm(this.root_,null,this.comparator_,!0,e)}};Hi.EMPTY_NODE=new i8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t,e){return Fc(t.name,e.name)}function dS(t,e){return Fc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT;function o8(t){TT=t}const kF=function(t){return typeof t=="number"?"number:"+oF(t):"string:"+t},NF=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Pi(e,".sv"),"Priority must be a string or number.")}else G(t===TT||t.isEmpty(),"priority of unexpected type.");G(t===TT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zP;class an{constructor(e,n=an.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),NF(this.priorityNode_)}static set __childrenNodeConstructor(e){zP=e}static get __childrenNodeConstructor(){return zP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new an(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:an.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pe(e)?this:Ne(e)===".priority"?this.priorityNode_:an.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:an.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||Fo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,an.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kF(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=oF(this.value_):e+=this.value_,this.lazyHash_=rF(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===an.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof an.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=an.VALUE_TYPE_ORDER.indexOf(n),s=an.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}an.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OF,DF;function a8(t){OF=t}function l8(t){DF=t}class u8 extends O_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Fc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(al,new an("[PRIORITY-POST]",DF))}makePost(e,n){const r=OF(e);return new Re(n,new an("[PRIORITY-POST]",r))}toString(){return".priority"}}const Dt=new u8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=Math.log(2);class d8{constructor(e){const n=s=>parseInt(Math.log(s)/c8,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ay=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Sr(h,d.node,Sr.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new Sr(h,d.node,Sr.BLACK,p,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const v=d-p,m=d;d-=p;const y=i(v+1,m),_=t[v],w=n?n(_):_;f(new Sr(w,_.node,g,null,y))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));g?h(v,Sr.BLACK):(h(v,Sr.BLACK),h(v,Sr.RED))}return c},o=new d8(t.length),a=s(o);return new Hi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sw;const Ql={};class ws{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Ql&&Dt,"ChildrenNode.ts has not been loaded"),Sw=Sw||new ws({".priority":Ql},{".priority":Dt}),Sw}get(e){const n=sc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Hi?n:null}hasIndex(e){return Pi(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Vu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Re.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ay(r,e.getCompare()):a=Ql;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new ws(c,u)}addToIndexes(e,n){const r=ry(this.indexes_,(i,s)=>{const o=sc(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===Ql)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Re.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),ay(a,o.getCompare())}else return Ql;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Re(e.name,a))),l.insert(e,e.node)}});return new ws(r,this.indexSet_)}removeFromIndexes(e,n){const r=ry(this.indexes_,i=>{if(i===Ql)return i;{const s=n.get(e.name);return s?i.remove(new Re(e.name,s)):i}});return new ws(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;class me{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&NF(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vd||(vd=new me(new Hi(dS),null,ws.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vd}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?vd:n}}getChild(e){const n=Ne(e);return n===null?this:this.getImmediateChild(n).getChild(at(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Re(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?vd:this.priorityNode_;return new me(i,o,s)}}updateChild(e,n){const r=Ne(e);if(r===null)return n;{G(Ne(e)!==".priority"||Fo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(at(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Dt,(o,a)=>{n[o]=a.val(e),r++,s&&me.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+kF(this.getPriority().val())+":"),this.forEachChild(Dt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":rF(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Re(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Re(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Re(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dp?-1:0}withIndex(e){if(e===Vu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Dt),i=n.getIterator(Dt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vu?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class h8 extends me{constructor(){super(new Hi(dS),me.EMPTY_NODE,ws.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const dp=new h8;Object.defineProperties(Re,{MIN:{value:new Re(oc,me.EMPTY_NODE)},MAX:{value:new Re(al,dp)}});AF.__EMPTY_NODE=me.EMPTY_NODE;an.__childrenNodeConstructor=me;o8(dp);l8(dp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=!0;function dn(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new an(n,dn(e))}if(!(t instanceof Array)&&f8){const n=[];let r=!1;if(_r(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=dn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Re(o,l)))}}),n.length===0)return me.EMPTY_NODE;const s=ay(n,s8,o=>o.name,dS);if(r){const o=ay(n,Dt.getCompare());return new me(s,dn(e),new ws({".priority":o},{".priority":Dt}))}else return new me(s,dn(e),ws.Default)}else{let n=me.EMPTY_NODE;return _r(t,(r,i)=>{if(Pi(t,r)&&r.substring(0,1)!=="."){const s=dn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(dn(e))}}a8(dn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8 extends O_{constructor(e){super(),this.indexPath_=e,G(!Pe(e)&&Ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Fc(e.name,n.name):s}makePost(e,n){const r=dn(e),i=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new Re(n,i)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,dp);return new Re(al,e)}toString(){return CF(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8 extends O_{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Fc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(e,n){const r=dn(e);return new Re(n,r)}toString(){return".value"}}const g8=new m8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t){return{type:"value",snapshotNode:t}}function ac(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function uf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function y8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(uf(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ac(n,r)):o.trackChildChange(cf(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Dt,(i,s)=>{n.hasChild(i)||r.trackChildChange(uf(i,s))}),n.isLeafNode()||n.forEachChild(Dt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(cf(i,s,o))}else r.trackChildChange(ac(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.indexedFilter_=new hS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=df.getStartPost_(e),this.endPost_=df.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Re(n,r))||(r=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=me.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(me.EMPTY_NODE);const s=this;return n.forEachChild(Dt,(o,a)=>{s.matches(new Re(o,a))||(i=i.updateImmediateChild(o,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new df(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Re(n,r))||(r=me.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=me.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(me.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new Re(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(cf(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(uf(n,d));const g=a.updateImmediateChild(n,me.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(ac(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(uf(u.name,u.node)),s.trackChildChange(ac(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,me.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oc}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:al}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dt}copy(){const e=new fS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function v8(t){return t.loadsAllData()?new hS(t.getIndex()):t.hasLimit()?new _8(t):new df(t)}function WP(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Dt?n="$priority":t.index_===g8?n="$value":t.index_===Vu?n="$key":(G(t.index_ instanceof p8,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=en(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=en(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+en(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=en(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+en(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qP(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Dt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends IF{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=cp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ly.getListenId_(e,r),a={};this.listens_[o]=a;const l=WP(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),sc(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=ly.getListenId_(e,n);delete this.listens_[r]}get(e){const n=WP(e._queryParams),r=e._path.toString(),i=new x_;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+kl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=sf(a.responseText)}catch{pr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&pr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(){return{value:null,children:new Map}}function LF(t,e,n){if(Pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ne(e);t.children.has(r)||t.children.set(r,uy());const i=t.children.get(r);e=at(e),LF(i,e,n)}}function IT(t,e,n){t.value!==null?n(e,t.value):E8(t,(r,i)=>{const s=new it(e.toString()+"/"+r);IT(i,s,n)})}function E8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&_r(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=10*1e3,I8=30*1e3,b8=5*60*1e3;class S8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new T8(e);const r=HP+(I8-HP)*Math.random();hh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;_r(e,(i,s)=>{s>0&&Pi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),hh(this.reportStats_.bind(this),Math.floor(Math.random()*2*b8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ti;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ti||(Ti={}));function FF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function pS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function mS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ti.ACK_USER_WRITE,this.source=FF()}operationForChild(e){if(Pe(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new it(e));return new cy(Ge(),n,this.revert)}}else return G(Ne(this.path)===e,"operationForChild called for unrelated child."),new cy(at(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.source=e,this.path=n,this.type=Ti.LISTEN_COMPLETE}operationForChild(e){return Pe(this.path)?new hf(this.source,Ge()):new hf(this.source,at(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ti.OVERWRITE}operationForChild(e){return Pe(this.path)?new ll(this.source,Ge(),this.snap.getImmediateChild(e)):new ll(this.source,at(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ti.MERGE}operationForChild(e){if(Pe(this.path)){const n=this.children.subtree(new it(e));return n.isEmpty()?null:n.value?new ll(this.source,Ge(),n.value):new ff(this.source,Ge(),n)}else return G(Ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ff(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function R8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(y8(o.childName,o.snapshotNode))}),wd(t,i,"child_removed",e,r,n),wd(t,i,"child_added",e,r,n),wd(t,i,"child_moved",s,r,n),wd(t,i,"child_changed",e,r,n),wd(t,i,"value",e,r,n),i}function wd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>P8(t,a,l)),o.forEach(a=>{const l=x8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function x8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function P8(t,e,n){if(e.childName==null||n.childName==null)throw Lc("Should only compare child_ events.");const r=new Re(e.childName,e.snapshotNode),i=new Re(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){return{eventCache:t,serverCache:e}}function fh(t,e,n,r){return D_(new $o(e,n,r),t.serverCache)}function $F(t,e,n,r){return D_(t.eventCache,new $o(e,n,r))}function dy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ul(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cw;const A8=()=>(Cw||(Cw=new Hi(mH)),Cw);class ht{constructor(e,n=A8()){this.value=e,this.children=n}static fromObject(e){let n=new ht(null);return _r(e,(r,i)=>{n=n.set(new it(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ge(),value:this.value};if(Pe(e))return null;{const r=Ne(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(at(e),n);return s!=null?{path:tn(new it(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pe(e))return this;{const n=Ne(e),r=this.children.get(n);return r!==null?r.subtree(at(e)):new ht(null)}}set(e,n){if(Pe(e))return new ht(n,this.children);{const r=Ne(e),s=(this.children.get(r)||new ht(null)).set(at(e),n),o=this.children.insert(r,s);return new ht(this.value,o)}}remove(e){if(Pe(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const n=Ne(e),r=this.children.get(n);if(r){const i=r.remove(at(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ht(null):new ht(this.value,s)}else return this}}get(e){if(Pe(e))return this.value;{const n=Ne(e),r=this.children.get(n);return r?r.get(at(e)):null}}setTree(e,n){if(Pe(e))return n;{const r=Ne(e),s=(this.children.get(r)||new ht(null)).setTree(at(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ht(this.value,o)}}fold(e){return this.fold_(Ge(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(tn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ge(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Pe(e))return null;{const s=Ne(e),o=this.children.get(s);return o?o.findOnPath_(at(e),tn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ge(),n)}foreachOnPath_(e,n,r){if(Pe(e))return this;{this.value&&r(n,this.value);const i=Ne(e),s=this.children.get(i);return s?s.foreachOnPath_(at(e),tn(n,i),r):new ht(null)}}foreach(e){this.foreach_(Ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(tn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.writeTree_=e}static empty(){return new Ri(new ht(null))}}function ph(t,e,n){if(Pe(e))return new Ri(new ht(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Kn(i,e);return s=s.updateChild(o,n),new Ri(t.writeTree_.set(i,s))}else{const i=new ht(n),s=t.writeTree_.setTree(e,i);return new Ri(s)}}}function GP(t,e,n){let r=t;return _r(n,(i,s)=>{r=ph(r,tn(e,i),s)}),r}function KP(t,e){if(Pe(e))return Ri.empty();{const n=t.writeTree_.setTree(e,new ht(null));return new Ri(n)}}function bT(t,e){return Nl(t,e)!=null}function Nl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Kn(n.path,e)):null}function QP(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Dt,(r,i)=>{e.push(new Re(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Re(r,i.value))}),e}function Ro(t,e){if(Pe(e))return t;{const n=Nl(t,e);return n!=null?new Ri(new ht(n)):new Ri(t.writeTree_.subtree(e))}}function ST(t){return t.writeTree_.isEmpty()}function lc(t,e){return VF(Ge(),t.writeTree_,e)}function VF(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=VF(tn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(tn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t,e){return zF(e,t)}function k8(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ph(t.visibleWrites,e,n)),t.lastWriteId=r}function N8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function O8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&D8(a,r.path)?i=!1:Ei(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return M8(t),!0;if(r.snap)t.visibleWrites=KP(t.visibleWrites,r.path);else{const a=r.children;_r(a,l=>{t.visibleWrites=KP(t.visibleWrites,tn(r.path,l))})}return!0}else return!1}function D8(t,e){if(t.snap)return Ei(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ei(tn(t.path,n),e))return!0;return!1}function M8(t){t.visibleWrites=UF(t.allWrites,L8,Ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function L8(t){return t.visible}function UF(t,e,n){let r=Ri.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ei(n,o)?(a=Kn(n,o),r=ph(r,a,s.snap)):Ei(o,n)&&(a=Kn(o,n),r=ph(r,Ge(),s.snap.getChild(a)));else if(s.children){if(Ei(n,o))a=Kn(n,o),r=GP(r,a,s.children);else if(Ei(o,n))if(a=Kn(o,n),Pe(a))r=GP(r,Ge(),s.children);else{const l=sc(s.children,Ne(a));if(l){const u=l.getChild(at(a));r=ph(r,Ge(),u)}}}else throw Lc("WriteRecord should have .snap or .children")}}return r}function BF(t,e,n,r,i){if(!r&&!i){const s=Nl(t.visibleWrites,e);if(s!=null)return s;{const o=Ro(t.visibleWrites,e);if(ST(o))return n;if(n==null&&!bT(o,Ge()))return null;{const a=n||me.EMPTY_NODE;return lc(o,a)}}}else{const s=Ro(t.visibleWrites,e);if(!i&&ST(s))return n;if(!i&&n==null&&!bT(s,Ge()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ei(u.path,e)||Ei(e,u.path))},a=UF(t.allWrites,o,e),l=n||me.EMPTY_NODE;return lc(a,l)}}}function F8(t,e,n){let r=me.EMPTY_NODE;const i=Nl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Dt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ro(t.visibleWrites,e);return n.forEachChild(Dt,(o,a)=>{const l=lc(Ro(s,new it(o)),a);r=r.updateImmediateChild(o,l)}),QP(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ro(t.visibleWrites,e);return QP(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function $8(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=tn(e,n);if(bT(t.visibleWrites,s))return null;{const o=Ro(t.visibleWrites,s);return ST(o)?i.getChild(n):lc(o,i.getChild(n))}}function V8(t,e,n,r){const i=tn(e,n),s=Nl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ro(t.visibleWrites,i);return lc(o,r.getNode().getImmediateChild(n))}else return null}function U8(t,e){return Nl(t.visibleWrites,e)}function B8(t,e,n,r,i,s,o){let a;const l=Ro(t.visibleWrites,e),u=Nl(l,Ge());if(u!=null)a=u;else if(n!=null)a=lc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function j8(){return{visibleWrites:Ri.empty(),allWrites:[],lastWriteId:-1}}function hy(t,e,n,r){return BF(t.writeTree,t.treePath,e,n,r)}function gS(t,e){return F8(t.writeTree,t.treePath,e)}function YP(t,e,n,r){return $8(t.writeTree,t.treePath,e,n,r)}function fy(t,e){return U8(t.writeTree,tn(t.treePath,e))}function z8(t,e,n,r,i,s){return B8(t.writeTree,t.treePath,e,n,r,i,s)}function yS(t,e,n){return V8(t.writeTree,t.treePath,e,n)}function jF(t,e){return zF(tn(t.treePath,e),t.writeTree)}function zF(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,cf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,uf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ac(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,cf(r,e.snapshotNode,i.oldSnap));else throw Lc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const WF=new q8;class _S{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new $o(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yS(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ul(this.viewCache_),s=z8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){return{filter:t}}function G8(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function K8(t,e,n,r,i){const s=new W8;let o,a;if(n.type===Ti.OVERWRITE){const u=n;u.source.fromUser?o=CT(t,e,u.path,u.snap,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Pe(u.path),o=py(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ti.MERGE){const u=n;u.source.fromUser?o=Y8(t,e,u.path,u.children,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=RT(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ti.ACK_USER_WRITE){const u=n;u.revert?o=Z8(t,e,u.path,r,i,s):o=X8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ti.LISTEN_COMPLETE)o=J8(t,e,n.path,r,s);else throw Lc("Unknown operation type: "+n.type);const l=s.getChanges();return Q8(e,o,l),{viewCache:o,changes:l}}function Q8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=dy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(MF(dy(e)))}}function qF(t,e,n,r,i,s){const o=e.eventCache;if(fy(r,n)!=null)return e;{let a,l;if(Pe(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ul(e),c=u instanceof me?u:me.EMPTY_NODE,d=gS(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=hy(r,ul(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Ne(n);if(u===".priority"){G(Fo(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=YP(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=at(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=YP(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=yS(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return fh(e,a,o.isFullyInitialized()||Pe(n),t.filter.filtersNodes())}}function py(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Pe(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Ne(n);if(!l.isCompleteForPath(n)&&Fo(n)>1)return e;const p=at(n),v=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),v):u=c.updateChild(l.getNode(),f,v,p,WF,null)}const d=$F(e,u,l.isFullyInitialized()||Pe(n),c.filtersNodes()),h=new _S(i,d,s);return qF(t,d,n,i,h,a)}function CT(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new _S(i,e,s);if(Pe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=fh(e,u,!0,t.filter.filtersNodes());else{const d=Ne(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=fh(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=at(n),f=a.getNode().getImmediateChild(d);let p;if(Pe(h))p=r;else{const g=c.getCompleteChild(d);g!=null?SF(h)===".priority"&&g.getChild(RF(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=me.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=fh(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function XP(t,e){return t.eventCache.isCompleteForChild(e)}function Y8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=tn(n,l);XP(e,Ne(c))&&(a=CT(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=tn(n,l);XP(e,Ne(c))||(a=CT(t,a,c,u,i,s,o))}),a}function JP(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function RT(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Pe(n)?u=r:u=new ht(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=JP(t,f,h);l=py(t,l,new it(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=JP(t,p,h);l=py(t,l,new it(d),g,i,s,o,a)}}),l}function X8(t,e,n,r,i,s,o){if(fy(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Pe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return py(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Pe(n)){let u=new ht(null);return l.getNode().forEachChild(Vu,(c,d)=>{u=u.set(new it(c),d)}),RT(t,e,n,u,i,s,a,o)}else return e}else{let u=new ht(null);return r.foreach((c,d)=>{const h=tn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),RT(t,e,n,u,i,s,a,o)}}function J8(t,e,n,r,i){const s=e.serverCache,o=$F(e,s.getNode(),s.isFullyInitialized()||Pe(n),s.isFiltered());return qF(t,o,n,r,WF,i)}function Z8(t,e,n,r,i,s){let o;if(fy(r,n)!=null)return e;{const a=new _S(r,e,i),l=e.eventCache.getNode();let u;if(Pe(n)||Ne(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=hy(r,ul(e));else{const d=e.serverCache.getNode();G(d instanceof me,"serverChildren would be complete if leaf node"),c=gS(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Ne(n);let d=yS(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,at(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,me.EMPTY_NODE,at(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=hy(r,ul(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||fy(r,Ge())!=null,fh(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new hS(r.getIndex()),s=v8(r);this.processor_=H8(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(me.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(me.EMPTY_NODE,a.getNode(),null),c=new $o(l,o.isFullyInitialized(),i.filtersNodes()),d=new $o(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=D_(d,c),this.eventGenerator_=new C8(this.query_)}get query(){return this.query_}}function tG(t){return t.viewCache_.serverCache.getNode()}function nG(t){return dy(t.viewCache_)}function rG(t,e){const n=ul(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Pe(e)&&!n.getImmediateChild(Ne(e)).isEmpty())?n.getChild(e):null}function ZP(t){return t.eventRegistrations_.length===0}function iG(t,e){t.eventRegistrations_.push(e)}function eA(t,e,n){const r=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function tA(t,e,n,r){e.type===Ti.MERGE&&e.source.queryId!==null&&(G(ul(t.viewCache_),"We should always have a full cache before handling merges"),G(dy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=K8(t.processor_,i,e,n,r);return G8(t.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,HF(t,s.changes,s.viewCache.eventCache.getNode(),null)}function sG(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Dt,(s,o)=>{r.push(ac(s,o))}),n.isFullyInitialized()&&r.push(MF(n.getNode())),HF(t,r,n.getNode(),e)}function HF(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return R8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let my;class GF{constructor(){this.views=new Map}}function oG(t){G(!my,"__referenceConstructor has already been defined"),my=t}function aG(){return G(my,"Reference.ts has not been loaded"),my}function lG(t){return t.views.size===0}function vS(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return G(s!=null,"SyncTree gave us an op for an invalid query."),tA(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(tA(o,e,n,r));return s}}function KF(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=hy(n,i?r:null),l=!1;a?l=!0:r instanceof me?(a=gS(n,r),l=!1):(a=me.EMPTY_NODE,l=!1);const u=D_(new $o(a,l,!1),new $o(r,i,!1));return new eG(e,u)}return o}function uG(t,e,n,r,i,s){const o=KF(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),iG(o,n),sG(o,n)}function cG(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Vo(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(eA(u,n,r)),ZP(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(eA(l,n,r)),ZP(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Vo(t)&&s.push(new(aG())(e._repo,e._path)),{removed:s,events:o}}function QF(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function xo(t,e){let n=null;for(const r of t.views.values())n=n||rG(r,e);return n}function YF(t,e){if(e._queryParams.loadsAllData())return L_(t);{const r=e._queryIdentifier;return t.views.get(r)}}function XF(t,e){return YF(t,e)!=null}function Vo(t){return L_(t)!=null}function L_(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy;function dG(t){G(!gy,"__referenceConstructor has already been defined"),gy=t}function hG(){return G(gy,"Reference.ts has not been loaded"),gy}let fG=1;class nA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=j8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function JF(t,e,n,r,i){return k8(t.pendingWriteTree_,e,n,r,i),i?fp(t,new ll(FF(),e,n)):[]}function Da(t,e,n=!1){const r=N8(t.pendingWriteTree_,e);if(O8(t.pendingWriteTree_,e)){let s=new ht(null);return r.snap!=null?s=s.set(Ge(),!0):_r(r.children,o=>{s=s.set(new it(o),!0)}),fp(t,new cy(r.path,s,n))}else return[]}function hp(t,e,n){return fp(t,new ll(pS(),e,n))}function pG(t,e,n){const r=ht.fromObject(n);return fp(t,new ff(pS(),e,r))}function mG(t,e){return fp(t,new hf(pS(),e))}function gG(t,e,n){const r=ES(t,n);if(r){const i=TS(r),s=i.path,o=i.queryId,a=Kn(s,e),l=new hf(mS(o),a);return IS(t,s,l)}else return[]}function ZF(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||XF(o,e))){const l=cG(o,e,n,r);lG(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Vo(f));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=wG(h);for(let p=0;p<f.length;++p){const g=f[p],v=g.query,m=r$(t,g);t.listenProvider_.startListening(mh(v),pf(t,v),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(mh(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(F_(h));t.listenProvider_.stopListening(mh(h),f)}))}EG(t,u)}return a}function e$(t,e,n,r){const i=ES(t,r);if(i!=null){const s=TS(i),o=s.path,a=s.queryId,l=Kn(o,e),u=new ll(mS(a),l,n);return IS(t,o,u)}else return[]}function yG(t,e,n,r){const i=ES(t,r);if(i){const s=TS(i),o=s.path,a=s.queryId,l=Kn(o,e),u=ht.fromObject(n),c=new ff(mS(a),l,u);return IS(t,o,c)}else return[]}function _G(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Kn(h,i);s=s||xo(f,p),o=o||Vo(f)});let a=t.syncPointTree_.get(i);a?(o=o||Vo(a),s=s||xo(a,Ge())):(a=new GF,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=me.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=xo(p,Ge());g&&(s=s.updateImmediateChild(f,g))}));const u=XF(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=F_(e);G(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=TG();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const c=M_(t.pendingWriteTree_,i);let d=uG(a,e,n,c,s,l);if(!u&&!o&&!r){const h=YF(a,e);d=d.concat(IG(t,e,h))}return d}function wS(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Kn(o,e),u=xo(a,l);if(u)return u});return BF(i,e,s,n,!0)}function vG(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Kn(u,n);r=r||xo(c,d)});let i=t.syncPointTree_.get(n);i?r=r||xo(i,Ge()):(i=new GF,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new $o(r,!0,!1):null,a=M_(t.pendingWriteTree_,e._path),l=KF(i,e,a,s?o.getNode():me.EMPTY_NODE,s);return nG(l)}function fp(t,e){return t$(e,t.syncPointTree_,null,M_(t.pendingWriteTree_,Ge()))}function t$(t,e,n,r){if(Pe(t.path))return n$(t,e,n,r);{const i=e.get(Ge());n==null&&i!=null&&(n=xo(i,Ge()));let s=[];const o=Ne(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=jF(r,o);s=s.concat(t$(a,l,u,c))}return i&&(s=s.concat(vS(i,t,r,n))),s}}function n$(t,e,n,r){const i=e.get(Ge());n==null&&i!=null&&(n=xo(i,Ge()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=jF(r,o),c=t.operationForChild(o);c&&(s=s.concat(n$(c,a,l,u)))}),i&&(s=s.concat(vS(i,t,r,n))),s}function r$(t,e){const n=e.query,r=pf(t,n);return{hashFn:()=>(tG(e)||me.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?gG(t,n._path,r):mG(t,n._path);{const s=_H(i,n);return ZF(t,n,null,s)}}}}function pf(t,e){const n=F_(e);return t.queryToTagMap.get(n)}function F_(t){return t._path.toString()+"$"+t._queryIdentifier}function ES(t,e){return t.tagToQueryMap.get(e)}function TS(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new it(t.substr(0,e))}}function IS(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=M_(t.pendingWriteTree_,e);return vS(r,n,i,null)}function wG(t){return t.fold((e,n,r)=>{if(n&&Vo(n))return[L_(n)];{let i=[];return n&&(i=QF(n)),_r(r,(s,o)=>{i=i.concat(o)}),i}})}function mh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hG())(t._repo,t._path):t}function EG(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=F_(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function TG(){return fG++}function IG(t,e,n){const r=e._path,i=pf(t,e),s=r$(t,n),o=t.listenProvider_.startListening(mh(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)G(!Vo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!Pe(u)&&c&&Vo(c))return[L_(c).query];{let h=[];return c&&(h=h.concat(QF(c).map(f=>f.query))),_r(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(mh(c),pf(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new bS(n)}node(){return this.node_}}class SS{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=tn(this.path_,e);return new SS(this.syncTree_,n)}node(){return wS(this.syncTree_,this.path_)}}const bG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},rA=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return SG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return CG(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},SG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},CG=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},RG=function(t,e,n,r){return CS(e,new SS(n,t),r)},i$=function(t,e,n){return CS(t,new bS(e),n)};function CS(t,e,n){const r=t.getPriority().val(),i=rA(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=rA(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new an(a,dn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new an(i))),o.forEachChild(Dt,(a,l)=>{const u=CS(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function xS(t,e){let n=e instanceof it?e:new it(e),r=t,i=Ne(n);for(;i!==null;){const s=sc(r.node.children,i)||{children:{},childCount:0};r=new RS(i,r,s),n=at(n),i=Ne(n)}return r}function Vc(t){return t.node.value}function s$(t,e){t.node.value=e,xT(t)}function o$(t){return t.node.childCount>0}function xG(t){return Vc(t)===void 0&&!o$(t)}function $_(t,e){_r(t.node.children,(n,r)=>{e(new RS(n,t,r))})}function a$(t,e,n,r){n&&!r&&e(t),$_(t,i=>{a$(i,e,!0,r)}),n&&r&&e(t)}function PG(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function pp(t){return new it(t.parent===null?t.name:pp(t.parent)+"/"+t.name)}function xT(t){t.parent!==null&&AG(t.parent,t.name,t)}function AG(t,e,n){const r=xG(n),i=Pi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,xT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,xT(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG=/[\[\].#$\/\u0000-\u001F\u007F]/,NG=/[\[\].#$\u0000-\u001F\u007F]/,Rw=10*1024*1024,l$=function(t){return typeof t=="string"&&t.length!==0&&!kG.test(t)},u$=function(t){return typeof t=="string"&&t.length!==0&&!NG.test(t)},OG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),u$(t)},c$=function(t,e,n,r){r&&e===void 0||PS(nS(t,"value"),e,n)},PS=function(t,e,n){const r=n instanceof it?new XH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+_a(r));if(typeof e=="function")throw new Error(t+"contains a function "+_a(r)+" with contents = "+e.toString());if(iF(e))throw new Error(t+"contains "+e.toString()+" "+_a(r));if(typeof e=="string"&&e.length>Rw/3&&A_(e)>Rw)throw new Error(t+"contains a string greater than "+Rw+" utf8 bytes "+_a(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(_r(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!l$(o)))throw new Error(t+" contains an invalid key ("+o+") "+_a(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JH(r,o),PS(t,a,r),ZH(r)}),i&&s)throw new Error(t+' contains ".value" child '+_a(r)+" in addition to actual children.")}},d$=function(t,e,n,r){if(!(r&&n===void 0)&&!u$(n))throw new Error(nS(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DG=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),d$(t,e,n,r)},h$=function(t,e){if(Ne(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},MG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!l$(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!OG(n))throw new Error(nS(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function f$(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!xF(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ss(t,e,n){f$(t,n),FG(t,r=>Ei(r,e)||Ei(e,r))}function FG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?($G(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $G(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Wa&&$n("event: "+n.toString()),$c(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="repo_interrupt",UG=25;class BG{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uy(),this.transactionQueueTree_=new RS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jG(t,e,n){if(t.stats_=lS(t.repoInfo_),t.forceRestClient_||TH())t.server_=new ly(t.repoInfo_,(r,i,s,o)=>{iA(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sA(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{en(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Cs(t.repoInfo_,e,(r,i,s,o)=>{iA(t,r,i,s,o)},r=>{sA(t,r)},r=>{zG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=RH(t.repoInfo_,()=>new S8(t.stats_,t.server_)),t.infoData_=new w8,t.infoSyncTree_=new nA({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=hp(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),kS(t,"connected",!1),t.serverSyncTree_=new nA({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);ss(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function p$(t){const n=t.infoData_.getNode(new it(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function AS(t){return bG({timestamp:p$(t)})}function iA(t,e,n,r,i){t.dataUpdateCount++;const s=new it(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=ry(n,u=>dn(u));o=yG(t.serverSyncTree_,s,l,i)}else{const l=dn(n);o=e$(t.serverSyncTree_,s,l,i)}else if(r){const l=ry(n,u=>dn(u));o=pG(t.serverSyncTree_,s,l)}else{const l=dn(n);o=hp(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=U_(t,s)),ss(t.eventQueue_,a,o)}function sA(t,e){kS(t,"connected",e),e===!1&&HG(t)}function zG(t,e){_r(e,(n,r)=>{kS(t,n,r)})}function kS(t,e,n){const r=new it("/.info/"+e),i=dn(n);t.infoData_.updateSnapshot(r,i);const s=hp(t.infoSyncTree_,r,i);ss(t.eventQueue_,r,s)}function m$(t){return t.nextWriteId_++}function WG(t,e,n){const r=vG(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=dn(i).withIndex(e._queryParams.getIndex());_G(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=hp(t.serverSyncTree_,e._path,s);else{const a=pf(t.serverSyncTree_,e);o=e$(t.serverSyncTree_,e._path,s,a)}return ss(t.eventQueue_,e._path,o),ZF(t.serverSyncTree_,e,n,null,!0),s},i=>(V_(t,"get for query "+en(e)+" failed: "+i),Promise.reject(new Error(i))))}function qG(t,e,n,r,i){V_(t,"set",{path:e.toString(),value:n,priority:r});const s=AS(t),o=dn(n,r),a=wS(t.serverSyncTree_,e),l=i$(o,a,s),u=m$(t),c=JF(t.serverSyncTree_,e,l,u,!0);f$(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const p=h==="ok";p||pr("set at "+e+" failed: "+h);const g=Da(t.serverSyncTree_,u,!p);ss(t.eventQueue_,e,g),KG(t,i,h,f)});const d=w$(t,e);U_(t,d),ss(t.eventQueue_,d,[])}function HG(t){V_(t,"onDisconnectEvents");const e=AS(t),n=uy();IT(t.onDisconnect_,Ge(),(i,s)=>{const o=RG(i,s,t.serverSyncTree_,e);LF(n,i,o)});let r=[];IT(n,Ge(),(i,s)=>{r=r.concat(hp(t.serverSyncTree_,i,s));const o=w$(t,i);U_(t,o)}),t.onDisconnect_=uy(),ss(t.eventQueue_,Ge(),r)}function GG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(VG)}function V_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$n(n,...e)}function KG(t,e,n,r){e&&$c(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function g$(t,e,n){return wS(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function NS(t,e=t.transactionQueueTree_){if(e||B_(t,e),Vc(e)){const n=_$(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&QG(t,pp(e),n)}else o$(e)&&$_(e,n=>{NS(t,n)})}function QG(t,e,n){const r=n.map(u=>u.currentWriteId),i=g$(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];G(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Kn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{V_(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Da(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();B_(t,xS(t.transactionQueueTree_,e)),NS(t,t.transactionQueueTree_),ss(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)$c(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{pr("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}U_(t,e)}},o)}function U_(t,e){const n=y$(t,e),r=pp(n),i=_$(t,n);return YG(t,i,r),r}function YG(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Kn(n,l.path);let c=!1,d;if(G(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Da(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=UG)c=!0,d="maxretry",i=i.concat(Da(t.serverSyncTree_,l.currentWriteId,!0));else{const h=g$(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){PS("transaction failed: Data returned ",f,l.path);let p=dn(f);typeof f=="object"&&f!=null&&Pi(f,".priority")||(p=p.updatePriority(h.getPriority()));const v=l.currentWriteId,m=AS(t),y=i$(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=m$(t),o.splice(o.indexOf(v),1),i=i.concat(JF(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(Da(t.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(Da(t.serverSyncTree_,l.currentWriteId,!0))}ss(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}B_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)$c(r[a]);NS(t,t.transactionQueueTree_)}function y$(t,e){let n,r=t.transactionQueueTree_;for(n=Ne(e);n!==null&&Vc(r)===void 0;)r=xS(r,n),e=at(e),n=Ne(e);return r}function _$(t,e){const n=[];return v$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function v$(t,e,n){const r=Vc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);$_(e,i=>{v$(t,i,n)})}function B_(t,e){const n=Vc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,s$(e,n.length>0?n:void 0)}$_(e,r=>{B_(t,r)})}function w$(t,e){const n=pp(y$(t,e)),r=xS(t.transactionQueueTree_,e);return PG(r,i=>{xw(t,i)}),xw(t,r),a$(r,i=>{xw(t,i)}),n}function xw(t,e){const n=Vc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Da(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?s$(e,void 0):n.length=s+1,ss(t.eventQueue_,pp(e),i);for(let o=0;o<r.length;o++)$c(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function JG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pr(`Invalid query segment '${n}' in query '${t}'`)}return e}const oA=function(t,e){const n=ZG(t),r=n.namespace;n.domain==="firebase.com"&&Os(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Os("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gF(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new it(n.pathString)}},ZG=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=XG(t.substring(c,d)));const h=JG(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",eK=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=aA.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=aA.charAt(e[i]);return G(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+en(this.snapshot.exportVal())}}class nK{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Pe(this._path)?null:SF(this._path)}get ref(){return new Vs(this._repo,this._path)}get _queryIdentifier(){const e=qP(this._queryParams),n=oS(e);return n==="{}"?"default":n}get _queryObject(){return qP(this._queryParams)}isEqual(e){if(e=re(e),!(e instanceof OS))return!1;const n=this._repo===e._repo,r=xF(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YH(this._path)}}class Vs extends OS{constructor(e,n){super(e,n,new fS,!1)}get parent(){const e=RF(this._path);return e===null?null:new Vs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class mf{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new it(e),r=gf(this.ref,e);return new mf(this._node.getChild(n),r,Dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new mf(i,gf(this.ref,r),Dt)))}hasChild(e){const n=new it(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function PT(t,e){return t=re(t),t._checkNotDeleted("ref"),e!==void 0?gf(t._root,e):t._root}function gf(t,e){return t=re(t),Ne(t._path)===null?DG("child","path",e,!1):d$("child","path",e,!1),new Vs(t._repo,tn(t._path,e))}function iK(t,e){t=re(t),h$("push",t._path),c$("push",e,t._path,!0);const n=p$(t._repo),r=eK(n),i=gf(t,r),s=gf(t,r);let o;return e!=null?o=sK(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function sK(t,e){t=re(t),h$("set",t._path),c$("set",e,t._path,!1);const n=new x_;return qG(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function E$(t){t=re(t);const e=new rK(()=>{}),n=new DS(e);return WG(t._repo,t,n).then(r=>new mf(r,new Vs(t._repo,t._path),t._queryParams.getIndex()))}class DS{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new tK("value",this,new mf(e.snapshotNode,new Vs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new nK(this,e,n):null}matches(e){return e instanceof DS?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}oG(Vs);dG(Vs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK="FIREBASE_DATABASE_EMULATOR_HOST",AT={};let aK=!1;function lK(t,e,n,r){t.repoInfo_=new gF(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function uK(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Os("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$n("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=oA(s,i),a=o.repoInfo,l,u;typeof process<"u"&&RP&&(u=RP[oK]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=oA(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new $u($u.OWNER):new bH(t.name,t.options,e);MG("Invalid Firebase Database URL",o),Pe(o.path)||Os("Database URL must point to the root of a Firebase Database (not including a child path).");const d=dK(a,t,c,new IH(t.name,n));return new hK(d,t)}function cK(t,e){const n=AT[e];(!n||n[t.key]!==t)&&Os(`Database ${e}(${t.repoInfo_}) has already been deleted.`),GG(t),delete n[t.key]}function dK(t,e,n,r){let i=AT[e.name];i||(i={},AT[e.name]=i);let s=i[t.toURLString()];return s&&Os("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new BG(t,aK,n,r),i[t.toURLString()]=s,s}class hK{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vs(this._repo,Ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Os("Cannot call "+e+" on a deleted database.")}}function fK(t=sS(),e){const n=k_(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=VL("database");r&&pK(n,...r)}return n}function pK(t,e,n,r={}){t=re(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Os("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Os('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new $u($u.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Zb(r.mockUserToken,t.app.options.projectId);s=new $u(o)}lK(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(t){lH(hs),is(new si("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return uK(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Xn(xP,PP,t),Xn(xP,PP,"esm2017")}Cs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mK();const gK={items:[]},T$=Qb("product/fetchProducts",async()=>{const t=PT(HI,"items"),e=await E$(t);return e.exists()?e.val():[]}),I$=A9("product/addProduct",async t=>{try{await iK(PT(HI,"items"),t),console.log("Data sent successfully");const e=PT(HI,"items"),n=await E$(e);return n.exists()?n.val():[]}catch(e){return console.error("Error sending data:",e),[]}}),b$=Yb({extraReducers:t=>{t.addCase(T$.fulfilled,(e,n)=>{e.items=n.payload}).addCase(I$.fulfilled,(e,n)=>{e.items=n.payload})},initialState:gK,name:"product",reducers:{addItem:(t,e)=>{t.items.push(e.payload)},setItems:(t,e)=>{t.items=e.payload}}});b$.actions;const yK=b$.reducer;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="firebasestorage.googleapis.com",C$="storageBucket",_K=2*60*1e3,vK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends Vn{constructor(e,n,r=0){super(Pw(e),`Firebase Storage: ${n} (${Pw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function Pw(t){return"storage/"+t}function MS(){const t="An unknown error occurred, please check the error payload for server response.";return new Vt(Mt.UNKNOWN,t)}function wK(t){return new Vt(Mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function EK(t){return new Vt(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt(Mt.UNAUTHENTICATED,t)}function IK(){return new Vt(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bK(t){return new Vt(Mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function SK(){return new Vt(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CK(){return new Vt(Mt.CANCELED,"User canceled the upload/download.")}function RK(t){return new Vt(Mt.INVALID_URL,"Invalid URL '"+t+"'.")}function xK(t){return new Vt(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PK(){return new Vt(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+C$+"' property when initializing the app?")}function AK(){return new Vt(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kK(){return new Vt(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NK(t){return new Vt(Mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function kT(t){return new Vt(Mt.INVALID_ARGUMENT,t)}function R$(){return new Vt(Mt.APP_DELETED,"The Firebase app was deleted.")}function OK(t){return new Vt(Mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gh(t,e){return new Vt(Mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ed(t){throw new Vt(Mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ar.makeFromUrl(e,n)}catch{return new Ar(e,"")}if(r.path==="")return r;throw xK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},g=n===S$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${v}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<_.length;w++){const I=_[w],b=I.regex.exec(e);if(b){const T=b[I.indices.bucket];let x=b[I.indices.path];x||(x=""),r=new Ar(T,x),I.postModify(r);break}}if(r==null)throw RK(e);return r}}class DK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(f,l())},v)}function h(){s&&clearTimeout(s)}function f(v,...m){if(u){h();return}if(v){h(),c.call(null,v,...m);return}if(l()||o){h(),c.call(null,v,...m);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function g(v){p||(p=!0,h(),!u&&(i!==null?(v||(a=2),clearTimeout(i),d(0)):v||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function LK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(t){return t!==void 0}function $K(t){return typeof t=="object"&&!Array.isArray(t)}function LS(t){return typeof t=="string"||t instanceof String}function lA(t){return FS()&&t instanceof Blob}function FS(){return typeof Blob<"u"}function uA(t,e,n,r){if(r<e)throw kT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw kT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function x$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qa||(qa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Em(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===qa.NO_ERROR,l=s.getStatus();if(!a||VK(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===qa.ABORT;r(!1,new Em(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Em(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());FK(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=MS();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?R$():CK();o(l)}else{const l=SK();o(l)}};this.canceled_?n(!1,new Em(!1,null,!0)):this.backoffId_=MK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Em{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function BK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function WK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qK(t,e,n,r,i,s,o=!0){const a=x$(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return zK(u,e),BK(u,n),jK(u,s),WK(u,r),new UK(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GK(...t){const e=HK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(FS())return new Blob(t);throw new Vt(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(t){if(typeof atob>"u")throw NK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Aw{constructor(e,n){this.data=e,this.contentType=n||null}}function YK(t,e){switch(t){case Gi.RAW:return new Aw(P$(e));case Gi.BASE64:case Gi.BASE64URL:return new Aw(A$(t,e));case Gi.DATA_URL:return new Aw(JK(e),ZK(e))}throw MS()}function P$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XK(t){let e;try{e=decodeURIComponent(t)}catch{throw gh(Gi.DATA_URL,"Malformed data URL.")}return P$(e)}function A$(t,e){switch(t){case Gi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw gh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw gh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=QK(e)}catch(i){throw i.message.includes("polyfill")?i:gh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class k${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw gh(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=e7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function JK(t){const e=new k$(t);return e.base64?A$(Gi.BASE64,e.rest):XK(e.rest)}function ZK(t){return new k$(t).contentType}function e7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){let r=0,i="";lA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(lA(this.data_)){const r=this.data_,i=KK(r,e,n);return i===null?null:new io(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new io(r,!0)}}static getBlob(...e){if(FS()){const n=e.map(r=>r instanceof io?r.data_:r);return new io(GK.apply(null,n))}else{const n=e.map(o=>LS(o)?YK(Gi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new io(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t){let e;try{e=JSON.parse(t)}catch{return null}return $K(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function n7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function O$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e){return e}class Wn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||r7}}let Tm=null;function i7(t){return!LS(t)||t.length<2?t:O$(t)}function D$(){if(Tm)return Tm;const t=[];t.push(new Wn("bucket")),t.push(new Wn("generation")),t.push(new Wn("metageneration")),t.push(new Wn("name","fullPath",!0));function e(s,o){return i7(o)}const n=new Wn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Wn("size");return i.xform=r,t.push(i),t.push(new Wn("timeCreated")),t.push(new Wn("updated")),t.push(new Wn("md5Hash",null,!0)),t.push(new Wn("cacheControl",null,!0)),t.push(new Wn("contentDisposition",null,!0)),t.push(new Wn("contentEncoding",null,!0)),t.push(new Wn("contentLanguage",null,!0)),t.push(new Wn("contentType",null,!0)),t.push(new Wn("metadata","customMetadata",!0)),Tm=t,Tm}function s7(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ar(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function o7(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return s7(r,t),r}function M$(t,e,n){const r=N$(e);return r===null?null:o7(t,r,n)}function a7(t,e,n,r){const i=N$(e);if(i===null||!LS(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=$S(h,n,r),p=x$({alt:"media",token:u});return f+p})[0]}function l7(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class L${constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t){if(!t)throw MS()}function u7(t,e){function n(r,i){const s=M$(t,i,e);return F$(s!==null),s}return n}function c7(t,e){function n(r,i){const s=M$(t,i,e);return F$(s!==null),a7(s,i,t.host,t._protocol)}return n}function $$(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=IK():i=TK():n.getStatus()===402?i=EK(t.bucket):n.getStatus()===403?i=bK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function d7(t){const e=$$(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=wK(t.path)),s.serverResponse=i.serverResponse,s}return n}function h7(t,e,n){const r=e.fullServerUrl(),i=$S(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new L$(i,s,c7(t,n),o);return a.errorHandler=d7(e),a}function f7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function p7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=f7(null,e)),r}function m7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let w=0;w<2;w++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=p7(e,r,i),c=l7(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=io.getBlob(d,r,h);if(f===null)throw AK();const p={name:u.fullPath},g=$S(s,t.host,t._protocol),v="POST",m=t.maxUploadRetryTime,y=new L$(g,v,u7(t,n),m);return y.urlParams=p,y.headers=o,y.body=f.uploadData(),y.errorHandler=$$(e),y}class g7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ed("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ed("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ed("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ed("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ed("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class y7 extends g7{initXhr(){this.xhr_.responseType="text"}}function V$(){return new y7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j_=class NT{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new NT(e,n)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return O$(this._location.path)}get storage(){return this._service}get parent(){const e=t7(this._location.path);if(e===null)return null;const n=new Ar(this._location.bucket,e);return new NT(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw OK(e)}};function _7(t,e,n){t._throwIfRoot("uploadBytes");const r=m7(t.storage,t._location,D$(),new io(e,!0),n);return t.storage.makeRequestWithTokens(r,V$).then(i=>({metadata:i,ref:t}))}function v7(t){t._throwIfRoot("getDownloadURL");const e=h7(t.storage,t._location,D$());return t.storage.makeRequestWithTokens(e,V$).then(n=>{if(n===null)throw kK();return n})}function w7(t,e){const n=n7(t._location.path,e),r=new Ar(t._location.bucket,n);return new j_(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){return/^[A-Za-z]+:\/\//.test(t)}function T7(t,e){return new j_(t,e)}function U$(t,e){if(t instanceof VS){const n=t;if(n._bucket==null)throw PK();const r=new j_(n,n._bucket);return e!=null?U$(r,e):r}else return e!==void 0?w7(t,e):t}function I7(t,e){if(e&&E7(e)){if(t instanceof VS)return T7(t,e);throw kT("To use ref(service, url), the first argument must be a Storage instance.")}else return U$(t,e)}function cA(t,e){const n=e==null?void 0:e[C$];return n==null?null:Ar.makeFromBucketSpec(n,t)}function b7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Zb(i,t.app.options.projectId))}class VS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=S$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_K,this._maxUploadRetryTime=vK,this._requests=new Set,i!=null?this._bucket=Ar.makeFromBucketSpec(i,this._host):this._bucket=cA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=cA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new j_(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new DK(R$());{const o=qK(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const dA="@firebase/storage",hA="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="storage";function S7(t,e,n){return t=re(t),_7(t,e,n)}function C7(t){return t=re(t),v7(t)}function R7(t,e){return t=re(t),I7(t,e)}function x7(t=sS(),e){t=re(t);const r=k_(t,B$).getImmediate({identifier:e}),i=VL("storage");return i&&P7(r,...i),r}function P7(t,e,n,r={}){b7(t,e,n,r)}function A7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new VS(n,r,i,e,hs)}function k7(){is(new si(B$,A7,"PUBLIC").setMultipleInstances(!0)),Xn(dA,hA,""),Xn(dA,hA,"esm2017")}k7();let Im;const N7=new Uint8Array(16);function O7(){if(!Im&&(Im=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Im))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Im(N7)}const En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function D7(t,e=0){return En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]}const M7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fA={randomUUID:M7};function j$(t,e,n){if(fA.randomUUID&&!e&&!t)return fA.randomUUID();t=t||{};const r=t.random||(t.rng||O7)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return D7(r)}const L7={loading:!1,uploadImg:""},z$=Yb({name:"upload",initialState:L7,reducers:{setLoading:(t,e)=>{t.loading=e.payload},onImageUpload:(t,e)=>{t.uploadImg=e.payload}}}),F7=Qb("product/upload",async(t,e)=>{const{dispatch:n}=e;n(kw(!0));const r=R7(z0e,`images/${t.name+j$()}`);try{const i=await S7(r,t),s=await C7(i.ref);n(kw(!1)),n($7(s))}catch(i){console.error("Error uploading file:",i),n(kw(!1))}}),{setLoading:kw,onImageUpload:$7}=z$.actions,V7=z$.reducer,U7=i9({reducer:{cart:P9,product:yK,upload:V7}}),US=()=>i_();var B7="firebase",j7="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(B7,j7,"app");var W$,pA=w_;W$=pA.createRoot,pA.hydrateRoot;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,n){this._delegate=e,this.firebase=n,iy(e,new si("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),YL(this._delegate)))}_getService(e,n=Mo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Mo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){iy(this._delegate,e)}_addOrOverwriteComponent(e){QL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},mA=new Al("app-compat","Firebase",W7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Xn,setLogLevel:JL,onLog:XL,apps:null,SDK_VERSION:hs,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:aH}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Mo,!Pi(e,u))throw mA.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=N_(u,c);if(Pi(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(is(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw mA.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&nf(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(){const t=q7(z7);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:q$,extendNamespace:e,createSubscribe:qL,ErrorFactory:Al,deepExtend:nf});function e(n){nf(t,n)}return t}const H7=q$();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new lp("@firebase/app-compat"),G7="@firebase/app-compat",K7="0.2.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t){Xn(G7,K7,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(B9()&&self.firebase!==void 0){gA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&gA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const z_=H7;Q7();function BS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Td={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Yl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function H$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X7=Y7,J7=H$,G$=new Al("auth","Firebase",H$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=new lp("@firebase/auth");function Z7(t,...e){yy.logLevel<=Ce.WARN&&yy.warn(`Auth (${hs}): ${t}`,...e)}function ig(t,...e){yy.logLevel<=Ce.ERROR&&yy.error(`Auth (${hs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw jS(t,...e)}function Pn(t,...e){return jS(t,...e)}function K$(t,e,n){const r=Object.assign(Object.assign({},J7()),{[e]:n});return new Al("auth","Firebase",r).create(e,{appName:t.name})}function Uc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nn(t,"argument-error"),K$(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return G$.create(t,...e)}function q(t,e,...n){if(!t)throw jS(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ig(e),new Error(e)}function Ai(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zS(){return yA()==="http:"||yA()==="https:"}function yA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zS()||BL()||"connection"in navigator)?navigator.onLine:!0}function tQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=eS()||P_()}get(){return eQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=new mp(3e4,6e4);function Ut(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bt(t,e,n,r,i={}){return Y$(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=kl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Q$.fetch()(X$(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Y$(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nQ),e);try{const i=new sQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Kd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Kd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Kd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw K$(t,c,u);Nn(t,c)}}catch(i){if(i instanceof Vn)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function Us(t,e,n,r,i={}){const s=await Bt(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function X$(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?WS(t.config,i):`${t.config.apiScheme}://${i}`}function iQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),rQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){return t!==void 0&&t.getResponse!==void 0}function vA(t){return t!==void 0&&t.enterprise!==void 0}class oQ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aQ(t){return(await Bt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function lQ(t,e){return Bt(t,"GET","/v2/recaptchaConfig",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uQ(t,e){return Bt(t,"POST","/v1/accounts:delete",e)}async function cQ(t,e){return Bt(t,"POST","/v1/accounts:update",e)}async function dQ(t,e){return Bt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hQ(t,e=!1){const n=re(t),r=await n.getIdToken(e),i=W_(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yh(Nw(i.auth_time)),issuedAtTime:yh(Nw(i.iat)),expirationTime:yh(Nw(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Nw(t){return Number(t)*1e3}function W_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ig("JWT malformed, contained fewer than 3 sections"),null;try{const i=ny(n);return i?JSON.parse(i):(ig("Failed to decode base64 JWT payload"),null)}catch(i){return ig("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fQ(t){const e=W_(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vn&&pQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yh(this.lastLoginAt),this.creationTime=yh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ds(t,dQ(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_Q(s.providerUserInfo):[],a=yQ(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new J$(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function gQ(t){const e=re(t);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _Q(t){return t.map(e=>{var{providerId:n}=e,r=BS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vQ(t,e){const n=await Y$(t,{},async()=>{const r=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=X$(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Q$.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wQ(t,e){return Bt(t,"POST","/v2/accounts:revokeToken",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fQ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await vQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vf;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vf,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ha{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=BS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new J$(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ds(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hQ(this,e)}reload(){return gQ(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ha(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ds(this,uQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:w,isAnonymous:I,providerData:b,stsTokenManager:T}=n;q(_&&T,e,"internal-error");const x=vf.fromJSON(this.name,T);q(typeof _=="string",e,"internal-error"),Ks(d,e.name),Ks(h,e.name),q(typeof w=="boolean",e,"internal-error"),q(typeof I=="boolean",e,"internal-error"),Ks(f,e.name),Ks(p,e.name),Ks(g,e.name),Ks(v,e.name),Ks(m,e.name),Ks(y,e.name);const O=new Ha({uid:_,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:I,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:x,createdAt:m,lastLoginAt:y});return b&&Array.isArray(b)&&(O.providerData=b.map(R=>Object.assign({},R))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new vf;i.updateFromServerResponse(n);const s=new Ha({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _f(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=new Map;function kr(t){Ai(t instanceof Function,"Expected a class definition");let e=wA.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z$.type="NONE";const uc=Z$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t,e,n){return`firebase:${t}:${e}:${n}`}class Uu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ga(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ga("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ha._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uu(kr(uc),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||kr(uc);const o=Ga(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ha._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Uu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Uu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r2(e))return"Blackberry";if(i2(e))return"Webos";if(qS(e))return"Safari";if((e.includes("chrome/")||t2(e))&&!e.includes("edge/"))return"Chrome";if(gp(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function e2(t=xt()){return/firefox\//i.test(t)}function qS(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t2(t=xt()){return/crios\//i.test(t)}function n2(t=xt()){return/iemobile/i.test(t)}function gp(t=xt()){return/android/i.test(t)}function r2(t=xt()){return/blackberry/i.test(t)}function i2(t=xt()){return/webos/i.test(t)}function Bc(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EQ(t=xt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function TQ(t=xt()){var e;return Bc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IQ(){return jL()&&document.documentMode===10}function s2(t=xt()){return Bc(t)||gp(t)||i2(t)||r2(t)||/windows phone/i.test(t)||n2(t)}function bQ(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e=[]){let n;switch(t){case"Browser":n=EA(xt());break;case"Worker":n=`${EA(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CQ(t,e={}){return Bt(t,"GET","/v2/passwordPolicy",Ut(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ=6;class xQ{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:RQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TA(this),this.idTokenSubscription=new TA(this),this.beforeStateQueue=new SQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Uu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?re(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CQ(this),n=new xQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kr(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await Uu.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Z7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Lt(t){return re(t)}class TA{constructor(e){this.auth=e,this.observer=null,this.addObserver=qL(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function HS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",AQ().appendChild(r)})}function a2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kQ="https://www.google.com/recaptcha/enterprise.js?render=",NQ="recaptcha-enterprise",OQ="NO_RECAPTCHA";class DQ{constructor(e){this.type=NQ,this.auth=Lt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{lQ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new oQ(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vA(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(OQ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&vA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}HS(kQ+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function IA(t,e,n,r=!1){const i=new DQ(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function wf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await IA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await IA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function MQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LQ(t,e,n){const r=Lt(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=l2(e),{host:o,port:a}=FQ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||$Q()}function l2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FQ(t){const e=l2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bA(o)}}}function bA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $Q(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t,e){return Bt(t,"POST","/v1/accounts:resetPassword",Ut(t,e))}async function VQ(t,e){return Bt(t,"POST","/v1/accounts:update",e)}async function UQ(t,e){return Bt(t,"POST","/v1/accounts:signUp",e)}async function BQ(t,e){return Bt(t,"POST","/v1/accounts:update",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jQ(t,e){return Us(t,"POST","/v1/accounts:signInWithPassword",Ut(t,e))}async function q_(t,e){return Bt(t,"POST","/v1/accounts:sendOobCode",Ut(t,e))}async function zQ(t,e){return q_(t,e)}async function WQ(t,e){return q_(t,e)}async function qQ(t,e){return q_(t,e)}async function HQ(t,e){return q_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GQ(t,e){return Us(t,"POST","/v1/accounts:signInWithEmailLink",Ut(t,e))}async function KQ(t,e){return Us(t,"POST","/v1/accounts:signInWithEmailLink",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends jc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ef(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ef(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wf(e,n,"signInWithPassword",jQ);case"emailLink":return GQ(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wf(e,r,"signUpPassword",UQ);case"emailLink":return KQ(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t,e){return Us(t,"POST","/v1/accounts:signInWithIdp",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ="http://localhost";class os extends jc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=BS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new os(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rs(e,n)}buildRequest(){const e={requestUri:QQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YQ(t,e){return Bt(t,"POST","/v1/accounts:sendVerificationCode",Ut(t,e))}async function XQ(t,e){return Us(t,"POST","/v1/accounts:signInWithPhoneNumber",Ut(t,e))}async function JQ(t,e){const n=await Us(t,"POST","/v1/accounts:signInWithPhoneNumber",Ut(t,e));if(n.temporaryProof)throw Kd(t,"account-exists-with-different-credential",n);return n}const ZQ={USER_NOT_FOUND:"user-not-found"};async function eY(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Us(t,"POST","/v1/accounts:signInWithPhoneNumber",Ut(t,n),ZQ)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends jc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ka({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ka({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return XQ(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return JQ(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return eY(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Ka({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nY(t){const e=Ru(Hd(t)).link,n=e?Ru(Hd(e)).deep_link_id:null,r=Ru(Hd(t)).deep_link_id;return(r?Ru(Hd(r)).link:null)||r||n||e||t}class H_{constructor(e){var n,r,i,s,o,a;const l=Ru(Hd(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=tY((i=l.mode)!==null&&i!==void 0?i:null);q(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=nY(e);try{return new H_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,n){return Ef._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=H_.parseLink(n);return q(r,"argument-error"),Ef._fromEmailAndCode(e,r.code,r.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bu extends zc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return q("providerId"in n&&"signInMethod"in n,"argument-error"),os._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return q(e.idToken||e.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Bu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Bu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Bu(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends zc{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends zc{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY="http://localhost";class cc extends jc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rs(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new cc(r,s)}static _create(e,n){return new cc(e,n)}buildRequest(){return{requestUri:rY,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY="saml.";class _y extends Bs{constructor(e){q(e.startsWith(iY),"argument-error"),super(e)}static credentialFromResult(e){return _y.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return _y.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=cc.fromJSON(e);return q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return cc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends zc{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(t,e){return Us(t,"POST","/v1/accounts:signUp",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ha._fromIdTokenResponse(e,r,i),o=SA(r);return new oi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=SA(r);return new oi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function SA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sY(t){var e;const n=Lt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new oi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await c2(n,{returnSecureToken:!0}),i=await oi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends Vn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vy.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vy(e,n,r,i)}}function d2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vy._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oY(t,e){const n=re(t);await G_(!0,n,e);const{providerUserInfo:r}=await cQ(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=h2(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function GS(t,e,n=!1){const r=await Ds(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oi._forOperation(t,"link",r)}async function G_(t,e,n){await _f(e);const r=h2(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";q(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ds(t,d2(r,i,e,t),n);q(s.idToken,r,"internal-error");const o=W_(s.idToken);q(o,r,"internal-error");const{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),oi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e,n=!1){const r="signIn",i=await d2(t,r,e),s=await oi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function K_(t,e){return p2(Lt(t),e)}async function m2(t,e){const n=re(t);return await G_(!1,n,e.providerId),GS(n,e)}async function g2(t,e){return f2(re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(t,e){return Us(t,"POST","/v1/accounts:signInWithCustomToken",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lY(t,e){const n=Lt(t),r=await aY(n,{token:e,returnSecureToken:!0}),i=await oi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?KS._fromServerResponse(e,n):"totpInfo"in n?QS._fromServerResponse(e,n):Nn(e,"internal-error")}}class KS extends yp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new KS(n)}}class QS extends yp{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new QS(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e,n){var r;q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t){const e=Lt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uY(t,e,n){const r=Lt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Q_(r,i,n),await wf(r,i,"getOobCode",WQ)}async function cY(t,e,n){await u2(re(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YS(t),r})}async function dY(t,e){await BQ(re(t),{oobCode:e})}async function y2(t,e){const n=re(t),r=await u2(n,{oobCode:e}),i=r.requestType;switch(q(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(r.mfaInfo,n,"internal-error");default:q(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=yp._fromServerResponse(Lt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function hY(t,e){const{data:n}=await y2(re(t),e);return n.email}async function fY(t,e,n){const r=Lt(t),o=await wf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YS(t),l}),a=await oi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pY(t,e,n){return K_(re(t),ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mY(t,e,n){const r=Lt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){q(a.handleCodeInApp,r,"argument-error"),a&&Q_(r,o,a)}s(i,n),await wf(r,i,"getOobCode",qQ)}function gY(t,e){const n=H_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function yY(t,e,n){const r=re(t),i=ta.credentialWithLink(e,n||yf());return q(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),K_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Y(t,e){return Bt(t,"POST","/v1/accounts:createAuthUri",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vY(t,e){const n=zS()?yf():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await _Y(re(t),r);return i||[]}async function wY(t,e){const n=re(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Q_(n.auth,i,e);const{email:s}=await zQ(n.auth,i);s!==t.email&&await t.reload()}async function EY(t,e,n){const r=re(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Q_(r.auth,s,n);const{email:o}=await HQ(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TY(t,e){return Bt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IY(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=re(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ds(r,TY(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function bY(t,e){return _2(re(t),e,null)}function SY(t,e){return _2(re(t),null,e)}async function _2(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ds(t,VQ(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=W_(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new ju(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new RY(s,i);case"github.com":return new xY(s,i);case"google.com":return new PY(s,i);case"twitter.com":return new AY(s,i,t.screenName||null);case"custom":case"anonymous":return new ju(s,null);default:return new ju(s,r,i)}}class ju{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class v2 extends ju{constructor(e,n,r,i){super(e,n,r),this.username=i}}class RY extends ju{constructor(e,n){super(e,"facebook.com",n)}}class xY extends v2{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class PY extends ju{constructor(e,n){super(e,"google.com",n)}}class AY extends v2{constructor(e,n,r){super(e,"twitter.com",n,r)}}function kY(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:CY(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Ma("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ma("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ma._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ma._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Lt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>yp._fromServerResponse(r,a));q(i.mfaPendingCredential,r,"internal-error");const o=Ma._fromMfaPendingCredential(i.mfaPendingCredential);return new XS(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await oi._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return q(n.user,r,"internal-error"),oi._forOperation(n.user,n.operationType,u);default:Nn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function NY(t,e){var n;const r=re(t),i=e;return q(e.customData.operationType,r,"argument-error"),q((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),XS._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(t,e){return Bt(t,"POST","/v2/accounts/mfaEnrollment:start",Ut(t,e))}function DY(t,e){return Bt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(t,e))}function MY(t,e){return Bt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(t,e))}class JS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>yp._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new JS(e)}async getSession(){return Ma._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ds(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ds(this.user,MY(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Ow=new WeakMap;function LY(t){const e=re(t);return Ow.has(e)||Ow.set(e,JS._fromUser(e)),Ow.get(e)}const wy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wy,"1"),this.storage.removeItem(wy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(){const t=xt();return qS(t)||Bc(t)}const $Y=1e3,VY=10;class E2 extends w2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FY()&&bQ(),this.fallbackToPolling=s2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);IQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$Y)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}E2.type="LOCAL";const ZS=E2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2 extends w2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}T2.type="SESSION";const cl=T2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Y_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await UY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Y_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=_p("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return window}function jY(t){Kt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return typeof Kt().WorkerGlobalScope<"u"&&typeof Kt().importScripts=="function"}async function zY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qY(){return eC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firebaseLocalStorageDb",HY=1,Ey="firebaseLocalStorage",b2="fbase_key";class vp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function X_(t,e){return t.transaction([Ey],e?"readwrite":"readonly").objectStore(Ey)}function GY(){const t=indexedDB.deleteDatabase(I2);return new vp(t).toPromise()}function OT(){const t=indexedDB.open(I2,HY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ey,{keyPath:b2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ey)?e(r):(r.close(),await GY(),e(await OT()))})})}async function CA(t,e,n){const r=X_(t,!0).put({[b2]:e,value:n});return new vp(r).toPromise()}async function KY(t,e){const n=X_(t,!1).get(e),r=await new vp(n).toPromise();return r===void 0?null:r.value}function RA(t,e){const n=X_(t,!0).delete(e);return new vp(n).toPromise()}const QY=800,YY=3;class S2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await OT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Y_._getInstance(qY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zY(),!this.activeServiceWorker)return;this.sender=new BY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await OT();return await CA(e,wy,"1"),await RA(e,wy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=X_(i,!1).getAll();return new vp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S2.type="LOCAL";const Tf=S2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(t,e){return Bt(t,"POST","/v2/accounts/mfaSignIn:start",Ut(t,e))}function JY(t,e){return Bt(t,"POST","/v2/accounts/mfaSignIn:finalize",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY=500,eX=6e4,bm=1e12;class tX{constructor(e){this.auth=e,this.counter=bm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new nX(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||bm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||bm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||bm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class nX{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;q(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=rX(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},eX)},ZY))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function rX(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=a2("rcb"),iX=new mp(3e4,6e4),sX="https://www.google.com/recaptcha/api.js?";class oX{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Kt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return q(aX(n),e,"argument-error"),this.shouldResolveImmediately(n)&&_A(Kt().grecaptcha)?Promise.resolve(Kt().grecaptcha):new Promise((r,i)=>{const s=Kt().setTimeout(()=>{i(Pn(e,"network-request-failed"))},iX.get());Kt()[Dw]=()=>{Kt().clearTimeout(s),delete Kt()[Dw];const a=Kt().grecaptcha;if(!a||!_A(a)){i(Pn(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${sX}?${kl({onload:Dw,render:"explicit",hl:n})}`;HS(o).catch(()=>{clearTimeout(s),i(Pn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Kt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function aX(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class lX{async load(e){return new tX(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="recaptcha",uX={theme:"light",type:"image"};let cX=class{constructor(e,n,r=Object.assign({},uX)){this.parameters=r,this.type=C2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(e),this.isInvisible=this.parameters.size==="invisible",q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;q(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lX:new oX,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Kt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){q(zS()&&!eC(),this.auth,"internal-error"),await dX(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await aQ(this.auth);q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function dX(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ka._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function hX(t,e,n){const r=Lt(t),i=await J_(r,e,re(n));return new tC(i,s=>K_(r,s))}async function fX(t,e,n){const r=re(t);await G_(!1,r,"phone");const i=await J_(r.auth,e,re(n));return new tC(i,s=>m2(r,s))}async function pX(t,e,n){const r=re(t),i=await J_(r.auth,e,re(n));return new tC(i,s=>g2(r,s))}async function J_(t,e,n){var r;const i=await n.verify();try{q(typeof i=="string",t,"argument-error"),q(n.type===C2,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return q(o.type==="enroll",t,"internal-error"),(await OY(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{q(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return q(a,t,"missing-multi-factor-info"),(await XY(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await YQ(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function mX(t,e){await GS(re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl=class sg{constructor(e){this.providerId=sg.PROVIDER_ID,this.auth=Lt(e)}verifyPhoneNumber(e,n){return J_(this.auth,e,re(n))}static credential(e,n){return Ka._fromVerification(e,n)}static credentialFromResult(e){const n=e;return sg.credentialFromTaggedObject(n)}static credentialFromError(e){return sg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ka._fromTokenResponse(n,r):null}};dl.PROVIDER_ID="phone";dl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e){return e?kr(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC extends jc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gX(t){return p2(t.auth,new nC(t),t.bypassAuthState)}function yX(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),f2(n,new nC(t),t.bypassAuthState)}async function _X(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),GS(n,new nC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gX;case"linkViaPopup":case"linkViaRedirect":return _X;case"reauthViaPopup":case"reauthViaRedirect":return yX;default:Nn(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vX=new mp(2e3,1e4);async function wX(t,e,n){const r=Lt(t);Uc(t,e,Bs);const i=Ol(r,n);return new Es(r,"signInViaPopup",e,i).executeNotNull()}async function EX(t,e,n){const r=re(t);Uc(r.auth,e,Bs);const i=Ol(r.auth,n);return new Es(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function TX(t,e,n){const r=re(t);Uc(r.auth,e,Bs);const i=Ol(r.auth,n);return new Es(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Es extends R2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vX.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX="pendingRedirect",_h=new Map;class bX extends R2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const r=await SX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SX(t,e){const n=P2(e),r=x2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function rC(t,e){return x2(t)._set(P2(e),"true")}function CX(){_h.clear()}function iC(t,e){_h.set(t._key(),e)}function x2(t){return kr(t._redirectPersistence)}function P2(t){return Ga(IX,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(t,e,n){return xX(t,e,n)}async function xX(t,e,n){const r=Lt(t);Uc(t,e,Bs),await r._initializationPromise;const i=Ol(r,n);return await rC(i,r),i._openRedirect(r,e,"signInViaRedirect")}function PX(t,e,n){return AX(t,e,n)}async function AX(t,e,n){const r=re(t);Uc(r.auth,e,Bs),await r.auth._initializationPromise;const i=Ol(r.auth,n);await rC(i,r.auth);const s=await A2(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function kX(t,e,n){return NX(t,e,n)}async function NX(t,e,n){const r=re(t);Uc(r.auth,e,Bs),await r.auth._initializationPromise;const i=Ol(r.auth,n);await G_(!1,r,e.providerId),await rC(i,r.auth);const s=await A2(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function OX(t,e){return await Lt(t)._initializationPromise,Z_(t,e,!1)}async function Z_(t,e,n=!1){const r=Lt(t),i=Ol(r,e),o=await new bX(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function A2(t){const e=_p(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=10*60*1e3;class k2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!N2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DX&&this.cachedEventUids.clear(),this.cachedEventUids.has(xA(e))}saveEventToCache(e){this.cachedEventUids.add(xA(e)),this.lastProcessedEventTime=Date.now()}}function xA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e={}){return Bt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FX=/^https?/;async function $X(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O2(t);for(const n of e)try{if(VX(n))return}catch{}Nn(t,"unauthorized-domain")}function VX(t){const e=yf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FX.test(n))return!1;if(LX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=new mp(3e4,6e4);function PA(){const t=Kt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BX(t){return new Promise((e,n)=>{var r,i,s;function o(){PA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PA(),n(Pn(t,"network-request-failed"))},timeout:UX.get()})}if(!((i=(r=Kt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kt().gapi)===null||s===void 0)&&s.load)o();else{const a=a2("iframefcb");return Kt()[a]=()=>{gapi.load?o():n(Pn(t,"network-request-failed"))},HS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw og=null,e})}let og=null;function jX(t){return og=og||BX(t),og}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX=new mp(5e3,15e3),WX="__/auth/iframe",qX="emulator/auth/iframe",HX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KX(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?WS(e,qX):`https://${t.config.authDomain}/${WX}`,r={apiKey:e.apiKey,appName:t.name,v:hs},i=GX.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${kl(r).slice(1)}`}async function QX(t){const e=await jX(t),n=Kt().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:KX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HX,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=Kt().setTimeout(()=>{s(o)},zX.get());function l(){Kt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XX=500,JX=600,ZX="_blank",eJ="http://localhost";class AA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tJ(t,e,n,r=XX,i=JX){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YX),{width:r.toString(),height:i.toString(),top:s,left:o}),u=xt().toLowerCase();n&&(a=t2(u)?ZX:n),e2(u)&&(e=e||eJ,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(TQ(u)&&a!=="_self")return nJ(e||"",a),new AA(null);const d=window.open(e||"",a,c);q(d,t,"popup-blocked");try{d.focus()}catch{}return new AA(d)}function nJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ="__/auth/handler",iJ="emulator/auth/handler",sJ=encodeURIComponent("fac");async function DT(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hs,eventId:i};if(e instanceof Bs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof zc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${sJ}=${encodeURIComponent(l)}`:"";return`${oJ(t)}?${kl(a).slice(1)}${u}`}function oJ({config:t}){return t.emulator?WS(t,iJ):`https://${t.authDomain}/${rJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="webStorageSupport";class aJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cl,this._completeRedirectFn=Z_,this._overrideRedirectResult=iC}async _openPopup(e,n,r,i){var s;Ai((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await DT(e,n,r,yf(),i);return tJ(e,o,_p())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await DT(e,n,r,yf(),i);return jY(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ai(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QX(e),r=new k2(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mw,{type:Mw},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mw];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$X(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return s2()||qS()||Bc()}}const lJ=aJ;class uJ{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Ki("unexpected MultiFactorSessionType")}}}class sC extends uJ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new sC(e)}_finalizeEnroll(e,n,r){return DY(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return JY(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class D2{constructor(){}static assertion(e){return sC._fromCredential(e)}}D2.FACTOR_ID="phone";var kA="@firebase/auth",NA="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function hJ(t){is(new si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o2(t)},u=new PQ(r,i,s,l);return MQ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),is(new si("auth-internal",e=>{const n=Lt(e.getProvider("auth").getImmediate());return(r=>new cJ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(kA,NA,dJ(t)),Xn(kA,NA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ=5*60;U9("authIdTokenMaxAge");hJ("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ=2e3;async function mJ(t,e,n){var r;const{BuildInfo:i}=hl();Ai(e.sessionId,"AuthEvent did not contain a session ID");const s=await wJ(e.sessionId),o={};return Bc()?o.ibi=i.packageName:gp()?o.apn=i.packageName:Nn(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,DT(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function gJ(t){const{BuildInfo:e}=hl(),n={};Bc()?n.iosBundleId=e.packageName:gp()?n.androidPackageName=e.packageName:Nn(t,"operation-not-supported-in-this-environment"),await O2(t,n)}function yJ(t){const{cordova:e}=hl();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,EQ()?"_blank":"_system","location=yes"),n(i)})})}async function _J(t,e,n){const{cordova:r}=hl();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Pn(t,"redirect-cancelled-by-user"))},pJ))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),gp()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function vJ(t){var e,n,r,i,s,o,a,l,u,c;const d=hl();q(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function wJ(t){const e=EJ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function EJ(t){if(Ai(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ=20;class IJ extends k2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function bJ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:RJ(),postBody:null,tenantId:t.tenantId,error:Pn(t,"no-auth-event")}}function SJ(t,e){return MT()._set(LT(t),e)}async function OA(t){const e=await MT()._get(LT(t));return e&&await MT()._remove(LT(t)),e}function CJ(t,e){var n,r;const i=PJ(e);if(i.includes("/__/auth/callback")){const s=ag(i),o=s.firebaseError?xJ(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Pn(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function RJ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<TJ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function MT(){return kr(ZS)}function LT(t){return Ga("authEvent",t.config.apiKey,t.name)}function xJ(t){try{return JSON.parse(t)}catch{return null}}function PJ(t){const e=ag(t),n=e.link?decodeURIComponent(e.link):void 0,r=ag(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ag(i).link||i||r||n||t}function ag(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ru(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=500;class kJ{constructor(){this._redirectPersistence=cl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Z_,this._overrideRedirectResult=iC}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new IJ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){vJ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),CX(),await this._originValidation(e);const o=bJ(e,r,i);await SJ(e,o);const a=await mJ(e,o,n),l=await yJ(a);return _J(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gJ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=hl(),o=setTimeout(async()=>{await OA(e),n.onEvent(DA())},AJ),a=async c=>{clearTimeout(o);const d=await OA(e);let h=null;d&&(c!=null&&c.url)&&(h=CJ(d,c.url)),n.onEvent(h||DA())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;hl().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const NJ=kJ;function DA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OJ(t,e){Lt(t)._logFramework(e)}var DJ="@firebase/auth-compat",MJ="0.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ=1e3;function vh(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function FJ(){return vh()==="http:"||vh()==="https:"}function M2(t=xt()){return!!((vh()==="file:"||vh()==="ionic:"||vh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function $J(){return P_()||tS()}function VJ(){return jL()&&(document==null?void 0:document.documentMode)===11}function UJ(t=xt()){return/Edge\/\d+/.test(t)}function BJ(t=xt()){return VJ()||UJ(t)}function L2(){try{const t=self.localStorage,e=_p();if(t)return t.setItem(e,"1"),t.removeItem(e),BJ()?rf():!0}catch{return oC()&&rf()}return!1}function oC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lw(){return(FJ()||BL()||M2())&&!$J()&&L2()&&!oC()}function F2(){return M2()&&typeof document<"u"}async function jJ(){return F2()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},LJ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function zJ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},Id=q,$2="persistence";function WJ(t,e){if(Id(Object.values(Cr).includes(e),t,"invalid-persistence-type"),P_()){Id(e!==Cr.SESSION,t,"unsupported-persistence-type");return}if(tS()){Id(e===Cr.NONE,t,"unsupported-persistence-type");return}if(oC()){Id(e===Cr.NONE||e===Cr.LOCAL&&rf(),t,"unsupported-persistence-type");return}Id(e===Cr.NONE||L2(),t,"unsupported-persistence-type")}async function FT(t){await t._initializationPromise;const e=V2(),n=Ga($2,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function qJ(t,e){const n=V2();if(!n)return[];const r=Ga($2,t,e);switch(n.getItem(r)){case Cr.NONE:return[uc];case Cr.LOCAL:return[Tf,cl];case Cr.SESSION:return[cl];default:return[]}}function V2(){var t;try{return((t=zJ())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ=q;class co{constructor(){this.browserResolver=kr(lJ),this.cordovaResolver=kr(NJ),this.underlyingResolver=null,this._redirectPersistence=cl,this._completeRedirectFn=Z_,this._overrideRedirectResult=iC}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return F2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return HJ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await jJ();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){return t.unwrap()}function GJ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(t){return B2(t)}function QJ(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new YJ(t,NY(t,e))}else if(r){const i=B2(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function B2(t){const{_tokenResponse:e}=t instanceof Vn?t.customData:t;if(!e)return null;if(!(t instanceof Vn)&&"temporaryProof"in e&&"phoneNumber"in e)return dl.credentialFromResult(t);const n=e.providerId;if(!n||n===Td.PASSWORD)return null;let r;switch(n){case Td.GOOGLE:r=ji;break;case Td.FACEBOOK:r=Bi;break;case Td.GITHUB:r=zi;break;case Td.TWITTER:r=Wi;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?cc._create(n,a):os._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Bu(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Vn?r.credentialFromError(t):r.credentialFromResult(t)}function rr(t,e){return e.catch(n=>{throw n instanceof Vn&&QJ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:KJ(n),additionalUserInfo:kY(n),user:ev.getOrCreate(i)}})}async function $T(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>rr(t,n.confirm(r))}}class YJ{constructor(e,n){this.resolver=n,this.auth=GJ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return rr(U2(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ev=class Qd{constructor(e){this._delegate=e,this.multiFactor=LY(e)}static getOrCreate(e){return Qd.USER_MAP.has(e)||Qd.USER_MAP.set(e,new Qd(e)),Qd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return rr(this.auth,m2(this._delegate,e))}async linkWithPhoneNumber(e,n){return $T(this.auth,fX(this._delegate,e,n))}async linkWithPopup(e){return rr(this.auth,TX(this._delegate,e,co))}async linkWithRedirect(e){return await FT(Lt(this.auth)),kX(this._delegate,e,co)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return rr(this.auth,g2(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return $T(this.auth,pX(this._delegate,e,n))}reauthenticateWithPopup(e){return rr(this.auth,EX(this._delegate,e,co))}async reauthenticateWithRedirect(e){return await FT(Lt(this.auth)),PX(this._delegate,e,co)}sendEmailVerification(e){return wY(this._delegate,e)}async unlink(e){return await oY(this._delegate,e),this}updateEmail(e){return bY(this._delegate,e)}updatePassword(e){return SY(this._delegate,e)}updatePhoneNumber(e){return mX(this._delegate,e)}updateProfile(e){return IY(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return EY(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};ev.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=q;class VT{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;bd(r,"invalid-api-key",{appName:e.name}),bd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?co:void 0;this._delegate=n.initialize({options:{persistence:XJ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(X7),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ev.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){LQ(this._delegate,e,n)}applyActionCode(e){return dY(this._delegate,e)}checkActionCode(e){return y2(this._delegate,e)}confirmPasswordReset(e,n){return cY(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return rr(this._delegate,fY(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return vY(this._delegate,e)}isSignInWithEmailLink(e){return gY(this._delegate,e)}async getRedirectResult(){bd(Lw(),this._delegate,"operation-not-supported-in-this-environment");const e=await OX(this._delegate,co);return e?rr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){OJ(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=MA(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=MA(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return mY(this._delegate,e,n)}sendPasswordResetEmail(e,n){return uY(this._delegate,e,n||void 0)}async setPersistence(e){WJ(this._delegate,e);let n;switch(e){case Cr.SESSION:n=cl;break;case Cr.LOCAL:n=await kr(Tf)._isAvailable()?Tf:ZS;break;case Cr.NONE:n=uc;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return rr(this._delegate,sY(this._delegate))}signInWithCredential(e){return rr(this._delegate,K_(this._delegate,e))}signInWithCustomToken(e){return rr(this._delegate,lY(this._delegate,e))}signInWithEmailAndPassword(e,n){return rr(this._delegate,pY(this._delegate,e,n))}signInWithEmailLink(e,n){return rr(this._delegate,yY(this._delegate,e,n))}signInWithPhoneNumber(e,n){return $T(this._delegate,hX(this._delegate,e,n))}async signInWithPopup(e){return bd(Lw(),this._delegate,"operation-not-supported-in-this-environment"),rr(this._delegate,wX(this._delegate,e,co))}async signInWithRedirect(e){return bd(Lw(),this._delegate,"operation-not-supported-in-this-environment"),await FT(this._delegate),RX(this._delegate,e,co)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return hY(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}VT.Persistence=Cr;function MA(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ev.getOrCreate(o)),error:e,complete:n}}function XJ(t,e){const n=qJ(t,e);if(typeof self<"u"&&!n.includes(Tf)&&n.push(Tf),typeof window<"u")for(const r of[ZS,cl])n.includes(r)||n.push(r);return n.includes(uc)||n.push(uc),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.providerId="phone",this._delegate=new dl(U2(z_.auth()))}static credential(e,n){return dl.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}aC.PHONE_SIGN_IN_METHOD=dl.PHONE_SIGN_IN_METHOD;aC.PROVIDER_ID=dl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JJ=q;class ZJ{constructor(e,n,r=z_.app()){var i;JJ((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new cX(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ="auth-compat";function tZ(t){t.INTERNAL.registerComponent(new si(eZ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new VT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yl.EMAIL_SIGNIN,PASSWORD_RESET:Yl.PASSWORD_RESET,RECOVER_EMAIL:Yl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Yl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Yl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Yl.VERIFY_EMAIL}},EmailAuthProvider:ta,FacebookAuthProvider:Bi,GithubAuthProvider:zi,GoogleAuthProvider:ji,OAuthProvider:Bu,SAMLAuthProvider:_y,PhoneAuthProvider:aC,PhoneMultiFactorGenerator:D2,RecaptchaVerifier:ZJ,TwitterAuthProvider:Wi,Auth:VT,AuthCredential:jc,Error:Vn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(DJ,MJ)}tZ(z_);var nZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,lC=lC||{},we=nZ||self;function tv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function wp(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function rZ(t){return Object.prototype.hasOwnProperty.call(t,Fw)&&t[Fw]||(t[Fw]=++iZ)}var Fw="closure_uid_"+(1e9*Math.random()>>>0),iZ=0;function sZ(t,e,n){return t.call.apply(t.bind,arguments)}function oZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Un(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Un=sZ:Un=oZ,Un.apply(null,arguments)}function Sm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function na(){this.s=this.s,this.o=this.o}var aZ=0;na.prototype.s=!1;na.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),aZ!=0)&&rZ(this)};na.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const j2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function uC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function LA(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(tv(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var lZ=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};we.addEventListener("test",n,e),we.removeEventListener("test",n,e)}catch{}return t}();function If(t){return/^[\s\xa0]*$/.test(t)}function nv(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function qi(t){return nv().indexOf(t)!=-1}function cC(t){return cC[" "](t),t}cC[" "]=function(){};function uZ(t,e){var n=tee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var cZ=qi("Opera"),dc=qi("Trident")||qi("MSIE"),z2=qi("Edge"),UT=z2||dc,W2=qi("Gecko")&&!(nv().toLowerCase().indexOf("webkit")!=-1&&!qi("Edge"))&&!(qi("Trident")||qi("MSIE"))&&!qi("Edge"),dZ=nv().toLowerCase().indexOf("webkit")!=-1&&!qi("Edge");function q2(){var t=we.document;return t?t.documentMode:void 0}var BT;e:{var $w="",Vw=function(){var t=nv();if(W2)return/rv:([^\);]+)(\)|;)/.exec(t);if(z2)return/Edge\/([\d\.]+)/.exec(t);if(dc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dZ)return/WebKit\/(\S+)/.exec(t);if(cZ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Vw&&($w=Vw?Vw[1]:""),dc){var Uw=q2();if(Uw!=null&&Uw>parseFloat($w)){BT=String(Uw);break e}}BT=$w}var jT;if(we.document&&dc){var FA=q2();jT=FA||parseInt(BT,10)||void 0}else jT=void 0;var hZ=jT;function bf(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(W2){e:{try{cC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:fZ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bf.$.h.call(this)}}gn(bf,Bn);var fZ={2:"touch",3:"pen",4:"mouse"};bf.prototype.h=function(){bf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ep="closure_listenable_"+(1e6*Math.random()|0),pZ=0;function mZ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++pZ,this.fa=this.ia=!1}function rv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function gZ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function H2(t){const e={};for(const n in t)e[n]=t[n];return e}const $A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G2(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<$A.length;s++)n=$A[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function iv(t){this.src=t,this.g={},this.h=0}iv.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=WT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new mZ(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function zT(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=j2(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(rv(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function WT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var hC="closure_lm_"+(1e6*Math.random()|0),Bw={};function K2(t,e,n,r,i){if(r&&r.once)return Y2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)K2(t,e[s],n,r,i);return null}return n=mC(n),t&&t[Ep]?t.O(e,n,wp(r)?!!r.capture:!!r,i):Q2(t,e,n,!1,r,i)}function Q2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=wp(i)?!!i.capture:!!i,a=pC(t);if(a||(t[hC]=a=new iv(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=yZ(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lZ||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(J2(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function yZ(){function t(n){return e.call(t.src,t.listener,n)}const e=_Z;return t}function Y2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y2(t,e[s],n,r,i);return null}return n=mC(n),t&&t[Ep]?t.P(e,n,wp(r)?!!r.capture:!!r,i):Q2(t,e,n,!0,r,i)}function X2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X2(t,e[s],n,r,i);else r=wp(r)?!!r.capture:!!r,n=mC(n),t&&t[Ep]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=WT(s,n,r,i),-1<n&&(rv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=pC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=WT(e,n,r,i)),(n=-1<t?e[t]:null)&&fC(n))}function fC(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ep])zT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(J2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pC(e))?(zT(n,t),n.h==0&&(n.src=null,e[hC]=null)):rv(t)}}}function J2(t){return t in Bw?Bw[t]:Bw[t]="on"+t}function _Z(t,e){if(t.fa)t=!0;else{e=new bf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fC(t),t=n.call(r,e)}return t}function pC(t){return t=t[hC],t instanceof iv?t:null}var jw="__closure_events_fn_"+(1e9*Math.random()>>>0);function mC(t){return typeof t=="function"?t:(t[jw]||(t[jw]=function(e){return t.handleEvent(e)}),t[jw])}function pn(){na.call(this),this.i=new iv(this),this.S=this,this.J=null}gn(pn,na);pn.prototype[Ep]=!0;pn.prototype.removeEventListener=function(t,e,n,r){X2(this,t,e,n,r)};function An(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;e=new Bn(r,t),G2(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Cm(o,r,!0,e)&&i}if(o=e.g=t,i=Cm(o,r,!0,e)&&i,i=Cm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Cm(o,r,!1,e)&&i}pn.prototype.N=function(){if(pn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rv(n[r]);delete t.g[e],t.h--}}this.J=null};pn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};pn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Cm(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&zT(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var gC=we.JSON.stringify;class vZ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function wZ(){var t=yC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class EZ{constructor(){this.h=this.g=null}add(e,n){const r=Z2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Z2=new vZ(()=>new TZ,t=>t.reset());class TZ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function IZ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bZ(t){we.setTimeout(()=>{throw t},0)}let Sf,Cf=!1,yC=new EZ,eV=()=>{const t=we.Promise.resolve(void 0);Sf=()=>{t.then(SZ)}};var SZ=()=>{for(var t;t=wZ();){try{t.h.call(t.g)}catch(n){bZ(n)}var e=Z2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cf=!1};function sv(t,e){pn.call(this),this.h=t||1,this.g=e||we,this.j=Un(this.qb,this),this.l=Date.now()}gn(sv,pn);J=sv.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),An(this,"tick"),this.ga&&(_C(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _C(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){sv.$.N.call(this),_C(this),delete this.g};function vC(t,e,n){if(typeof t=="function")n&&(t=Un(t,n));else if(t&&typeof t.handleEvent=="function")t=Un(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function tV(t){t.g=vC(()=>{t.g=null,t.i&&(t.i=!1,tV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class CZ extends na{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tV(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rf(t){na.call(this),this.h=t,this.g={}}gn(Rf,na);var VA=[];function nV(t,e,n,r){Array.isArray(n)||(n&&(VA[0]=n.toString()),n=VA);for(var i=0;i<n.length;i++){var s=K2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function rV(t){dC(t.g,function(e,n){this.g.hasOwnProperty(n)&&fC(e)},t),t.g={}}Rf.prototype.N=function(){Rf.$.N.call(this),rV(this)};Rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ov(){this.g=!0}ov.prototype.Ea=function(){this.g=!1};function RZ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function xZ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Pu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+AZ(t,n)+(r?" "+r:"")})}function PZ(t,e){t.info(function(){return"TIMEOUT: "+e})}ov.prototype.info=function(){};function AZ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return gC(n)}catch{return e}}var Dl={},UA=null;function av(){return UA=UA||new pn}Dl.Ta="serverreachability";function iV(t){Bn.call(this,Dl.Ta,t)}gn(iV,Bn);function xf(t){const e=av();An(e,new iV(e))}Dl.STAT_EVENT="statevent";function sV(t,e){Bn.call(this,Dl.STAT_EVENT,t),this.stat=e}gn(sV,Bn);function Qn(t){const e=av();An(e,new sV(e,t))}Dl.Ua="timingevent";function oV(t,e){Bn.call(this,Dl.Ua,t),this.size=e}gn(oV,Bn);function Tp(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var lv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},aV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wC(){}wC.prototype.h=null;function BA(t){return t.h||(t.h=t.i())}function lV(){}var Ip={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function EC(){Bn.call(this,"d")}gn(EC,Bn);function TC(){Bn.call(this,"c")}gn(TC,Bn);var qT;function uv(){}gn(uv,wC);uv.prototype.g=function(){return new XMLHttpRequest};uv.prototype.i=function(){return{}};qT=new uv;function bp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rf(this),this.P=kZ,t=UT?125:void 0,this.V=new sv(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uV}function uV(){this.i=null,this.g="",this.h=!1}var kZ=45e3,cV={},HT={};J=bp.prototype;J.setTimeout=function(t){this.P=t};function GT(t,e,n){t.L=1,t.A=dv(Ms(e)),t.u=n,t.S=!0,dV(t,null)}function dV(t,e){t.G=Date.now(),Sp(t),t.B=Ms(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),vV(n.i,"t",r),t.o=0,n=t.l.J,t.h=new uV,t.g=UV(t.l,n?e:null,!t.u),0<t.O&&(t.M=new CZ(Un(t.Pa,t,t.g),t.O)),nV(t.U,t.g,"readystatechange",t.nb),e=t.I?H2(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),xf(),RZ(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&Qi(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const c=Qi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||UT||this.g&&(this.h.h||this.g.ja()||qA(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?xf(3):xf(2)),cv(this);var n=this.g.da();this.ca=n;t:if(hV(this)){var r=qA(this.g);t="";var i=r.length,s=Qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){La(this),wh(this);var o="";break t}this.h.i=new we.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,xZ(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!If(a)){var u=a;break t}}u=null}if(n=u)Pu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,KT(this,n);else{this.i=!1,this.s=3,Qn(12),La(this),wh(this);break e}}this.S?(fV(this,c,o),UT&&this.i&&c==3&&(nV(this.U,this.V,"tick",this.mb),this.V.start())):(Pu(this.j,this.m,o,null),KT(this,o)),c==4&&La(this),this.i&&!this.J&&(c==4?LV(this.l,this):(this.i=!1,Sp(this)))}else JZ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Qn(12)):(this.s=0,Qn(13)),La(this),wh(this)}}}catch{}finally{}};function hV(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function fV(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=NZ(t,n),i==HT){e==4&&(t.s=4,Qn(14),r=!1),Pu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==cV){t.s=4,Qn(15),Pu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Pu(t.j,t.m,i,null),KT(t,i);hV(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xC(e),e.M=!0,Qn(11))):(Pu(t.j,t.m,n,"[Invalid Chunked Response]"),La(t),wh(t))}J.mb=function(){if(this.g){var t=Qi(this.g),e=this.g.ja();this.o<e.length&&(cv(this),fV(this,t,e),this.i&&t!=4&&Sp(this))}};function NZ(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?HT:(n=Number(e.substring(n,r)),isNaN(n)?cV:(r+=1,r+n>e.length?HT:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,La(this)};function Sp(t){t.Y=Date.now()+t.P,pV(t,t.P)}function pV(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Tp(Un(t.lb,t),e)}function cv(t){t.C&&(we.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(PZ(this.j,this.B),this.L!=2&&(xf(),Qn(17)),La(this),this.s=2,wh(this)):pV(this,this.Y-t)};function wh(t){t.l.H==0||t.J||LV(t.l,t)}function La(t){cv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,_C(t.V),rV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function KT(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||QT(n.i,t))){if(!t.K&&QT(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)by(n),mv(n);else break e;RC(n),Qn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Tp(Un(n.ib,n),6e3));if(1>=TV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Fa(n,11)}else if((t.K||n.g==t)&&by(n),!If(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(IC(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ft(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=VV(r,r.J?r.pa:null,r.Y),o.K){IV(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(cv(a),Sp(a)),r.g=o}else DV(r);0<n.j.length&&gv(n)}else u[0]!="stop"&&u[0]!="close"||Fa(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Fa(n,7):CC(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}xf(4)}catch{}}function OZ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(tv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function DZ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(tv(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function mV(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(tv(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=DZ(t),r=OZ(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var gV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MZ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qa){this.h=t.h,Ty(this,t.j),this.s=t.s,this.g=t.g,Iy(this,t.m),this.l=t.l;var e=t.i,n=new Pf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jA(this,n),this.o=t.o}else t&&(e=String(t).match(gV))?(this.h=!1,Ty(this,e[1]||"",!0),this.s=Yd(e[2]||""),this.g=Yd(e[3]||"",!0),Iy(this,e[4]),this.l=Yd(e[5]||"",!0),jA(this,e[6]||"",!0),this.o=Yd(e[7]||"")):(this.h=!1,this.i=new Pf(null,this.h))}Qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xd(e,zA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Xd(e,zA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Xd(n,n.charAt(0)=="/"?$Z:FZ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xd(n,UZ)),t.join("")};function Ms(t){return new Qa(t)}function Ty(t,e,n){t.j=n?Yd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Iy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jA(t,e,n){e instanceof Pf?(t.i=e,BZ(t.i,t.h)):(n||(e=Xd(e,VZ)),t.i=new Pf(e,t.h))}function ft(t,e,n){t.i.set(e,n)}function dv(t){return ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,LZ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function LZ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zA=/[#\/\?@]/g,FZ=/[#\?:]/g,$Z=/[#\?]/g,VZ=/[#\?@]/g,UZ=/#/g;function Pf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ra(t){t.g||(t.g=new Map,t.h=0,t.i&&MZ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=Pf.prototype;J.add=function(t,e){ra(this),this.i=null,t=Wc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function yV(t,e){ra(t),e=Wc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function _V(t,e){return ra(t),e=Wc(t,e),t.g.has(e)}J.forEach=function(t,e){ra(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.ta=function(){ra(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.Z=function(t){ra(this);let e=[];if(typeof t=="string")_V(this,t)&&(e=e.concat(this.g.get(Wc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return ra(this),this.i=null,t=Wc(this,t),_V(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function vV(t,e,n){yV(t,e),0<n.length&&(t.i=null,t.g.set(Wc(t,e),uC(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Wc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function BZ(t,e){e&&!t.j&&(ra(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(yV(this,r),vV(this,i,n))},t)),t.j=e}var jZ=class{constructor(t,e){this.g=t,this.map=e}};function wV(t){this.l=t||zZ,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zZ=10;function EV(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function TV(t){return t.h?1:t.g?t.g.size:0}function QT(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function IC(t,e){t.g?t.g.add(e):t.h=e}function IV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}wV.prototype.cancel=function(){if(this.i=bV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function bV(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return uC(t.i)}var WZ=class{stringify(t){return we.JSON.stringify(t,void 0)}parse(t){return we.JSON.parse(t,void 0)}};function qZ(){this.g=new WZ}function HZ(t,e,n){const r=n||"";try{mV(t,function(i,s){let o=i;wp(i)&&(o=gC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function GZ(t,e){const n=new ov;if(we.Image){const r=new Image;r.onload=Sm(Rm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sm(Rm,n,r,"TestLoadImage: error",!1,e),r.onabort=Sm(Rm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sm(Rm,n,r,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Rm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hv(t){this.l=t.ec||null,this.j=t.ob||!1}gn(hv,wC);hv.prototype.g=function(){return new fv(this.l,this.j)};hv.prototype.i=function(t){return function(){return t}}({});function fv(t,e){pn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=bC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gn(fv,pn);var bC=0;J=fv.prototype;J.open=function(t,e){if(this.readyState!=bC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Af(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cp(this)),this.readyState=bC};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Af(this)),this.g&&(this.readyState=3,Af(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function SV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cp(this):Af(this),this.readyState==3&&SV(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,Cp(this))};J.Ya=function(t){this.g&&(this.response=t,Cp(this))};J.ka=function(){this.g&&Cp(this)};function Cp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Af(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Af(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var KZ=we.JSON.parse;function Ft(t){pn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CV,this.L=this.M=!1}gn(Ft,pn);var CV="",QZ=/^https?$/i,YZ=["POST","PUT"];J=Ft.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qT.g(),this.C=this.u?BA(this.u):BA(qT),this.g.onreadystatechange=Un(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){WA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=we.FormData&&t instanceof we.FormData,!(0<=j2(YZ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{PV(this),0<this.B&&((this.L=XZ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Un(this.ua,this)):this.A=vC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){WA(this,s)}};function XZ(t){return dc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof lC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,An(this,"timeout"),this.abort(8))};function WA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,RV(t),pv(t)}function RV(t){t.F||(t.F=!0,An(t,"complete"),An(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,An(this,"complete"),An(this,"abort"),pv(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pv(this,!0)),Ft.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?xV(this):this.kb())};J.kb=function(){xV(this)};function xV(t){if(t.h&&typeof lC<"u"&&(!t.C[1]||Qi(t)!=4||t.da()!=2)){if(t.v&&Qi(t)==4)vC(t.La,0,t);else if(An(t,"readystatechange"),Qi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(gV)[1]||null;!i&&we.self&&we.self.location&&(i=we.self.location.protocol.slice(0,-1)),r=!QZ.test(i?i.toLowerCase():"")}n=r}if(n)An(t,"complete"),An(t,"success");else{t.m=6;try{var s=2<Qi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",RV(t)}}finally{pv(t)}}}}function pv(t,e){if(t.g){PV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||An(t,"ready");try{n.onreadystatechange=r}catch{}}}function PV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function Qi(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<Qi(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),KZ(e)}};function qA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function JZ(t){const e={};t=(t.g&&2<=Qi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(If(t[r]))continue;var n=IZ(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}gZ(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function AV(t){let e="";return dC(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function SC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=AV(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ft(t,e,n))}function Sd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kV(t){this.Ga=0,this.j=[],this.l=new ov,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sd("baseRetryDelayMs",5e3,t),this.hb=Sd("retryDelaySeedMs",1e4,t),this.eb=Sd("forwardChannelMaxRetries",2,t),this.xa=Sd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new wV(t&&t.concurrentRequestLimit),this.Ja=new qZ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=kV.prototype;J.ra=8;J.H=1;function CC(t){if(NV(t),t.H==3){var e=t.W++,n=Ms(t.I);if(ft(n,"SID",t.K),ft(n,"RID",e),ft(n,"TYPE","terminate"),Rp(t,n),e=new bp(t,t.l,e),e.L=2,e.A=dv(Ms(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&we.Image&&(new Image().src=e.A,n=!0),n||(e.g=UV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Sp(e)}$V(t)}function mv(t){t.g&&(xC(t),t.g.cancel(),t.g=null)}function NV(t){mv(t),t.u&&(we.clearTimeout(t.u),t.u=null),by(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function gv(t){if(!EV(t.i)&&!t.m){t.m=!0;var e=t.Na;Sf||eV(),Cf||(Sf(),Cf=!0),yC.add(e,t),t.C=0}}function ZZ(t,e){return TV(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Tp(Un(t.Na,t,e),FV(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new bp(this,this.l,t);let s=this.s;if(this.U&&(s?(s=H2(s),G2(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=OV(this,i,e),n=Ms(this.I),ft(n,"RID",t),ft(n,"CVER",22),this.F&&ft(n,"X-HTTP-Session-Id",this.F),Rp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(AV(s)))+"&"+e:this.o&&SC(n,this.o,s)),IC(this.i,i),this.bb&&ft(n,"TYPE","init"),this.P?(ft(n,"$req",e),ft(n,"SID","null"),i.aa=!0,GT(i,n,null)):GT(i,n,e),this.H=2}}else this.H==3&&(t?HA(this,t):this.j.length==0||EV(this.i)||HA(this))};function HA(t,e){var n;e?n=e.m:n=t.W++;const r=Ms(t.I);ft(r,"SID",t.K),ft(r,"RID",n),ft(r,"AID",t.V),Rp(t,r),t.o&&t.s&&SC(r,t.o,t.s),n=new bp(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=OV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),IC(t.i,n),GT(n,r,e)}function Rp(t,e){t.na&&dC(t.na,function(n,r){ft(e,r,n)}),t.h&&mV({},function(n,r){ft(e,r,n)})}function OV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Un(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{HZ(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function DV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sf||eV(),Cf||(Sf(),Cf=!0),yC.add(e,t),t.A=0}}function RC(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Tp(Un(t.Ma,t),FV(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,MV(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Tp(Un(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qn(10),mv(this),MV(this))};function xC(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function MV(t){t.g=new bp(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ms(t.wa);ft(e,"RID","rpc"),ft(e,"SID",t.K),ft(e,"AID",t.V),ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ft(e,"TO",t.qa),ft(e,"TYPE","xmlhttp"),Rp(t,e),t.o&&t.s&&SC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=dv(Ms(e)),n.u=null,n.S=!0,dV(n,t)}J.ib=function(){this.v!=null&&(this.v=null,mv(this),RC(this),Qn(19))};function by(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function LV(t,e){var n=null;if(t.g==e){by(t),xC(t),t.g=null;var r=2}else if(QT(t.i,e))n=e.F,IV(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=av(),An(r,new oV(r,n)),gv(t)}else DV(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&ZZ(t,e)||r==2&&RC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Fa(t,5);break;case 4:Fa(t,10);break;case 3:Fa(t,6);break;default:Fa(t,2)}}}function FV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Fa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Un(t.pb,t);n||(n=new Qa("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||Ty(n,"https"),dv(n)),GZ(n.toString(),r)}else Qn(2);t.H=0,t.h&&t.h.za(e),$V(t),NV(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qn(2)):(this.l.info("Failed to ping google.com"),Qn(1))};function $V(t){if(t.H=0,t.ma=[],t.h){const e=bV(t.i);(e.length!=0||t.j.length!=0)&&(LA(t.ma,e),LA(t.ma,t.j),t.i.i.length=0,uC(t.j),t.j.length=0),t.h.ya()}}function VV(t,e,n){var r=n instanceof Qa?Ms(n):new Qa(n);if(r.g!="")e&&(r.g=e+"."+r.g),Iy(r,r.m);else{var i=we.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qa(null);r&&Ty(s,r),e&&(s.g=e),i&&Iy(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ft(r,n,e),ft(r,"VER",t.ra),Rp(t,r),r}function UV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ft(new hv({ob:n})):new Ft(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function BV(){}J=BV.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function Sy(){if(dc&&!(10<=Number(hZ)))throw Error("Environmental error: no available transport.")}Sy.prototype.g=function(t,e){return new Ur(t,e)};function Ur(t,e){pn.call(this),this.g=new kV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!If(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!If(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qc(this)}gn(Ur,pn);Ur.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=VV(t,null,t.Y),gv(t)};Ur.prototype.close=function(){CC(this.g)};Ur.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=gC(t),t=n);e.j.push(new jZ(e.fb++,t)),e.H==3&&gv(e)};Ur.prototype.N=function(){this.g.h=null,delete this.j,CC(this.g),delete this.g,Ur.$.N.call(this)};function jV(t){EC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gn(jV,EC);function zV(){TC.call(this),this.status=1}gn(zV,TC);function qc(t){this.g=t}gn(qc,BV);qc.prototype.Ba=function(){An(this.g,"a")};qc.prototype.Aa=function(t){An(this.g,new jV(t))};qc.prototype.za=function(t){An(this.g,new zV)};qc.prototype.ya=function(){An(this.g,"b")};function eee(){this.blockSize=-1}function ki(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gn(ki,eee);ki.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function zw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ki.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)zw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){zw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){zw(this,r),i=0;break}}this.h=i,this.i+=e};ki.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var tee={};function PC(t){return-128<=t&&128>t?uZ(t,function(e){return new et([e|0],0>e?-1:0)}):new et([t|0],0>t?-1:0)}function Yi(t){if(isNaN(t)||!isFinite(t))return zu;if(0>t)return Cn(Yi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=YT;return new et(e,0)}function WV(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Cn(WV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yi(Math.pow(e,8)),r=zu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Yi(Math.pow(e,s)),r=r.R(s).add(Yi(o))):(r=r.R(n),r=r.add(Yi(o)))}return r}var YT=4294967296,zu=PC(0),XT=PC(1),GA=PC(16777216);J=et.prototype;J.ea=function(){if(Xr(this))return-Cn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:YT+r)*e,e*=YT}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ts(this))return"0";if(Xr(this))return"-"+Cn(this).toString(t);for(var e=Yi(Math.pow(t,6)),n=this,r="";;){var i=Ry(n,e).g;n=Cy(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ts(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ts(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Xr(t){return t.h==-1}J.X=function(t){return t=Cy(this,t),Xr(t)?-1:Ts(t)?0:1};function Cn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new et(n,~t.h).add(XT)}J.abs=function(){return Xr(this)?Cn(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new et(n,n[n.length-1]&-2147483648?-1:0)};function Cy(t,e){return t.add(Cn(e))}J.R=function(t){if(Ts(this)||Ts(t))return zu;if(Xr(this))return Xr(t)?Cn(this).R(Cn(t)):Cn(Cn(this).R(t));if(Xr(t))return Cn(this.R(Cn(t)));if(0>this.X(GA)&&0>t.X(GA))return Yi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,xm(n,2*r+2*i),n[2*r+2*i+1]+=s*l,xm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,xm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,xm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new et(n,0)};function xm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cd(t,e){this.g=t,this.h=e}function Ry(t,e){if(Ts(e))throw Error("division by zero");if(Ts(t))return new Cd(zu,zu);if(Xr(t))return e=Ry(Cn(t),e),new Cd(Cn(e.g),Cn(e.h));if(Xr(e))return e=Ry(t,Cn(e)),new Cd(Cn(e.g),e.h);if(30<t.g.length){if(Xr(t)||Xr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=XT,r=e;0>=r.X(t);)n=KA(n),r=KA(r);var i=Xl(n,1),s=Xl(r,1);for(r=Xl(r,2),n=Xl(n,2);!Ts(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Xl(r,1),n=Xl(n,1)}return e=Cy(t,i.R(e)),new Cd(i,e)}for(i=zu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Yi(n),o=s.R(e);Xr(o)||0<o.X(t);)n-=r,s=Yi(n),o=s.R(e);Ts(s)&&(s=XT),i=i.add(s),t=Cy(t,o)}return new Cd(i,t)}J.gb=function(t){return Ry(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new et(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new et(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new et(n,this.h^t.h)};function KA(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new et(n,t.h)}function Xl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new et(i,t.h)}Sy.prototype.createWebChannel=Sy.prototype.g;Ur.prototype.send=Ur.prototype.u;Ur.prototype.open=Ur.prototype.m;Ur.prototype.close=Ur.prototype.close;lv.NO_ERROR=0;lv.TIMEOUT=8;lv.HTTP_ERROR=6;aV.COMPLETE="complete";lV.EventType=Ip;Ip.OPEN="a";Ip.CLOSE="b";Ip.ERROR="c";Ip.MESSAGE="d";pn.prototype.listen=pn.prototype.O;Ft.prototype.listenOnce=Ft.prototype.P;Ft.prototype.getLastError=Ft.prototype.Sa;Ft.prototype.getLastErrorCode=Ft.prototype.Ia;Ft.prototype.getStatus=Ft.prototype.da;Ft.prototype.getResponseJson=Ft.prototype.Wa;Ft.prototype.getResponseText=Ft.prototype.ja;Ft.prototype.send=Ft.prototype.ha;Ft.prototype.setWithCredentials=Ft.prototype.Oa;ki.prototype.digest=ki.prototype.l;ki.prototype.reset=ki.prototype.reset;ki.prototype.update=ki.prototype.j;et.prototype.add=et.prototype.add;et.prototype.multiply=et.prototype.R;et.prototype.modulo=et.prototype.gb;et.prototype.compare=et.prototype.X;et.prototype.toNumber=et.prototype.ea;et.prototype.toString=et.prototype.toString;et.prototype.getBits=et.prototype.D;et.fromNumber=Yi;et.fromString=WV;var nee=function(){return new Sy},ree=function(){return av()},Ww=lv,iee=aV,see=Dl,QA={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Pm=lV,oee=Ft,aee=ki,Wu=et,lee={};const YA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new lp("@firebase/firestore");function uu(){return Uo.logLevel}function uee(t){Uo.setLogLevel(t)}function F(t,...e){if(Uo.logLevel<=Ce.DEBUG){const n=e.map(AC);Uo.debug(`Firestore (${Hc}): ${t}`,...n)}}function zt(t,...e){if(Uo.logLevel<=Ce.ERROR){const n=e.map(AC);Uo.error(`Firestore (${Hc}): ${t}`,...n)}}function Ni(t,...e){if(Uo.logLevel<=Ce.WARN){const n=e.map(AC);Uo.warn(`Firestore (${Hc}): ${t}`,...n)}}function AC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Hc}) INTERNAL ASSERTION FAILED: `+t;throw zt(e),new Error(e)}function oe(t,e){t||ee()}function cee(t,e){t||ee()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class hee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fee{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string"),new qV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new cn(e)}}class pee{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mee{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pee(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string"),this.R=n.token,new gee(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_ee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function hc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function GV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new Tt(0,0))}static max(){return new le(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends kf{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const vee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends kf{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return vee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(je.fromString(e))}static fromName(e){return new Q(je.fromString(e).popFirst(5))}static empty(){return new Q(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function JT(t){return t.fields.find(e=>e.kind===2)}function va(t){return t.fields.filter(e=>e.kind!==2)}xy.UNKNOWN_ID=-1;class lg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Nf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Nf(0,Br.min())}}function KV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new Br(i,Q.empty(),e)}function QV(t){return new Br(t.readTime,t.key,-1)}class Br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Br(le.min(),Q.empty(),-1)}static max(){return new Br(le.max(),Q.empty(),-1)}}function kC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==YV)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new fn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Eh(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=NC(r.target.error);this.V.reject(new Eh(e,i))}}static open(e,n,r,i){try{return new yv(n,e.transaction(i,r))}catch(s){throw new Eh(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Eee(n)}}class Ii{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ii.S(xt())===12.2&&zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!rf())return!1;if(Ii.C())return!0;const e=xt(),n=Ii.S(e),r=0<n&&n<10,i=Ii.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=lee)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Eh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new L(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Eh(e,o))},i.onupgradeneeded=s=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=yv.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),P.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(F("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class wee{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ba(this.k.delete())}}class Eh extends L{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function sa(t){return t.name==="IndexedDbTransactionError"}class Eee{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(F("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ba(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next(n=>(n===void 0&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),ba(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new P((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new P((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){F("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new P((r,i)=>{n.onerror=s=>{const o=NC(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new P((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new wee(a),u=n(a.primaryKey,a.value,l);if(u instanceof P){const c=u.catch(d=>(l.done(),P.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>P.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ba(t){return new P((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=NC(r.target.error);n(i)}})}let XA=!1;function NC(t){const e=Ii.S(xt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XA||(XA=!0,setTimeout(()=>{throw r},0)),r}}return t}class Tee{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){F("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{F("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){sa(n)?F("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await ia(n)}await this.ee(6e4)})}}class Iee{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return P.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return F("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(F("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=QV(s);kC(o,r)>0&&(r=o)}),new Br(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}lr._e=-1;function xp(t){return t==null}function Of(t){return t===0&&1/t==-1/0}function JV(t){return typeof t=="number"&&Number.isInteger(t)&&!Of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JA(e)),e=bee(t.get(n),e);return JA(e)}function bee(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function JA(t){return t+""}function Xi(t){const e=t.length;if(oe(e>=2),e===2)return oe(t.charAt(0)===""&&t.charAt(1)===""),je.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&ee(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ee()}s=o+2}return new je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){return[t,Jn(e)]}function ZV(t,e,n){return[t,Jn(e),n]}const See={},Cee=["prefixPath","collectionGroup","readTime","documentId"],Ree=["prefixPath","collectionGroup","documentId"],xee=["collectionGroup","readTime","prefixPath","documentId"],Pee=["canonicalId","targetId"],Aee=["targetId","path"],kee=["path","targetId"],Nee=["collectionId","parent"],Oee=["indexId","uid"],Dee=["uid","sequenceNumber"],Mee=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lee=["indexId","uid","orderedDocumentKey"],Fee=["userId","collectionPath","documentId"],$ee=["userId","collectionPath","largestBatchId"],Vee=["userId","collectionGroup","largestBatchId"],eU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uee=[...eU,"documentOverlays"],tU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nU=tU,Bee=[...nU,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends XV{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function yn(t,e){const n=X(t);return Ii.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ml(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Am(this.root,e,this.comparator,!1)}getReverseIterator(){return new Am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Am(this.root,e,this.comparator,!0)}}class Am{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bn.RED,this.left=i??bn.EMPTY,this.right=s??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tk(this.data.getIterator())}getIteratorFrom(e){return new tk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class tk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new ur([])}unionWith(e){let n=new nt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jee(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iU("Invalid base64 string: "+s):s}}(e);return new sn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const zee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bo(t){if(oe(!!t),typeof t=="string"){let e=0;const n=zee.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jo(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function OC(t){const e=t.mapValue.fields.__previous_value__;return _v(e)?OC(e):e}function Df(t){const e=Bo(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cg={nullValue:"NULL_VALUE"};function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_v(t)?4:sU(t)?9007199254740991:10:ee()}function as(t,e){if(t===e)return!0;const n=fl(t);if(n!==fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Df(t).isEqual(Df(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bo(i.timestampValue),a=Bo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return jo(i.bytesValue).isEqual(jo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ot(i.geoPointValue.latitude)===Ot(s.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ot(i.integerValue)===Ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ot(i.doubleValue),a=Ot(s.doubleValue);return o===a?Of(o)===Of(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ek(o)!==ek(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!as(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function Mf(t,e){return(t.values||[]).find(n=>as(n,e))!==void 0}function Wo(t,e){if(t===e)return 0;const n=fl(t),r=fl(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ot(s.integerValue||s.doubleValue),l=Ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return nk(t.timestampValue,e.timestampValue);case 4:return nk(Df(t),Df(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){const a=jo(s),l=jo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ie(a[u],l[u]);if(c!==0)return c}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ie(Ot(s.latitude),Ot(o.latitude));return a!==0?a:Ie(Ot(s.longitude),Ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Wo(a[u],l[u]);if(c)return c}return Ie(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ho.mapValue&&o===ho.mapValue)return 0;if(s===ho.mapValue)return 1;if(o===ho.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ie(l[d],c[d]);if(h!==0)return h;const f=Wo(a[l[d]],u[c[d]]);if(f!==0)return f}return Ie(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ee()}}function nk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Bo(t),r=Bo(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function fc(t){return eI(t)}function eI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=eI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${eI(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function pl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tI(t){return!!t&&"integerValue"in t}function Lf(t){return!!t&&"arrayValue"in t}function rk(t){return!!t&&"nullValue"in t}function ik(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dg(t){return!!t&&"mapValue"in t}function Th(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ml(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Th(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Th(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function qee(t){return"nullValue"in t?cg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?pl(zo.empty(),Q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ee()}function Hee(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?pl(zo.empty(),Q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ho:ee()}function sk(t,e){const n=Wo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function ok(t,e){const n=Wo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Th(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Th(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());dg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ml(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rn(Th(this.value))}}function oU(t){const e=[];return Ml(t.fields,(n,r)=>{const i=new wt([n]);if(dg(r)){const s=oU(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,le.min(),le.min(),le.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new pt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new pt(e,2,n,le.min(),le.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,le.min(),le.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.position=e,this.inclusive=n}}function ak(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Wo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n="asc"){this.field=e,this.dir=n}}function Gee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{}class Oe extends aU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Kee(e,n,r):n==="array-contains"?new Xee(e,r):n==="in"?new fU(e,r):n==="not-in"?new Jee(e,r):n==="array-contains-any"?new Zee(e,r):new Oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qee(e,r):new Yee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wo(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Je extends aU{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Je(e,n)}matches(e){return pc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pc(t){return t.op==="and"}function nI(t){return t.op==="or"}function DC(t){return lU(t)&&pc(t)}function lU(t){for(const e of t.filters)if(e instanceof Je)return!1;return!0}function rI(t){if(t instanceof Oe)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(DC(t))return t.filters.map(e=>rI(e)).join(",");{const e=t.filters.map(n=>rI(n)).join(",");return`${t.op}(${e})`}}function uU(t,e){return t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.field.isEqual(i.field)&&as(r.value,i.value)}(t,e):t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&uU(o,i.filters[a]),!0):!1}(t,e):void ee()}function cU(t,e){const n=t.filters.concat(e);return Je.create(n,t.op)}function dU(t){return t instanceof Oe?function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`}(t):t instanceof Je?function(n){return n.op.toString()+" {"+n.getFilters().map(dU).join(" ,")+"}"}(t):"Filter"}class Kee extends Oe{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class Qee extends Oe{constructor(e,n){super(e,"in",n),this.keys=hU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Yee extends Oe{constructor(e,n){super(e,"not-in",n),this.keys=hU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hU(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class Xee extends Oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lf(n)&&Mf(n.arrayValue,this.value)}}class fU extends Oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mf(this.value.arrayValue,n)}}class Jee extends Oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mf(this.value.arrayValue,n)}}class Zee extends Oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function iI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ete(t,e,n,r,i,s,o)}function ml(t){const e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fc(r)).join(",")),e.ce=n}return e.ce}function Pp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Gee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lk(t.startAt,e.startAt)&&lk(t.endAt,e.endAt)}function Py(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ay(t,e){return t.filters.filter(n=>n instanceof Oe&&n.field.isEqual(e))}function uk(t,e,n){let r=cg,i=!0;for(const s of Ay(t,e)){let o=cg,a=!0;switch(s.op){case"<":case"<=":o=qee(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=cg}sk({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];sk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function ck(t,e,n){let r=ho,i=!0;for(const s of Ay(t,e)){let o=ho,a=!0;switch(s.op){case">=":case">":o=Hee(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ho}ok({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];ok({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function pU(t,e,n,r,i,s,o,a){return new js(t,e,n,r,i,s,o,a)}function Gc(t){return new js(t)}function dk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MC(t){return t.collectionGroup!==null}function qu(t){const e=X(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ff(s,r))}),n.has(wt.keyField().canonicalString())||e.le.push(new Ff(wt.keyField(),r))}return e.le}function Zn(t){const e=X(t);return e.he||(e.he=tte(e,qu(t))),e.he}function tte(t,e){if(t.limitType==="F")return iI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ff(i.field,s)});const n=t.endAt?new qo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qo(t.startAt.position,t.startAt.inclusive):null;return iI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sI(t,e){const n=t.filters.concat([e]);return new js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ky(t,e,n){return new js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ap(t,e){return Pp(Zn(t),Zn(e))&&t.limitType===e.limitType}function mU(t){return`${ml(Zn(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dU(i)).join(", ")}]`),xp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fc(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function kp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=ak(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,qu(r),i)||r.endAt&&!function(o,a,l){const u=ak(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,qu(r),i))}(t,e)}function gU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yU(t){return(e,n)=>{let r=!1;for(const i of qu(t)){const s=nte(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nte(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Wo(l,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ml(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=new ut(Q.comparator);function cr(){return rte}const _U=new ut(Q.comparator);function Jd(...t){let e=_U;for(const n of t)e=e.insert(n.key,n);return e}function vU(t){let e=_U;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ji(){return Ih()}function wU(){return Ih()}function Ih(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const ite=new ut(Q.comparator),ste=new nt(Q.comparator);function be(...t){let e=ste;for(const n of t)e=e.add(n);return e}const ote=new nt(Ie);function LC(){return ote}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function TU(t){return{integerValue:""+t}}function IU(t,e){return JV(e)?TU(e):EU(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this._=void 0}}function ate(t,e,n){return t instanceof mc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_v(s)&&(s=OC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof gl?SU(t,e):t instanceof yl?CU(t,e):function(i,s){const o=bU(i,s),a=hk(o)+hk(i.Ie);return tI(o)&&tI(i.Ie)?TU(a):EU(i.serializer,a)}(t,e)}function lte(t,e,n){return t instanceof gl?SU(t,e):t instanceof yl?CU(t,e):n}function bU(t,e){return t instanceof gc?function(r){return tI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mc extends vv{}class gl extends vv{constructor(e){super(),this.elements=e}}function SU(t,e){const n=RU(e);for(const r of t.elements)n.some(i=>as(i,r))||n.push(r);return{arrayValue:{values:n}}}class yl extends vv{constructor(e){super(),this.elements=e}}function CU(t,e){let n=RU(e);for(const r of t.elements)n=n.filter(i=>!as(i,r));return{arrayValue:{values:n}}}class gc extends vv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function hk(t){return Ot(t.integerValue||t.doubleValue)}function RU(t){return Lf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.field=e,this.transform=n}}function ute(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gl&&i instanceof gl||r instanceof yl&&i instanceof yl?hc(r.elements,i.elements,as):r instanceof gc&&i instanceof gc?as(r.Ie,i.Ie):r instanceof mc&&i instanceof mc}(t.transform,e.transform)}class cte{constructor(e,n){this.version=e,this.transformResults=n}}class Et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Et}static exists(e){return new Et(void 0,e)}static updateTime(e){return new Et(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wv{}function xU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qc(t.key,Et.none()):new Kc(t.key,t.data,Et.none());{const n=t.data,r=Rn.empty();let i=new nt(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zs(t.key,r,new ur(i.toArray()),Et.none())}}function dte(t,e,n){t instanceof Kc?function(i,s,o){const a=i.value.clone(),l=pk(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(i,s,o){if(!hg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pk(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(PU(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bh(t,e,n,r){return t instanceof Kc?function(s,o,a,l){if(!hg(s.precondition,o))return a;const u=s.value.clone(),c=mk(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zs?function(s,o,a,l){if(!hg(s.precondition,o))return a;const u=mk(s.fieldTransforms,l,o),c=o.data;return c.setAll(PU(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return hg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bU(r.transform,i||null);s!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,s))}return n||null}function fk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hc(r,i,(s,o)=>ute(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends wv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zs extends wv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pk(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lte(o,a,n[i]))}return r}function mk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ate(s,o,e))}return r}class Qc extends wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FC extends wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dte(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=xU(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(n,r)=>fk(n,r))&&hc(this.baseMutations,e.baseMutations,(n,r)=>fk(n,r))}}class VC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=function(){return ite}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new VC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Be;function AU(t){switch(t){default:return ee();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function kU(t){if(t===void 0)return zt("GRPC error has no .code"),k.UNKNOWN;switch(t){case Gt.OK:return k.OK;case Gt.CANCELLED:return k.CANCELLED;case Gt.UNKNOWN:return k.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return k.INTERNAL;case Gt.UNAVAILABLE:return k.UNAVAILABLE;case Gt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Gt.NOT_FOUND:return k.NOT_FOUND;case Gt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Gt.ABORTED:return k.ABORTED;case Gt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Gt.DATA_LOSS:return k.DATA_LOSS;default:return ee()}}(Be=Gt||(Gt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte=new Wu([4294967295,4294967295],0);function gk(t){const e=NU().encode(t),n=new aee;return n.update(e),new Uint8Array(n.digest())}function yk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wu([n,r],0),new Wu([i,s],0)]}class BC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zd(`Invalid padding: ${n}`);if(r<0)throw new Zd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Wu.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Wu.fromNumber(r)));return i.compare(pte)===1&&(i=new Wu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=gk(e),[r,i]=yk(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new BC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=gk(e),[r,i]=yk(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Op(le.min(),i,new ut(Ie),cr(),be())}}class Dp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dp(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class OU{constructor(e,n){this.targetId=e,this.fe=n}}class DU{constructor(e,n,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _k{constructor(){this.ge=0,this.pe=wk(),this.ye=sn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=be(),n=be(),r=be();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Dp(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=wk()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class mte{constructor(e){this.Le=e,this.ke=new Map,this.qe=cr(),this.Qe=vk(),this.Ke=new ut(Ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Py(s))if(r===0){const o=new Q(s.path);this.We(n,o,pt.newNoDocument(o,le.min()))}else oe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=jo(r).toUint8Array()}catch(l){if(l instanceof iU)return Ni("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new BC(o,i,s)}catch(l){return Ni(l instanceof Zd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Py(a.target)){const l=new Q(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,pt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=be();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Op(e,n,this.Ke,this.qe,r);return this.qe=cr(),this.Qe=vk(),this.Ke=new ut(Ie),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new _k,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new nt(Ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new _k),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vk(){return new ut(Q.comparator)}function wk(){return new ut(Q.comparator)}const gte={asc:"ASCENDING",desc:"DESCENDING"},yte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_te={and:"AND",or:"OR"};class vte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oI(t,e){return t.useProto3Json||xp(e)?e:{value:e}}function yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wte(t,e){return yc(t,e.toTimestamp())}function Wt(t){return oe(!!t),le.fromTimestamp(function(n){const r=Bo(n);return new Tt(r.seconds,r.nanos)}(t))}function jC(t,e){return function(r){return new je(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function LU(t){const e=je.fromString(t);return oe(qU(e)),e}function $f(t,e){return jC(t.databaseId,e.path)}function ts(t,e){const n=LU(e);if(n.get(1)!==t.databaseId.projectId)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q($U(n))}function aI(t,e){return jC(t.databaseId,e)}function FU(t){const e=LU(t);return e.length===4?je.emptyPath():$U(e)}function Vf(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $U(t){return oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ek(t,e,n){return{name:$f(t,e),fields:n.value.mapValue.fields}}function VU(t,e,n){const r=ts(t,e.name),i=Wt(e.updateTime),s=e.createTime?Wt(e.createTime):le.min(),o=new Rn({mapValue:{fields:e.fields}}),a=pt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ete(t,e){return"found"in e?function(r,i){oe(!!i.found),i.found.name,i.found.updateTime;const s=ts(r,i.found.name),o=Wt(i.found.updateTime),a=i.found.createTime?Wt(i.found.createTime):le.min(),l=new Rn({mapValue:{fields:i.found.fields}});return pt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){oe(!!i.missing),oe(!!i.readTime);const s=ts(r,i.missing),o=Wt(i.readTime);return pt.newNoDocument(s,o)}(t,e):ee()}function Tte(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(oe(c===void 0||typeof c=="string"),sn.fromBase64String(c||"")):(oe(c===void 0||c instanceof Uint8Array),sn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?k.UNKNOWN:kU(u.code);return new L(c,u.message||"")}(o);n=new DU(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ts(t,r.document.name),s=Wt(r.document.updateTime),o=r.document.createTime?Wt(r.document.createTime):le.min(),a=new Rn({mapValue:{fields:r.document.fields}}),l=pt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ts(t,r.document),s=r.readTime?Wt(r.readTime):le.min(),o=pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new fg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ts(t,r.document),s=r.removedTargetIds||[];n=new fg([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new fte(i,s),a=r.targetId;n=new OU(a,o)}}return n}function Uf(t,e){let n;if(e instanceof Kc)n={update:Ek(t,e.key,e.value)};else if(e instanceof Qc)n={delete:$f(t,e.key)};else if(e instanceof zs)n={update:Ek(t,e.key,e.data),updateMask:xte(e.fieldMask)};else{if(!(e instanceof FC))return ee();n={verify:$f(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof mc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wte(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function lI(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Et.updateTime(Wt(s.updateTime)):s.exists!==void 0?Et.exists(s.exists):Et.none()}(e.currentDocument):Et.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)oe(a.setToServerValue==="REQUEST_TIME"),l=new mc;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new gl(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new yl(c)}else"increment"in a?l=new gc(o,a.increment):ee();const u=wt.fromServerFormat(a.fieldPath);return new Np(u,l)}(t,i)):[];if(e.update){e.update.name;const i=ts(t,e.update.name),s=new Rn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new ur(u.map(c=>wt.fromServerFormat(c)))}(e.updateMask);return new zs(i,s,o,n,r)}return new Kc(i,s,n,r)}if(e.delete){const i=ts(t,e.delete);return new Qc(i,n)}if(e.verify){const i=ts(t,e.verify);return new FC(i,n)}return ee()}function Ite(t,e){return t&&t.length>0?(oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Wt(i.updateTime):Wt(s);return o.isEqual(le.min())&&(o=Wt(s)),new cte(o,i.transformResults||[])}(n,e))):[]}function UU(t,e){return{documents:[aI(t,e.path)]}}function BU(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=aI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=aI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return WU(Je.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:du(d.field),direction:Ste(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=oI(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function jU(t){let e=FU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=zU(d);return h instanceof Je&&DC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new Ff(hu(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,xp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new qo(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new qo(f,h)}(n.endAt)),pU(e,i,o,s,a,"F",l,u)}function bte(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hu(n.unaryFilter.field);return Oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hu(n.unaryFilter.field);return Oe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hu(n.unaryFilter.field);return Oe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Oe.create(hu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Je.create(n.compositeFilter.filters.map(r=>zU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function Ste(t){return gte[t]}function Cte(t){return yte[t]}function Rte(t){return _te[t]}function du(t){return{fieldPath:t.canonicalString()}}function hu(t){return wt.fromServerFormat(t.fieldPath)}function WU(t){return t instanceof Oe?function(n){if(n.op==="=="){if(ik(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NAN"}};if(rk(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ik(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NAN"}};if(rk(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(n.field),op:Cte(n.op),value:n.value}}}(t):t instanceof Je?function(n){const r=n.getFilters().map(i=>WU(i));return r.length===1?r[0]:{compositeFilter:{op:Rte(n.op),filters:r}}}(t):ee()}function xte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i,s=le.min(),o=le.min(),a=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.ut=e}}function Pte(t,e){let n;if(e.document)n=VU(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Q.fromSegments(e.noDocument.path),i=vl(e.noDocument.readTime);n=pt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee();{const r=Q.fromSegments(e.unknownDocument.path),i=vl(e.unknownDocument.version);n=pt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Tt(i[0],i[1]);return le.fromTimestamp(s)}(e.readTime)),n}function Tk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ny(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:$f(s,o.key),fields:o.data.value.mapValue.fields,updateTime:yc(s,o.version.toTimestamp()),createTime:yc(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_l(e.version)};else{if(!e.isUnknownDocument())return ee();r.unknownDocument={path:n.path.toArray(),version:_l(e.version)}}return r}function Ny(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function _l(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vl(t){const e=new Tt(t.seconds,t.nanoseconds);return le.fromTimestamp(e)}function Sa(t,e){const n=(e.baseMutations||[]).map(s=>lI(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>lI(t.ut,s)),i=Tt.fromMillis(e.localWriteTimeMs);return new $C(e.batchId,i,n,r)}function eh(t){const e=vl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?vl(t.lastLimboFreeSnapshotVersion):le.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return oe(s.documents.length===1),Zn(Gc(FU(s.documents[0])))}(t.query):function(s){return Zn(jU(s))}(t.query),new Is(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,sn.fromBase64String(t.resumeToken))}function GU(t,e){const n=_l(e.snapshotVersion),r=_l(e.lastLimboFreeSnapshotVersion);let i;i=Py(e.target)?UU(t.ut,e.target):BU(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ml(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zC(t){const e=jU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ky(e,e.limit,"L"):e}function qw(t,e){return new UC(e.largestBatchId,lI(t.ut,e.overlayMutation))}function Ik(t,e){const n=e.path.lastSegment();return[t,Jn(e.path.popLast()),n]}function bk(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:_l(r.readTime),documentKey:Jn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{getBundleMetadata(e,n){return Sk(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:vl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return Sk(e).put(function(i){return{bundleId:i.id,createTime:_l(Wt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return Ck(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:zC(s.bundledQuery),readTime:vl(s.readTime)}}(r)})}saveNamedQuery(e,n){return Ck(e).put(function(i){return{name:i.name,readTime:_l(Wt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function Sk(t){return yn(t,"bundles")}function Ck(t){return yn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new Ev(e,r)}getOverlay(e,n){return Rd(e).get(Ik(this.userId,n)).next(r=>r?qw(this.serializer,r):null)}getOverlays(e,n){const r=Ji();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new UC(n,o);i.push(this.lt(e,a))}),P.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Jn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Rd(e).H("collectionPathOverlayIndex",a))}),P.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ji(),s=Jn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Rd(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=qw(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Ji();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Rd(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=qw(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}lt(e,n){return Rd(e).put(function(i,s,o){const[a,l,u]=Ik(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Uf(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function Rd(t){return yn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ot(e.integerValue));else if("doubleValue"in e){const r=Ot(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Of(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(jo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?sU(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):ee()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),Q.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Ca.St=new Ca;function kte(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Rk(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=kte(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Nte{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=Rk(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=Rk(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Ote{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Dte{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class xd{constructor(){this.Wt=new Nte,this.Gt=new Ote(this.Wt),this.zt=new Dte(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ra(this.indexId,this.documentKey,this.arrayValue,r)}}function Qs(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=xk(t.arrayValue,e.arrayValue),n!==0?n:(n=xk(t.directionalValue,e.directionalValue),n!==0?n:Q.comparator(t.documentKey,e.documentKey)))}function xk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.Jt=new nt((n,r)=>wt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(oe(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=JT(e);if(n!==void 0&&!this.tn(n))return!1;const r=va(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new nt(wt.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new lg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new lg(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new lg(r.field,r.dir==="asc"?0:1)));return new xy(xy.UNKNOWN_ID,this.collectionId,n,Nf.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){var e,n;if(oe(t instanceof Oe||t instanceof Je),t instanceof Oe){if(t instanceof fU){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Oe.create(t.field,"==",s)))||[];return Je.create(i,"or")}return t}const r=t.filters.map(i=>KU(i));return Je.create(r,t.op)}function Mte(t){if(t.getFilters().length===0)return[];const e=dI(KU(t));return oe(QU(e)),uI(e)||cI(e)?[e]:e.getFilters()}function uI(t){return t instanceof Oe}function cI(t){return t instanceof Je&&DC(t)}function QU(t){return uI(t)||cI(t)||function(n){if(n instanceof Je&&nI(n)){for(const r of n.getFilters())if(!uI(r)&&!cI(r))return!1;return!0}return!1}(t)}function dI(t){if(oe(t instanceof Oe||t instanceof Je),t instanceof Oe)return t;if(t.filters.length===1)return dI(t.filters[0]);const e=t.filters.map(r=>dI(r));let n=Je.create(e,t.op);return n=Oy(n),QU(n)?n:(oe(n instanceof Je),oe(pc(n)),oe(n.filters.length>1),n.filters.reduce((r,i)=>WC(r,i)))}function WC(t,e){let n;return oe(t instanceof Oe||t instanceof Je),oe(e instanceof Oe||e instanceof Je),n=t instanceof Oe?e instanceof Oe?function(i,s){return Je.create([i,s],"and")}(t,e):Ak(t,e):e instanceof Oe?Ak(e,t):function(i,s){if(oe(i.filters.length>0&&s.filters.length>0),pc(i)&&pc(s))return cU(i,s.getFilters());const o=nI(i)?i:s,a=nI(i)?s:i,l=o.filters.map(u=>WC(u,a));return Je.create(l,"or")}(t,e),Oy(n)}function Ak(t,e){if(pc(e))return cU(e,t.getFilters());{const n=e.filters.map(r=>WC(t,r));return Je.create(n,"or")}}function Oy(t){if(oe(t instanceof Oe||t instanceof Je),t instanceof Oe)return t;const e=t.getFilters();if(e.length===1)return Oy(e[0]);if(lU(t))return t;const n=e.map(i=>Oy(i)),r=[];return n.forEach(i=>{i instanceof Oe?r.push(i):i instanceof Je&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Je.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(){this.on=new qC}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Br.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class qC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new Uint8Array(0);class Fte{constructor(e,n){this.user=e,this.databaseId=n,this._n=new qC,this.an=new oa(r=>ml(r),(r,i)=>Pp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:Jn(i)};return kk(e).put(s)}return P.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[GV(n),""],!1,!0);return kk(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Xi(o.parent))}return r})}addFieldIndex(e,n){const r=Pd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=eu(e);return s.next(a=>{o.put(bk(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Pd(e),i=eu(e),s=Zl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Pd(e),r=Zl(e),i=eu(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return P.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new Pk(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Zl(e);let i=!0;const s=new Map;return P.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=be();const a=[];return P.forEach(s,(l,u)=>{F("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(l)} to execute ${ml(n)}`);const c=function(_,w){const I=JT(w);if(I===void 0)return null;for(const b of Ay(_,I.fieldPath))switch(b.op){case"array-contains-any":return b.value.arrayValue.values||[];case"array-contains":return[b.value]}return null}(u,l),d=function(_,w){const I=new Map;for(const b of va(w))for(const T of Ay(_,b.fieldPath))switch(T.op){case"==":case"in":I.set(b.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return I.set(b.fieldPath.canonicalString(),T.value),Array.from(I.values())}return null}(u,l),h=function(_,w){const I=[];let b=!0;for(const T of va(w)){const x=T.kind===0?uk(_,T.fieldPath,_.startAt):ck(_,T.fieldPath,_.startAt);I.push(x.value),b&&(b=x.inclusive)}return new qo(I,b)}(u,l),f=function(_,w){const I=[];let b=!0;for(const T of va(w)){const x=T.kind===0?ck(_,T.fieldPath,_.endAt):uk(_,T.fieldPath,_.endAt);I.push(x.value),b&&(b=x.inclusive)}return new qo(I,b)}(u,l),p=this.ln(l,u,h),g=this.ln(l,u,f),v=this.hn(l,u,d),m=this.Pn(l.indexId,c,p,h.inclusive,g,f.inclusive,v);return P.forEach(m,y=>r.j(y,n.limit).next(_=>{_.forEach(w=>{const I=Q.fromSegments(w.documentKey);o.has(I)||(o=o.add(I),a.push(I))})}))}).next(()=>a)}return P.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=Mte(Je.create(e.filters,"and")).map(r=>iI(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.In(n[d/u]):km,f=this.Tn(e,h,r[d%u],i),p=this.En(e,h,s[d%u],o),g=a.map(v=>this.Tn(e,h,v,!0));c.push(...this.createRange(f,p,g))}return c}Tn(e,n,r,i){const s=new Ra(e,Q.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new Ra(e,Q.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new Pk(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return P.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new nt(wt.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new xd;for(const i of va(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);Ca.St.ht(s,o)}return r.Ut()}In(e){const n=new xd;return Ca.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new xd;return Ca.St.ht(pl(this.databaseId,n),r.jt(function(s){const o=va(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new xd);let s=0;for(const o of va(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&Lf(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);Ca.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new xd;l.seed(a.Ut()),Ca.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof Oe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Pd(e),i=eu(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return P.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new Nf(d.sequenceNumber,new Br(vl(d.readTime),new Q(Xi(d.documentKey)),d.largestBatchId)):Nf.empty(),f=c.fields.map(([p,g])=>new lg(wt.fromServerFormat(p),g));return new xy(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ie(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Pd(e),s=eu(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>P.forEach(a,l=>s.put(bk(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return P.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?P.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),P.forEach(a,l=>this.gn(e,i,l).next(u=>{const c=this.pn(s,l);return u.isEqual(c)?P.resolve():this.yn(e,s,l,u,c)}))))})}wn(e,n,r,i){return Zl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Zl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Zl(e);let s=new nt(Qs);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new Ra(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new nt(Qs);const i=this.dn(n,e);if(i==null)return r;const s=JT(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Lf(o))for(const a of o.arrayValue.values||[])r=r.add(new Ra(n.indexId,e.key,this.In(a),i))}else r=r.add(new Ra(n.indexId,e.key,km,i));return r}yn(e,n,r,i,s){F("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),p=u.getIterator();let g=Jl(f),v=Jl(p);for(;g||v;){let m=!1,y=!1;if(g&&v){const _=c(g,v);_<0?y=!0:_>0&&(m=!0)}else g!=null?y=!0:m=!0;m?(d(v),v=Jl(p)):y?(h(g),g=Jl(f)):(g=Jl(f),v=Jl(p))}}(i,s,Qs,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),P.waitFor(o)}fn(e){let n=1;return eu(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Qs(o,a)).filter((o,a,l)=>!a||Qs(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Qs(o,e),l=Qs(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,km,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,km,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return Qs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Nk)}getMinOffset(e,n){return P.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||ee())).next(Nk)}}function kk(t){return yn(t,"collectionParents")}function Zl(t){return yn(t,"indexEntries")}function Pd(t){return yn(t,"indexConfiguration")}function eu(t){return yn(t,"indexState")}function Nk(t){oe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;kC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Br(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ir{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{oe(a===1)}));const u=[];for(const c of n.mutations){const d=ZV(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return P.waitFor(s).next(()=>u)}function Dy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ee();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class Tv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){oe(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Tv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=fu(e),o=Ys(e);return o.add({}).next(a=>{oe(typeof a=="number");const l=new $C(a,n,r,i),u=function(f,p,g){const v=g.baseMutations.map(y=>Uf(f.ut,y)),m=g.mutations.map(y=>Uf(f.ut,y));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:m}}(this.serializer,this.userId,l),c=[];let d=new nt((h,f)=>Ie(h.canonicalString(),f.canonicalString()));for(const h of i){const f=ZV(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,See))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),P.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Ys(e).get(n).next(r=>r?(oe(r.userId===this.userId),Sa(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?P.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ys(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(oe(a.batchId>=r),s=Sa(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ys(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).W("userMutationsIndex",n).next(r=>r.map(i=>Sa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ug(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return fu(e).Y({range:i},(o,a,l)=>{const[u,c,d]=o,h=Xi(c);if(u===this.userId&&n.path.isEqual(h))return Ys(e).get(d).next(f=>{if(!f)throw ee();oe(f.userId===this.userId),s.push(Sa(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(Ie);const i=[];return n.forEach(s=>{const o=ug(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=fu(e).Y({range:a},(u,c,d)=>{const[h,f,p]=u,g=Xi(f);h===this.userId&&s.path.isEqual(g)?r=r.add(p):d.done()});i.push(l)}),P.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=ug(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new nt(Ie);return fu(e).Y({range:o},(l,u,c)=>{const[d,h,f]=l,p=Xi(h);d===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):c.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ys(e).get(s).next(o=>{if(o===null)throw ee();oe(o.userId===this.userId),r.push(Sa(this.serializer,o))}))}),P.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return YU(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),P.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return P.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return fu(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Xi(s[1]);i.push(l)}else a.done()}).next(()=>{oe(i.length===0)})})}containsKey(e,n){return XU(e,this.userId,n)}Mn(e){return JU(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function XU(t,e,n){const r=ug(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return fu(t).Y({range:s,J:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Ys(t){return yn(t,"mutations")}function fu(t){return yn(t,"documentMutations")}function JU(t){return yn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new wl(0)}static Nn(){return new wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new wl(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>le.fromTimestamp(new Tt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>tu(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(oe(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return tu(e).Y((o,a)=>{const l=eh(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>P.waitFor(s)).next(()=>i)}forEachTarget(e,n){return tu(e).Y((r,i)=>{const s=eh(i);n(s)})}Bn(e){return Dk(e).get("targetGlobalKey").next(n=>(oe(n!==null),n))}Ln(e,n){return Dk(e).put("targetGlobalKey",n)}kn(e,n){return tu(e).put(GU(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ml(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return tu(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=eh(a);Pp(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=so(e);return n.forEach(o=>{const a=Jn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),P.waitFor(i)}removeMatchingKeys(e,n,r){const i=so(e);return P.forEach(n,s=>{const o=Jn(s.path);return P.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=so(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=so(e);let s=be();return i.Y({range:r,J:!0},(o,a,l)=>{const u=Xi(o[1]),c=new Q(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Jn(n.path),i=IDBKeyRange.bound([r],[GV(r)],!1,!0);let s=0;return so(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return tu(e).get(n).next(r=>r?eh(r):null)}}function tu(t){return yn(t,"targets")}function Dk(t){return yn(t,"targetGlobal")}function so(t){return yn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk([t,e],[n,r]){const i=Ie(t,n);return i===0?Ie(e,r):i}class Vte{constructor(e){this.Qn=e,this.buffer=new nt(Mk),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Mk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ute{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sa(n)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ia(n)}await this.Gn(3e5)})}}class Bte{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(lr._e);const r=new Vte(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(Ok)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ok):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),uu()<=Ce.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function jte(t,e){return new Bte(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e,n){this.db=e,this.garbageCollector=jte(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return Nm(e,r)}removeReference(e,n,r){return Nm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Nm(e,n)}Xn(e,n){return function(i,s){let o=!1;return JU(i).Z(a=>XU(i,a,s).next(l=>(l&&(o=!0),P.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,le.min()),so(e).delete(function(d){return[0,Jn(d.path)]}(o))))});i.push(l)}}).next(()=>P.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Nm(e,n)}Zn(e,n){const r=so(e);let i,s=lr._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==lr._e&&n(new Q(Xi(i)),s),s=u,i=l):s=lr._e}).next(()=>{s!==lr._e&&n(new Q(Xi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nm(t,e){return so(t).put(function(r,i){return{targetId:0,path:Jn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ca(e).put(r)}removeEntry(e,n,r){return ca(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Ny(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=pt.newInvalidDocument(n);return ca(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:pt.newInvalidDocument(n)};return ca(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(n))},(i,s)=>{r={document:this.tr(n,s),size:Dy(s)}}).next(()=>r)}getEntries(e,n){let r=cr();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=cr(),i=new ut(Q.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Dy(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return P.resolve();let i=new nt($k);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Ad(i.first()),Ad(i.last())),o=i.getIterator();let a=o.getNext();return ca(e).Y({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=Q.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&$k(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.U(Ad(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Ny(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ca(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=cr();for(const d of u){const h=this.tr(Q.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(kp(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=cr();const o=Fk(n,r),a=Fk(n,Br.max());return ca(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.tr(Q.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new qte(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Lk(e).get("remoteDocumentGlobalKey").next(n=>(oe(!!n),n))}er(e,n){return Lk(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=Pte(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(le.min())))return r}return pt.newInvalidDocument(e)}}function eB(t){return new Wte(t)}class qte extends ZU{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new oa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new nt((s,o)=>Ie(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=Tk(this._r.serializer,o);i=i.add(s.path.popLast());const u=Dy(l);r+=u-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=Tk(this._r.serializer,o.convertToNoDocument(le.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),P.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function Lk(t){return yn(t,"remoteDocumentGlobal")}function ca(t){return yn(t,"remoteDocumentsV14")}function Ad(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Fk(t,e){const n=e.documentKey.path.toArray();return[t,Ny(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function $k(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ie(n[s],r[s]),i)return i;return i=Ie(n.length,r.length),i||(i=Ie(n[n.length-2],r[r.length-2]),i||Ie(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bh(r.mutation,i,ur.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Jd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=cr();const o=Ih(),a=function(){return Ih()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof zs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),bh(c.mutation,u,c.mutation.getFieldMask(),Tt.now())):o.set(u.key,ur.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Hte(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ih();let i=new ut((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ur.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||be()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=wU();c.forEach(h=>{if(!s.has(h)){const f=xU(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Ji());let a=-1,l=s;return o.next(u=>P.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,be())).next(c=>({batchId:a,changes:vU(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Jd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Jd();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,l=>{const u=function(d,h){return new js(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,pt.newInvalidDocument(c)))});let a=Jd();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&bh(c.mutation,u,ur.empty(),Tt.now()),kp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wt(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:zC(i.bundledQuery),readTime:Wt(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(){this.overlays=new ut(Q.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ji();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Ji(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ji(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ji(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UC(n,r));let s=this.lr.get(n);s===void 0&&(s=be(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.hr=new nt(ln.Pr),this.Ir=new nt(ln.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ln(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ln(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new Q(new je([])),r=new ln(n,e),i=new ln(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Q(new je([])),r=new ln(n,e),i=new ln(n,e+1);let s=be();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ln(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Q.comparator(e.key,n.key)||Ie(e.gr,n.gr)}static Tr(e,n){return Ie(e.gr,n.gr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new nt(ln.Pr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $C(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ln(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),i=new ln(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(Ie);return n.forEach(i=>{const s=new ln(i,0),o=new ln(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),P.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new ln(new Q(s),0);let a=new nt(Ie);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){oe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return P.forEach(n.mutations,i=>{const s=new ln(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ln(n,0),i=this.yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e){this.Cr=e,this.docs=function(){return new ut(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cr();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kC(QV(c),r)<=0||(i.has(c.key)||kp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Xte(this)}getSize(e){return P.resolve(this.size)}}class Xte extends ZU{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e){this.persistence=e,this.Fr=new oa(n=>ml(n),Pp),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new HC,this.targetCount=0,this.Nr=wl.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n){this.Br={},this.overlays={},this.Lr=new lr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Jte(this),this.indexManager=new Lte,this.remoteDocumentCache=function(i){return new Yte(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new HU(n),this.Kr=new Gte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Kte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Qte(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);const i=new Zte(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Zte extends XV{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.Gr=new HC,this.zr=null}static jr(e){return new Iv(e)}get Hr(){if(this.zr)return this.zr;throw ee()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,r=>{const i=Q.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(e){this.serializer=e}N(e,n,r,i){const s=new yv("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZA,{unique:!0}),l.createObjectStore("documentMutations")}(e),Vk(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=P.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),Vk(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:le.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZA,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return P.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Fee});u.createIndex("collectionPathOverlayIndex",$ee,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Vee,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Cee});u.createIndex("documentKeyIndex",Ree),u.createIndex("collectionGroupIndex",xee)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Oee}).createIndex("sequenceNumberIndex",Dee,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Mee}).createIndex("documentKeyIndex",Lee,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Dy(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>P.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>P.forEach(a,l=>{oe(l.userId===s.userId);const u=Sa(this.serializer,l);return YU(e,s.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new je(o),u=function(d){return[0,Jn(d)]}(l);s.push(n.get(u).next(c=>c?P.resolve():(d=>n.put({targetId:0,path:Jn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>P.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Nee});const r=n.store("collectionParents"),i=new qC,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Jn(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new je(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const c=Xi(a);return s(c.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=eh(i),o=GU(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new Q(je.fromString(d.document.name).popFirst(5)):d.noDocument?Q.fromSegments(d.noDocument.path):d.unknownDocument?Q.fromSegments(d.unknownDocument.path):ee()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>P.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=eB(this.serializer),s=new nB(Iv.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:be();Sa(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),P.forEach(a,(l,u)=>{const c=new cn(u),d=Ev.ct(this.serializer,c),h=s.getIndexManager(c),f=Tv.ct(c,this.serializer,h,s.referenceDelegate);return new tB(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new ZT(n,lr._e),l).next()})})}}function Vk(t){t.createObjectStore("targetDocuments",{keyPath:Aee}).createIndex("documentTargetsIndex",kee,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pee,{unique:!0}),t.createObjectStore("targetGlobal")}const Hw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class GC{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=c,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!GC.D())throw new L(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zte(this,i),this.Ii=n+"main",this.serializer=new HU(l),this.Ti=new Ii(this.Ii,this.ai,new ene(this.serializer)),this.qr=new $te(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eB(this.serializer),this.Kr=new Ate,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,c===!1&&zt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(k.FAILED_PRECONDITION,Hw);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new lr(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Om(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(sa(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return kd(e).get("owner").next(n=>P.resolve(this.wi(n)))}Si(e){return Om(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=yn(n,"clientMetadata");return r.W().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return P.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?P.resolve(!0):kd(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new L(k.FAILED_PRECONDITION,Hw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Om(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&F("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new ZT(e,lr._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Om(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Tv.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Fte(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ev.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){F("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?Bee:l===14?nU:l===13?tU:l===12?Uee:l===11?eU:void ee()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new ZT(a,this.Lr?this.Lr.next():lr._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new L(k.FAILED_PRECONDITION,YV);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return kd(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new L(k.FAILED_PRECONDITION,Hw)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kd(e).put("owner",n)}static D(){return Ii.D()}pi(e){const n=kd(e);return n.get("owner").next(r=>this.wi(r)?(F("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):P.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(zt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;j9()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){zt("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kd(t){return yn(t,"owner")}function Om(t){return yn(t,"clientMetadata")}function KC(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new QC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new tne;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(uu()<=Ce.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(uu()<=Ce.DEBUG&&F("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(uu()<=Ce.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):P.resolve())}zi(e,n){if(dk(n))return P.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ky(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,ky(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return dk(n)||i.isEqual(le.min())?P.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?P.resolve(null):(uu()<=Ce.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.Xi(e,o,n,KV(i,-1)).next(a=>a))})}Yi(e,n){let r=new nt(yU(e));return n.forEach((i,s)=>{kp(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return uu()<=Ce.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",cu(n)),this.Gi.getDocumentsMatchingQuery(e,n,Br.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ut(Ie),this.ns=new oa(s=>ml(s),Pp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tB(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function iB(t,e,n,r){return new nne(t,e,n,r)}async function sB(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=be();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function rne(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=P.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const v=u.docVersions.get(p);oe(v!==null),g.version.compareTo(v)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oB(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function ine(t,e){const n=X(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(sn.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(g,v,m){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=cr(),u=be();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(aB(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(le.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function aB(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function sne(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _c(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function vc(t,e,n){const r=X(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!sa(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function My(t,e,n){const r=X(t);let i=le.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=X(l),h=d.ns.get(c);return h!==void 0?P.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:be())).next(a=>(cB(r,gU(e),a),{documents:a,ls:s})))}function lB(t,e){const n=X(t),r=X(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function uB(t,e){const n=X(t),r=n.rs.get(e)||le.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,KV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(cB(n,e,i),i))}function cB(t,e,n){let r=t.rs.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}async function one(t,e,n,r){const i=X(t);let s=be(),o=cr();for(const u of n){const c=e.hs(u.metadata.name);u.document&&(s=s.add(c));const d=e.Ps(u);d.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(c,d)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await _c(i,function(c){return Zn(Gc(je.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>aB(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.us,c.cs)).next(()=>c.us)))}async function ane(t,e,n=be()){const r=await _c(t,Zn(zC(e.bundledQuery))),i=X(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Wt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(sn.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}function Uk(t,e){return`firestore_clients_${t}_${e}`}function Bk(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Gw(t,e){return`firestore_targets_${t}_${e}`}class Ly{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new L(i.error.code,i.error.message))),o?new Ly(e,n,i.state,s):(zt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new L(r.error.code,r.error.message))),s?new Sh(e,r.state,i):(zt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=LC();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=JV(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Fy(e,s):(zt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class YC{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new YC(n.clientId,n.onlineState):(zt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hI{constructor(){this.activeTargetIds=LC()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kw{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ut(Ie),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=Uk(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new hI),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const i=this.getItem(Uk(this.persistenceKey,r));if(i){const s=Fy.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Gw(this.persistenceKey,e));if(r){const i=Sh.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Gw(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return F("SharedClientState","READ",e,n),n}setItem(e,n){F("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(F("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(s){let o=lr._e;if(s!=null)try{const a=JSON.parse(s);oe(typeof a=="number"),o=a}catch(a){zt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==lr._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new Ly(this.currentUser,e,n,r),s=Bk(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=Bk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const i=Gw(this.persistenceKey,e),s=new Sh(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return Fy.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Ly.Ts(new cn(s),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Sh.Ts(i,n)}Ms(e){return YC.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=LC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class dB{constructor(){this.eo=new hI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new hI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm=null;function Qw(){return Dm===null?Dm=function(){return 268435456+Math.round(2147483648*Math.random())}():Dm++,"0x"+Dm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const une={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class dne extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Qw(),l=this.So(n,r);F("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(F("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ni("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=une[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Qw();return new Promise((o,a)=>{const l=new oee;l.setWithCredentials(!0),l.listenOnce(iee.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ww.NO_ERROR:const c=l.getResponseJson();F(Mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ww.TIMEOUT:F(Mn,`RPC '${e}' ${s} timed out`),a(new L(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ww.HTTP_ERROR:const d=l.getStatus();if(F(Mn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(m)>=0?m:k.UNKNOWN}(f.status);a(new L(p,f.message))}else a(new L(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(k.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{F(Mn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);F(Mn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=Qw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nee(),a=ree(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");F(Mn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new cne({co:v=>{f?F(Mn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(F(Mn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),F(Mn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},lo:()=>d.close()}),g=(v,m,y)=>{v.listen(m,_=>{try{y(_)}catch(w){setTimeout(()=>{throw w},0)}})};return g(d,Pm.EventType.OPEN,()=>{f||F(Mn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Pm.EventType.CLOSE,()=>{f||(f=!0,F(Mn,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,Pm.EventType.ERROR,v=>{f||(f=!0,Ni(Mn,`RPC '${e}' stream ${i} transport errored:`,v),p.Ro(new L(k.UNAVAILABLE,"The operation could not be completed")))}),g(d,Pm.EventType.MESSAGE,v=>{var m;if(!f){const y=v.data[0];oe(!!y);const _=y,w=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(w){F(Mn,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let b=function(O){const R=Gt[O];if(R!==void 0)return kU(R)}(I),T=w.message;b===void 0&&(b=k.INTERNAL,T="Unknown error status: "+I+" with message "+w.message),f=!0,p.Ro(new L(b,T)),d.close()}else F(Mn,`RPC '${e}' stream ${i} received:`,y),p.Vo(y)}}),g(a,see.STAT_EVENT,v=>{v.stat===QA.PROXY?F(Mn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===QA.NOPROXY&&F(Mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(){return typeof window<"u"?window:null}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){return new vte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new XC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(zt(n.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new L(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hne extends fB{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=Tte(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Wt(o.readTime):le.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Vf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Py(l)?{documents:UU(s,l)}:{query:BU(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MU(s,o.resumeToken);const u=oI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=yc(s,o.snapshotVersion.toTimestamp());const u=oI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=bte(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Vf(this.serializer),n.removeTarget=e,this.e_(n)}}class fne extends fB{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Ite(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.I_(r,n)}return oe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Vf(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Uf(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(k.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(k.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class mne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(zt(n),this.f_=!1):F("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{aa(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=X(l);u.C_.add(4),await Yc(u),u.M_.set("Unknown"),u.C_.delete(4),await Lp(u)}(this))})}),this.M_=new mne(r,i)}}async function Lp(t){if(aa(t))for(const e of t.v_)await e(!0)}async function Yc(t){for(const e of t.v_)await e(!1)}function bv(t,e){const n=X(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),eR(n)?ZC(n):Jc(n).Ho()&&JC(n,e))}function Bf(t,e){const n=X(t),r=Jc(n);n.D_.delete(e),r.Ho()&&pB(n,e),n.D_.size===0&&(r.Ho()?r.Zo():aa(n)&&n.M_.set("Unknown"))}function JC(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jc(t).u_(e)}function pB(t,e){t.x_.Oe(e),Jc(t).c_(e)}function ZC(t){t.x_=new mte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Jc(t).start(),t.M_.g_()}function eR(t){return aa(t)&&!Jc(t).jo()&&t.D_.size>0}function aa(t){return X(t).C_.size===0}function mB(t){t.x_=void 0}async function yne(t){t.D_.forEach((e,n)=>{JC(t,e)})}async function _ne(t,e){mB(t),eR(t)?(t.M_.w_(e),ZC(t)):t.M_.set("Unknown")}async function vne(t,e,n){if(t.M_.set("Online"),e instanceof DU&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $y(t,r)}else if(e instanceof fg?t.x_.$e(e):e instanceof OU?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(le.min()))try{const r=await oB(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(sn.EMPTY_BYTE_STRING,c.snapshotVersion)),pB(s,l);const d=new Is(c.target,l,u,c.sequenceNumber);JC(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){F("RemoteStore","Failed to raise snapshot:",r),await $y(t,r)}}async function $y(t,e,n){if(!sa(e))throw e;t.C_.add(1),await Yc(t),t.M_.set("Offline"),n||(n=()=>oB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Lp(t)})}function gB(t,e){return e().catch(n=>$y(t,n,e))}async function Xc(t){const e=X(t),n=Ho(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;wne(e);)try{const i=await sne(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,Ene(e,i)}catch(i){await $y(e,i)}yB(e)&&_B(e)}function wne(t){return aa(t)&&t.b_.length<10}function Ene(t,e){t.b_.push(e);const n=Ho(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function yB(t){return aa(t)&&!Ho(t).jo()&&t.b_.length>0}function _B(t){Ho(t).start()}async function Tne(t){Ho(t).E_()}async function Ine(t){const e=Ho(t);for(const n of t.b_)e.P_(n.mutations)}async function bne(t,e,n){const r=t.b_.shift(),i=VC.from(r,e,n);await gB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xc(t)}async function Sne(t,e){e&&Ho(t).h_&&await async function(r,i){if(function(o){return AU(o)&&o!==k.ABORTED}(i.code)){const s=r.b_.shift();Ho(r).Yo(),await gB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xc(r)}}(t,e),yB(t)&&_B(t)}async function zk(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const r=aa(n);n.C_.add(3),await Yc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Lp(n)}async function fI(t,e){const n=X(t);e?(n.C_.delete(2),await Lp(n)):e||(n.C_.add(2),await Yc(n),n.M_.set("Unknown"))}function Jc(t){return t.O_||(t.O_=function(n,r,i){const s=X(n);return s.A_(),new hne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:yne.bind(null,t),Io:_ne.bind(null,t),a_:vne.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),eR(t)?ZC(t):t.M_.set("Unknown")):(await t.O_.stop(),mB(t))})),t.O_}function Ho(t){return t.N_||(t.N_=function(n,r,i){const s=X(n);return s.A_(),new fne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Tne.bind(null,t),Io:Sne.bind(null,t),T_:Ine.bind(null,t),I_:bne.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Xc(t)):(await t.N_.stop(),t.b_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new tR(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zc(t,e){if(zt("AsyncQueue",`${e}: ${t}`),sa(t))return new L(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Jd(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Hu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.B_=new ut(Q.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ee():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wc(e,n,Hu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(){this.k_=void 0,this.listeners=[]}}class Rne{constructor(){this.queries=new oa(e=>mU(e),Ap),this.onlineState="Unknown",this.q_=new Set}}async function nR(t,e){const n=X(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Cne),i)try{s.k_=await n.onListen(r)}catch(o){const a=Zc(o,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&iR(n)}async function rR(t,e){const n=X(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function xne(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&iR(n)}function Pne(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function iR(t){t.q_.forEach(e=>{e.next()})}class sR{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.serializer=e}hs(e){return ts(this.serializer,e)}Ps(e){return e.metadata.exists?VU(this.serializer,e.document,!1):pt.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Wt(e)}}class kne{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vB(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=je.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new qk(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||be()).add(s);n.set(o,a)}}return n}async complete(){const e=await one(this.localStore,new qk(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await ane(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function vB(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.key=e}}class EB{constructor(e){this.key=e}}class TB{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=be(),this.mutatedKeys=be(),this._a=yU(e),this.aa=new Hu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Wk,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=kp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),v=!0):this.ha(h,f)||(r.track({type:2,doc:f}),v=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,d)=>function(f,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return g(f)-g(p)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new wc(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Wk,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=be(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new EB(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new wB(r))}),n}da(e){this.ia=e.ls,this.oa=be();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return wc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Nne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class One{constructor(e){this.key=e,this.Ra=!1}}class Dne{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new oa(a=>mU(a),Ap),this.fa=new Map,this.ga=new Set,this.pa=new ut(Q.comparator),this.ya=new Map,this.wa=new HC,this.Sa={},this.ba=new Map,this.Da=wl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Mne(t,e){const n=cR(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await _c(n.localStore,Zn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await oR(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&bv(n.remoteStore,o)}return i}async function oR(t,e,n,r,i){t.va=(d,h,f)=>async function(g,v,m,y){let _=v.view.ca(m);_.Zi&&(_=await My(g.localStore,v.query,!1).then(({documents:T})=>v.view.ca(T,_)));const w=y&&y.targetChanges.get(v.targetId),I=y&&y.targetMismatches.get(v.targetId)!=null,b=v.view.applyChanges(_,g.isPrimaryClient,w,I);return pI(g,v.targetId,b.Ta),b.snapshot}(t,d,h,f);const s=await My(t.localStore,e,!0),o=new TB(e,s.ls),a=o.ca(s.documents),l=Dp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);pI(t,n,u.Ta);const c=new Nne(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function Lne(t,e){const n=X(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Ap(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Bf(n.remoteStore,r.targetId),Ec(n,r.targetId)}).catch(ia)):(Ec(n,r.targetId),await vc(n.localStore,r.targetId,!0))}async function Fne(t,e,n){const r=dR(t);try{const i=await function(o,a){const l=X(o),u=Tt.now(),c=a.reduce((f,p)=>f.add(p.key),be());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=cr(),g=be();return l.ss.getEntries(f,c).next(v=>{p=v,p.forEach((m,y)=>{y.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(v=>{d=v;const m=[];for(const y of a){const _=hte(y,d.get(y.key).overlayedDocument);_!=null&&m.push(new zs(y.key,_,oU(_.value.mapValue),Et.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(v=>{h=v;const m=v.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,v.batchId,m)})}).then(()=>({batchId:h.batchId,changes:vU(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new ut(Ie)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ws(r,i.changes),await Xc(r.remoteStore)}catch(i){const s=Zc(i,"Failed to persist write");n.reject(s)}}async function IB(t,e){const n=X(t);try{const r=await ine(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?oe(o.Ra):i.removedDocuments.size>0&&(oe(o.Ra),o.Ra=!1))}),await Ws(n,r,e)}catch(r){await ia(r)}}function Hk(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=X(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&iR(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $ne(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new ut(Q.comparator);o=o.insert(s,pt.newNoDocument(s,le.min()));const a=be().add(s),l=new Op(le.min(),new Map,new ut(Ie),o,a);await IB(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),uR(r)}else await vc(r.localStore,e,!1).then(()=>Ec(r,e,n)).catch(ia)}async function Vne(t,e){const n=X(t),r=e.batch.batchId;try{const i=await rne(n.localStore,e);lR(n,r,null),aR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ws(n,i)}catch(i){await ia(i)}}async function Une(t,e,n){const r=X(t);try{const i=await function(o,a){const l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(oe(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);lR(r,e,n),aR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ws(r,i)}catch(i){await ia(i)}}async function Bne(t,e){const n=X(t);aa(n.remoteStore)||F("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=X(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Zc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function aR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function lR(t,e,n){const r=X(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Ec(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||bB(t,r)})}function bB(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(Bf(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),uR(t))}function pI(t,e,n){for(const r of n)r instanceof wB?(t.wa.addReference(r.key,e),jne(t,r)):r instanceof EB?(F("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||bB(t,r.key)):ee()}function jne(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(F("SyncEngine","New document in limbo: "+n),t.ga.add(r),uR(t))}function uR(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Q(je.fromString(e)),r=t.Da.next();t.ya.set(r,new One(n)),t.pa=t.pa.insert(n,r),bv(t.remoteStore,new Is(Zn(Gc(n.path)),r,"TargetPurposeLimboResolution",lr._e))}}async function Ws(t,e,n){const r=X(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=QC.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=X(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>P.forEach(u,h=>P.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>P.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!sa(d))throw d;F("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(h,g)}}}(r.localStore,s))}async function zne(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const r=await sB(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new L(k.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ws(n,r._s)}}function Wne(t,e){const n=X(t),r=n.ya.get(e);if(r&&r.Ra)return be().add(r.key);{let i=be();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}async function qne(t,e){const n=X(t),r=await My(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&pI(n,e.targetId,i.Ta),i}async function Hne(t,e){const n=X(t);return uB(n.localStore,e).then(r=>Ws(n,r))}async function Gne(t,e,n,r){const i=X(t),s=await function(a,l){const u=X(a),c=X(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Cn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):P.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Xc(i.remoteStore):n==="acknowledged"||n==="rejected"?(lR(i,e,r||null),aR(i,e),function(a,l){X(X(a).mutationQueue).Fn(l)}(i.localStore,e)):ee(),await Ws(i,s)):F("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Kne(t,e){const n=X(t);if(cR(n),dR(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await Gk(n,r.toArray());n.Ca=!0,await fI(n.remoteStore,!0);for(const s of i)bv(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ec(n,o),vc(n.localStore,o,!0))),Bf(n.remoteStore,o)}),await i,await Gk(n,r),function(o){const a=X(o);a.ya.forEach((l,u)=>{Bf(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new ut(Q.comparator)}(n),n.Ca=!1,await fI(n.remoteStore,!1)}}async function Gk(t,e,n){const r=X(t),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&l.length!==0){a=await _c(r.localStore,Zn(l[0]));for(const u of l){const c=r.ma.get(u),d=await qne(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await lB(r.localStore,o);a=await _c(r.localStore,u),await oR(r,SB(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}function SB(t){return pU(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qne(t){return function(n){return X(X(n).persistence).Bi()}(X(t).localStore)}async function Yne(t,e,n,r){const i=X(t);if(i.Ca)return void F("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await uB(i.localStore,gU(s[0])),a=Op.createSynthesizedRemoteEventForCurrentChange(e,n==="current",sn.EMPTY_BYTE_STRING);await Ws(i,o,a);break}case"rejected":await vc(i.localStore,e,!0),Ec(i,e,r);break;default:ee()}}async function Xne(t,e,n){const r=cR(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){F("SyncEngine","Adding an already active target "+i);continue}const s=await lB(r.localStore,i),o=await _c(r.localStore,s);await oR(r,SB(s),o.targetId,!1,o.resumeToken),bv(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&await vc(r.localStore,i,!1).then(()=>{Bf(r.remoteStore,i),Ec(r,i)}).catch(ia)}}function cR(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$ne.bind(null,e),e.Va.a_=xne.bind(null,e.eventManager),e.Va.Fa=Pne.bind(null,e.eventManager),e}function dR(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Une.bind(null,e),e}function Jne(t,e,n){const r=X(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,p){const g=X(f),v=Wt(p.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",m=>g.Kr.getBundleMetadata(m,p.id)).then(m=>!!m&&m.createTime.compareTo(v)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(vB(l));const u=new kne(l,s.localStore,o.serializer);let c=await o.Ma();for(;c;){const h=await u.ea(c);h&&a._updateProgress(h),c=await o.Ma()}const d=await u.complete();return await Ws(s,d.ra,void 0),await function(f,p){const g=X(f);return g.persistence.runTransaction("Save bundle","readwrite",v=>g.Kr.saveBundleMetadata(v,p))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.na)}catch(l){return Ni("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class mI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Mp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return iB(this.persistence,new rB,e.initialUser,this.serializer)}createPersistence(e){return new nB(Iv.jr,this.serializer)}createSharedClientState(e){return new dB}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CB extends mI{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await dR(this.xa.syncEngine),await Xc(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return iB(this.persistence,new rB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Ute(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Iee(n,this.persistence);return new Tee(e.asyncQueue,r)}createPersistence(e){const n=KC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new GC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,hB(),pg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dB}}class Zne extends CB{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof Kw&&(this.sharedClientState.syncEngine={Ys:Gne.bind(null,n),Zs:Yne.bind(null,n),Xs:Xne.bind(null,n),Bi:Qne.bind(null,n),Js:Hne.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await Kne(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=hB();if(!Kw.D(n))throw new L(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=KC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class hR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zne.bind(null,this.syncEngine),await fI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rne}()}createDatastore(e){const n=Mp(e.databaseInfo.databaseId),r=function(s){return new dne(s)}(e.databaseInfo);return function(s,o,a,l){return new pne(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new gne(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Hk(this.syncEngine,n,0),function(){return jk.D()?new jk:new lne}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new Dne(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=X(n);F("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Yc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new fn,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const i=await this.Ka(r);return new Ane(JSON.parse(i),e.length+r)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=X(i),a=Vf(o.serializer)+"/documents",l={documents:s.map(h=>$f(o.serializer,h))},u=await o.Co("BatchGetDocuments",a,l,s.length),c=new Map;u.forEach(h=>{const f=Ete(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());oe(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=Q.fromPath(r);this.mutations.push(new FC(i,this.precondition(i)))}),await async function(r,i){const s=X(r),o=Vf(s.serializer)+"/documents",a={writes:i.map(l=>Uf(s.serializer,l))};await s.wo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ee();n=le.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new L(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(le.min())?Et.exists(!1):Et.updateTime(n):Et.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(le.min()))throw new L(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Et.updateTime(n)}return Et.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new XC(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new tre(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!xp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!AU(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=HV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{F("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mg(t,e){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sB(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fR(t);F("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>zk(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>zk(e.remoteStore,s)),t._onlineComponents=e}function RB(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function fR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{await mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!RB(n))throw n;Ni("Error using user provided cache. Falling back to memory cache: "+n),await mg(t,new mI)}}else F("FirestoreClient","Using default OfflineComponentProvider"),await mg(t,new mI);return t._offlineComponents}async function Cv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),await gI(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),await gI(t,new hR))),t._onlineComponents}function xB(t){return fR(t).then(e=>e.persistence)}function pR(t){return fR(t).then(e=>e.localStore)}function PB(t){return Cv(t).then(e=>e.remoteStore)}function mR(t){return Cv(t).then(e=>e.syncEngine)}function ire(t){return Cv(t).then(e=>e.datastore)}async function Tc(t){const e=await Cv(t),n=e.eventManager;return n.onListen=Mne.bind(null,e.syncEngine),n.onUnlisten=Lne.bind(null,e.syncEngine),n}function sre(t){return t.asyncQueue.enqueue(async()=>{const e=await xB(t),n=await PB(t);return e.setNetworkEnabled(!0),function(i){const s=X(i);return s.C_.delete(0),Lp(s)}(n)})}function ore(t){return t.asyncQueue.enqueue(async()=>{const e=await xB(t),n=await PB(t);return e.setNetworkEnabled(!1),async function(i){const s=X(i);s.C_.add(0),await Yc(s),s.M_.set("Offline")}(n)})}function are(t,e){const n=new fn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=X(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new L(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Zc(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await pR(t),e,n)),n.promise}function AB(t,e,n={}){const r=new fn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Sv({next:h=>{o.enqueueAndForget(()=>rR(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new L(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new L(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new sR(Gc(a.path),c,{includeMetadataChanges:!0,J_:!0});return nR(s,d)}(await Tc(t),t.asyncQueue,e,n,r)),r.promise}function lre(t,e){const n=new fn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await My(i,s,!0),l=new TB(s,a.ls),u=l.ca(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=Zc(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await pR(t),e,n)),n.promise}function kB(t,e,n={}){const r=new fn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Sv({next:h=>{o.enqueueAndForget(()=>rR(s,d)),h.fromCache&&l.source==="server"?u.reject(new L(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new sR(a,c,{includeMetadataChanges:!0,J_:!0});return nR(s,d)}(await Tc(t),t.asyncQueue,e,n,r)),r.promise}function ure(t,e){const n=new Sv(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.add(s),s.next()}(await Tc(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.delete(s)}(await Tc(t),n))}}function cre(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?NU().encode(o):o,function(c,d){return new ere(c,d)}(function(c,d){if(c instanceof Uint8Array)return Kk(c,d);if(c instanceof ArrayBuffer)return Kk(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Mp(e));t.asyncQueue.enqueueAndForget(async()=>{Jne(await mR(t),i,r)})}function dre(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=X(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(await pR(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e,n){if(!n)throw new L(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OB(t,e,n,r){if(e===!0&&r===!0)throw new L(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yk(t){if(!Q.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xk(t){if(Q.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function We(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rv(t);throw new L(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function DB(t,e){if(e<=0)throw new L(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NB((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jk(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dee;switch(r.type){case"firstParty":return new mee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qk.get(n);r&&(F("ComponentProvider","Removing Datastore"),Qk.delete(n),r.terminate())}(this),Promise.resolve()}}function hre(t,e,n,r={}){var i;const s=(t=We(t,Fp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=cn.MOCK_USER;else{a=Zb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new cn(u)}t._authCredentials=new hee(new qV(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er=class MB{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new MB(this.firestore,e,this._query)}},Ct=class LB{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new LB(this.firestore,e,this._key)}},Po=class FB extends er{constructor(e,n,r){super(e,n,Gc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Q(e))}withConverter(e){return new FB(this.firestore,e,this._path)}};function $B(t,e,...n){if(t=re(t),gR("collection","path",e),t instanceof Fp){const r=je.fromString(e,...n);return Xk(r),new Po(t,null,r)}{if(!(t instanceof Ct||t instanceof Po))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return Xk(r),new Po(t.firestore,null,r)}}function fre(t,e){if(t=We(t,Fp),gR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new er(t,null,function(r){return new js(je.emptyPath(),r)}(e))}function Vy(t,e,...n){if(t=re(t),arguments.length===1&&(e=HV.newId()),gR("doc","path",e),t instanceof Fp){const r=je.fromString(e,...n);return Yk(r),new Ct(t,null,new Q(r))}{if(!(t instanceof Ct||t instanceof Po))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return Yk(r),new Ct(t.firestore,t instanceof Po?t.converter:null,new Q(r))}}function VB(t,e){return t=re(t),e=re(e),(t instanceof Ct||t instanceof Po)&&(e instanceof Ct||e instanceof Po)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function UB(t,e){return t=re(t),e=re(e),t instanceof er&&e instanceof er&&t.firestore===e.firestore&&Ap(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new XC(this,"async_queue_retry"),this.iu=()=>{const n=pg();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=pg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new fn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!sa(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=tR.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ee()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function yI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class mre{constructor(){this._progressObserver={},this._taskCompletionResolver=new fn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gre=-1;let $t=class extends Fp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new pre}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BB(this),this._firestoreClient.terminate()}};function _n(t){return t._firestoreClient||BB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BB(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Wee(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,NB(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new rre(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function yre(t,e){zB(t=We(t,$t));const n=_n(t);if(n._uninitializedComponentsProvider)throw new L(k.FAILED_PRECONDITION,"SDK cache is already specified.");Ni("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new hR;return jB(n,i,new CB(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function _re(t){zB(t=We(t,$t));const e=_n(t);if(e._uninitializedComponentsProvider)throw new L(k.FAILED_PRECONDITION,"SDK cache is already specified.");Ni("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new hR;return jB(e,r,new Zne(r,n.cacheSizeBytes))}function jB(t,e,n){const r=new fn;return t.asyncQueue.enqueue(async()=>{try{await mg(t,n),await gI(t,e),r.resolve()}catch(i){const s=i;if(!RB(s))throw s;Ni("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function vre(t){if(t._initialized&&!t._terminated)throw new L(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ii.D())return Promise.resolve();const i=r+"main";await Ii.delete(i)}(KC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function wre(t){return function(n){const r=new fn;return n.asyncQueue.enqueueAndForget(async()=>Bne(await mR(n),r)),r.promise}(_n(t=We(t,$t)))}function Ere(t){return sre(_n(t=We(t,$t)))}function Tre(t){return ore(_n(t=We(t,$t)))}function Ire(t,e){const n=_n(t=We(t,$t)),r=new mre;return cre(n,t._databaseId,e,r),r}function bre(t,e){return dre(_n(t=We(t,$t)),e).then(n=>n?new er(t,null,n.query):null)}function zB(t){if(t._initialized||t._terminated)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(sn.fromBase64String(e))}catch(n){throw new L(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ls(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sre=/^__.*__$/;class Cre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class WB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Pv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Uy(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(qB(this.Iu)&&Sre.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Rre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mp(e)}pu(e,n,r,i=!1){return new Pv({Iu:e,methodName:n,gu:r,path:wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fl(t){const e=t._freezeSettings(),n=Mp(t._databaseId);return new Rre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Av(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);wR("Data must be an object, but it was:",o,r);const a=KB(r,o);let l,u;if(s.merge)l=new ur(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=_I(e,d,n);if(!o.contains(h))throw new L(k.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);YB(c,h)||c.push(h)}l=new ur(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Cre(new Rn(a),l,u)}class $p extends Ll{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $p}}function HB(t,e,n){return new Pv({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yR extends Ll{_toFieldTransform(e){return new Np(e.path,new mc)}isEqual(e){return e instanceof yR}}class xre extends Ll{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=HB(this,e,!0),r=this.yu.map(s=>$l(s,n)),i=new gl(r);return new Np(e.path,i)}isEqual(e){return this===e}}class Pre extends Ll{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=HB(this,e,!0),r=this.yu.map(s=>$l(s,n)),i=new yl(r);return new Np(e.path,i)}isEqual(e){return this===e}}class Are extends Ll{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new gc(e.serializer,IU(e.serializer,this.wu));return new Np(e.path,n)}isEqual(e){return this===e}}function _R(t,e,n,r){const i=t.pu(1,e,n);wR("Data must be an object, but it was:",i,r);const s=[],o=Rn.empty();Ml(r,(l,u)=>{const c=ER(e,l,n);u=re(u);const d=i.Ru(c);if(u instanceof $p)s.push(c);else{const h=$l(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new ur(s);return new WB(o,a,i.fieldTransforms)}function vR(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[_I(e,r,n)],l=[i];if(s.length%2!=0)throw new L(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(_I(e,s[h])),l.push(s[h+1]);const u=[],c=Rn.empty();for(let h=a.length-1;h>=0;--h)if(!YB(u,a[h])){const f=a[h];let p=l[h];p=re(p);const g=o.Ru(f);if(p instanceof $p)u.push(f);else{const v=$l(p,g);v!=null&&(u.push(f),c.set(f,v))}}const d=new ur(u);return new WB(c,d,o.fieldTransforms)}function GB(t,e,n,r=!1){return $l(n,t.pu(r?4:3,e))}function $l(t,e){if(QB(t=re(t)))return wR("Unsupported field value:",e,t),KB(t,e);if(t instanceof Ll)return function(r,i){if(!qB(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=$l(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Tt.fromDate(r);return{timestampValue:yc(i.serializer,s)}}if(r instanceof Tt){const s=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yc(i.serializer,s)}}if(r instanceof xv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ls)return{bytesValue:MU(i.serializer,r._byteString)};if(r instanceof Ct){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Rv(r)}`)}(t,e)}function KB(t,e){const n={};return rU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ml(t,(r,i)=>{const s=$l(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof xv||t instanceof ls||t instanceof Ct||t instanceof Ll)}function wR(t,e,n){if(!QB(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Rv(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function _I(t,e,n){if((e=re(e))instanceof Go)return e._internalPath;if(typeof e=="string")return ER(t,e);throw Uy("Field path arguments must be of type string or ",t,!1,void 0,n)}const kre=new RegExp("[~\\*/\\[\\]]");function ER(t,e,n){if(e.search(kre)>=0)throw Uy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Go(...e.split("."))._internalPath}catch{throw Uy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new L(k.INVALID_ARGUMENT,a+t+l)}function YB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nre extends jf{data(){return super.data()}}function kv(t,e){return typeof e=="string"?ER(t,e):e instanceof Go?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TR{}class Vp extends TR{}function Xs(t,e,...n){let r=[];e instanceof TR&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof IR).length,a=s.filter(l=>l instanceof Nv).length;if(o>1||o>0&&a>0)throw new L(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nv extends Vp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nv(e,n,r)}_apply(e){const n=this._parse(e);return ZB(e._query,n),new er(e.firestore,e.converter,sI(e._query,n))}_parse(e){const n=Fl(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new L(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){eN(d,c);const f=[];for(const p of d)f.push(Zk(l,s,p));h={arrayValue:{values:f}}}else h=Zk(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||eN(d,c),h=GB(a,o,d,c==="in"||c==="not-in");return Oe.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ore(t,e,n){const r=e,i=kv("where",t);return Nv._create(i,r,n)}class IR extends TR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new IR(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Je.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ZB(o,l),o=sI(o,l)}(e._query,n),new er(e.firestore,e.converter,sI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bR extends Vp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bR(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new L(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ff(s,o)}(e._query,this._field,this._direction);return new er(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new js(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Dre(t,e="asc"){const n=e,r=kv("orderBy",t);return bR._create(r,n)}class Ov extends Vp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ov(e,n,r)}_apply(e){return new er(e.firestore,e.converter,ky(e._query,this._limit,this._limitType))}}function Mre(t){return DB("limit",t),Ov._create("limit",t,"F")}function Lre(t){return DB("limitToLast",t),Ov._create("limitToLast",t,"L")}class Dv extends Vp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Dv(e,n,r)}_apply(e){const n=JB(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,s){return new js(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Fre(...t){return Dv._create("startAt",t,!0)}function $re(...t){return Dv._create("startAfter",t,!1)}class Mv extends Vp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Mv(e,n,r)}_apply(e){const n=JB(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,s){return new js(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function Vre(...t){return Mv._create("endBefore",t,!1)}function Ure(...t){return Mv._create("endAt",t,!0)}function JB(t,e,n,r){if(n[0]=re(n[0]),n[0]instanceof jf)return function(s,o,a,l,u){if(!l)throw new L(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of qu(s))if(d.field.isKeyField())c.push(pl(o,l.key));else{const h=l.data.field(d.field);if(_v(h))throw new L(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new L(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new qo(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Fl(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new L(k.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<c.length;p++){const g=c[p];if(h[p].field.isKeyField()){if(typeof g!="string")throw new L(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!MC(o)&&g.indexOf("/")!==-1)throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const v=o.path.child(je.fromString(g));if(!Q.isDocumentKey(v))throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const m=new Q(v);f.push(pl(a,m))}else{const v=GB(l,u,g);f.push(v)}}return new qo(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Zk(t,e,n){if(typeof(n=re(n))=="string"){if(n==="")throw new L(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MC(e)&&n.indexOf("/")!==-1)throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!Q.isDocumentKey(r))throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pl(t,new Q(r))}if(n instanceof Ct)return pl(t,n._key);throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rv(n)}.`)}function eN(t,e){if(!Array.isArray(t)||t.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZB(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SR{convertValue(e,n="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ml(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xv(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=OC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const n=Bo(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);oe(qU(r));const i=new zo(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||zt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Bre extends SR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ls=class extends jf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ch=class extends Ls{data(e={}){return super.data(e)}},Ko=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ch(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ch(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:jre(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function jre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function e4(t,e){return t instanceof Ls&&e instanceof Ls?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ko&&e instanceof Ko&&t._firestore===e._firestore&&UB(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zre(t){t=We(t,Ct);const e=We(t.firestore,$t);return AB(_n(e),t._key).then(n=>CR(e,t,n))}class Vl extends SR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function Wre(t){t=We(t,Ct);const e=We(t.firestore,$t),n=_n(e),r=new Vl(e);return are(n,t._key).then(i=>new Ls(e,r,t._key,i,new $a(i!==null&&i.hasLocalMutations,!0),t.converter))}function qre(t){t=We(t,Ct);const e=We(t.firestore,$t);return AB(_n(e),t._key,{source:"server"}).then(n=>CR(e,t,n))}function Hre(t){t=We(t,er);const e=We(t.firestore,$t),n=_n(e),r=new Vl(e);return XB(t._query),kB(n,t._query).then(i=>new Ko(e,r,t,i))}function Gre(t){t=We(t,er);const e=We(t.firestore,$t),n=_n(e),r=new Vl(e);return lre(n,t._query).then(i=>new Ko(e,r,t,i))}function Kre(t){t=We(t,er);const e=We(t.firestore,$t),n=_n(e),r=new Vl(e);return kB(n,t._query,{source:"server"}).then(i=>new Ko(e,r,t,i))}function tN(t,e,n){t=We(t,Ct);const r=We(t.firestore,$t),i=Lv(t.converter,e,n);return Up(r,[Av(Fl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Et.none())])}function nN(t,e,n,...r){t=We(t,Ct);const i=We(t.firestore,$t),s=Fl(i);let o;return o=typeof(e=re(e))=="string"||e instanceof Go?vR(s,"updateDoc",t._key,e,n,r):_R(s,"updateDoc",t._key,e),Up(i,[o.toMutation(t._key,Et.exists(!0))])}function Qre(t){return Up(We(t.firestore,$t),[new Qc(t._key,Et.none())])}function Yre(t,e){const n=We(t.firestore,$t),r=Vy(t),i=Lv(t.converter,e);return Up(n,[Av(Fl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Et.exists(!1))]).then(()=>r)}function t4(t,...e){var n,r,i;t=re(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||yI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(yI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Ct)u=We(t.firestore,$t),c=Gc(t._key.path),l={next:d=>{e[o]&&e[o](CR(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=We(t,er);u=We(d.firestore,$t),c=d._query;const h=new Vl(u);l={next:f=>{e[o]&&e[o](new Ko(u,h,d,f))},error:e[o+1],complete:e[o+2]},XB(t._query)}return function(h,f,p,g){const v=new Sv(g),m=new sR(f,v,p);return h.asyncQueue.enqueueAndForget(async()=>nR(await Tc(h),m)),()=>{v.Na(),h.asyncQueue.enqueueAndForget(async()=>rR(await Tc(h),m))}}(_n(u),c,a,l)}function Xre(t,e){return ure(_n(t=We(t,$t)),yI(e)?e:{next:e})}function Up(t,e){return function(r,i){const s=new fn;return r.asyncQueue.enqueueAndForget(async()=>Fne(await mR(r),i,s)),s.promise}(_n(t),e)}function CR(t,e,n){const r=n.docs.get(e._key),i=new Vl(t);return new Ls(t,i,e._key,r,new $a(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zre=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fl(e)}set(e,n,r){this._verifyNotCommitted();const i=oo(e,this._firestore),s=Lv(i.converter,n,r),o=Av(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Et.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=oo(e,this._firestore);let o;return o=typeof(n=re(n))=="string"||n instanceof Go?vR(this._dataReader,"WriteBatch.update",s._key,n,r,i):_R(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Et.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=oo(e,this._firestore);return this._mutations=this._mutations.concat(new Qc(n._key,Et.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function oo(t,e){if((t=re(t)).firestore!==e)throw new L(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eie=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Fl(n)}get(n){const r=oo(n,this._firestore),i=new Bre(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ee();const o=s[0];if(o.isFoundDocument())return new jf(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new jf(this._firestore,i,r._key,null,r.converter);throw ee()})}set(n,r,i){const s=oo(n,this._firestore),o=Lv(s.converter,r,i),a=Av(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=oo(n,this._firestore);let a;return a=typeof(r=re(r))=="string"||r instanceof Go?vR(this._dataReader,"Transaction.update",o._key,r,i,s):_R(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=oo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=oo(e,this._firestore),r=new Vl(this._firestore);return super.get(e).then(i=>new Ls(this._firestore,r,n._key,i._document,new $a(!1,!1),n.converter))}};function tie(t,e,n){t=We(t,$t);const r=Object.assign(Object.assign({},Jre),n);return function(s){if(s.maxAttempts<1)throw new L(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new fn;return s.asyncQueue.enqueueAndForget(async()=>{const u=await ire(s);new nre(s.asyncQueue,u,a,o,l).run()}),l.promise}(_n(t),i=>e(new eie(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(){return new $p("deleteField")}function rie(){return new yR("serverTimestamp")}function iie(...t){return new xre("arrayUnion",t)}function sie(...t){return new Pre("arrayRemove",t)}function oie(t){return new Are("increment",t)}(function(e,n=!0){(function(i){Hc=i})(hs),is(new si("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $t(new fee(r.getProvider("auth-internal")),new yee(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new L(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xn(YA,"4.4.0",e),Xn(YA,"4.4.0","esm2017")})();const aie="@firebase/firestore-compat",lie="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new L("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function iN(){if(!jee())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}let n4=class vI{constructor(e){this._delegate=e}static fromBase64String(e){return iN(),new vI(ls.fromBase64String(e))}static fromUint8Array(e){return rN(),new vI(ls.fromUint8Array(e))}toBase64(){return iN(),this._delegate.toBase64()}toUint8Array(){return rN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){return uie(t,["next","error","complete"])}function uie(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{enableIndexedDbPersistence(e,n){return yre(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return _re(e._delegate)}clearIndexedDbPersistence(e){return vre(e._delegate)}}class r4{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ni("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){hre(this._delegate,e,n,r)}enableNetwork(){return Ere(this._delegate)}disableNetwork(){return Tre(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,OB("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return wre(this._delegate)}onSnapshotsInSync(e){return Xre(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ic(this,$B(this._delegate,e))}catch(n){throw Gn(n,"collection()","Firestore.collection()")}}doc(e){try{return new ei(this,Vy(this._delegate,e))}catch(n){throw Gn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hn(this,fre(this._delegate,e))}catch(n){throw Gn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return tie(this._delegate,n=>e(new i4(this,n)))}batch(){return _n(this._delegate),new s4(new Zre(this._delegate,e=>Up(this._delegate,e)))}loadBundle(e){return Ire(this._delegate,e)}namedQuery(e){return bre(this._delegate,e).then(n=>n?new Hn(this,n):null)}}class Fv extends SR{constructor(e){super(),this.firestore=e}convertBytes(e){return new n4(new ls(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ei.forKey(n,this.firestore,null)}}function die(t){uee(t)}class i4{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Fv(e)}get(e){const n=Va(e);return this._delegate.get(n).then(r=>new zf(this._firestore,new Ls(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Va(e);return r?(RR("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Va(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Va(e);return this._delegate.delete(n),this}}class s4{constructor(e){this._delegate=e}set(e,n,r){const i=Va(e);return r?(RR("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Va(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Va(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class El{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Ch(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wf(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=El.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new El(e,new Fv(e),n),i.set(n,s)),s}}El.INSTANCES=new WeakMap;class ei{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Fv(e)}static forPath(e,n,r){if(e.length%2!==0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ei(n,new Ct(n._delegate,r,new Q(e)))}static forKey(e,n,r){return new ei(n,new Ct(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ic(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ic(this.firestore,$B(this._delegate,e))}catch(n){throw Gn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=re(e),e instanceof Ct?VB(this._delegate,e):!1}set(e,n){n=RR("DocumentReference.set",n);try{return n?tN(this._delegate,e,n):tN(this._delegate,e)}catch(r){throw Gn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?nN(this._delegate,e):nN(this._delegate,e,n,...r)}catch(i){throw Gn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Qre(this._delegate)}onSnapshot(...e){const n=o4(e),r=a4(e,i=>new zf(this.firestore,new Ls(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return t4(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Wre(this._delegate):(e==null?void 0:e.source)==="server"?n=qre(this._delegate):n=zre(this._delegate),n.then(r=>new zf(this.firestore,new Ls(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ei(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Gn(t,e,n){return t.message=t.message.replace(e,n),t}function o4(t){for(const e of t)if(typeof e=="object"&&!wI(e))return e;return{}}function a4(t,e){var n,r;let i;return wI(t[0])?i=t[0]:wI(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class zf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ei(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return e4(this._delegate,e._delegate)}}class Wf extends zf{data(e){const n=this._delegate.data(e);return this._delegate._converter||cee(n!==void 0),n}}class Hn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Fv(e)}where(e,n,r){try{return new Hn(this.firestore,Xs(this._delegate,Ore(e,n,r)))}catch(i){throw Gn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Hn(this.firestore,Xs(this._delegate,Dre(e,n)))}catch(r){throw Gn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hn(this.firestore,Xs(this._delegate,Mre(e)))}catch(n){throw Gn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Hn(this.firestore,Xs(this._delegate,Lre(e)))}catch(n){throw Gn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hn(this.firestore,Xs(this._delegate,Fre(...e)))}catch(n){throw Gn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hn(this.firestore,Xs(this._delegate,$re(...e)))}catch(n){throw Gn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hn(this.firestore,Xs(this._delegate,Vre(...e)))}catch(n){throw Gn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hn(this.firestore,Xs(this._delegate,Ure(...e)))}catch(n){throw Gn(n,"endAt()","Query.endAt()")}}isEqual(e){return UB(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Gre(this._delegate):(e==null?void 0:e.source)==="server"?n=Kre(this._delegate):n=Hre(this._delegate),n.then(r=>new EI(this.firestore,new Ko(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=o4(e),r=a4(e,i=>new EI(this.firestore,new Ko(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return t4(this._delegate,n,r)}withConverter(e){return new Hn(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class hie{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Wf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class EI{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Hn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new hie(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Wf(this._firestore,r))})}isEqual(e){return e4(this._delegate,e._delegate)}}class Ic extends Hn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ei(this.firestore,e):null}doc(e){try{return e===void 0?new ei(this.firestore,Vy(this._delegate)):new ei(this.firestore,Vy(this._delegate,e))}catch(n){throw Gn(n,"doc()","CollectionReference.doc()")}}add(e){return Yre(this._delegate,e).then(n=>new ei(this.firestore,n))}isEqual(e){return VB(this._delegate,e._delegate)}withConverter(e){return new Ic(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Va(t){return We(t,Ct)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(...e){this._delegate=new Go(...e)}static documentId(){return new xR(wt.keyField().canonicalString())}isEqual(e){return e=re(e),e instanceof Go?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._delegate=e}static serverTimestamp(){const e=rie();return e._methodName="FieldValue.serverTimestamp",new xa(e)}static delete(){const e=nie();return e._methodName="FieldValue.delete",new xa(e)}static arrayUnion(...e){const n=iie(...e);return n._methodName="FieldValue.arrayUnion",new xa(n)}static arrayRemove(...e){const n=sie(...e);return n._methodName="FieldValue.arrayRemove",new xa(n)}static increment(e){const n=oie(e);return n._methodName="FieldValue.increment",new xa(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fie={Firestore:r4,GeoPoint:xv,Timestamp:Tt,Blob:n4,Transaction:i4,WriteBatch:s4,DocumentReference:ei,DocumentSnapshot:zf,Query:Hn,QueryDocumentSnapshot:Wf,QuerySnapshot:EI,CollectionReference:Ic,FieldPath:xR,FieldValue:xa,setLogLevel:die,CACHE_SIZE_UNLIMITED:gre};function pie(t,e){t.INTERNAL.registerComponent(new si("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},fie)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mie(t){pie(t,(e,n)=>new r4(e,n,new cie)),t.registerVersion(aie,lie)}mie(z_);const gie={black:"#000",white:"#fff"},qf=gie,yie={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},nu=yie,_ie={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ru=_ie,vie={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},iu=vie,wie={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},su=wie,Eie={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ou=Eie,Tie={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Nd=Tie,Iie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},bie=Iie;function Qo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const $v="$$material";function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function se(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l4(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Sie=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Cie=l4(function(t){return Sie.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Rie(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function xie(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Pie=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xie(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Rie(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ln="-ms-",By="-moz-",Qe="-webkit-",u4="comm",PR="rule",AR="decl",Aie="@import",c4="@keyframes",kie="@layer",Nie=Math.abs,Vv=String.fromCharCode,Oie=Object.assign;function Die(t,e){return Sn(t,0)^45?(((e<<2^Sn(t,0))<<2^Sn(t,1))<<2^Sn(t,2))<<2^Sn(t,3):0}function d4(t){return t.trim()}function Mie(t,e){return(t=e.exec(t))?t[0]:t}function Ye(t,e,n){return t.replace(e,n)}function TI(t,e){return t.indexOf(e)}function Sn(t,e){return t.charCodeAt(e)|0}function Hf(t,e,n){return t.slice(e,n)}function $i(t){return t.length}function kR(t){return t.length}function Mm(t,e){return e.push(t),t}function Lie(t,e){return t.map(e).join("")}var Uv=1,bc=1,h4=0,vr=0,Qt=0,ed="";function Bv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Uv,column:bc,length:o,return:""}}function Od(t,e){return Oie(Bv("",null,null,"",null,null,0),t,{length:-t.length},e)}function Fie(){return Qt}function $ie(){return Qt=vr>0?Sn(ed,--vr):0,bc--,Qt===10&&(bc=1,Uv--),Qt}function Lr(){return Qt=vr<h4?Sn(ed,vr++):0,bc++,Qt===10&&(bc=1,Uv++),Qt}function ns(){return Sn(ed,vr)}function gg(){return vr}function Bp(t,e){return Hf(ed,t,e)}function Gf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f4(t){return Uv=bc=1,h4=$i(ed=t),vr=0,[]}function p4(t){return ed="",t}function yg(t){return d4(Bp(vr-1,II(t===91?t+2:t===40?t+1:t)))}function Vie(t){for(;(Qt=ns())&&Qt<33;)Lr();return Gf(t)>2||Gf(Qt)>3?"":" "}function Uie(t,e){for(;--e&&Lr()&&!(Qt<48||Qt>102||Qt>57&&Qt<65||Qt>70&&Qt<97););return Bp(t,gg()+(e<6&&ns()==32&&Lr()==32))}function II(t){for(;Lr();)switch(Qt){case t:return vr;case 34:case 39:t!==34&&t!==39&&II(Qt);break;case 40:t===41&&II(t);break;case 92:Lr();break}return vr}function Bie(t,e){for(;Lr()&&t+Qt!==57;)if(t+Qt===84&&ns()===47)break;return"/*"+Bp(e,vr-1)+"*"+Vv(t===47?t:Lr())}function jie(t){for(;!Gf(ns());)Lr();return Bp(t,vr)}function zie(t){return p4(_g("",null,null,null,[""],t=f4(t),0,[0],t))}function _g(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,g=1,v=1,m=1,y=0,_="",w=i,I=s,b=r,T=_;v;)switch(p=y,y=Lr()){case 40:if(p!=108&&Sn(T,d-1)==58){TI(T+=Ye(yg(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:T+=yg(y);break;case 9:case 10:case 13:case 32:T+=Vie(p);break;case 92:T+=Uie(gg()-1,7);continue;case 47:switch(ns()){case 42:case 47:Mm(Wie(Bie(Lr(),gg()),e,n),l);break;default:T+="/"}break;case 123*g:a[u++]=$i(T)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:m==-1&&(T=Ye(T,/\f/g,"")),f>0&&$i(T)-d&&Mm(f>32?oN(T+";",r,n,d-1):oN(Ye(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(Mm(b=sN(T,e,n,u,c,i,a,_,w=[],I=[],d),s),y===123)if(c===0)_g(T,e,b,b,w,s,d,a,I);else switch(h===99&&Sn(T,3)===110?100:h){case 100:case 108:case 109:case 115:_g(t,b,b,r&&Mm(sN(t,b,b,0,0,i,a,_,i,w=[],d),I),i,I,d,a,r?w:I);break;default:_g(T,b,b,b,[""],I,0,a,I)}}u=c=f=0,g=m=1,_=T="",d=o;break;case 58:d=1+$i(T),f=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&$ie()==125)continue}switch(T+=Vv(y),y*g){case 38:m=c>0?1:(T+="\f",-1);break;case 44:a[u++]=($i(T)-1)*m,m=1;break;case 64:ns()===45&&(T+=yg(Lr())),h=ns(),c=d=$i(_=T+=jie(gg())),y++;break;case 45:p===45&&$i(T)==2&&(g=0)}}return s}function sN(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=kR(h),p=0,g=0,v=0;p<r;++p)for(var m=0,y=Hf(t,d+1,d=Nie(g=o[p])),_=t;m<f;++m)(_=d4(g>0?h[m]+" "+y:Ye(y,/&\f/g,h[m])))&&(l[v++]=_);return Bv(t,e,n,i===0?PR:a,l,u,c)}function Wie(t,e,n){return Bv(t,e,n,u4,Vv(Fie()),Hf(t,2,-2),0)}function oN(t,e,n,r){return Bv(t,e,n,AR,Hf(t,0,r),Hf(t,r+1,-1),r)}function Gu(t,e){for(var n="",r=kR(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function qie(t,e,n,r){switch(t.type){case kie:if(t.children.length)break;case Aie:case AR:return t.return=t.return||t.value;case u4:return"";case c4:return t.return=t.value+"{"+Gu(t.children,r)+"}";case PR:t.value=t.props.join(",")}return $i(n=Gu(t.children,r))?t.return=t.value+"{"+n+"}":""}function Hie(t){var e=kR(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Gie(t){return function(e){e.root||(e=e.return)&&t(e)}}var Kie=function(e,n,r){for(var i=0,s=0;i=s,s=ns(),i===38&&s===12&&(n[r]=1),!Gf(s);)Lr();return Bp(e,vr)},Qie=function(e,n){var r=-1,i=44;do switch(Gf(i)){case 0:i===38&&ns()===12&&(n[r]=1),e[r]+=Kie(vr-1,n,r);break;case 2:e[r]+=yg(i);break;case 4:if(i===44){e[++r]=ns()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Vv(i)}while(i=Lr());return e},Yie=function(e,n){return p4(Qie(f4(e),n))},aN=new WeakMap,Xie=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!aN.get(r))&&!i){aN.set(e,!0);for(var s=[],o=Yie(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Jie=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function m4(t,e){switch(Die(t,e)){case 5103:return Qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+t+By+t+Ln+t+t;case 6828:case 4268:return Qe+t+Ln+t+t;case 6165:return Qe+t+Ln+"flex-"+t+t;case 5187:return Qe+t+Ye(t,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+Ln+"flex-$1$2")+t;case 5443:return Qe+t+Ln+"flex-item-"+Ye(t,/flex-|-self/,"")+t;case 4675:return Qe+t+Ln+"flex-line-pack"+Ye(t,/align-content|flex-|-self/,"")+t;case 5548:return Qe+t+Ln+Ye(t,"shrink","negative")+t;case 5292:return Qe+t+Ln+Ye(t,"basis","preferred-size")+t;case 6060:return Qe+"box-"+Ye(t,"-grow","")+Qe+t+Ln+Ye(t,"grow","positive")+t;case 4554:return Qe+Ye(t,/([^-])(transform)/g,"$1"+Qe+"$2")+t;case 6187:return Ye(Ye(Ye(t,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),t,"")+t;case 5495:case 3959:return Ye(t,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Ye(Ye(t,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+Ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+t+t;case 4095:case 3583:case 4068:case 2532:return Ye(t,/(.+)-inline(.+)/,Qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($i(t)-1-e>6)switch(Sn(t,e+1)){case 109:if(Sn(t,e+4)!==45)break;case 102:return Ye(t,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+By+(Sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~TI(t,"stretch")?m4(Ye(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sn(t,e+1)!==115)break;case 6444:switch(Sn(t,$i(t)-3-(~TI(t,"!important")&&10))){case 107:return Ye(t,":",":"+Qe)+t;case 101:return Ye(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(Sn(t,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+Ln+"$2box$3")+t}break;case 5936:switch(Sn(t,e+11)){case 114:return Qe+t+Ln+Ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qe+t+Ln+Ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qe+t+Ln+Ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Qe+t+Ln+t+t}return t}var Zie=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case AR:e.return=m4(e.value,e.length);break;case c4:return Gu([Od(e,{value:Ye(e.value,"@","@"+Qe)})],i);case PR:if(e.length)return Lie(e.props,function(s){switch(Mie(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Gu([Od(e,{props:[Ye(s,/:(read-\w+)/,":"+By+"$1")]})],i);case"::placeholder":return Gu([Od(e,{props:[Ye(s,/:(plac\w+)/,":"+Qe+"input-$1")]}),Od(e,{props:[Ye(s,/:(plac\w+)/,":"+By+"$1")]}),Od(e,{props:[Ye(s,/:(plac\w+)/,Ln+"input-$1")]})],i)}return""})}},ese=[Zie],tse=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||ese,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),m=1;m<v.length;m++)s[v[m]]=!0;a.push(g)});var l,u=[Xie,Jie];{var c,d=[qie,Gie(function(g){c.insert(g)})],h=Hie(u.concat(i,d)),f=function(v){return Gu(zie(v),h)};l=function(v,m,y,_){c=y,f(v?v+"{"+m.styles+"}":m.styles),_&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new Pie({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},g4={exports:{}},tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn=typeof Symbol=="function"&&Symbol.for,NR=vn?Symbol.for("react.element"):60103,OR=vn?Symbol.for("react.portal"):60106,jv=vn?Symbol.for("react.fragment"):60107,zv=vn?Symbol.for("react.strict_mode"):60108,Wv=vn?Symbol.for("react.profiler"):60114,qv=vn?Symbol.for("react.provider"):60109,Hv=vn?Symbol.for("react.context"):60110,DR=vn?Symbol.for("react.async_mode"):60111,Gv=vn?Symbol.for("react.concurrent_mode"):60111,Kv=vn?Symbol.for("react.forward_ref"):60112,Qv=vn?Symbol.for("react.suspense"):60113,nse=vn?Symbol.for("react.suspense_list"):60120,Yv=vn?Symbol.for("react.memo"):60115,Xv=vn?Symbol.for("react.lazy"):60116,rse=vn?Symbol.for("react.block"):60121,ise=vn?Symbol.for("react.fundamental"):60117,sse=vn?Symbol.for("react.responder"):60118,ose=vn?Symbol.for("react.scope"):60119;function qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case NR:switch(t=t.type,t){case DR:case Gv:case jv:case Wv:case zv:case Qv:return t;default:switch(t=t&&t.$$typeof,t){case Hv:case Kv:case Xv:case Yv:case qv:return t;default:return e}}case OR:return e}}}function y4(t){return qr(t)===Gv}tt.AsyncMode=DR;tt.ConcurrentMode=Gv;tt.ContextConsumer=Hv;tt.ContextProvider=qv;tt.Element=NR;tt.ForwardRef=Kv;tt.Fragment=jv;tt.Lazy=Xv;tt.Memo=Yv;tt.Portal=OR;tt.Profiler=Wv;tt.StrictMode=zv;tt.Suspense=Qv;tt.isAsyncMode=function(t){return y4(t)||qr(t)===DR};tt.isConcurrentMode=y4;tt.isContextConsumer=function(t){return qr(t)===Hv};tt.isContextProvider=function(t){return qr(t)===qv};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===NR};tt.isForwardRef=function(t){return qr(t)===Kv};tt.isFragment=function(t){return qr(t)===jv};tt.isLazy=function(t){return qr(t)===Xv};tt.isMemo=function(t){return qr(t)===Yv};tt.isPortal=function(t){return qr(t)===OR};tt.isProfiler=function(t){return qr(t)===Wv};tt.isStrictMode=function(t){return qr(t)===zv};tt.isSuspense=function(t){return qr(t)===Qv};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jv||t===Gv||t===Wv||t===zv||t===Qv||t===nse||typeof t=="object"&&t!==null&&(t.$$typeof===Xv||t.$$typeof===Yv||t.$$typeof===qv||t.$$typeof===Hv||t.$$typeof===Kv||t.$$typeof===ise||t.$$typeof===sse||t.$$typeof===ose||t.$$typeof===rse)};tt.typeOf=qr;g4.exports=tt;var ase=g4.exports,_4=ase,lse={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},use={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},v4={};v4[_4.ForwardRef]=lse;v4[_4.Memo]=use;var cse=!0;function dse(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var w4=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||cse===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},E4=function(e,n,r){w4(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function hse(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var fse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pse=/[A-Z]|^ms/g,mse=/_EMO_([^_]+?)_([^]*?)_EMO_/g,T4=function(e){return e.charCodeAt(1)===45},lN=function(e){return e!=null&&typeof e!="boolean"},Yw=l4(function(t){return T4(t)?t:t.replace(pse,"-$&").toLowerCase()}),uN=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(mse,function(r,i,s){return Vi={name:i,styles:s,next:Vi},i})}return fse[e]!==1&&!T4(e)&&typeof n=="number"&&n!==0?n+"px":n};function Kf(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Vi={name:n.name,styles:n.styles,next:Vi},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Vi={name:r.name,styles:r.styles,next:Vi},r=r.next;var i=n.styles+";";return i}return gse(t,e,n)}case"function":{if(t!==void 0){var s=Vi,o=n(t);return Vi=s,Kf(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function gse(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Kf(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":lN(o)&&(r+=Yw(s)+":"+uN(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)lN(o[a])&&(r+=Yw(s)+":"+uN(s,o[a])+";");else{var l=Kf(t,e,o);switch(s){case"animation":case"animationName":{r+=Yw(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var cN=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Vi,MR=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Vi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Kf(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Kf(r,n,e[a]),i&&(s+=o[a]);cN.lastIndex=0;for(var l="",u;(u=cN.exec(s))!==null;)l+="-"+u[1];var c=hse(s)+l;return{name:c,styles:s,next:Vi}},yse=function(e){return e()},I4=Yu.useInsertionEffect?Yu.useInsertionEffect:!1,_se=I4||yse,dN=I4||E.useLayoutEffect,b4=E.createContext(typeof HTMLElement<"u"?tse({key:"css"}):null);b4.Provider;var S4=function(e){return E.forwardRef(function(n,r){var i=E.useContext(b4);return e(n,i,r)})},LR=E.createContext({}),vse=S4(function(t,e){var n=t.styles,r=MR([n],void 0,E.useContext(LR)),i=E.useRef();return dN(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),dN(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&E4(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function FR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return MR(e)}var jp=function(){var e=FR.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},wse=Cie,Ese=function(e){return e!=="theme"},hN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?wse:Ese},fN=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Tse=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return w4(n,r,i),_se(function(){return E4(n,r,i)}),null},Ise=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=fN(e,n,r),l=a||hN(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=S4(function(g,v,m){var y=u&&g.as||i,_="",w=[],I=g;if(g.theme==null){I={};for(var b in g)I[b]=g[b];I.theme=E.useContext(LR)}typeof g.className=="string"?_=dse(v.registered,w,g.className):g.className!=null&&(_=g.className+" ");var T=MR(d.concat(w),v.registered,I);_+=v.key+"-"+T.name,o!==void 0&&(_+=" "+o);var x=u&&a===void 0?hN(y):l,O={};for(var R in g)u&&R==="as"||x(R)&&(O[R]=g[R]);return O.className=_,O.ref=m,E.createElement(E.Fragment,null,E.createElement(Tse,{cache:v,serialized:T,isStringTag:typeof y=="string"}),E.createElement(y,O))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(g,v){return t(g,S({},n,v,{shouldForwardProp:fN(p,v,!0)})).apply(void 0,d)},p}},bse=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bI=Ise.bind();bse.forEach(function(t){bI[t]=bI(t)});function Sse(t){return t==null||Object.keys(t).length===0}function Cse(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Sse(i)?n:i):e;return C.jsx(vse,{styles:r})}function Rse(t,e){return bI(t,e)}const xse=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function ys(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function C4(t){if(!ys(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=C4(t[n])}),e}function mr(t,e,n={clone:!0}){const r=n.clone?S({},t):t;return ys(t)&&ys(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(ys(e[i])&&i in t&&ys(t[i])?r[i]=mr(t[i],e[i],n):n.clone?r[i]=ys(e[i])?C4(e[i]):e[i]:r[i]=e[i])}),r}var rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R=Symbol.for("react.element"),VR=Symbol.for("react.portal"),Jv=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),Pse=Symbol.for("react.server_context"),r0=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),s0=Symbol.for("react.suspense_list"),o0=Symbol.for("react.memo"),a0=Symbol.for("react.lazy"),Ase=Symbol.for("react.offscreen"),R4;R4=Symbol.for("react.module.reference");function ci(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $R:switch(t=t.type,t){case Jv:case e0:case Zv:case i0:case s0:return t;default:switch(t=t&&t.$$typeof,t){case Pse:case n0:case r0:case a0:case o0:case t0:return t;default:return e}}case VR:return e}}}rt.ContextConsumer=n0;rt.ContextProvider=t0;rt.Element=$R;rt.ForwardRef=r0;rt.Fragment=Jv;rt.Lazy=a0;rt.Memo=o0;rt.Portal=VR;rt.Profiler=e0;rt.StrictMode=Zv;rt.Suspense=i0;rt.SuspenseList=s0;rt.isAsyncMode=function(){return!1};rt.isConcurrentMode=function(){return!1};rt.isContextConsumer=function(t){return ci(t)===n0};rt.isContextProvider=function(t){return ci(t)===t0};rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$R};rt.isForwardRef=function(t){return ci(t)===r0};rt.isFragment=function(t){return ci(t)===Jv};rt.isLazy=function(t){return ci(t)===a0};rt.isMemo=function(t){return ci(t)===o0};rt.isPortal=function(t){return ci(t)===VR};rt.isProfiler=function(t){return ci(t)===e0};rt.isStrictMode=function(t){return ci(t)===Zv};rt.isSuspense=function(t){return ci(t)===i0};rt.isSuspenseList=function(t){return ci(t)===s0};rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jv||t===e0||t===Zv||t===i0||t===s0||t===Ase||typeof t=="object"&&t!==null&&(t.$$typeof===a0||t.$$typeof===o0||t.$$typeof===t0||t.$$typeof===n0||t.$$typeof===r0||t.$$typeof===R4||t.getModuleId!==void 0)};rt.typeOf=ci;function he(t){if(typeof t!="string")throw new Error(Qo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function SI(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function UR(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function kse(t,e){return()=>null}function vg(t,e){var n,r;return E.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function jn(t){return t&&t.ownerDocument||document}function Yo(t){return jn(t).defaultView||window}function Nse(t,e){return()=>null}function jy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const us=typeof window<"u"?E.useLayoutEffect:E.useEffect;let pN=0;function Ose(t){const[e,n]=E.useState(t),r=t||e;return E.useEffect(()=>{e==null&&(pN+=1,n(`mui-${pN}`))},[e]),r}const mN=Yu.useId;function zp(t){if(mN!==void 0){const e=mN();return t??e}return Ose(t)}function Dse(t,e,n,r,i){return null}function zy({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=E.useRef(t!==void 0),[s,o]=E.useState(e),a=i?t:s,l=E.useCallback(u=>{i||o(u)},[]);return[a,l]}function fo(t){const e=E.useRef(t);return us(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function mn(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{jy(n,e)})},t)}let l0=!0,CI=!1,gN;const Mse={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Lse(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&Mse[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Fse(t){t.metaKey||t.altKey||t.ctrlKey||(l0=!0)}function Xw(){l0=!1}function $se(){this.visibilityState==="hidden"&&CI&&(l0=!0)}function Vse(t){t.addEventListener("keydown",Fse,!0),t.addEventListener("mousedown",Xw,!0),t.addEventListener("pointerdown",Xw,!0),t.addEventListener("touchstart",Xw,!0),t.addEventListener("visibilitychange",$se,!0)}function Use(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return l0||Lse(e)}function BR(){const t=E.useCallback(i=>{i!=null&&Vse(i.ownerDocument)},[]),e=E.useRef(!1);function n(){return e.current?(CI=!0,window.clearTimeout(gN),gN=window.setTimeout(()=>{CI=!1},100),e.current=!1,!0):!1}function r(i){return Use(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function x4(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function jR(t,e){const n=S({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=S({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=S({},s),Object.keys(i).forEach(o=>{n[r][o]=jR(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Fe(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const yN=t=>t,Bse=()=>{let t=yN;return{configure(e){t=e},generate(e){return t(e)},reset(){t=yN}}},P4=Bse(),jse={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Me(t,e,n="Mui"){const r=jse[e];return r?`${n}-${r}`:`${P4.generate(t)}-${e}`}function $e(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Me(t,i,n)}),r}const zse=["values","unit","step"],Wse=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>S({},n,{[r.key]:r.val}),{})};function qse(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=se(t,zse),s=Wse(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return S({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const Hse={borderRadius:4},Gse=Hse;function Rh(t,e){return e?mr(t,e,{clone:!1}):t}const zR={xs:0,sm:600,md:900,lg:1200,xl:1536},_N={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${zR[t]}px)`};function ai(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||_N;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||_N;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||zR).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Kse(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Qse(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Yse(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function u0({values:t,breakpoints:e,base:n}){const r=n||Yse(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function c0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Wy(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=c0(t,n)||r,e&&(i=e(i,r,t)),i}function qt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=c0(l,r)||{};return ai(o,a,d=>{let h=Wy(u,i,d);return d===h&&typeof d=="string"&&(h=Wy(u,i,`${e}${d==="default"?"":he(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function Xse(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Jse={m:"margin",p:"padding"},Zse={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},eoe=Xse(t=>{if(t.length>2)if(vN[t])t=vN[t];else return[t];const[e,n]=t.split(""),r=Jse[e],i=Zse[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),WR=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...WR,...qR];function Wp(t,e,n,r){var i;const s=(i=c0(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function A4(t){return Wp(t,"spacing",8)}function qp(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function toe(t,e){return n=>t.reduce((r,i)=>(r[i]=qp(e,n),r),{})}function noe(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=eoe(n),s=toe(i,r),o=t[n];return ai(t,o,s)}function k4(t,e){const n=A4(t.theme);return Object.keys(t).map(r=>noe(t,e,r,n)).reduce(Rh,{})}function At(t){return k4(t,WR)}At.propTypes={};At.filterProps=WR;function kt(t){return k4(t,qR)}kt.propTypes={};kt.filterProps=qR;function roe(t=8){if(t.mui)return t;const e=A4({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function d0(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Rh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Yr(t){return typeof t!="number"?t:`${t}px solid`}function di(t,e){return qt({prop:t,themeKey:"borders",transform:e})}const ioe=di("border",Yr),soe=di("borderTop",Yr),ooe=di("borderRight",Yr),aoe=di("borderBottom",Yr),loe=di("borderLeft",Yr),uoe=di("borderColor"),coe=di("borderTopColor"),doe=di("borderRightColor"),hoe=di("borderBottomColor"),foe=di("borderLeftColor"),poe=di("outline",Yr),moe=di("outlineColor"),h0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Wp(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:qp(e,r)});return ai(t,t.borderRadius,n)}return null};h0.propTypes={};h0.filterProps=["borderRadius"];d0(ioe,soe,ooe,aoe,loe,uoe,coe,doe,hoe,foe,h0,poe,moe);const f0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Wp(t.theme,"spacing",8),n=r=>({gap:qp(e,r)});return ai(t,t.gap,n)}return null};f0.propTypes={};f0.filterProps=["gap"];const p0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Wp(t.theme,"spacing",8),n=r=>({columnGap:qp(e,r)});return ai(t,t.columnGap,n)}return null};p0.propTypes={};p0.filterProps=["columnGap"];const m0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Wp(t.theme,"spacing",8),n=r=>({rowGap:qp(e,r)});return ai(t,t.rowGap,n)}return null};m0.propTypes={};m0.filterProps=["rowGap"];const goe=qt({prop:"gridColumn"}),yoe=qt({prop:"gridRow"}),_oe=qt({prop:"gridAutoFlow"}),voe=qt({prop:"gridAutoColumns"}),woe=qt({prop:"gridAutoRows"}),Eoe=qt({prop:"gridTemplateColumns"}),Toe=qt({prop:"gridTemplateRows"}),Ioe=qt({prop:"gridTemplateAreas"}),boe=qt({prop:"gridArea"});d0(f0,p0,m0,goe,yoe,_oe,voe,woe,Eoe,Toe,Ioe,boe);function Ku(t,e){return e==="grey"?e:t}const Soe=qt({prop:"color",themeKey:"palette",transform:Ku}),Coe=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ku}),Roe=qt({prop:"backgroundColor",themeKey:"palette",transform:Ku});d0(Soe,Coe,Roe);function Rr(t){return t<=1&&t!==0?`${t*100}%`:t}const xoe=qt({prop:"width",transform:Rr}),HR=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||zR[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Rr(n)}};return ai(t,t.maxWidth,e)}return null};HR.filterProps=["maxWidth"];const Poe=qt({prop:"minWidth",transform:Rr}),Aoe=qt({prop:"height",transform:Rr}),koe=qt({prop:"maxHeight",transform:Rr}),Noe=qt({prop:"minHeight",transform:Rr});qt({prop:"size",cssProperty:"width",transform:Rr});qt({prop:"size",cssProperty:"height",transform:Rr});const Ooe=qt({prop:"boxSizing"});d0(xoe,HR,Poe,Aoe,koe,Noe,Ooe);const Doe={border:{themeKey:"borders",transform:Yr},borderTop:{themeKey:"borders",transform:Yr},borderRight:{themeKey:"borders",transform:Yr},borderBottom:{themeKey:"borders",transform:Yr},borderLeft:{themeKey:"borders",transform:Yr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Yr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:h0},color:{themeKey:"palette",transform:Ku},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ku},backgroundColor:{themeKey:"palette",transform:Ku},p:{style:kt},pt:{style:kt},pr:{style:kt},pb:{style:kt},pl:{style:kt},px:{style:kt},py:{style:kt},padding:{style:kt},paddingTop:{style:kt},paddingRight:{style:kt},paddingBottom:{style:kt},paddingLeft:{style:kt},paddingX:{style:kt},paddingY:{style:kt},paddingInline:{style:kt},paddingInlineStart:{style:kt},paddingInlineEnd:{style:kt},paddingBlock:{style:kt},paddingBlockStart:{style:kt},paddingBlockEnd:{style:kt},m:{style:At},mt:{style:At},mr:{style:At},mb:{style:At},ml:{style:At},mx:{style:At},my:{style:At},margin:{style:At},marginTop:{style:At},marginRight:{style:At},marginBottom:{style:At},marginLeft:{style:At},marginX:{style:At},marginY:{style:At},marginInline:{style:At},marginInlineStart:{style:At},marginInlineEnd:{style:At},marginBlock:{style:At},marginBlockStart:{style:At},marginBlockEnd:{style:At},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:f0},rowGap:{style:m0},columnGap:{style:p0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Rr},maxWidth:{style:HR},minWidth:{transform:Rr},height:{transform:Rr},maxHeight:{transform:Rr},minHeight:{transform:Rr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},g0=Doe;function Moe(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Loe(t,e){return typeof t=="function"?t(e):t}function Foe(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=c0(i,u)||{};return d?d(o):ai(o,r,p=>{let g=Wy(h,c,p);return p===g&&typeof p=="string"&&(g=Wy(h,c,`${n}${p==="default"?"":he(p)}`,p)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:g0;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=Kse(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=Loe(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=Rh(h,t(f,p,s,o));else{const g=ai({theme:s},p,v=>({[f]:v}));Moe(g,p)?h[f]=e({sx:p,theme:s}):h=Rh(h,g)}else h=Rh(h,t(f,p,s,o))}),Qse(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const y0=Foe();y0.filterProps=["sx"];const $oe=["breakpoints","palette","spacing","shape"];function _0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=se(t,$oe),a=qse(n),l=roe(i);let u=mr({breakpoints:a,direction:"ltr",components:{},palette:S({mode:"light"},r),spacing:l,shape:S({},Gse,s)},o);return u=e.reduce((c,d)=>mr(c,d),u),u.unstable_sxConfig=S({},g0,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return y0({sx:d,theme:this})},u}function Voe(t){return Object.keys(t).length===0}function N4(t=null){const e=E.useContext(LR);return!e||Voe(e)?t:e}const Uoe=_0();function GR(t=Uoe){return N4(t)}function Boe({styles:t,themeId:e,defaultTheme:n={}}){const r=GR(n),i=typeof t=="function"?t(e&&r[e]||r):t;return C.jsx(Cse,{styles:i})}const joe=["sx"],zoe=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:g0;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function O4(t){const{sx:e}=t,n=se(t,joe),{systemProps:r,otherProps:i}=zoe(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return ys(a)?S({},r,a):r}:s=S({},r,e),S({},i,{sx:s})}function D4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=D4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=D4(t))&&(r&&(r+=" "),r+=e);return r}const Woe=["variant"];function wN(t){return t.length===0}function M4(t){const{variant:e}=t,n=se(t,Woe);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=wN(r)?t[i]:he(t[i]):r+=`${wN(r)?i:he(i)}${he(t[i].toString())}`}),r}const qoe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Hoe(t){return Object.keys(t).length===0}function Goe(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Koe=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,qy=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=M4(r.props),n[i]=r.style}),n},Qoe=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),qy(n)},Hy=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let s=0;return n&&n.forEach(o=>{let a=!0;if(typeof o.props=="function"){const l=S({},t,r);a=o.props(l)}else Object.keys(o.props).forEach(l=>{r[l]!==o.props[l]&&t[l]!==o.props[l]&&(a=!1)});a&&(typeof o.props=="function"?i.push(e[`callback${s}`]):i.push(e[M4(o.props)])),typeof o.props=="function"&&(s+=1)}),i},Yoe=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Hy(t,e,s)};function xh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Xoe=_0(),Joe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function wg({defaultTheme:t,theme:e,themeId:n}){return Hoe(e)?t:e[n]||e}function Zoe(t){return t?(e,n)=>n[t]:null}const EN=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(S({},e,{theme:wg(S({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=Hy(e,qy(s),s);return[i,...o]}return i};function L4(t={}){const{themeId:e,defaultTheme:n=Xoe,rootShouldForwardProp:r=xh,slotShouldForwardProp:i=xh}=t,s=o=>y0(S({},o,{theme:wg(S({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{xse(o,w=>w.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=Zoe(Joe(u))}=a,f=se(a,qoe),p=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,g=d||!1;let v,m=xh;u==="Root"||u==="root"?m=r:u?m=i:Goe(o)&&(m=void 0);const y=Rse(o,S({shouldForwardProp:m,label:v},f)),_=(w,...I)=>{const b=I?I.map(R=>{if(typeof R=="function"&&R.__emotion_real!==R)return D=>EN({styledArg:R,props:D,defaultTheme:n,themeId:e});if(ys(R)){let D=R,z;return R&&R.variants&&(z=R.variants,delete D.variants,D=M=>{let $=R;return Hy(M,qy(z),z).forEach(B=>{$=mr($,B)}),$}),D}return R}):[];let T=w;if(ys(w)){let R;w&&w.variants&&(R=w.variants,delete T.variants,T=D=>{let z=w;return Hy(D,qy(R),R).forEach($=>{z=mr(z,$)}),z})}else typeof w=="function"&&w.__emotion_real!==w&&(T=R=>EN({styledArg:w,props:R,defaultTheme:n,themeId:e}));l&&h&&b.push(R=>{const D=wg(S({},R,{defaultTheme:n,themeId:e})),z=Koe(l,D);if(z){const M={};return Object.entries(z).forEach(([$,V])=>{M[$]=typeof V=="function"?V(S({},R,{theme:D})):V}),h(R,M)}return null}),l&&!p&&b.push(R=>{const D=wg(S({},R,{defaultTheme:n,themeId:e}));return Yoe(R,Qoe(l,D),D,l)}),g||b.push(s);const x=b.length-I.length;if(Array.isArray(w)&&x>0){const R=new Array(x).fill("");T=[...w,...R],T.raw=[...w.raw,...R]}const O=y(T,...b);return o.muiName&&(O.muiName=o.muiName),O};return y.withConfig&&(_.withConfig=y.withConfig),_}}const eae=L4();function tae(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:jR(e.components[n].defaultProps,r)}function F4({props:t,name:e,defaultTheme:n,themeId:r}){let i=GR(n);return r&&(i=i[r]||i),tae({theme:i,name:e,props:t})}function KR(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function nae(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Tl(t){if(t.type)return t;if(t.charAt(0)==="#")return Tl(nae(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Qo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Qo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function v0(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function rae(t){t=Tl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),v0({type:a,values:l})}function TN(t){t=Tl(t);let e=t.type==="hsl"||t.type==="hsla"?Tl(rae(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function iae(t,e){const n=TN(t),r=TN(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function po(t,e){return t=Tl(t),e=KR(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,v0(t)}function sae(t,e){if(t=Tl(t),e=KR(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return v0(t)}function oae(t,e){if(t=Tl(t),e=KR(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return v0(t)}const aae=["className","component","disableGutters","fixed","maxWidth","classes"],lae=_0(),uae=eae("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${he(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),cae=t=>F4({props:t,name:"MuiContainer",defaultTheme:lae}),dae=(t,e)=>{const n=l=>Me(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${he(String(o))}`,i&&"fixed",s&&"disableGutters"]};return Fe(a,n,r)};function hae(t={}){const{createStyledComponent:e=uae,useThemeProps:n=cae,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>S({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const c=u,d=o.breakpoints.values[c];return d!==0&&(l[o.breakpoints.up(c)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>S({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return E.forwardRef(function(a,l){const u=n(a),{className:c,component:d="div",disableGutters:h=!1,fixed:f=!1,maxWidth:p="lg"}=u,g=se(u,aae),v=S({},u,{component:d,disableGutters:h,fixed:f,maxWidth:p}),m=dae(v,r);return C.jsx(i,S({as:d,ownerState:v,className:fe(m.root,c),ref:l},g))})}function fae(t,e){return S({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const pae=["mode","contrastThreshold","tonalOffset"],IN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qf.white,default:qf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Jw={text:{primary:qf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function bN(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=oae(t.main,i):e==="dark"&&(t.dark=sae(t.main,s)))}function mae(t="light"){return t==="dark"?{main:iu[200],light:iu[50],dark:iu[400]}:{main:iu[700],light:iu[400],dark:iu[800]}}function gae(t="light"){return t==="dark"?{main:ru[200],light:ru[50],dark:ru[400]}:{main:ru[500],light:ru[300],dark:ru[700]}}function yae(t="light"){return t==="dark"?{main:nu[500],light:nu[300],dark:nu[700]}:{main:nu[700],light:nu[400],dark:nu[800]}}function _ae(t="light"){return t==="dark"?{main:su[400],light:su[300],dark:su[700]}:{main:su[700],light:su[500],dark:su[900]}}function vae(t="light"){return t==="dark"?{main:ou[400],light:ou[300],dark:ou[700]}:{main:ou[800],light:ou[500],dark:ou[900]}}function wae(t="light"){return t==="dark"?{main:Nd[400],light:Nd[300],dark:Nd[700]}:{main:"#ed6c02",light:Nd[500],dark:Nd[900]}}function Eae(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=se(t,pae),s=t.primary||mae(e),o=t.secondary||gae(e),a=t.error||yae(e),l=t.info||_ae(e),u=t.success||vae(e),c=t.warning||wae(e);function d(g){return iae(g,Jw.text.primary)>=n?Jw.text.primary:IN.text.primary}const h=({color:g,name:v,mainShade:m=500,lightShade:y=300,darkShade:_=700})=>{if(g=S({},g),!g.main&&g[m]&&(g.main=g[m]),!g.hasOwnProperty("main"))throw new Error(Qo(11,v?` (${v})`:"",m));if(typeof g.main!="string")throw new Error(Qo(12,v?` (${v})`:"",JSON.stringify(g.main)));return bN(g,"light",y,r),bN(g,"dark",_,r),g.contrastText||(g.contrastText=d(g.main)),g},f={dark:Jw,light:IN};return mr(S({common:S({},qf),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:bie,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const Tae=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Iae(t){return Math.round(t*1e5)/1e5}const SN={textTransform:"uppercase"},CN='"Roboto", "Helvetica", "Arial", sans-serif';function bae(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=CN,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=se(n,Tae),f=i/14,p=d||(m=>`${m/u*f}rem`),g=(m,y,_,w,I)=>S({fontFamily:r,fontWeight:m,fontSize:p(y),lineHeight:_},r===CN?{letterSpacing:`${Iae(w/y)}em`}:{},I,c),v={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,SN),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,SN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return mr(S({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),h,{clone:!1})}const Sae=.2,Cae=.14,Rae=.12;function _t(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Sae})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Cae})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Rae})`].join(",")}const xae=["none",_t(0,2,1,-1,0,1,1,0,0,1,3,0),_t(0,3,1,-2,0,2,2,0,0,1,5,0),_t(0,3,3,-2,0,3,4,0,0,1,8,0),_t(0,2,4,-1,0,4,5,0,0,1,10,0),_t(0,3,5,-1,0,5,8,0,0,1,14,0),_t(0,3,5,-1,0,6,10,0,0,1,18,0),_t(0,4,5,-2,0,7,10,1,0,2,16,1),_t(0,5,5,-3,0,8,10,1,0,3,14,2),_t(0,5,6,-3,0,9,12,1,0,3,16,2),_t(0,6,6,-3,0,10,14,1,0,4,18,3),_t(0,6,7,-4,0,11,15,1,0,4,20,3),_t(0,7,8,-4,0,12,17,2,0,5,22,4),_t(0,7,8,-4,0,13,19,2,0,5,24,4),_t(0,7,9,-4,0,14,21,2,0,5,26,4),_t(0,8,9,-5,0,15,22,2,0,6,28,5),_t(0,8,10,-5,0,16,24,2,0,6,30,5),_t(0,8,11,-5,0,17,26,2,0,6,32,5),_t(0,9,11,-5,0,18,28,2,0,7,34,6),_t(0,9,12,-6,0,19,29,2,0,7,36,6),_t(0,10,13,-6,0,20,31,3,0,8,38,7),_t(0,10,13,-6,0,21,33,3,0,8,40,7),_t(0,10,14,-6,0,22,35,3,0,8,42,7),_t(0,11,14,-7,0,23,36,3,0,9,44,8),_t(0,11,15,-7,0,24,38,3,0,9,46,8)],Pae=["duration","easing","delay"],Aae={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kae={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function RN(t){return`${Math.round(t)}ms`}function Nae(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Oae(t){const e=S({},Aae,t.easing),n=S({},kae,t.duration);return S({getAutoHeightDuration:Nae,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return se(s,Pae),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:RN(o)} ${a} ${typeof l=="string"?l:RN(l)}`).join(",")}},t,{easing:e,duration:n})}const Dae={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Mae=Dae,Lae=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fae(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=se(t,Lae);if(t.vars)throw new Error(Qo(18));const a=Eae(r),l=_0(t);let u=mr(l,{mixins:fae(l.breakpoints,n),palette:a,shadows:xae.slice(),typography:bae(a,s),transitions:Oae(i),zIndex:S({},Mae)});return u=mr(u,o),u=e.reduce((c,d)=>mr(c,d),u),u.unstable_sxConfig=S({},g0,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return y0({sx:d,theme:this})},u}const $ae=Fae(),w0=$ae;function td(){const t=GR(w0);return t[$v]||t}function Ve({props:t,name:e}){return F4({props:t,name:e,defaultTheme:w0,themeId:$v})}const Oi=t=>xh(t)&&t!=="classes",Vae=xh,ne=L4({themeId:$v,defaultTheme:w0,rootShouldForwardProp:Oi}),xN=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Uae(t){return Me("MuiSvgIcon",t)}$e("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Bae=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jae=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${he(e)}`,`fontSize${he(n)}`]};return Fe(i,Uae,r)},zae=ne("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${he(n.color)}`],e[`fontSize${he(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),RI=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=se(r,Bae),p=E.isValidElement(i)&&i.type==="svg",g=S({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p}),v={};c||(v.viewBox=h);const m=jae(g);return C.jsxs(zae,S({as:a,className:fe(m.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},v,f,p&&i.props,{ownerState:g,children:[p?i.props.children:i,d?C.jsx("title",{children:d}):null]}))});RI.muiName="SvgIcon";function $4(t,e){function n(r,i){return C.jsx(RI,S({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=RI.muiName,E.memo(E.forwardRef(n))}const Wae={configure:t=>{P4.configure(t)}},qae=Object.freeze(Object.defineProperty({__proto__:null,capitalize:he,createChainedFunction:SI,createSvgIcon:$4,debounce:UR,deprecatedPropType:kse,isMuiElement:vg,ownerDocument:jn,ownerWindow:Yo,requirePropFactory:Nse,setRef:jy,unstable_ClassNameGenerator:Wae,unstable_useEnhancedEffect:us,unstable_useId:zp,unsupportedProp:Dse,useControlled:zy,useEventCallback:fo,useForkRef:mn,useIsFocusVisible:BR},Symbol.toStringTag,{value:"Module"}));function xI(t,e){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xI(t,e)}function V4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,xI(t,e)}const PN={disabled:!1},Gy=Jr.createContext(null);var Hae=function(e){return e.scrollTop},th="unmounted",wa="exited",Ea="entering",pu="entered",PI="exiting",qs=function(t){V4(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=wa,s.appearStatus=Ea):l=pu:r.unmountOnExit||r.mountOnEnter?l=th:l=wa,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===th?{status:wa}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ea&&o!==pu&&(s=Ea):(o===Ea||o===pu)&&(s=PI)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ea){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:gm.findDOMNode(this);o&&Hae(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wa&&this.setState({status:th})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[gm.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||PN.disabled){this.safeSetState({status:pu},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ea},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:pu},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:gm.findDOMNode(this);if(!s||PN.disabled){this.safeSetState({status:wa},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:PI},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:wa},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:gm.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===th)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=se(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Jr.createElement(Gy.Provider,{value:null},typeof o=="function"?o(i,a):Jr.cloneElement(Jr.Children.only(o),a))},e}(Jr.Component);qs.contextType=Gy;qs.propTypes={};function au(){}qs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:au,onEntering:au,onEntered:au,onExit:au,onExiting:au,onExited:au};qs.UNMOUNTED=th;qs.EXITED=wa;qs.ENTERING=Ea;qs.ENTERED=pu;qs.EXITING=PI;const U4=qs;function Gae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QR(t,e){var n=function(s){return e&&E.isValidElement(s)?e(s):s},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Kae(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ua(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Qae(t,e){return QR(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ua(n,"appear",t),enter:Ua(n,"enter",t),exit:Ua(n,"exit",t)})})}function Yae(t,e,n){var r=QR(t.children),i=Kae(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(E.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=E.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ua(o,"exit",t),enter:Ua(o,"enter",t)}):!l&&a&&!c?i[s]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(u)&&(i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Ua(o,"exit",t),enter:Ua(o,"enter",t)}))}}),i}var Xae=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Jae={component:"div",childFactory:function(e){return e}},YR=function(t){V4(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Gae(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Qae(i,a):Yae(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=QR(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=S({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=se(i,["component","childFactory"]),l=this.state.contextValue,u=Xae(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Jr.createElement(Gy.Provider,{value:l},u):Jr.createElement(Gy.Provider,{value:l},Jr.createElement(s,a,u))},e}(Jr.Component);YR.propTypes={};YR.defaultProps=Jae;const Zae=YR,B4=t=>t.scrollTop;function Ky(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function ele(t){return Me("MuiPaper",t)}$e("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const tle=["className","component","elevation","square","variant"],nle=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Fe(s,ele,i)},rle=ne("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return S({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&S({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${po("#fff",xN(e.elevation))}, ${po("#fff",xN(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),ile=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=se(r,tle),c=S({},r,{component:s,elevation:o,square:a,variant:l}),d=nle(c);return C.jsx(rle,S({as:s,ownerState:c,className:fe(d.root,i),ref:n},u))}),Hp=ile;function sle(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=E.useState(!1),h=fe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=fe(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),E.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),C.jsx("span",{className:h,style:f,children:C.jsx("span",{className:p})})}const Gr=$e("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ole=["center","classes","className"];let E0=t=>t,AN,kN,NN,ON;const AI=550,ale=80,lle=jp(AN||(AN=E0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),ule=jp(kN||(kN=E0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),cle=jp(NN||(NN=E0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),dle=ne("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),hle=ne(sle,{name:"MuiTouchRipple",slot:"Ripple"})(ON||(ON=E0`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Gr.rippleVisible,lle,AI,({theme:t})=>t.transitions.easing.easeInOut,Gr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Gr.child,Gr.childLeaving,ule,AI,({theme:t})=>t.transitions.easing.easeInOut,Gr.childPulsate,cle,({theme:t})=>t.transitions.easing.easeInOut),fle=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=se(r,ole),[l,u]=E.useState([]),c=E.useRef(0),d=E.useRef(null);E.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=E.useRef(!1),f=E.useRef(0),p=E.useRef(null),g=E.useRef(null);E.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const v=E.useCallback(w=>{const{pulsate:I,rippleX:b,rippleY:T,rippleSize:x,cb:O}=w;u(R=>[...R,C.jsx(hle,{classes:{ripple:fe(s.ripple,Gr.ripple),rippleVisible:fe(s.rippleVisible,Gr.rippleVisible),ripplePulsate:fe(s.ripplePulsate,Gr.ripplePulsate),child:fe(s.child,Gr.child),childLeaving:fe(s.childLeaving,Gr.childLeaving),childPulsate:fe(s.childPulsate,Gr.childPulsate)},timeout:AI,pulsate:I,rippleX:b,rippleY:T,rippleSize:x},c.current)]),c.current+=1,d.current=O},[s]),m=E.useCallback((w={},I={},b=()=>{})=>{const{pulsate:T=!1,center:x=i||I.pulsate,fakeElement:O=!1}=I;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const R=O?null:g.current,D=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,M,$;if(x||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)z=Math.round(D.width/2),M=Math.round(D.height/2);else{const{clientX:V,clientY:B}=w.touches&&w.touches.length>0?w.touches[0]:w;z=Math.round(V-D.left),M=Math.round(B-D.top)}if(x)$=Math.sqrt((2*D.width**2+D.height**2)/3),$%2===0&&($+=1);else{const V=Math.max(Math.abs((R?R.clientWidth:0)-z),z)*2+2,B=Math.max(Math.abs((R?R.clientHeight:0)-M),M)*2+2;$=Math.sqrt(V**2+B**2)}w!=null&&w.touches?p.current===null&&(p.current=()=>{v({pulsate:T,rippleX:z,rippleY:M,rippleSize:$,cb:b})},f.current=setTimeout(()=>{p.current&&(p.current(),p.current=null)},ale)):v({pulsate:T,rippleX:z,rippleY:M,rippleSize:$,cb:b})},[i,v]),y=E.useCallback(()=>{m({},{pulsate:!0})},[m]),_=E.useCallback((w,I)=>{if(clearTimeout(f.current),(w==null?void 0:w.type)==="touchend"&&p.current){p.current(),p.current=null,f.current=setTimeout(()=>{_(w,I)});return}p.current=null,u(b=>b.length>0?b.slice(1):b),d.current=I},[]);return E.useImperativeHandle(n,()=>({pulsate:y,start:m,stop:_}),[y,m,_]),C.jsx(dle,S({className:fe(Gr.root,s.root,o),ref:g},a,{children:C.jsx(Zae,{component:null,exit:!0,children:l})}))}),ple=fle;function mle(t){return Me("MuiButtonBase",t)}const gle=$e("MuiButtonBase",["root","disabled","focusVisible"]),yle=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],_le=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Fe({root:["root",e&&"disabled",n&&"focusVisible"]},mle,i);return n&&r&&(o.root+=` ${r}`),o},vle=ne("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${gle.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),wle=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:v,onDragLeave:m,onFocus:y,onFocusVisible:_,onKeyDown:w,onKeyUp:I,onMouseDown:b,onMouseLeave:T,onMouseUp:x,onTouchEnd:O,onTouchMove:R,onTouchStart:D,tabIndex:z=0,TouchRippleProps:M,touchRippleRef:$,type:V}=r,B=se(r,yle),K=E.useRef(null),N=E.useRef(null),U=mn(N,$),{isFocusVisibleRef:Y,onFocus:ge,onBlur:ce,ref:Se}=BR(),[ue,ye]=E.useState(!1);u&&ue&&ye(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{ye(!0),K.current.focus()}}),[]);const[Ee,qe]=E.useState(!1);E.useEffect(()=>{qe(!0)},[]);const Ue=Ee&&!c&&!u;E.useEffect(()=>{ue&&h&&!c&&Ee&&N.current.pulsate()},[c,h,ue,Ee]);function Ae(ie,It,wr=d){return fo(Er=>(It&&It(Er),!wr&&N.current&&N.current[ie](Er),!0))}const gt=Ae("start",b),_e=Ae("stop",v),Xe=Ae("stop",m),Te=Ae("stop",x),Le=Ae("stop",ie=>{ue&&ie.preventDefault(),T&&T(ie)}),xe=Ae("start",D),wn=Ae("stop",O),Jt=Ae("stop",R),Pt=Ae("stop",ie=>{ce(ie),Y.current===!1&&ye(!1),p&&p(ie)},!1),Ht=fo(ie=>{K.current||(K.current=ie.currentTarget),ge(ie),Y.current===!0&&(ye(!0),_&&_(ie)),y&&y(ie)}),st=()=>{const ie=K.current;return l&&l!=="button"&&!(ie.tagName==="A"&&ie.href)},He=E.useRef(!1),A=fo(ie=>{h&&!He.current&&ue&&N.current&&ie.key===" "&&(He.current=!0,N.current.stop(ie,()=>{N.current.start(ie)})),ie.target===ie.currentTarget&&st()&&ie.key===" "&&ie.preventDefault(),w&&w(ie),ie.target===ie.currentTarget&&st()&&ie.key==="Enter"&&!u&&(ie.preventDefault(),g&&g(ie))}),H=fo(ie=>{h&&ie.key===" "&&N.current&&ue&&!ie.defaultPrevented&&(He.current=!1,N.current.stop(ie,()=>{N.current.pulsate(ie)})),I&&I(ie),g&&ie.target===ie.currentTarget&&st()&&ie.key===" "&&!ie.defaultPrevented&&g(ie)});let W=l;W==="button"&&(B.href||B.to)&&(W=f);const Z={};W==="button"?(Z.type=V===void 0?"button":V,Z.disabled=u):(!B.href&&!B.to&&(Z.role="button"),u&&(Z["aria-disabled"]=u));const ae=mn(n,Se,K),ve=S({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:z,focusVisible:ue}),pe=_le(ve);return C.jsxs(vle,S({as:W,className:fe(pe.root,a),ownerState:ve,onBlur:Pt,onClick:g,onContextMenu:_e,onFocus:Ht,onKeyDown:A,onKeyUp:H,onMouseDown:gt,onMouseLeave:Le,onMouseUp:Te,onDragLeave:Xe,onTouchEnd:wn,onTouchMove:Jt,onTouchStart:xe,ref:ae,tabIndex:u?-1:z,type:V},Z,B,{children:[o,Ue?C.jsx(ple,S({ref:U,center:s},M)):null]}))}),Ele=wle;function Tle(t){return Me("MuiTypography",t)}$e("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ile=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ble=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${he(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Fe(a,Tle,o)},Sle=ne("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${he(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>S({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),DN={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Cle={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Rle=t=>Cle[t]||t,xle=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiTypography"}),i=Rle(r.color),s=O4(S({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=DN}=s,p=se(s,Ile),g=S({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),v=l||(d?"p":f[h]||DN[h])||"span",m=ble(g);return C.jsx(Sle,S({as:v,ref:n,ownerState:g,className:fe(m.root,a)},p))}),nn=xle;function Ple(t){return Me("MuiAppBar",t)}$e("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Ale=["className","color","enableColorOnDark","position"],kle=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${he(e)}`,`position${he(n)}`]};return Fe(i,Ple,r)},Lm=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Nle=ne(Hp,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${he(n.position)}`],e[`color${he(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return S({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&S({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&S({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&S({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Lm(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Lm(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Lm(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Lm(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Ole=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=se(r,Ale),u=S({},r,{color:s,position:a,enableColorOnDark:o}),c=kle(u);return C.jsx(Nle,S({square:!0,component:"header",ownerState:u,elevation:4,className:fe(c.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),Dle=Ole;function Qy(t){return typeof t=="string"}function nh(t,e,n){return t===void 0||Qy(t)?e:S({},e,{ownerState:S({},e.ownerState,n)})}const Mle={disableDefaultClasses:!1},Lle=E.createContext(Mle);function Fle(t){const{disableDefaultClasses:e}=E.useContext(Lle);return n=>e?"":t(n)}function j4(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function $le(t,e,n){return typeof t=="function"?t(e,n):t}function MN(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Vle(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=fe(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=S({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=S({},n,i,r);return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=j4(S({},i,r)),a=MN(r),l=MN(i),u=e(o),c=fe(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=S({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=S({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const Ule=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Il(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=se(t,Ule),a=s?{}:$le(r,i),{props:l,internalRef:u}=Vle(S({},o,{externalSlotProps:a})),c=mn(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return nh(n,S({},l,{ref:c}),i)}const Ble=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function jle(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function zle(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Wle(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||zle(t))}function qle(t){const e=[],n=[];return Array.from(t.querySelectorAll(Ble)).forEach((r,i)=>{const s=jle(r);s===-1||!Wle(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Hle(){return!0}function Gle(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=qle,isEnabled:o=Hle,open:a}=t,l=E.useRef(!1),u=E.useRef(null),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=E.useRef(!1),p=E.useRef(null),g=mn(e.ref,p),v=E.useRef(null);E.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!p.current)return;const _=jn(p.current);return p.current.contains(_.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),E.useEffect(()=>{if(!a||!p.current)return;const _=jn(p.current),w=T=>{v.current=T,!(r||!o()||T.key!=="Tab")&&_.activeElement===p.current&&T.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{const T=p.current;if(T===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(_.activeElement)||r&&_.activeElement!==u.current&&_.activeElement!==c.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let x=[];if((_.activeElement===u.current||_.activeElement===c.current)&&(x=s(p.current)),x.length>0){var O,R;const D=!!((O=v.current)!=null&&O.shiftKey&&((R=v.current)==null?void 0:R.key)==="Tab"),z=x[0],M=x[x.length-1];typeof z!="string"&&typeof M!="string"&&(D?M.focus():z.focus())}else T.focus()};_.addEventListener("focusin",I),_.addEventListener("keydown",w,!0);const b=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(b),_.removeEventListener("focusin",I),_.removeEventListener("keydown",w,!0)}},[n,r,i,o,a,s]);const m=_=>{d.current===null&&(d.current=_.relatedTarget),f.current=!0,h.current=_.target;const w=e.props.onFocus;w&&w(_)},y=_=>{d.current===null&&(d.current=_.relatedTarget),f.current=!0};return C.jsxs(E.Fragment,{children:[C.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:g,onFocus:m}),C.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}var gr="top",li="bottom",ui="right",yr="left",XR="auto",Gp=[gr,li,ui,yr],Sc="start",Qf="end",Kle="clippingParents",z4="viewport",Dd="popper",Qle="reference",LN=Gp.reduce(function(t,e){return t.concat([e+"-"+Sc,e+"-"+Qf])},[]),W4=[].concat(Gp,[XR]).reduce(function(t,e){return t.concat([e,e+"-"+Sc,e+"-"+Qf])},[]),Yle="beforeRead",Xle="read",Jle="afterRead",Zle="beforeMain",eue="main",tue="afterMain",nue="beforeWrite",rue="write",iue="afterWrite",sue=[Yle,Xle,Jle,Zle,eue,tue,nue,rue,iue];function cs(t){return t?(t.nodeName||"").toLowerCase():null}function jr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function bl(t){var e=jr(t).Element;return t instanceof e||t instanceof Element}function ni(t){var e=jr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function JR(t){if(typeof ShadowRoot>"u")return!1;var e=jr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function oue(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ni(s)||!cs(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function aue(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!ni(i)||!cs(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const lue={name:"applyStyles",enabled:!0,phase:"write",fn:oue,effect:aue,requires:["computeStyles"]};function rs(t){return t.split("-")[0]}var Ya=Math.max,Yy=Math.min,Cc=Math.round;function kI(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function q4(){return!/^((?!chrome|android).)*safari/i.test(kI())}function Rc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ni(t)&&(i=t.offsetWidth>0&&Cc(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Cc(r.height)/t.offsetHeight||1);var o=bl(t)?jr(t):window,a=o.visualViewport,l=!q4()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function ZR(t){var e=Rc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function H4(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&JR(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fs(t){return jr(t).getComputedStyle(t)}function uue(t){return["table","td","th"].indexOf(cs(t))>=0}function la(t){return((bl(t)?t.ownerDocument:t.document)||window.document).documentElement}function T0(t){return cs(t)==="html"?t:t.assignedSlot||t.parentNode||(JR(t)?t.host:null)||la(t)}function FN(t){return!ni(t)||Fs(t).position==="fixed"?null:t.offsetParent}function cue(t){var e=/firefox/i.test(kI()),n=/Trident/i.test(kI());if(n&&ni(t)){var r=Fs(t);if(r.position==="fixed")return null}var i=T0(t);for(JR(i)&&(i=i.host);ni(i)&&["html","body"].indexOf(cs(i))<0;){var s=Fs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Kp(t){for(var e=jr(t),n=FN(t);n&&uue(n)&&Fs(n).position==="static";)n=FN(n);return n&&(cs(n)==="html"||cs(n)==="body"&&Fs(n).position==="static")?e:n||cue(t)||e}function ex(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ph(t,e,n){return Ya(t,Yy(e,n))}function due(t,e,n){var r=Ph(t,e,n);return r>n?n:r}function G4(){return{top:0,right:0,bottom:0,left:0}}function K4(t){return Object.assign({},G4(),t)}function Q4(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var hue=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,K4(typeof e!="number"?e:Q4(e,Gp))};function fue(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=rs(n.placement),l=ex(a),u=[yr,ui].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=hue(i.padding,n),h=ZR(s),f=l==="y"?gr:yr,p=l==="y"?li:ui,g=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],v=o[l]-n.rects.reference[l],m=Kp(s),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,_=g/2-v/2,w=d[f],I=y-h[c]-d[p],b=y/2-h[c]/2+_,T=Ph(w,b,I),x=l;n.modifiersData[r]=(e={},e[x]=T,e.centerOffset=T-b,e)}}function pue(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||H4(e.elements.popper,i)&&(e.elements.arrow=i))}const mue={name:"arrow",enabled:!0,phase:"main",fn:fue,effect:pue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xc(t){return t.split("-")[1]}var gue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yue(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Cc(n*i)/i||0,y:Cc(r*i)/i||0}}function $N(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,g=p===void 0?0:p,v=typeof c=="function"?c({x:f,y:g}):{x:f,y:g};f=v.x,g=v.y;var m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),_=yr,w=gr,I=window;if(u){var b=Kp(n),T="clientHeight",x="clientWidth";if(b===jr(n)&&(b=la(n),Fs(b).position!=="static"&&a==="absolute"&&(T="scrollHeight",x="scrollWidth")),b=b,i===gr||(i===yr||i===ui)&&s===Qf){w=li;var O=d&&b===I&&I.visualViewport?I.visualViewport.height:b[T];g-=O-r.height,g*=l?1:-1}if(i===yr||(i===gr||i===li)&&s===Qf){_=ui;var R=d&&b===I&&I.visualViewport?I.visualViewport.width:b[x];f-=R-r.width,f*=l?1:-1}}var D=Object.assign({position:a},u&&gue),z=c===!0?yue({x:f,y:g},jr(n)):{x:f,y:g};if(f=z.x,g=z.y,l){var M;return Object.assign({},D,(M={},M[w]=y?"0":"",M[_]=m?"0":"",M.transform=(I.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",M))}return Object.assign({},D,(e={},e[w]=y?g+"px":"",e[_]=m?f+"px":"",e.transform="",e))}function _ue(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:rs(e.placement),variation:xc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$N(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$N(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const vue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_ue,data:{}};var Fm={passive:!0};function wue(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=jr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Fm)}),a&&l.addEventListener("resize",n.update,Fm),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Fm)}),a&&l.removeEventListener("resize",n.update,Fm)}}const Eue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wue,data:{}};var Tue={left:"right",right:"left",bottom:"top",top:"bottom"};function Eg(t){return t.replace(/left|right|bottom|top/g,function(e){return Tue[e]})}var Iue={start:"end",end:"start"};function VN(t){return t.replace(/start|end/g,function(e){return Iue[e]})}function tx(t){var e=jr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function nx(t){return Rc(la(t)).left+tx(t).scrollLeft}function bue(t,e){var n=jr(t),r=la(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=q4();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+nx(t),y:l}}function Sue(t){var e,n=la(t),r=tx(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ya(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ya(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+nx(t),l=-r.scrollTop;return Fs(i||n).direction==="rtl"&&(a+=Ya(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function rx(t){var e=Fs(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Y4(t){return["html","body","#document"].indexOf(cs(t))>=0?t.ownerDocument.body:ni(t)&&rx(t)?t:Y4(T0(t))}function Ah(t,e){var n;e===void 0&&(e=[]);var r=Y4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=jr(r),o=i?[s].concat(s.visualViewport||[],rx(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ah(T0(o)))}function NI(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Cue(t,e){var n=Rc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function UN(t,e,n){return e===z4?NI(bue(t,n)):bl(e)?Cue(e,n):NI(Sue(la(t)))}function Rue(t){var e=Ah(T0(t)),n=["absolute","fixed"].indexOf(Fs(t).position)>=0,r=n&&ni(t)?Kp(t):t;return bl(r)?e.filter(function(i){return bl(i)&&H4(i,r)&&cs(i)!=="body"}):[]}function xue(t,e,n,r){var i=e==="clippingParents"?Rue(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=UN(t,u,r);return l.top=Ya(c.top,l.top),l.right=Yy(c.right,l.right),l.bottom=Yy(c.bottom,l.bottom),l.left=Ya(c.left,l.left),l},UN(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function X4(t){var e=t.reference,n=t.element,r=t.placement,i=r?rs(r):null,s=r?xc(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case gr:l={x:o,y:e.y-n.height};break;case li:l={x:o,y:e.y+e.height};break;case ui:l={x:e.x+e.width,y:a};break;case yr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?ex(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Sc:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Qf:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Yf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Kle:a,u=n.rootBoundary,c=u===void 0?z4:u,d=n.elementContext,h=d===void 0?Dd:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,v=g===void 0?0:g,m=K4(typeof v!="number"?v:Q4(v,Gp)),y=h===Dd?Qle:Dd,_=t.rects.popper,w=t.elements[p?y:h],I=xue(bl(w)?w:w.contextElement||la(t.elements.popper),l,c,o),b=Rc(t.elements.reference),T=X4({reference:b,element:_,strategy:"absolute",placement:i}),x=NI(Object.assign({},_,T)),O=h===Dd?x:b,R={top:I.top-O.top+m.top,bottom:O.bottom-I.bottom+m.bottom,left:I.left-O.left+m.left,right:O.right-I.right+m.right},D=t.modifiersData.offset;if(h===Dd&&D){var z=D[i];Object.keys(R).forEach(function(M){var $=[ui,li].indexOf(M)>=0?1:-1,V=[gr,li].indexOf(M)>=0?"y":"x";R[M]+=z[V]*$})}return R}function Pue(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?W4:l,c=xc(r),d=c?a?LN:LN.filter(function(p){return xc(p)===c}):Gp,h=d.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=Yf(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[rs(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function Aue(t){if(rs(t)===XR)return[];var e=Eg(t);return[VN(t),e,VN(e)]}function kue(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,v=e.options.placement,m=rs(v),y=m===v,_=l||(y||!p?[Eg(v)]:Aue(v)),w=[v].concat(_).reduce(function(ue,ye){return ue.concat(rs(ye)===XR?Pue(e,{placement:ye,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:g}):ye)},[]),I=e.rects.reference,b=e.rects.popper,T=new Map,x=!0,O=w[0],R=0;R<w.length;R++){var D=w[R],z=rs(D),M=xc(D)===Sc,$=[gr,li].indexOf(z)>=0,V=$?"width":"height",B=Yf(e,{placement:D,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),K=$?M?ui:yr:M?li:gr;I[V]>b[V]&&(K=Eg(K));var N=Eg(K),U=[];if(s&&U.push(B[z]<=0),a&&U.push(B[K]<=0,B[N]<=0),U.every(function(ue){return ue})){O=D,x=!1;break}T.set(D,U)}if(x)for(var Y=p?3:1,ge=function(ye){var Ee=w.find(function(qe){var Ue=T.get(qe);if(Ue)return Ue.slice(0,ye).every(function(Ae){return Ae})});if(Ee)return O=Ee,"break"},ce=Y;ce>0;ce--){var Se=ge(ce);if(Se==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const Nue={name:"flip",enabled:!0,phase:"main",fn:kue,requiresIfExists:["offset"],data:{_skip:!1}};function BN(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function jN(t){return[gr,ui,li,yr].some(function(e){return t[e]>=0})}function Oue(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Yf(e,{elementContext:"reference"}),a=Yf(e,{altBoundary:!0}),l=BN(o,r),u=BN(a,i,s),c=jN(l),d=jN(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Due={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Oue};function Mue(t,e,n){var r=rs(t),i=[yr,gr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[yr,ui].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Lue(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=W4.reduce(function(c,d){return c[d]=Mue(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const Fue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Lue};function $ue(t){var e=t.state,n=t.name;e.modifiersData[n]=X4({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Vue={name:"popperOffsets",enabled:!0,phase:"read",fn:$ue,data:{}};function Uue(t){return t==="x"?"y":"x"}function Bue(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,v=Yf(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=rs(e.placement),y=xc(e.placement),_=!y,w=ex(m),I=Uue(w),b=e.modifiersData.popperOffsets,T=e.rects.reference,x=e.rects.popper,O=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,R=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(b){if(s){var M,$=w==="y"?gr:yr,V=w==="y"?li:ui,B=w==="y"?"height":"width",K=b[w],N=K+v[$],U=K-v[V],Y=f?-x[B]/2:0,ge=y===Sc?T[B]:x[B],ce=y===Sc?-x[B]:-T[B],Se=e.elements.arrow,ue=f&&Se?ZR(Se):{width:0,height:0},ye=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:G4(),Ee=ye[$],qe=ye[V],Ue=Ph(0,T[B],ue[B]),Ae=_?T[B]/2-Y-Ue-Ee-R.mainAxis:ge-Ue-Ee-R.mainAxis,gt=_?-T[B]/2+Y+Ue+qe+R.mainAxis:ce+Ue+qe+R.mainAxis,_e=e.elements.arrow&&Kp(e.elements.arrow),Xe=_e?w==="y"?_e.clientTop||0:_e.clientLeft||0:0,Te=(M=D==null?void 0:D[w])!=null?M:0,Le=K+Ae-Te-Xe,xe=K+gt-Te,wn=Ph(f?Yy(N,Le):N,K,f?Ya(U,xe):U);b[w]=wn,z[w]=wn-K}if(a){var Jt,Pt=w==="x"?gr:yr,Ht=w==="x"?li:ui,st=b[I],He=I==="y"?"height":"width",A=st+v[Pt],H=st-v[Ht],W=[gr,yr].indexOf(m)!==-1,Z=(Jt=D==null?void 0:D[I])!=null?Jt:0,ae=W?A:st-T[He]-x[He]-Z+R.altAxis,ve=W?st+T[He]+x[He]-Z-R.altAxis:H,pe=f&&W?due(ae,st,ve):Ph(f?ae:A,st,f?ve:H);b[I]=pe,z[I]=pe-st}e.modifiersData[r]=z}}const jue={name:"preventOverflow",enabled:!0,phase:"main",fn:Bue,requiresIfExists:["offset"]};function zue(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Wue(t){return t===jr(t)||!ni(t)?tx(t):zue(t)}function que(t){var e=t.getBoundingClientRect(),n=Cc(e.width)/t.offsetWidth||1,r=Cc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Hue(t,e,n){n===void 0&&(n=!1);var r=ni(e),i=ni(e)&&que(e),s=la(e),o=Rc(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((cs(e)!=="body"||rx(s))&&(a=Wue(e)),ni(e)?(l=Rc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=nx(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Gue(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Kue(t){var e=Gue(t);return sue.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Que(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Yue(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var zN={placement:"bottom",modifiers:[],strategy:"absolute"};function WN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Xue(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?zN:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},zN,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(m){var y=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},s,c.options,y),c.scrollParents={reference:bl(a)?Ah(a):a.contextElement?Ah(a.contextElement):[],popper:Ah(l)};var _=Kue(Yue([].concat(r,c.options.modifiers)));return c.orderedModifiers=_.filter(function(w){return w.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var m=c.elements,y=m.reference,_=m.popper;if(WN(y,_)){c.rects={reference:Hue(y,Kp(_),c.options.strategy==="fixed"),popper:ZR(_)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var I=c.orderedModifiers[w],b=I.fn,T=I.options,x=T===void 0?{}:T,O=I.name;typeof b=="function"&&(c=b({state:c,options:x,name:O,instance:f})||c)}}}},update:Que(function(){return new Promise(function(v){f.forceUpdate(),v(c)})}),destroy:function(){g(),h=!0}};if(!WN(a,l))return f;f.setOptions(u).then(function(v){!h&&u.onFirstUpdate&&u.onFirstUpdate(v)});function p(){c.orderedModifiers.forEach(function(v){var m=v.name,y=v.options,_=y===void 0?{}:y,w=v.effect;if(typeof w=="function"){var I=w({state:c,name:m,instance:f,options:_}),b=function(){};d.push(I||b)}})}function g(){d.forEach(function(v){return v()}),d=[]}return f}}var Jue=[Eue,Vue,vue,lue,Fue,Nue,jue,mue,Due],Zue=Xue({defaultModifiers:Jue});function ece(t){return typeof t=="function"?t():t}const J4=E.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=E.useState(null),l=mn(E.isValidElement(r)?r.ref:null,n);if(us(()=>{s||a(ece(i)||document.body)},[i,s]),us(()=>{if(o&&!s)return jy(n,o),()=>{jy(n,null)}},[n,o,s]),s){if(E.isValidElement(r)){const u={ref:l};return E.cloneElement(r,u)}return C.jsx(E.Fragment,{children:r})}return C.jsx(E.Fragment,{children:o&&w_.createPortal(r,o)})});function tce(t){return Me("MuiPopper",t)}$e("MuiPopper",["root"]);const nce=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],rce=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ice(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function OI(t){return typeof t=="function"?t():t}function sce(t){return t.nodeType!==void 0}const oce=()=>Fe({root:["root"]},Fle(tce)),ace={},lce=E.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:g}=e,v=se(e,nce),m=E.useRef(null),y=mn(m,n),_=E.useRef(null),w=mn(_,h),I=E.useRef(w);us(()=>{I.current=w},[w]),E.useImperativeHandle(h,()=>_.current,[]);const b=ice(c,o),[T,x]=E.useState(b),[O,R]=E.useState(OI(i));E.useEffect(()=>{_.current&&_.current.forceUpdate()}),E.useEffect(()=>{i&&R(OI(i))},[i]),us(()=>{if(!O||!u)return;const V=N=>{x(N.placement)};let B=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:N})=>{V(N)}}];l!=null&&(B=B.concat(l)),d&&d.modifiers!=null&&(B=B.concat(d.modifiers));const K=Zue(O,m.current,S({placement:b},d,{modifiers:B}));return I.current(K),()=>{K.destroy(),I.current(null)}},[O,a,l,u,d,b]);const D={placement:T};g!==null&&(D.TransitionProps=g);const z=oce(),M=(r=p.root)!=null?r:"div",$=Il({elementType:M,externalSlotProps:f.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:z.root});return C.jsx(M,S({},$,{children:typeof s=="function"?s(D):s}))}),uce=E.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=ace,popperRef:f,style:p,transition:g=!1,slotProps:v={},slots:m={}}=e,y=se(e,rce),[_,w]=E.useState(!0),I=()=>{w(!1)},b=()=>{w(!0)};if(!l&&!c&&(!g||_))return null;let T;if(s)T=s;else if(r){const R=OI(r);T=R&&sce(R)?jn(R).body:jn(null).body}const x=!c&&l&&(!g||_)?"none":void 0,O=g?{in:c,onEnter:I,onExited:b}:void 0;return C.jsx(J4,{disablePortal:a,container:T,children:C.jsx(lce,S({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:g?!_:c,placement:d,popperOptions:h,popperRef:f,slotProps:v,slots:m},y,{style:S({position:"fixed",top:0,left:0,display:x},p),TransitionProps:O,children:i}))})});function cce(t){const e=jn(t);return e.body===t?Yo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function kh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function qN(t){return parseInt(Yo(t).getComputedStyle(t).paddingRight,10)||0}function dce(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function HN(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!dce(o);a&&l&&kh(o,i)})}function Zw(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function hce(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(cce(r)){const o=x4(jn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${qN(r)+o}px`;const a=jn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${qN(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=jn(r).body;else{const o=r.parentElement,a=Yo(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function fce(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class pce{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&kh(e.modalRef,!1);const i=fce(n);HN(n,e.mount,e.modalRef,i,!0);const s=Zw(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Zw(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=hce(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Zw(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&kh(e.modalRef,n),HN(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&kh(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function mce(t){return typeof t=="function"?t():t}function gce(t){return t?t.props.hasOwnProperty("in"):!1}const yce=new pce;function _ce(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=yce,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=E.useRef({}),f=E.useRef(null),p=E.useRef(null),g=mn(p,d),[v,m]=E.useState(!c),y=gce(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const w=()=>jn(f.current),I=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),b=()=>{i.mount(I(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},T=fo(()=>{const B=mce(e)||w().body;i.add(I(),B),p.current&&b()}),x=E.useCallback(()=>i.isTopModal(I()),[i]),O=fo(B=>{f.current=B,B&&(c&&x()?b():p.current&&kh(p.current,_))}),R=E.useCallback(()=>{i.remove(I(),_)},[_,i]);E.useEffect(()=>()=>{R()},[R]),E.useEffect(()=>{c?T():(!y||!s)&&R()},[c,R,y,s,T]);const D=B=>K=>{var N;(N=B.onKeyDown)==null||N.call(B,K),!(K.key!=="Escape"||K.which===229||!x())&&(n||(K.stopPropagation(),u&&u(K,"escapeKeyDown")))},z=B=>K=>{var N;(N=B.onClick)==null||N.call(B,K),K.target===K.currentTarget&&u&&u(K,"backdropClick")};return{getRootProps:(B={})=>{const K=j4(t);delete K.onTransitionEnter,delete K.onTransitionExited;const N=S({},K,B);return S({role:"presentation"},N,{onKeyDown:D(N),ref:g})},getBackdropProps:(B={})=>{const K=B;return S({"aria-hidden":!0},K,{onClick:z(K),open:c})},getTransitionProps:()=>{const B=()=>{m(!1),o&&o()},K=()=>{m(!0),a&&a(),s&&R()};return{onEnter:SI(B,l==null?void 0:l.props.onEnter),onExited:SI(K,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:O,isTopModal:x,exited:v,hasTransition:y}}const vce=["onChange","maxRows","minRows","style","value"];function $m(t){return parseInt(t,10)||0}const wce={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function GN(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Ece=E.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=se(e,vce),{current:u}=E.useRef(a!=null),c=E.useRef(null),d=mn(n,c),h=E.useRef(null),f=E.useRef(0),[p,g]=E.useState({outerHeightStyle:0}),v=E.useCallback(()=>{const w=c.current,b=Yo(w).getComputedStyle(w);if(b.width==="0px")return{outerHeightStyle:0};const T=h.current;T.style.width=b.width,T.value=w.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const x=b.boxSizing,O=$m(b.paddingBottom)+$m(b.paddingTop),R=$m(b.borderBottomWidth)+$m(b.borderTopWidth),D=T.scrollHeight;T.value="x";const z=T.scrollHeight;let M=D;s&&(M=Math.max(Number(s)*z,M)),i&&(M=Math.min(Number(i)*z,M)),M=Math.max(M,z);const $=M+(x==="border-box"?O+R:0),V=Math.abs(M-D)<=1;return{outerHeightStyle:$,overflow:V}},[i,s,e.placeholder]),m=(w,I)=>{const{outerHeightStyle:b,overflow:T}=I;return f.current<20&&(b>0&&Math.abs((w.outerHeightStyle||0)-b)>1||w.overflow!==T)?(f.current+=1,{overflow:T,outerHeightStyle:b}):w},y=E.useCallback(()=>{const w=v();GN(w)||g(I=>m(I,w))},[v]);us(()=>{const w=()=>{const D=v();GN(D)||w_.flushSync(()=>{g(z=>m(z,D))})},I=()=>{f.current=0,w()};let b;const T=UR(I),x=c.current,O=Yo(x);O.addEventListener("resize",T);let R;return typeof ResizeObserver<"u"&&(R=new ResizeObserver(I),R.observe(x)),()=>{T.clear(),cancelAnimationFrame(b),O.removeEventListener("resize",T),R&&R.disconnect()}},[v]),us(()=>{y()}),E.useEffect(()=>{f.current=0},[a]);const _=w=>{f.current=0,u||y(),r&&r(w)};return C.jsxs(E.Fragment,{children:[C.jsx("textarea",S({value:a,onChange:_,ref:d,rows:s,style:S({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},o)},l)),C.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:S({},wce.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),Tce=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Ice=ne(uce,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),bce=E.forwardRef(function(e,n){var r;const i=N4(),s=Ve({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:v,popperRef:m,transition:y,slots:_,slotProps:w}=s,I=se(s,Tce),b=(r=_==null?void 0:_.root)!=null?r:l==null?void 0:l.Root,T=S({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:v,popperRef:m,transition:y},I);return C.jsx(Ice,S({as:a,direction:i==null?void 0:i.direction,slots:{root:b},slotProps:w??u},T,{ref:n}))}),Z4=bce;function nd({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Sce=E.createContext(void 0),ix=Sce;function rd(){return E.useContext(ix)}function Cce(t){return C.jsx(Boe,S({},t,{defaultTheme:w0,themeId:$v}))}function KN(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Xy(t,e=!1){return t&&(KN(t.value)&&t.value!==""||e&&KN(t.defaultValue)&&t.defaultValue!=="")}function Rce(t){return t.startAdornment}function xce(t){return Me("MuiInputBase",t)}const Pce=$e("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Pc=Pce,Ace=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],I0=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${he(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},b0=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},kce=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,g={root:["root",`color${he(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${he(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Fe(g,xce,e)},S0=ne("div",{name:"MuiInputBase",slot:"Root",overridesResolver:I0})(({theme:t,ownerState:e})=>S({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Pc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&S({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),C0=ne("input",{name:"MuiInputBase",slot:"Input",overridesResolver:b0})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=S({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return S({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Pc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Pc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Nce=C.jsx(Cce,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Oce=E.forwardRef(function(e,n){var r;const i=Ve({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:g=!1,id:v,inputComponent:m="input",inputProps:y={},inputRef:_,maxRows:w,minRows:I,multiline:b=!1,name:T,onBlur:x,onChange:O,onClick:R,onFocus:D,onKeyDown:z,onKeyUp:M,placeholder:$,readOnly:V,renderSuffix:B,rows:K,slotProps:N={},slots:U={},startAdornment:Y,type:ge="text",value:ce}=i,Se=se(i,Ace),ue=y.value!=null?y.value:ce,{current:ye}=E.useRef(ue!=null),Ee=E.useRef(),qe=E.useCallback(pe=>{},[]),Ue=mn(Ee,_,y.ref,qe),[Ae,gt]=E.useState(!1),_e=rd(),Xe=nd({props:i,muiFormControl:_e,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Xe.focused=_e?_e.focused:Ae,E.useEffect(()=>{!_e&&h&&Ae&&(gt(!1),x&&x())},[_e,h,Ae,x]);const Te=_e&&_e.onFilled,Le=_e&&_e.onEmpty,xe=E.useCallback(pe=>{Xy(pe)?Te&&Te():Le&&Le()},[Te,Le]);us(()=>{ye&&xe({value:ue})},[ue,xe,ye]);const wn=pe=>{if(Xe.disabled){pe.stopPropagation();return}D&&D(pe),y.onFocus&&y.onFocus(pe),_e&&_e.onFocus?_e.onFocus(pe):gt(!0)},Jt=pe=>{x&&x(pe),y.onBlur&&y.onBlur(pe),_e&&_e.onBlur?_e.onBlur(pe):gt(!1)},Pt=(pe,...ie)=>{if(!ye){const It=pe.target||Ee.current;if(It==null)throw new Error(Qo(1));xe({value:It.value})}y.onChange&&y.onChange(pe,...ie),O&&O(pe,...ie)};E.useEffect(()=>{xe(Ee.current)},[]);const Ht=pe=>{Ee.current&&pe.currentTarget===pe.target&&Ee.current.focus(),R&&R(pe)};let st=m,He=y;b&&st==="input"&&(K?He=S({type:void 0,minRows:K,maxRows:K},He):He=S({type:void 0,maxRows:w,minRows:I},He),st=Ece);const A=pe=>{xe(pe.animationName==="mui-auto-fill-cancel"?Ee.current:{value:"x"})};E.useEffect(()=>{_e&&_e.setAdornedStart(!!Y)},[_e,Y]);const H=S({},i,{color:Xe.color||"primary",disabled:Xe.disabled,endAdornment:p,error:Xe.error,focused:Xe.focused,formControl:_e,fullWidth:g,hiddenLabel:Xe.hiddenLabel,multiline:b,size:Xe.size,startAdornment:Y,type:ge}),W=kce(H),Z=U.root||u.Root||S0,ae=N.root||c.root||{},ve=U.input||u.Input||C0;return He=S({},He,(r=N.input)!=null?r:c.input),C.jsxs(E.Fragment,{children:[!f&&Nce,C.jsxs(Z,S({},ae,!Qy(Z)&&{ownerState:S({},H,ae.ownerState)},{ref:n,onClick:Ht},Se,{className:fe(W.root,ae.className,l,V&&"MuiInputBase-readOnly"),children:[Y,C.jsx(ix.Provider,{value:null,children:C.jsx(ve,S({ownerState:H,"aria-invalid":Xe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Xe.disabled,id:v,onAnimationStart:A,name:T,placeholder:$,readOnly:V,required:Xe.required,rows:K,value:ue,onKeyDown:z,onKeyUp:M,type:ge},He,!Qy(ve)&&{as:st,ownerState:S({},H,He.ownerState)},{ref:Ue,className:fe(W.input,He.className,V&&"MuiInputBase-readOnly"),onBlur:Jt,onChange:Pt,onFocus:wn}))}),p,B?B(S({},Xe,{startAdornment:Y})):null]}))]})}),sx=Oce;function Dce(t){return Me("MuiInput",t)}const Mce=S({},Pc,$e("MuiInput",["root","underline","input"])),Md=Mce;function Lce(t){return Me("MuiOutlinedInput",t)}const Fce=S({},Pc,$e("MuiOutlinedInput",["root","notchedOutline","input"])),Js=Fce;function $ce(t){return Me("MuiFilledInput",t)}const Vce=S({},Pc,$e("MuiFilledInput",["root","underline","input"])),da=Vce,Uce=$4(C.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Bce=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],jce={entering:{opacity:1},entered:{opacity:1}},zce=E.forwardRef(function(e,n){const r=td(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:g,style:v,timeout:m=i,TransitionComponent:y=U4}=e,_=se(e,Bce),w=E.useRef(null),I=mn(w,a.ref,n),b=$=>V=>{if($){const B=w.current;V===void 0?$(B):$(B,V)}},T=b(h),x=b(($,V)=>{B4($);const B=Ky({style:v,timeout:m,easing:l},{mode:"enter"});$.style.webkitTransition=r.transitions.create("opacity",B),$.style.transition=r.transitions.create("opacity",B),c&&c($,V)}),O=b(d),R=b(g),D=b($=>{const V=Ky({style:v,timeout:m,easing:l},{mode:"exit"});$.style.webkitTransition=r.transitions.create("opacity",V),$.style.transition=r.transitions.create("opacity",V),f&&f($)}),z=b(p),M=$=>{s&&s(w.current,$)};return C.jsx(y,S({appear:o,in:u,nodeRef:w,onEnter:x,onEntered:O,onEntering:T,onExit:D,onExited:z,onExiting:R,addEndListener:M,timeout:m},_,{children:($,V)=>E.cloneElement(a,S({style:S({opacity:0,visibility:$==="exited"&&!u?"hidden":void 0},jce[$],v,a.props.style),ref:I},V))}))}),ej=zce;function Wce(t){return Me("MuiBackdrop",t)}$e("MuiBackdrop",["root","invisible"]);const qce=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Hce=t=>{const{classes:e,invisible:n}=t;return Fe({root:["root",n&&"invisible"]},Wce,e)},Gce=ne("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>S({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Kce=E.forwardRef(function(e,n){var r,i,s;const o=Ve({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:p={},slots:g={},TransitionComponent:v=ej,transitionDuration:m}=o,y=se(o,qce),_=S({},o,{component:u,invisible:h}),w=Hce(_),I=(r=p.root)!=null?r:d.root;return C.jsx(v,S({in:f,timeout:m},y,{children:C.jsx(Gce,S({"aria-hidden":!0},I,{as:(i=(s=g.root)!=null?s:c.Root)!=null?i:u,className:fe(w.root,l,I==null?void 0:I.className),ownerState:S({},_,I==null?void 0:I.ownerState),classes:w,ref:n,children:a}))}))}),tj=Kce;function Qce(t){return Me("MuiButton",t)}const Yce=$e("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Vm=Yce,Xce=E.createContext({}),Jce=Xce,Zce=E.createContext(void 0),ede=Zce,tde=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],nde=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${he(e)}`,`size${he(i)}`,`${s}Size${he(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${he(i)}`],endIcon:["endIcon",`iconSize${he(i)}`]},l=Fe(a,Qce,o);return S({},o,l)},nj=t=>S({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),rde=ne(Ele,{shouldForwardProp:t=>Oi(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${he(n.color)}`],e[`size${he(n.size)}`],e[`${n.variant}Size${he(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return S({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":S({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:po(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:po(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:po(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":S({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Vm.focusVisible}`]:S({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Vm.disabled}`]:S({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${po(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Vm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Vm.disabled}`]:{boxShadow:"none"}}),ide=ne("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${he(n.size)}`]]}})(({ownerState:t})=>S({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},nj(t))),sde=ne("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${he(n.size)}`]]}})(({ownerState:t})=>S({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},nj(t))),ode=E.forwardRef(function(e,n){const r=E.useContext(Jce),i=E.useContext(ede),s=jR(r,e),o=Ve({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:g,fullWidth:v=!1,size:m="medium",startIcon:y,type:_,variant:w="text"}=o,I=se(o,tde),b=S({},o,{color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:v,size:m,type:_,variant:w}),T=nde(b),x=y&&C.jsx(ide,{className:T.startIcon,ownerState:b,children:y}),O=p&&C.jsx(sde,{className:T.endIcon,ownerState:b,children:p}),R=i||"";return C.jsxs(rde,S({ownerState:b,className:fe(r.className,T.root,c,R),component:u,disabled:d,focusRipple:!f,focusVisibleClassName:fe(T.focusVisible,g),ref:n,type:_},I,{classes:T,children:[x,a,O]}))}),Nr=ode;function ade(t){return Me("MuiCard",t)}$e("MuiCard",["root"]);const lde=["className","raised"],ude=t=>{const{classes:e}=t;return Fe({root:["root"]},ade,e)},cde=ne(Hp,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),dde=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=se(r,lde),a=S({},r,{raised:s}),l=ude(a);return C.jsx(cde,S({className:fe(l.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))}),Qp=dde;function hde(t){return Me("MuiCardContent",t)}$e("MuiCardContent",["root"]);const fde=["className","component"],pde=t=>{const{classes:e}=t;return Fe({root:["root"]},hde,e)},mde=ne("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),gde=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=se(r,fde),a=S({},r,{component:s}),l=pde(a);return C.jsx(mde,S({as:s,className:fe(l.root,i),ownerState:a,ref:n},o))}),Yp=gde;function yde(t){return Me("MuiCardMedia",t)}$e("MuiCardMedia",["root","media","img"]);const _de=["children","className","component","image","src","style"],vde=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Fe({root:["root",n&&"media",r&&"img"]},yde,e)},wde=ne("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>S({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),Ede=["video","audio","picture","iframe","img"],Tde=["picture","img"],Ide=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:l,style:u}=r,c=se(r,_de),d=Ede.indexOf(o)!==-1,h=!d&&a?S({backgroundImage:`url("${a}")`},u):u,f=S({},r,{component:o,isMediaComponent:d,isImageComponent:Tde.indexOf(o)!==-1}),p=vde(f);return C.jsx(wde,S({className:fe(p.root,s),as:o,role:!d&&a?"img":void 0,ref:n,style:h,ownerState:f,src:d?a||l:void 0},c,{children:i}))}),rj=Ide;function bde(t){return Me("MuiCircularProgress",t)}$e("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Sde=["className","color","disableShrink","size","style","thickness","value","variant"];let R0=t=>t,QN,YN,XN,JN;const Zs=44,Cde=jp(QN||(QN=R0`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Rde=jp(YN||(YN=R0`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),xde=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${he(r)}`],svg:["svg"],circle:["circle",`circle${he(n)}`,i&&"circleDisableShrink"]};return Fe(s,bde,e)},Pde=ne("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${he(n.color)}`]]}})(({ownerState:t,theme:e})=>S({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&FR(XN||(XN=R0`
      animation: ${0} 1.4s linear infinite;
    `),Cde)),Ade=ne("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),kde=ne("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${he(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>S({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&FR(JN||(JN=R0`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Rde)),Nde=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=se(r,Sde),f=S({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),p=xde(f),g={},v={},m={};if(d==="determinate"){const y=2*Math.PI*((Zs-u)/2);g.strokeDasharray=y.toFixed(3),m["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*y).toFixed(3)}px`,v.transform="rotate(-90deg)"}return C.jsx(Pde,S({className:fe(p.root,i),style:S({width:a,height:a},v,l),ownerState:f,ref:n,role:"progressbar"},m,h,{children:C.jsx(Ade,{className:p.svg,ownerState:f,viewBox:`${Zs/2} ${Zs/2} ${Zs} ${Zs}`,children:C.jsx(kde,{className:p.circle,style:g,ownerState:f,cx:Zs,cy:Zs,r:(Zs-u)/2,fill:"none",strokeWidth:u})})}))}),Ode=Nde,Dde=hae({createStyledComponent:ne("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${he(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Ve({props:t,name:"MuiContainer"})}),Mde=Dde;function Lde(t){return Me("MuiModal",t)}$e("MuiModal",["root","hidden","backdrop"]);const Fde=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],$de=t=>{const{open:e,exited:n,classes:r}=t;return Fe({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Lde,r)},Vde=ne("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>S({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Ude=ne(tj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Bde=E.forwardRef(function(e,n){var r,i,s,o,a,l;const u=Ve({name:"MuiModal",props:e}),{BackdropComponent:c=Ude,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:g,component:v,components:m={},componentsProps:y={},disableAutoFocus:_=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:I=!1,disablePortal:b=!1,disableRestoreFocus:T=!1,disableScrollLock:x=!1,hideBackdrop:O=!1,keepMounted:R=!1,onBackdropClick:D,open:z,slotProps:M,slots:$}=u,V=se(u,Fde),B=S({},u,{closeAfterTransition:f,disableAutoFocus:_,disableEnforceFocus:w,disableEscapeKeyDown:I,disablePortal:b,disableRestoreFocus:T,disableScrollLock:x,hideBackdrop:O,keepMounted:R}),{getRootProps:K,getBackdropProps:N,getTransitionProps:U,portalRef:Y,isTopModal:ge,exited:ce,hasTransition:Se}=_ce(S({},B,{rootRef:n})),ue=S({},B,{exited:ce}),ye=$de(ue),Ee={};if(p.props.tabIndex===void 0&&(Ee.tabIndex="-1"),Se){const{onEnter:Te,onExited:Le}=U();Ee.onEnter=Te,Ee.onExited=Le}const qe=(r=(i=$==null?void 0:$.root)!=null?i:m.Root)!=null?r:Vde,Ue=(s=(o=$==null?void 0:$.backdrop)!=null?o:m.Backdrop)!=null?s:c,Ae=(a=M==null?void 0:M.root)!=null?a:y.root,gt=(l=M==null?void 0:M.backdrop)!=null?l:y.backdrop,_e=Il({elementType:qe,externalSlotProps:Ae,externalForwardedProps:V,getSlotProps:K,additionalProps:{ref:n,as:v},ownerState:ue,className:fe(h,Ae==null?void 0:Ae.className,ye==null?void 0:ye.root,!ue.open&&ue.exited&&(ye==null?void 0:ye.hidden))}),Xe=Il({elementType:Ue,externalSlotProps:gt,additionalProps:d,getSlotProps:Te=>N(S({},Te,{onClick:Le=>{D&&D(Le),Te!=null&&Te.onClick&&Te.onClick(Le)}})),className:fe(gt==null?void 0:gt.className,d==null?void 0:d.className,ye==null?void 0:ye.backdrop),ownerState:ue});return!R&&!z&&(!Se||ce)?null:C.jsx(J4,{ref:Y,container:g,disablePortal:b,children:C.jsxs(qe,S({},_e,{children:[!O&&c?C.jsx(Ue,S({},Xe)):null,C.jsx(Gle,{disableEnforceFocus:w,disableAutoFocus:_,disableRestoreFocus:T,isEnabled:ge,open:z,children:E.cloneElement(p,Ee)})]}))})}),ij=Bde;function jde(t){return Me("MuiDialog",t)}const zde=$e("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),eE=zde,Wde=E.createContext({}),sj=Wde,qde=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Hde=ne(tj,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Gde=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${he(n)}`],paper:["paper",`paperScroll${he(n)}`,`paperWidth${he(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Fe(o,jde,e)},Kde=ne(ij,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Qde=ne("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${he(n.scroll)}`]]}})(({ownerState:t})=>S({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Yde=ne(Hp,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${he(n.scroll)}`],e[`paperWidth${he(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>S({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${eE.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${eE.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${eE.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Xde=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiDialog"}),i=td(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:u,children:c,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:g="sm",onBackdropClick:v,onClose:m,open:y,PaperComponent:_=Hp,PaperProps:w={},scroll:I="paper",TransitionComponent:b=ej,transitionDuration:T=s,TransitionProps:x}=r,O=se(r,qde),R=S({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:g,scroll:I}),D=Gde(R),z=E.useRef(),M=K=>{z.current=K.target===K.currentTarget},$=K=>{z.current&&(z.current=null,v&&v(K),m&&m(K,"backdropClick"))},V=zp(a),B=E.useMemo(()=>({titleId:V}),[V]);return C.jsx(Kde,S({className:fe(D.root,d),closeAfterTransition:!0,components:{Backdrop:Hde},componentsProps:{backdrop:S({transitionDuration:T,as:l},u)},disableEscapeKeyDown:h,onClose:m,open:y,ref:n,onClick:$,ownerState:R},O,{children:C.jsx(b,S({appear:!0,in:y,timeout:T,role:"presentation"},x,{children:C.jsx(Qde,{className:fe(D.container),onMouseDown:M,ownerState:R,children:C.jsx(Yde,S({as:_,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":V},w,{className:fe(D.paper,w.className),ownerState:R,children:C.jsx(sj.Provider,{value:B,children:c})}))})}))}))}),Jde=Xde;function Zde(t){return Me("MuiDialogActions",t)}$e("MuiDialogActions",["root","spacing"]);const ehe=["className","disableSpacing"],the=t=>{const{classes:e,disableSpacing:n}=t;return Fe({root:["root",!n&&"spacing"]},Zde,e)},nhe=ne("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>S({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),rhe=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,o=se(r,ehe),a=S({},r,{disableSpacing:s}),l=the(a);return C.jsx(nhe,S({className:fe(l.root,i),ownerState:a,ref:n},o))}),ihe=rhe;function she(t){return Me("MuiDialogContent",t)}$e("MuiDialogContent",["root","dividers"]);function ohe(t){return Me("MuiDialogTitle",t)}const ahe=$e("MuiDialogTitle",["root"]),lhe=ahe,uhe=["className","dividers"],che=t=>{const{classes:e,dividers:n}=t;return Fe({root:["root",n&&"dividers"]},she,e)},dhe=ne("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>S({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${lhe.root} + &`]:{paddingTop:0}})),hhe=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,o=se(r,uhe),a=S({},r,{dividers:s}),l=che(a);return C.jsx(dhe,S({className:fe(l.root,i),ownerState:a,ref:n},o))}),fhe=hhe,phe=["className","id"],mhe=t=>{const{classes:e}=t;return Fe({root:["root"]},ohe,e)},ghe=ne(nn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),yhe=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=se(r,phe),a=r,l=mhe(a),{titleId:u=s}=E.useContext(sj);return C.jsx(ghe,S({component:"h2",className:fe(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??u},o))}),_he=yhe,vhe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],whe=t=>{const{classes:e,disableUnderline:n}=t,i=Fe({root:["root",!n&&"underline"],input:["input"]},$ce,e);return S({},e,i)},Ehe=ne(S0,{shouldForwardProp:t=>Oi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...I0(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return S({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${da.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${da.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${da.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${da.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${da.disabled}, .${da.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${da.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&S({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),The=ne(C0,{name:"MuiFilledInput",slot:"Input",overridesResolver:b0})(({theme:t,ownerState:e})=>S({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),oj=E.forwardRef(function(e,n){var r,i,s,o;const a=Ve({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:g="text"}=a,v=se(a,vhe),m=S({},a,{fullWidth:c,inputComponent:d,multiline:h,type:g}),y=whe(a),_={root:{ownerState:m},input:{ownerState:m}},w=f??u?mr(_,f??u):_,I=(r=(i=p.root)!=null?i:l.Root)!=null?r:Ehe,b=(s=(o=p.input)!=null?o:l.Input)!=null?s:The;return C.jsx(sx,S({slots:{root:I,input:b},componentsProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:g},v,{classes:y}))});oj.muiName="Input";const aj=oj;function Ihe(t){return Me("MuiFormControl",t)}$e("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const bhe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],She=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${he(n)}`,r&&"fullWidth"]};return Fe(i,Ihe,e)},Che=ne("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>S({},e.root,e[`margin${he(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>S({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Rhe=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:g="medium",variant:v="outlined"}=r,m=se(r,bhe),y=S({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:g,variant:v}),_=She(y),[w,I]=E.useState(()=>{let M=!1;return i&&E.Children.forEach(i,$=>{if(!vg($,["Input","Select"]))return;const V=vg($,["Select"])?$.props.input:$;V&&Rce(V.props)&&(M=!0)}),M}),[b,T]=E.useState(()=>{let M=!1;return i&&E.Children.forEach(i,$=>{vg($,["Input","Select"])&&(Xy($.props,!0)||Xy($.props.inputProps,!0))&&(M=!0)}),M}),[x,O]=E.useState(!1);l&&x&&O(!1);const R=c!==void 0&&!l?c:x;let D;const z=E.useMemo(()=>({adornedStart:w,setAdornedStart:I,color:o,disabled:l,error:u,filled:b,focused:R,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{O(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{O(!0)},registerEffect:D,required:p,variant:v}),[w,o,l,u,b,R,d,h,D,p,g,v]);return C.jsx(ix.Provider,{value:z,children:C.jsx(Che,S({as:a,ownerState:y,className:fe(_.root,s),ref:n},m,{children:i}))})}),xhe=Rhe;function Phe(t){return Me("MuiFormHelperText",t)}const Ahe=$e("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),ZN=Ahe;var eO;const khe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Nhe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${he(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Fe(u,Phe,e)},Ohe=ne("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${he(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>S({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${ZN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${ZN.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Dhe=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=se(r,khe),l=rd(),u=nd({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=S({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Nhe(c);return C.jsx(Ohe,S({as:o,ownerState:c,className:fe(d.root,s),ref:n},a,{children:i===" "?eO||(eO=C.jsx("span",{className:"notranslate",children:"​"})):i}))}),Mhe=Dhe;function Lhe(t){return Me("MuiFormLabel",t)}const Fhe=$e("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Nh=Fhe,$he=["children","className","color","component","disabled","error","filled","focused","required"],Vhe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${he(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Fe(l,Lhe,e)},Uhe=ne("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>S({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>S({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Nh.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Nh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Nh.error}`]:{color:(t.vars||t).palette.error.main}})),Bhe=ne("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Nh.error}`]:{color:(t.vars||t).palette.error.main}})),jhe=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=se(r,$he),l=rd(),u=nd({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=S({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Vhe(c);return C.jsxs(Uhe,S({as:o,ownerState:c,className:fe(d.root,s),ref:n},a,{children:[i,u.required&&C.jsxs(Bhe,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),zhe=jhe,Whe=E.createContext(),tO=Whe;function qhe(t){return Me("MuiGrid",t)}const Hhe=[0,1,2,3,4,5,6,7,8,9,10],Ghe=["column-reverse","column","row-reverse","row"],Khe=["nowrap","wrap-reverse","wrap"],Ld=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Xf=$e("MuiGrid",["root","container","item","zeroMinWidth",...Hhe.map(t=>`spacing-xs-${t}`),...Ghe.map(t=>`direction-xs-${t}`),...Khe.map(t=>`wrap-xs-${t}`),...Ld.map(t=>`grid-xs-${t}`),...Ld.map(t=>`grid-sm-${t}`),...Ld.map(t=>`grid-md-${t}`),...Ld.map(t=>`grid-lg-${t}`),...Ld.map(t=>`grid-xl-${t}`)]),Qhe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Qu(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function Yhe({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=u0({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const c=t.spacing(e.columnSpacing);if(c!=="0px"){const d=`calc(${l} + ${Qu(c)})`;u={flexBasis:d,maxWidth:d}}}s=S({flexBasis:l,flexGrow:0,maxWidth:l},u)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function Xhe({theme:t,ownerState:e}){const n=u0({values:e.direction,breakpoints:t.breakpoints.values});return ai({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Xf.item}`]={maxWidth:"none"}),i})}function lj({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function Jhe({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=u0({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=lj({breakpoints:t.breakpoints.values,values:s})),i=ai({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{marginTop:`-${Qu(c)}`,[`& > .${Xf.item}`]:{paddingTop:Qu(c)}}:(u=o)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${Xf.item}`]:{paddingTop:0}}})}return i}function Zhe({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=u0({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=lj({breakpoints:t.breakpoints.values,values:s})),i=ai({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{width:`calc(100% + ${Qu(c)})`,marginLeft:`-${Qu(c)}`,[`& > .${Xf.item}`]:{paddingLeft:Qu(c)}}:(u=o)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Xf.item}`]:{paddingLeft:0}}})}return i}function efe(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const tfe=ne("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=efe(o,u,e));const d=[];return u.forEach(h=>{const f=n[h];f&&d.push(e[`grid-${h}-${String(f)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...c,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>S({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),Xhe,Jhe,Zhe,Yhe);function nfe(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const rfe=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let u=[];n&&(u=nfe(s,l));const c=[];l.forEach(h=>{const f=t[h];f&&c.push(`grid-${h}-${String(f)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...c]};return Fe(d,qhe,e)},ife=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiGrid"}),{breakpoints:i}=td(),s=O4(r),{className:o,columns:a,columnSpacing:l,component:u="div",container:c=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:g="wrap",zeroMinWidth:v=!1}=s,m=se(s,Qhe),y=f||p,_=l||p,w=E.useContext(tO),I=c?a||12:w,b={},T=S({},m);i.keys.forEach(R=>{m[R]!=null&&(b[R]=m[R],delete T[R])});const x=S({},s,{columns:I,container:c,direction:d,item:h,rowSpacing:y,columnSpacing:_,wrap:g,zeroMinWidth:v,spacing:p},b,{breakpoints:i.keys}),O=rfe(x);return C.jsx(tO.Provider,{value:I,children:C.jsx(tfe,S({ownerState:x,className:fe(O.root,o),as:u,ref:n},T))})}),Jy=ife,sfe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function DI(t){return`scale(${t}, ${t**2})`}const ofe={entering:{opacity:1,transform:DI(1)},entered:{opacity:1,transform:"none"}},tE=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),uj=E.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:g="auto",TransitionComponent:v=U4}=e,m=se(e,sfe),y=E.useRef(),_=E.useRef(),w=td(),I=E.useRef(null),b=mn(I,s.ref,n),T=V=>B=>{if(V){const K=I.current;B===void 0?V(K):V(K,B)}},x=T(c),O=T((V,B)=>{B4(V);const{duration:K,delay:N,easing:U}=Ky({style:p,timeout:g,easing:o},{mode:"enter"});let Y;g==="auto"?(Y=w.transitions.getAutoHeightDuration(V.clientHeight),_.current=Y):Y=K,V.style.transition=[w.transitions.create("opacity",{duration:Y,delay:N}),w.transitions.create("transform",{duration:tE?Y:Y*.666,delay:N,easing:U})].join(","),l&&l(V,B)}),R=T(u),D=T(f),z=T(V=>{const{duration:B,delay:K,easing:N}=Ky({style:p,timeout:g,easing:o},{mode:"exit"});let U;g==="auto"?(U=w.transitions.getAutoHeightDuration(V.clientHeight),_.current=U):U=B,V.style.transition=[w.transitions.create("opacity",{duration:U,delay:K}),w.transitions.create("transform",{duration:tE?U:U*.666,delay:tE?K:K||U*.333,easing:N})].join(","),V.style.opacity=0,V.style.transform=DI(.75),d&&d(V)}),M=T(h),$=V=>{g==="auto"&&(y.current=setTimeout(V,_.current||0)),r&&r(I.current,V)};return E.useEffect(()=>()=>{clearTimeout(y.current)},[]),C.jsx(v,S({appear:i,in:a,nodeRef:I,onEnter:O,onEntered:R,onEntering:x,onExit:z,onExited:M,onExiting:D,addEndListener:$,timeout:g==="auto"?null:g},m,{children:(V,B)=>E.cloneElement(s,S({style:S({opacity:0,transform:DI(.75),visibility:V==="exited"&&!a?"hidden":void 0},ofe[V],p,s.props.style),ref:b},B))}))});uj.muiSupportAuto=!0;const MI=uj,afe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],lfe=t=>{const{classes:e,disableUnderline:n}=t,i=Fe({root:["root",!n&&"underline"],input:["input"]},Dce,e);return S({},e,i)},ufe=ne(S0,{shouldForwardProp:t=>Oi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...I0(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),S({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Md.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Md.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Md.disabled}, .${Md.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Md.disabled}:before`]:{borderBottomStyle:"dotted"}})}),cfe=ne(C0,{name:"MuiInput",slot:"Input",overridesResolver:b0})({}),cj=E.forwardRef(function(e,n){var r,i,s,o;const a=Ve({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:g={},type:v="text"}=a,m=se(a,afe),y=lfe(a),w={root:{ownerState:{disableUnderline:l}}},I=p??c?mr(p??c,w):w,b=(r=(i=g.root)!=null?i:u.Root)!=null?r:ufe,T=(s=(o=g.input)!=null?o:u.Input)!=null?s:cfe;return C.jsx(sx,S({slots:{root:b,input:T},slotProps:I,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:v},m,{classes:y}))});cj.muiName="Input";const dj=cj;function dfe(t){return Me("MuiInputLabel",t)}$e("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const hfe=["disableAnimation","margin","shrink","variant","className"],ffe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${he(r)}`,o],asterisk:[a&&"asterisk"]},u=Fe(l,dfe,e);return S({},e,u)},pfe=ne(zhe,{shouldForwardProp:t=>Oi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Nh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>S({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&S({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&S({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&S({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),mfe=E.forwardRef(function(e,n){const r=Ve({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=se(r,hfe),l=rd();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=nd({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=S({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=ffe(d);return C.jsx(pfe,S({"data-shrink":u,ownerState:d,ref:n,className:fe(h.root,o)},a,{classes:h}))}),gfe=mfe,yfe=E.createContext({}),_fe=yfe;function vfe(t){return Me("MuiList",t)}$e("MuiList",["root","padding","dense","subheader"]);const wfe=["children","className","component","dense","disablePadding","subheader"],Efe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Fe({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},vfe,e)},Tfe=ne("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>S({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Ife=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=se(r,wfe),d=E.useMemo(()=>({dense:a}),[a]),h=S({},r,{component:o,dense:a,disablePadding:l}),f=Efe(h);return C.jsx(_fe.Provider,{value:d,children:C.jsxs(Tfe,S({as:o,className:fe(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),bfe=Ife,Sfe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nE(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function nO(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function hj(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Fd(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!hj(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Cfe=E.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=se(e,Sfe),f=E.useRef(null),p=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});us(()=>{i&&f.current.focus()},[i]),E.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,w)=>{const I=!f.current.style.width;if(_.clientHeight<f.current.clientHeight&&I){const b=`${x4(jn(_))}px`;f.current.style[w.direction==="rtl"?"paddingLeft":"paddingRight"]=b,f.current.style.width=`calc(100% + ${b})`}return f.current}}),[]);const g=_=>{const w=f.current,I=_.key,b=jn(w).activeElement;if(I==="ArrowDown")_.preventDefault(),Fd(w,b,u,l,nE);else if(I==="ArrowUp")_.preventDefault(),Fd(w,b,u,l,nO);else if(I==="Home")_.preventDefault(),Fd(w,null,u,l,nE);else if(I==="End")_.preventDefault(),Fd(w,null,u,l,nO);else if(I.length===1){const T=p.current,x=I.toLowerCase(),O=performance.now();T.keys.length>0&&(O-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&x!==T.keys[0]&&(T.repeating=!1)),T.lastTime=O,T.keys.push(x);const R=b&&!T.repeating&&hj(b,T);T.previousKeyMatched&&(R||Fd(w,b,!1,l,nE,T))?_.preventDefault():T.previousKeyMatched=!1}c&&c(_)},v=mn(f,n);let m=-1;E.Children.forEach(o,(_,w)=>{if(!E.isValidElement(_)){m===w&&(m+=1,m>=o.length&&(m=-1));return}_.props.disabled||(d==="selectedMenu"&&_.props.selected||m===-1)&&(m=w),m===w&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(m+=1,m>=o.length&&(m=-1))});const y=E.Children.map(o,(_,w)=>{if(w===m){const I={};return s&&(I.autoFocus=!0),_.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),E.cloneElement(_,I)}return _});return C.jsx(bfe,S({role:"menu",ref:v,className:a,onKeyDown:g,tabIndex:i?0:-1},h,{children:y}))}),Rfe=Cfe;function xfe(t){return Me("MuiPopover",t)}$e("MuiPopover",["root","paper"]);const Pfe=["onEntering"],Afe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],kfe=["slotProps"];function rO(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function iO(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function sO(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function rE(t){return typeof t=="function"?t():t}const Nfe=t=>{const{classes:e}=t;return Fe({root:["root"],paper:["paper"]},xfe,e)},Ofe=ne(ij,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),fj=ne(Hp,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Dfe=E.forwardRef(function(e,n){var r,i,s;const o=Ve({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:g=8,marginThreshold:v=16,open:m,PaperProps:y={},slots:_,slotProps:w,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:b=MI,transitionDuration:T="auto",TransitionProps:{onEntering:x}={},disableScrollLock:O=!1}=o,R=se(o.TransitionProps,Pfe),D=se(o,Afe),z=(r=w==null?void 0:w.paper)!=null?r:y,M=E.useRef(),$=mn(M,z.ref),V=S({},o,{anchorOrigin:u,anchorReference:d,elevation:g,marginThreshold:v,externalPaperSlotProps:z,transformOrigin:I,TransitionComponent:b,transitionDuration:T,TransitionProps:R}),B=Nfe(V),K=E.useCallback(()=>{if(d==="anchorPosition")return c;const Te=rE(l),xe=(Te&&Te.nodeType===1?Te:jn(M.current).body).getBoundingClientRect();return{top:xe.top+rO(xe,u.vertical),left:xe.left+iO(xe,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),N=E.useCallback(Te=>({vertical:rO(Te,I.vertical),horizontal:iO(Te,I.horizontal)}),[I.horizontal,I.vertical]),U=E.useCallback(Te=>{const Le={width:Te.offsetWidth,height:Te.offsetHeight},xe=N(Le);if(d==="none")return{top:null,left:null,transformOrigin:sO(xe)};const wn=K();let Jt=wn.top-xe.vertical,Pt=wn.left-xe.horizontal;const Ht=Jt+Le.height,st=Pt+Le.width,He=Yo(rE(l)),A=He.innerHeight-v,H=He.innerWidth-v;if(v!==null&&Jt<v){const W=Jt-v;Jt-=W,xe.vertical+=W}else if(v!==null&&Ht>A){const W=Ht-A;Jt-=W,xe.vertical+=W}if(v!==null&&Pt<v){const W=Pt-v;Pt-=W,xe.horizontal+=W}else if(st>H){const W=st-H;Pt-=W,xe.horizontal+=W}return{top:`${Math.round(Jt)}px`,left:`${Math.round(Pt)}px`,transformOrigin:sO(xe)}},[l,d,K,N,v]),[Y,ge]=E.useState(m),ce=E.useCallback(()=>{const Te=M.current;if(!Te)return;const Le=U(Te);Le.top!==null&&(Te.style.top=Le.top),Le.left!==null&&(Te.style.left=Le.left),Te.style.transformOrigin=Le.transformOrigin,ge(!0)},[U]);E.useEffect(()=>(O&&window.addEventListener("scroll",ce),()=>window.removeEventListener("scroll",ce)),[l,O,ce]);const Se=(Te,Le)=>{x&&x(Te,Le),ce()},ue=()=>{ge(!1)};E.useEffect(()=>{m&&ce()}),E.useImperativeHandle(a,()=>m?{updatePosition:()=>{ce()}}:null,[m,ce]),E.useEffect(()=>{if(!m)return;const Te=UR(()=>{ce()}),Le=Yo(l);return Le.addEventListener("resize",Te),()=>{Te.clear(),Le.removeEventListener("resize",Te)}},[l,m,ce]);let ye=T;T==="auto"&&!b.muiSupportAuto&&(ye=void 0);const Ee=p||(l?jn(rE(l)).body:void 0),qe=(i=_==null?void 0:_.root)!=null?i:Ofe,Ue=(s=_==null?void 0:_.paper)!=null?s:fj,Ae=Il({elementType:Ue,externalSlotProps:S({},z,{style:Y?z.style:S({},z.style,{opacity:0})}),additionalProps:{elevation:g,ref:$},ownerState:V,className:fe(B.paper,z==null?void 0:z.className)}),gt=Il({elementType:qe,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:D,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Ee,open:m},ownerState:V,className:fe(B.root,f)}),{slotProps:_e}=gt,Xe=se(gt,kfe);return C.jsx(qe,S({},Xe,!Qy(qe)&&{slotProps:_e,disableScrollLock:O},{children:C.jsx(b,S({appear:!0,in:m,onEntering:Se,onExited:ue,timeout:ye},R,{children:C.jsx(Ue,S({},Ae,{children:h}))}))}))}),Mfe=Dfe;function Lfe(t){return Me("MuiMenu",t)}$e("MuiMenu",["root","paper","list"]);const Ffe=["onEntering"],$fe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Vfe={vertical:"top",horizontal:"right"},Ufe={vertical:"top",horizontal:"left"},Bfe=t=>{const{classes:e}=t;return Fe({root:["root"],paper:["paper"],list:["list"]},Lfe,e)},jfe=ne(Mfe,{shouldForwardProp:t=>Oi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),zfe=ne(fj,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Wfe=ne(Rfe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),qfe=E.forwardRef(function(e,n){var r,i;const s=Ve({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:v}={},variant:m="selectedMenu",slots:y={},slotProps:_={}}=s,w=se(s.TransitionProps,Ffe),I=se(s,$fe),b=td(),T=b.direction==="rtl",x=S({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:v,PaperProps:f,transitionDuration:g,TransitionProps:w,variant:m}),O=Bfe(x),R=o&&!u&&h,D=E.useRef(null),z=(U,Y)=>{D.current&&D.current.adjustStyleForScrollbar(U,b),v&&v(U,Y)},M=U=>{U.key==="Tab"&&(U.preventDefault(),d&&d(U,"tabKeyDown"))};let $=-1;E.Children.map(a,(U,Y)=>{E.isValidElement(U)&&(U.props.disabled||(m==="selectedMenu"&&U.props.selected||$===-1)&&($=Y))});const V=(r=y.paper)!=null?r:zfe,B=(i=_.paper)!=null?i:f,K=Il({elementType:y.root,externalSlotProps:_.root,ownerState:x,className:[O.root,l]}),N=Il({elementType:V,externalSlotProps:B,ownerState:x,className:O.paper});return C.jsx(jfe,S({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?Vfe:Ufe,slots:{paper:V,root:y.root},slotProps:{root:K,paper:N},open:h,ref:n,transitionDuration:g,TransitionProps:S({onEntering:z},w),ownerState:x},I,{classes:p,children:C.jsx(Wfe,S({onKeyDown:M,actions:D,autoFocus:o&&($===-1||u),autoFocusItem:R,variant:m},c,{className:fe(O.list,c.className),children:a}))}))}),Hfe=qfe;function Gfe(t){return Me("MuiNativeSelect",t)}const Kfe=$e("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ox=Kfe,Qfe=["className","disabled","error","IconComponent","inputRef","variant"],Yfe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${he(n)}`,s&&"iconOpen",r&&"disabled"]};return Fe(a,Gfe,e)},pj=({ownerState:t,theme:e})=>S({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":S({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${ox.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Xfe=ne("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Oi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${ox.multiple}`]:e.multiple}]}})(pj),mj=({ownerState:t,theme:e})=>S({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${ox.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Jfe=ne("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${he(n.variant)}`],n.open&&e.iconOpen]}})(mj),Zfe=E.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=se(e,Qfe),c=S({},e,{disabled:i,variant:l,error:s}),d=Yfe(c);return C.jsxs(E.Fragment,{children:[C.jsx(Xfe,S({ownerState:c,className:fe(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:C.jsx(Jfe,{as:o,ownerState:c,className:d.icon})]})}),epe=Zfe;var oO;const tpe=["children","classes","className","label","notched"],npe=ne("fieldset",{shouldForwardProp:Oi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),rpe=ne("legend",{shouldForwardProp:Oi})(({ownerState:t,theme:e})=>S({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&S({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function ipe(t){const{className:e,label:n,notched:r}=t,i=se(t,tpe),s=n!=null&&n!=="",o=S({},t,{notched:r,withLabel:s});return C.jsx(npe,S({"aria-hidden":!0,className:e,ownerState:o},i,{children:C.jsx(rpe,{ownerState:o,children:s?C.jsx("span",{children:n}):oO||(oO=C.jsx("span",{className:"notranslate",children:"​"}))})}))}const spe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],ope=t=>{const{classes:e}=t,r=Fe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Lce,e);return S({},e,r)},ape=ne(S0,{shouldForwardProp:t=>Oi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:I0})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return S({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Js.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Js.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Js.focused} .${Js.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Js.error} .${Js.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Js.disabled} .${Js.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&S({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),lpe=ne(ipe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),upe=ne(C0,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:b0})(({theme:t,ownerState:e})=>S({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),gj=E.forwardRef(function(e,n){var r,i,s,o,a;const l=Ve({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:g={},type:v="text"}=l,m=se(l,spe),y=ope(l),_=rd(),w=nd({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=S({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:_,fullWidth:c,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:v}),b=(r=(i=g.root)!=null?i:u.Root)!=null?r:ape,T=(s=(o=g.input)!=null?o:u.Input)!=null?s:upe;return C.jsx(sx,S({slots:{root:b,input:T},renderSuffix:x=>C.jsx(lpe,{ownerState:I,className:y.notchedOutline,label:h!=null&&h!==""&&w.required?a||(a=C.jsxs(E.Fragment,{children:[h," ","*"]})):h,notched:typeof p<"u"?p:!!(x.startAdornment||x.filled||x.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:v},m,{classes:S({},y,{notchedOutline:null})}))});gj.muiName="Input";const yj=gj;function cpe(t){return Me("MuiSelect",t)}const $d=$e("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var aO;const dpe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],hpe=ne("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${$d.select}`]:e.select},{[`&.${$d.select}`]:e[n.variant]},{[`&.${$d.error}`]:e.error},{[`&.${$d.multiple}`]:e.multiple}]}})(pj,{[`&.${$d.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),fpe=ne("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${he(n.variant)}`],n.open&&e.iconOpen]}})(mj),ppe=ne("input",{shouldForwardProp:t=>Vae(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function lO(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function mpe(t){return t==null||typeof t=="string"&&!t.trim()}const gpe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${he(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Fe(a,cpe,e)},ype=E.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:v,labelId:m,MenuProps:y={},multiple:_,name:w,onBlur:I,onChange:b,onClose:T,onFocus:x,onOpen:O,open:R,readOnly:D,renderValue:z,SelectDisplayProps:M={},tabIndex:$,value:V,variant:B="standard"}=e,K=se(e,dpe),[N,U]=zy({controlled:V,default:d,name:"Select"}),[Y,ge]=zy({controlled:R,default:c,name:"Select"}),ce=E.useRef(null),Se=E.useRef(null),[ue,ye]=E.useState(null),{current:Ee}=E.useRef(R!=null),[qe,Ue]=E.useState(),Ae=mn(n,v),gt=E.useCallback(de=>{Se.current=de,de&&ye(de)},[]),_e=ue==null?void 0:ue.parentNode;E.useImperativeHandle(Ae,()=>({focus:()=>{Se.current.focus()},node:ce.current,value:N}),[N]),E.useEffect(()=>{c&&Y&&ue&&!Ee&&(Ue(a?null:_e.clientWidth),Se.current.focus())},[ue,a]),E.useEffect(()=>{o&&Se.current.focus()},[o]),E.useEffect(()=>{if(!m)return;const de=jn(Se.current).getElementById(m);if(de){const Ke=()=>{getSelection().isCollapsed&&Se.current.focus()};return de.addEventListener("click",Ke),()=>{de.removeEventListener("click",Ke)}}},[m]);const Xe=(de,Ke)=>{de?O&&O(Ke):T&&T(Ke),Ee||(Ue(a?null:_e.clientWidth),ge(de))},Te=de=>{de.button===0&&(de.preventDefault(),Se.current.focus(),Xe(!0,de))},Le=de=>{Xe(!1,de)},xe=E.Children.toArray(l),wn=de=>{const Ke=xe.find(yt=>yt.props.value===de.target.value);Ke!==void 0&&(U(Ke.props.value),b&&b(de,Ke))},Jt=de=>Ke=>{let yt;if(Ke.currentTarget.hasAttribute("tabindex")){if(_){yt=Array.isArray(N)?N.slice():[];const Di=N.indexOf(de.props.value);Di===-1?yt.push(de.props.value):yt.splice(Di,1)}else yt=de.props.value;if(de.props.onClick&&de.props.onClick(Ke),N!==yt&&(U(yt),b)){const Di=Ke.nativeEvent||Ke,sd=new Di.constructor(Di.type,Di);Object.defineProperty(sd,"target",{writable:!0,value:{value:yt,name:w}}),b(sd,de)}_||Xe(!1,Ke)}},Pt=de=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(de.key)!==-1&&(de.preventDefault(),Xe(!0,de))},Ht=ue!==null&&Y,st=de=>{!Ht&&I&&(Object.defineProperty(de,"target",{writable:!0,value:{value:N,name:w}}),I(de))};delete K["aria-invalid"];let He,A;const H=[];let W=!1;(Xy({value:N})||f)&&(z?He=z(N):W=!0);const Z=xe.map(de=>{if(!E.isValidElement(de))return null;let Ke;if(_){if(!Array.isArray(N))throw new Error(Qo(2));Ke=N.some(yt=>lO(yt,de.props.value)),Ke&&W&&H.push(de.props.children)}else Ke=lO(N,de.props.value),Ke&&W&&(A=de.props.children);return E.cloneElement(de,{"aria-selected":Ke?"true":"false",onClick:Jt(de),onKeyUp:yt=>{yt.key===" "&&yt.preventDefault(),de.props.onKeyUp&&de.props.onKeyUp(yt)},role:"option",selected:Ke,value:void 0,"data-value":de.props.value})});W&&(_?H.length===0?He=null:He=H.reduce((de,Ke,yt)=>(de.push(Ke),yt<H.length-1&&de.push(", "),de),[]):He=A);let ae=qe;!a&&Ee&&ue&&(ae=_e.clientWidth);let ve;typeof $<"u"?ve=$:ve=h?null:0;const pe=M.id||(w?`mui-component-select-${w}`:void 0),ie=S({},e,{variant:B,value:N,open:Ht,error:p}),It=gpe(ie),wr=S({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),Er=zp();return C.jsxs(E.Fragment,{children:[C.jsx(hpe,S({ref:gt,tabIndex:ve,role:"combobox","aria-controls":Er,"aria-disabled":h?"true":void 0,"aria-expanded":Ht?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[m,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Pt,onMouseDown:h||D?null:Te,onBlur:st,onFocus:x},M,{ownerState:ie,className:fe(M.className,It.select,u),id:pe,children:mpe(He)?aO||(aO=C.jsx("span",{className:"notranslate",children:"​"})):He})),C.jsx(ppe,S({"aria-invalid":p,value:Array.isArray(N)?N.join(","):N,name:w,ref:ce,"aria-hidden":!0,onChange:wn,tabIndex:-1,disabled:h,className:It.nativeInput,autoFocus:o,ownerState:ie},K)),C.jsx(fpe,{as:g,className:It.icon,ownerState:ie}),C.jsx(Hfe,S({id:`menu-${w||""}`,anchorEl:_e,open:Ht,onClose:Le,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:S({"aria-labelledby":m,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Er},y.MenuListProps),slotProps:S({},y.slotProps,{paper:S({},wr,{style:S({minWidth:ae},wr!=null?wr.style:null)})}),children:Z}))]})}),_pe=ype,vpe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],wpe=["root"],Epe=t=>{const{classes:e}=t;return e},ax={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Oi(t)&&t!=="variant",slot:"Root"},Tpe=ne(dj,ax)(""),Ipe=ne(yj,ax)(""),bpe=ne(aj,ax)(""),_j=E.forwardRef(function(e,n){const r=Ve({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=Uce,id:d,input:h,inputProps:f,label:p,labelId:g,MenuProps:v,multiple:m=!1,native:y=!1,onClose:_,onOpen:w,open:I,renderValue:b,SelectDisplayProps:T,variant:x="outlined"}=r,O=se(r,vpe),R=y?epe:_pe,D=rd(),z=nd({props:r,muiFormControl:D,states:["variant","error"]}),M=z.variant||x,$=S({},r,{variant:M,classes:o}),V=Epe($),B=se(V,wpe),K=h||{standard:C.jsx(Tpe,{ownerState:$}),outlined:C.jsx(Ipe,{label:p,ownerState:$}),filled:C.jsx(bpe,{ownerState:$})}[M],N=mn(n,K.ref);return C.jsx(E.Fragment,{children:E.cloneElement(K,S({inputComponent:R,inputProps:S({children:s,error:z.error,IconComponent:c,variant:M,type:void 0,multiple:m},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:g,MenuProps:v,onClose:_,onOpen:w,open:I,renderValue:b,SelectDisplayProps:S({id:d},T)},f,{classes:f?mr(B,f.classes):B},h?h.props.inputProps:{})},m&&y&&M==="outlined"?{notched:!0}:{},{ref:N,className:fe(K.props.className,a,V.root)},!h&&{variant:M},O))})});_j.muiName="Select";const Spe=_j;function Cpe(t){return Me("MuiTooltip",t)}const Rpe=$e("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),mo=Rpe,xpe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Ppe(t){return Math.round(t*1e5)/1e5}const Ape=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${he(s.split("-")[0])}`],arrow:["arrow"]};return Fe(o,Cpe,e)},kpe=ne(Z4,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>S({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${mo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${mo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${mo.arrow}`]:S({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${mo.arrow}`]:S({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Npe=ne("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${he(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>S({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:po(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Ppe(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${mo.popper}[data-popper-placement*="left"] &`]:S({transformOrigin:"right center"},e.isRtl?S({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):S({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${mo.popper}[data-popper-placement*="right"] &`]:S({transformOrigin:"left center"},e.isRtl?S({marginRight:"14px"},e.touch&&{marginRight:"24px"}):S({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${mo.popper}[data-popper-placement*="top"] &`]:S({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${mo.popper}[data-popper-placement*="bottom"] &`]:S({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),Ope=ne("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:po(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Um=!1,iE=null,Vd={x:0,y:0};function Bm(t,e){return n=>{e&&e(n),t(n)}}const Dpe=E.forwardRef(function(e,n){var r,i,s,o,a,l,u,c,d,h,f,p,g,v,m,y,_,w,I;const b=Ve({props:e,name:"MuiTooltip"}),{arrow:T=!1,children:x,components:O={},componentsProps:R={},describeChild:D=!1,disableFocusListener:z=!1,disableHoverListener:M=!1,disableInteractive:$=!1,disableTouchListener:V=!1,enterDelay:B=100,enterNextDelay:K=0,enterTouchDelay:N=700,followCursor:U=!1,id:Y,leaveDelay:ge=0,leaveTouchDelay:ce=1500,onClose:Se,onOpen:ue,open:ye,placement:Ee="bottom",PopperComponent:qe,PopperProps:Ue={},slotProps:Ae={},slots:gt={},title:_e,TransitionComponent:Xe=MI,TransitionProps:Te}=b,Le=se(b,xpe),xe=E.isValidElement(x)?x:C.jsx("span",{children:x}),wn=td(),Jt=wn.direction==="rtl",[Pt,Ht]=E.useState(),[st,He]=E.useState(null),A=E.useRef(!1),H=$||U,W=E.useRef(),Z=E.useRef(),ae=E.useRef(),ve=E.useRef(),[pe,ie]=zy({controlled:ye,default:!1,name:"Tooltip",state:"open"});let It=pe;const wr=zp(Y),Er=E.useRef(),de=E.useCallback(()=>{Er.current!==void 0&&(document.body.style.WebkitUserSelect=Er.current,Er.current=void 0),clearTimeout(ve.current)},[]);E.useEffect(()=>()=>{clearTimeout(W.current),clearTimeout(Z.current),clearTimeout(ae.current),de()},[de]);const Ke=ke=>{clearTimeout(iE),Um=!0,ie(!0),ue&&!It&&ue(ke)},yt=fo(ke=>{clearTimeout(iE),iE=setTimeout(()=>{Um=!1},800+ge),ie(!1),Se&&It&&Se(ke),clearTimeout(W.current),W.current=setTimeout(()=>{A.current=!1},wn.transitions.duration.shortest)}),Di=ke=>{A.current&&ke.type!=="touchstart"||(Pt&&Pt.removeAttribute("title"),clearTimeout(Z.current),clearTimeout(ae.current),B||Um&&K?Z.current=setTimeout(()=>{Ke(ke)},Um?K:B):Ke(ke))},sd=ke=>{clearTimeout(Z.current),clearTimeout(ae.current),ae.current=setTimeout(()=>{yt(ke)},ge)},{isFocusVisibleRef:Ax,onBlur:hz,onFocus:fz,ref:pz}=BR(),[,kx]=E.useState(!1),Nx=ke=>{hz(ke),Ax.current===!1&&(kx(!1),sd(ke))},Ox=ke=>{Pt||Ht(ke.currentTarget),fz(ke),Ax.current===!0&&(kx(!0),Di(ke))},Dx=ke=>{A.current=!0;const Tr=xe.props;Tr.onTouchStart&&Tr.onTouchStart(ke)},Mx=Di,Lx=sd,mz=ke=>{Dx(ke),clearTimeout(ae.current),clearTimeout(W.current),de(),Er.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ve.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Er.current,Di(ke)},N)},gz=ke=>{xe.props.onTouchEnd&&xe.props.onTouchEnd(ke),de(),clearTimeout(ae.current),ae.current=setTimeout(()=>{yt(ke)},ce)};E.useEffect(()=>{if(!It)return;function ke(Tr){(Tr.key==="Escape"||Tr.key==="Esc")&&yt(Tr)}return document.addEventListener("keydown",ke),()=>{document.removeEventListener("keydown",ke)}},[yt,It]);const yz=mn(xe.ref,pz,Ht,n);!_e&&_e!==0&&(It=!1);const L0=E.useRef(),_z=ke=>{const Tr=xe.props;Tr.onMouseMove&&Tr.onMouseMove(ke),Vd={x:ke.clientX,y:ke.clientY},L0.current&&L0.current.update()},od={},F0=typeof _e=="string";D?(od.title=!It&&F0&&!M?_e:null,od["aria-describedby"]=It?wr:null):(od["aria-label"]=F0?_e:null,od["aria-labelledby"]=It&&!F0?wr:null);const hi=S({},od,Le,xe.props,{className:fe(Le.className,xe.props.className),onTouchStart:Dx,ref:yz},U?{onMouseMove:_z}:{}),ad={};V||(hi.onTouchStart=mz,hi.onTouchEnd=gz),M||(hi.onMouseOver=Bm(Mx,hi.onMouseOver),hi.onMouseLeave=Bm(Lx,hi.onMouseLeave),H||(ad.onMouseOver=Mx,ad.onMouseLeave=Lx)),z||(hi.onFocus=Bm(Ox,hi.onFocus),hi.onBlur=Bm(Nx,hi.onBlur),H||(ad.onFocus=Ox,ad.onBlur=Nx));const vz=E.useMemo(()=>{var ke;let Tr=[{name:"arrow",enabled:!!st,options:{element:st,padding:4}}];return(ke=Ue.popperOptions)!=null&&ke.modifiers&&(Tr=Tr.concat(Ue.popperOptions.modifiers)),S({},Ue.popperOptions,{modifiers:Tr})},[st,Ue]),ld=S({},b,{isRtl:Jt,arrow:T,disableInteractive:H,placement:Ee,PopperComponentProp:qe,touch:A.current}),$0=Ape(ld),Fx=(r=(i=gt.popper)!=null?i:O.Popper)!=null?r:kpe,$x=(s=(o=(a=gt.transition)!=null?a:O.Transition)!=null?o:Xe)!=null?s:MI,Vx=(l=(u=gt.tooltip)!=null?u:O.Tooltip)!=null?l:Npe,Ux=(c=(d=gt.arrow)!=null?d:O.Arrow)!=null?c:Ope,wz=nh(Fx,S({},Ue,(h=Ae.popper)!=null?h:R.popper,{className:fe($0.popper,Ue==null?void 0:Ue.className,(f=(p=Ae.popper)!=null?p:R.popper)==null?void 0:f.className)}),ld),Ez=nh($x,S({},Te,(g=Ae.transition)!=null?g:R.transition),ld),Tz=nh(Vx,S({},(v=Ae.tooltip)!=null?v:R.tooltip,{className:fe($0.tooltip,(m=(y=Ae.tooltip)!=null?y:R.tooltip)==null?void 0:m.className)}),ld),Iz=nh(Ux,S({},(_=Ae.arrow)!=null?_:R.arrow,{className:fe($0.arrow,(w=(I=Ae.arrow)!=null?I:R.arrow)==null?void 0:w.className)}),ld);return C.jsxs(E.Fragment,{children:[E.cloneElement(xe,hi),C.jsx(Fx,S({as:qe??Z4,placement:Ee,anchorEl:U?{getBoundingClientRect:()=>({top:Vd.y,left:Vd.x,right:Vd.x,bottom:Vd.y,width:0,height:0})}:Pt,popperRef:L0,open:Pt?It:!1,id:wr,transition:!0},ad,wz,{popperOptions:vz,children:({TransitionProps:ke})=>C.jsx($x,S({timeout:wn.transitions.duration.shorter},ke,Ez,{children:C.jsxs(Vx,S({},Tz,{children:[_e,T?C.jsx(Ux,S({},Iz,{ref:He})):null]}))}))}))]})}),jm=Dpe;function Mpe(t){return Me("MuiToolbar",t)}$e("MuiToolbar",["root","gutters","regular","dense"]);const Lpe=["className","component","disableGutters","variant"],Fpe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Fe({root:["root",!n&&"gutters",r]},Mpe,e)},$pe=ne("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>S({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Vpe=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=se(r,Lpe),u=S({},r,{component:s,disableGutters:o,variant:a}),c=Fpe(u);return C.jsx($pe,S({as:s,className:fe(c.root,i),ref:n,ownerState:u},l))}),Upe=Vpe;function Bpe(t){return Me("MuiTextField",t)}$e("MuiTextField",["root"]);const jpe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],zpe={standard:dj,filled:aj,outlined:yj},Wpe=t=>{const{classes:e}=t;return Fe({root:["root"]},Bpe,e)},qpe=ne(xhe,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Hpe=E.forwardRef(function(e,n){const r=Ve({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:g,InputLabelProps:v,inputProps:m,InputProps:y,inputRef:_,label:w,maxRows:I,minRows:b,multiline:T=!1,name:x,onBlur:O,onChange:R,onFocus:D,placeholder:z,required:M=!1,rows:$,select:V=!1,SelectProps:B,type:K,value:N,variant:U="outlined"}=r,Y=se(r,jpe),ge=S({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:T,required:M,select:V,variant:U}),ce=Wpe(ge),Se={};U==="outlined"&&(v&&typeof v.shrink<"u"&&(Se.notched=v.shrink),Se.label=w),V&&((!B||!B.native)&&(Se.id=void 0),Se["aria-describedby"]=void 0);const ue=zp(g),ye=p&&ue?`${ue}-helper-text`:void 0,Ee=w&&ue?`${ue}-label`:void 0,qe=zpe[U],Ue=C.jsx(qe,S({"aria-describedby":ye,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:T,name:x,rows:$,maxRows:I,minRows:b,type:K,value:N,id:ue,inputRef:_,onBlur:O,onChange:R,onFocus:D,placeholder:z,inputProps:m},Se,y));return C.jsxs(qpe,S({className:fe(ce.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:M,color:l,variant:U,ownerState:ge},Y,{children:[w!=null&&w!==""&&C.jsx(gfe,S({htmlFor:ue,id:Ee},v,{children:w})),V?C.jsx(Spe,S({"aria-describedby":ye,id:ue,labelId:Ee,value:N,input:Ue},B,{children:o})):Ue,p&&C.jsx(Mhe,S({id:ye},h,{children:p}))]}))}),Xa=Hpe,Gpe=()=>{const t=US(),[e,n]=E.useState(!1),r=i=>{i.target.files&&i.target.files.length>0&&(n(!0),t(F7(i.target.files[0])).then(()=>n(!1)))};return C.jsxs(C.Fragment,{children:[C.jsx(Xa,{onChange:r,type:"file"}),e&&C.jsx(Ode,{})]})},Kpe=()=>{const t=Nc(f=>f.upload.uploadImg),[e,n]=E.useState(""),[r,i]=E.useState(""),[s,o]=E.useState(""),a=f=>{n(f.currentTarget.value)},l=f=>{i(f.currentTarget.value)},u=f=>{o(f.currentTarget.value)},c=US(),d=j$(),h=()=>{const f={id:d,name:e,photo:t,price:+r,quantity:+s};c(I$(f))};return C.jsx(C.Fragment,{children:C.jsx(Qp,{children:C.jsxs(Yp,{children:[C.jsx(nn,{component:"div",sx:{flexGrow:1},variant:"h6",children:"Add product"}),C.jsxs(nn,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Name product: ",C.jsx(Xa,{onChange:a})]}),C.jsxs(nn,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Price product: ",C.jsx(Xa,{onChange:l})]}),C.jsxs(nn,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Quantity product: ",C.jsx(Xa,{onChange:u})]}),C.jsxs(nn,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Image product: ",C.jsx(Gpe,{})]}),C.jsx(Nr,{component:Na,onClick:h,to:"/",variant:"contained",children:"Add product"})]})})})};var Qpe=function(e){return Ype(e)&&!Xpe(e)};function Ype(t){return!!t&&typeof t=="object"}function Xpe(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||eme(t)}var Jpe=typeof Symbol=="function"&&Symbol.for,Zpe=Jpe?Symbol.for("react.element"):60103;function eme(t){return t.$$typeof===Zpe}function tme(t){return Array.isArray(t)?[]:{}}function Zy(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Jf(tme(t),t,e):t}function nme(t,e,n){return t.concat(e).map(function(r){return Zy(r,n)})}function rme(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Zy(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Zy(e[i],n):r[i]=Jf(t[i],e[i],n)}),r}function Jf(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||nme,n.isMergeableObject=n.isMergeableObject||Qpe;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):rme(t,e,n):Zy(e,n)}Jf.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Jf(r,i,n)},{})};var LI=Jf,vj=typeof global=="object"&&global&&global.Object===Object&&global,ime=typeof self=="object"&&self&&self.Object===Object&&self,fs=vj||ime||Function("return this")(),Xo=fs.Symbol,wj=Object.prototype,sme=wj.hasOwnProperty,ome=wj.toString,Ud=Xo?Xo.toStringTag:void 0;function ame(t){var e=sme.call(t,Ud),n=t[Ud];try{t[Ud]=void 0;var r=!0}catch{}var i=ome.call(t);return r&&(e?t[Ud]=n:delete t[Ud]),i}var lme=Object.prototype,ume=lme.toString;function cme(t){return ume.call(t)}var dme="[object Null]",hme="[object Undefined]",uO=Xo?Xo.toStringTag:void 0;function Ul(t){return t==null?t===void 0?hme:dme:uO&&uO in Object(t)?ame(t):cme(t)}function Ej(t,e){return function(n){return t(e(n))}}var lx=Ej(Object.getPrototypeOf,Object);function Bl(t){return t!=null&&typeof t=="object"}var fme="[object Object]",pme=Function.prototype,mme=Object.prototype,Tj=pme.toString,gme=mme.hasOwnProperty,yme=Tj.call(Object);function cO(t){if(!Bl(t)||Ul(t)!=fme)return!1;var e=lx(t);if(e===null)return!0;var n=gme.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Tj.call(n)==yme}var dO=Array.isArray,hO=Object.keys,_me=Object.prototype.hasOwnProperty,vme=typeof Element<"u";function FI(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=dO(t),r=dO(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!FI(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var d=hO(t);if(s=d.length,s!==hO(e).length)return!1;for(i=s;i--!==0;)if(!_me.call(e,d[i]))return!1;if(vme&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!FI(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var wme=function(e,n){try{return FI(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Ta=n_(wme);function Eme(){this.__data__=[],this.size=0}function Ij(t,e){return t===e||t!==t&&e!==e}function x0(t,e){for(var n=t.length;n--;)if(Ij(t[n][0],e))return n;return-1}var Tme=Array.prototype,Ime=Tme.splice;function bme(t){var e=this.__data__,n=x0(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ime.call(e,n,1),--this.size,!0}function Sme(t){var e=this.__data__,n=x0(e,t);return n<0?void 0:e[n][1]}function Cme(t){return x0(this.__data__,t)>-1}function Rme(t,e){var n=this.__data__,r=x0(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Hs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hs.prototype.clear=Eme;Hs.prototype.delete=bme;Hs.prototype.get=Sme;Hs.prototype.has=Cme;Hs.prototype.set=Rme;function xme(){this.__data__=new Hs,this.size=0}function Pme(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Ame(t){return this.__data__.get(t)}function kme(t){return this.__data__.has(t)}function Xp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Nme="[object AsyncFunction]",Ome="[object Function]",Dme="[object GeneratorFunction]",Mme="[object Proxy]";function bj(t){if(!Xp(t))return!1;var e=Ul(t);return e==Ome||e==Dme||e==Nme||e==Mme}var sE=fs["__core-js_shared__"],fO=function(){var t=/[^.]+$/.exec(sE&&sE.keys&&sE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Lme(t){return!!fO&&fO in t}var Fme=Function.prototype,$me=Fme.toString;function jl(t){if(t!=null){try{return $me.call(t)}catch{}try{return t+""}catch{}}return""}var Vme=/[\\^$.*+?()[\]{}|]/g,Ume=/^\[object .+?Constructor\]$/,Bme=Function.prototype,jme=Object.prototype,zme=Bme.toString,Wme=jme.hasOwnProperty,qme=RegExp("^"+zme.call(Wme).replace(Vme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hme(t){if(!Xp(t)||Lme(t))return!1;var e=bj(t)?qme:Ume;return e.test(jl(t))}function Gme(t,e){return t==null?void 0:t[e]}function zl(t,e){var n=Gme(t,e);return Hme(n)?n:void 0}var Zf=zl(fs,"Map"),ep=zl(Object,"create");function Kme(){this.__data__=ep?ep(null):{},this.size=0}function Qme(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Yme="__lodash_hash_undefined__",Xme=Object.prototype,Jme=Xme.hasOwnProperty;function Zme(t){var e=this.__data__;if(ep){var n=e[t];return n===Yme?void 0:n}return Jme.call(e,t)?e[t]:void 0}var ege=Object.prototype,tge=ege.hasOwnProperty;function nge(t){var e=this.__data__;return ep?e[t]!==void 0:tge.call(e,t)}var rge="__lodash_hash_undefined__";function ige(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ep&&e===void 0?rge:e,this}function Sl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sl.prototype.clear=Kme;Sl.prototype.delete=Qme;Sl.prototype.get=Zme;Sl.prototype.has=nge;Sl.prototype.set=ige;function sge(){this.size=0,this.__data__={hash:new Sl,map:new(Zf||Hs),string:new Sl}}function oge(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function P0(t,e){var n=t.__data__;return oge(e)?n[typeof e=="string"?"string":"hash"]:n.map}function age(t){var e=P0(this,t).delete(t);return this.size-=e?1:0,e}function lge(t){return P0(this,t).get(t)}function uge(t){return P0(this,t).has(t)}function cge(t,e){var n=P0(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ua(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ua.prototype.clear=sge;ua.prototype.delete=age;ua.prototype.get=lge;ua.prototype.has=uge;ua.prototype.set=cge;var dge=200;function hge(t,e){var n=this.__data__;if(n instanceof Hs){var r=n.__data__;if(!Zf||r.length<dge-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ua(r)}return n.set(t,e),this.size=n.size,this}function id(t){var e=this.__data__=new Hs(t);this.size=e.size}id.prototype.clear=xme;id.prototype.delete=Pme;id.prototype.get=Ame;id.prototype.has=kme;id.prototype.set=hge;function fge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var pO=function(){try{var t=zl(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Sj(t,e,n){e=="__proto__"&&pO?pO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var pge=Object.prototype,mge=pge.hasOwnProperty;function Cj(t,e,n){var r=t[e];(!(mge.call(t,e)&&Ij(r,n))||n===void 0&&!(e in t))&&Sj(t,e,n)}function A0(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Sj(n,a,l):Cj(n,a,l)}return n}function gge(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var yge="[object Arguments]";function mO(t){return Bl(t)&&Ul(t)==yge}var Rj=Object.prototype,_ge=Rj.hasOwnProperty,vge=Rj.propertyIsEnumerable,wge=mO(function(){return arguments}())?mO:function(t){return Bl(t)&&_ge.call(t,"callee")&&!vge.call(t,"callee")},Jp=Array.isArray;function Ege(){return!1}var xj=typeof Or=="object"&&Or&&!Or.nodeType&&Or,gO=xj&&typeof Dr=="object"&&Dr&&!Dr.nodeType&&Dr,Tge=gO&&gO.exports===xj,yO=Tge?fs.Buffer:void 0,Ige=yO?yO.isBuffer:void 0,Pj=Ige||Ege,bge=9007199254740991,Sge=/^(?:0|[1-9]\d*)$/;function Cge(t,e){var n=typeof t;return e=e??bge,!!e&&(n=="number"||n!="symbol"&&Sge.test(t))&&t>-1&&t%1==0&&t<e}var Rge=9007199254740991;function Aj(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Rge}var xge="[object Arguments]",Pge="[object Array]",Age="[object Boolean]",kge="[object Date]",Nge="[object Error]",Oge="[object Function]",Dge="[object Map]",Mge="[object Number]",Lge="[object Object]",Fge="[object RegExp]",$ge="[object Set]",Vge="[object String]",Uge="[object WeakMap]",Bge="[object ArrayBuffer]",jge="[object DataView]",zge="[object Float32Array]",Wge="[object Float64Array]",qge="[object Int8Array]",Hge="[object Int16Array]",Gge="[object Int32Array]",Kge="[object Uint8Array]",Qge="[object Uint8ClampedArray]",Yge="[object Uint16Array]",Xge="[object Uint32Array]",dt={};dt[zge]=dt[Wge]=dt[qge]=dt[Hge]=dt[Gge]=dt[Kge]=dt[Qge]=dt[Yge]=dt[Xge]=!0;dt[xge]=dt[Pge]=dt[Bge]=dt[Age]=dt[jge]=dt[kge]=dt[Nge]=dt[Oge]=dt[Dge]=dt[Mge]=dt[Lge]=dt[Fge]=dt[$ge]=dt[Vge]=dt[Uge]=!1;function Jge(t){return Bl(t)&&Aj(t.length)&&!!dt[Ul(t)]}function ux(t){return function(e){return t(e)}}var kj=typeof Or=="object"&&Or&&!Or.nodeType&&Or,Oh=kj&&typeof Dr=="object"&&Dr&&!Dr.nodeType&&Dr,Zge=Oh&&Oh.exports===kj,oE=Zge&&vj.process,Ac=function(){try{var t=Oh&&Oh.require&&Oh.require("util").types;return t||oE&&oE.binding&&oE.binding("util")}catch{}}(),_O=Ac&&Ac.isTypedArray,eye=_O?ux(_O):Jge,tye=Object.prototype,nye=tye.hasOwnProperty;function Nj(t,e){var n=Jp(t),r=!n&&wge(t),i=!n&&!r&&Pj(t),s=!n&&!r&&!i&&eye(t),o=n||r||i||s,a=o?gge(t.length,String):[],l=a.length;for(var u in t)(e||nye.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Cge(u,l)))&&a.push(u);return a}var rye=Object.prototype;function cx(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||rye;return t===n}var iye=Ej(Object.keys,Object),sye=Object.prototype,oye=sye.hasOwnProperty;function aye(t){if(!cx(t))return iye(t);var e=[];for(var n in Object(t))oye.call(t,n)&&n!="constructor"&&e.push(n);return e}function Oj(t){return t!=null&&Aj(t.length)&&!bj(t)}function dx(t){return Oj(t)?Nj(t):aye(t)}function lye(t,e){return t&&A0(e,dx(e),t)}function uye(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var cye=Object.prototype,dye=cye.hasOwnProperty;function hye(t){if(!Xp(t))return uye(t);var e=cx(t),n=[];for(var r in t)r=="constructor"&&(e||!dye.call(t,r))||n.push(r);return n}function hx(t){return Oj(t)?Nj(t,!0):hye(t)}function fye(t,e){return t&&A0(e,hx(e),t)}var Dj=typeof Or=="object"&&Or&&!Or.nodeType&&Or,vO=Dj&&typeof Dr=="object"&&Dr&&!Dr.nodeType&&Dr,pye=vO&&vO.exports===Dj,wO=pye?fs.Buffer:void 0,EO=wO?wO.allocUnsafe:void 0;function mye(t,e){if(e)return t.slice();var n=t.length,r=EO?EO(n):new t.constructor(n);return t.copy(r),r}function Mj(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function gye(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Lj(){return[]}var yye=Object.prototype,_ye=yye.propertyIsEnumerable,TO=Object.getOwnPropertySymbols,fx=TO?function(t){return t==null?[]:(t=Object(t),gye(TO(t),function(e){return _ye.call(t,e)}))}:Lj;function vye(t,e){return A0(t,fx(t),e)}function Fj(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var wye=Object.getOwnPropertySymbols,$j=wye?function(t){for(var e=[];t;)Fj(e,fx(t)),t=lx(t);return e}:Lj;function Eye(t,e){return A0(t,$j(t),e)}function Vj(t,e,n){var r=e(t);return Jp(t)?r:Fj(r,n(t))}function Tye(t){return Vj(t,dx,fx)}function Iye(t){return Vj(t,hx,$j)}var $I=zl(fs,"DataView"),VI=zl(fs,"Promise"),UI=zl(fs,"Set"),BI=zl(fs,"WeakMap"),IO="[object Map]",bye="[object Object]",bO="[object Promise]",SO="[object Set]",CO="[object WeakMap]",RO="[object DataView]",Sye=jl($I),Cye=jl(Zf),Rye=jl(VI),xye=jl(UI),Pye=jl(BI),Ia=Ul;($I&&Ia(new $I(new ArrayBuffer(1)))!=RO||Zf&&Ia(new Zf)!=IO||VI&&Ia(VI.resolve())!=bO||UI&&Ia(new UI)!=SO||BI&&Ia(new BI)!=CO)&&(Ia=function(t){var e=Ul(t),n=e==bye?t.constructor:void 0,r=n?jl(n):"";if(r)switch(r){case Sye:return RO;case Cye:return IO;case Rye:return bO;case xye:return SO;case Pye:return CO}return e});const px=Ia;var Aye=Object.prototype,kye=Aye.hasOwnProperty;function Nye(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&kye.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var xO=fs.Uint8Array;function mx(t){var e=new t.constructor(t.byteLength);return new xO(e).set(new xO(t)),e}function Oye(t,e){var n=e?mx(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Dye=/\w*$/;function Mye(t){var e=new t.constructor(t.source,Dye.exec(t));return e.lastIndex=t.lastIndex,e}var PO=Xo?Xo.prototype:void 0,AO=PO?PO.valueOf:void 0;function Lye(t){return AO?Object(AO.call(t)):{}}function Fye(t,e){var n=e?mx(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var $ye="[object Boolean]",Vye="[object Date]",Uye="[object Map]",Bye="[object Number]",jye="[object RegExp]",zye="[object Set]",Wye="[object String]",qye="[object Symbol]",Hye="[object ArrayBuffer]",Gye="[object DataView]",Kye="[object Float32Array]",Qye="[object Float64Array]",Yye="[object Int8Array]",Xye="[object Int16Array]",Jye="[object Int32Array]",Zye="[object Uint8Array]",e_e="[object Uint8ClampedArray]",t_e="[object Uint16Array]",n_e="[object Uint32Array]";function r_e(t,e,n){var r=t.constructor;switch(e){case Hye:return mx(t);case $ye:case Vye:return new r(+t);case Gye:return Oye(t,n);case Kye:case Qye:case Yye:case Xye:case Jye:case Zye:case e_e:case t_e:case n_e:return Fye(t,n);case Uye:return new r;case Bye:case Wye:return new r(t);case jye:return Mye(t);case zye:return new r;case qye:return Lye(t)}}var kO=Object.create,i_e=function(){function t(){}return function(e){if(!Xp(e))return{};if(kO)return kO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function s_e(t){return typeof t.constructor=="function"&&!cx(t)?i_e(lx(t)):{}}var o_e="[object Map]";function a_e(t){return Bl(t)&&px(t)==o_e}var NO=Ac&&Ac.isMap,l_e=NO?ux(NO):a_e,u_e="[object Set]";function c_e(t){return Bl(t)&&px(t)==u_e}var OO=Ac&&Ac.isSet,d_e=OO?ux(OO):c_e,h_e=1,f_e=2,p_e=4,Uj="[object Arguments]",m_e="[object Array]",g_e="[object Boolean]",y_e="[object Date]",__e="[object Error]",Bj="[object Function]",v_e="[object GeneratorFunction]",w_e="[object Map]",E_e="[object Number]",jj="[object Object]",T_e="[object RegExp]",I_e="[object Set]",b_e="[object String]",S_e="[object Symbol]",C_e="[object WeakMap]",R_e="[object ArrayBuffer]",x_e="[object DataView]",P_e="[object Float32Array]",A_e="[object Float64Array]",k_e="[object Int8Array]",N_e="[object Int16Array]",O_e="[object Int32Array]",D_e="[object Uint8Array]",M_e="[object Uint8ClampedArray]",L_e="[object Uint16Array]",F_e="[object Uint32Array]",ot={};ot[Uj]=ot[m_e]=ot[R_e]=ot[x_e]=ot[g_e]=ot[y_e]=ot[P_e]=ot[A_e]=ot[k_e]=ot[N_e]=ot[O_e]=ot[w_e]=ot[E_e]=ot[jj]=ot[T_e]=ot[I_e]=ot[b_e]=ot[S_e]=ot[D_e]=ot[M_e]=ot[L_e]=ot[F_e]=!0;ot[__e]=ot[Bj]=ot[C_e]=!1;function Tg(t,e,n,r,i,s){var o,a=e&h_e,l=e&f_e,u=e&p_e;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Xp(t))return t;var c=Jp(t);if(c){if(o=Nye(t),!a)return Mj(t,o)}else{var d=px(t),h=d==Bj||d==v_e;if(Pj(t))return mye(t,a);if(d==jj||d==Uj||h&&!i){if(o=l||h?{}:s_e(t),!a)return l?Eye(t,fye(o,t)):vye(t,lye(o,t))}else{if(!ot[d])return i?t:{};o=r_e(t,d,a)}}s||(s=new id);var f=s.get(t);if(f)return f;s.set(t,o),d_e(t)?t.forEach(function(v){o.add(Tg(v,e,n,v,t,s))}):l_e(t)&&t.forEach(function(v,m){o.set(m,Tg(v,e,n,m,t,s))});var p=u?l?Iye:Tye:l?hx:dx,g=c?void 0:p(t);return fge(g||t,function(v,m){g&&(m=v,v=t[m]),Cj(o,m,Tg(v,e,n,m,t,s))}),o}var $_e=4;function DO(t){return Tg(t,$_e)}function zj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var V_e="[object Symbol]";function gx(t){return typeof t=="symbol"||Bl(t)&&Ul(t)==V_e}var U_e="Expected a function";function yx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(U_e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(yx.Cache||ua),n}yx.Cache=ua;var B_e=500;function j_e(t){var e=yx(t,function(r){return n.size===B_e&&n.clear(),r}),n=e.cache;return e}var z_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W_e=/\\(\\)?/g,q_e=j_e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(z_e,function(n,r,i,s){e.push(i?s.replace(W_e,"$1"):r||n)}),e});const H_e=q_e;var G_e=1/0;function K_e(t){if(typeof t=="string"||gx(t))return t;var e=t+"";return e=="0"&&1/t==-G_e?"-0":e}var Q_e=1/0,MO=Xo?Xo.prototype:void 0,LO=MO?MO.toString:void 0;function Wj(t){if(typeof t=="string")return t;if(Jp(t))return zj(t,Wj)+"";if(gx(t))return LO?LO.call(t):"";var e=t+"";return e=="0"&&1/t==-Q_e?"-0":e}function Y_e(t){return t==null?"":Wj(t)}function qj(t){return Jp(t)?zj(t,K_e):gx(t)?[t]:Mj(H_e(Y_e(t)))}function on(){return on=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},on.apply(this,arguments)}function Hj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var k0=E.createContext(void 0);k0.displayName="FormikContext";k0.Provider;k0.Consumer;function X_e(){var t=E.useContext(k0);return t}var pi=function(e){return typeof e=="function"},N0=function(e){return e!==null&&typeof e=="object"},J_e=function(e){return String(Math.floor(Number(e)))===e},aE=function(e){return Object.prototype.toString.call(e)==="[object String]"},lE=function(e){return N0(e)&&pi(e.then)};function Ir(t,e,n,r){r===void 0&&(r=0);for(var i=qj(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Ja(t,e,n){for(var r=DO(t),i=r,s=0,o=qj(e);s<o.length-1;s++){var a=o[s],l=Ir(t,o.slice(0,s+1));if(l&&(N0(l)||Array.isArray(l)))i=i[a]=DO(l);else{var u=o[s+1];i=i[a]=J_e(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function Gj(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];N0(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},Gj(a,e,n,r[o])):r[o]=e}return r}function Z_e(t,e){switch(e.type){case"SET_VALUES":return on({},t,{values:e.payload});case"SET_TOUCHED":return on({},t,{touched:e.payload});case"SET_ERRORS":return Ta(t.errors,e.payload)?t:on({},t,{errors:e.payload});case"SET_STATUS":return on({},t,{status:e.payload});case"SET_ISSUBMITTING":return on({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return on({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return on({},t,{values:Ja(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return on({},t,{touched:Ja(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return on({},t,{errors:Ja(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return on({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return on({},t,{touched:Gj(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return on({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return on({},t,{isSubmitting:!1});default:return t}}var ha={},zm={};function eve(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,d=Hj(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=on({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},d),f=E.useRef(h.initialValues),p=E.useRef(h.initialErrors||ha),g=E.useRef(h.initialTouched||zm),v=E.useRef(h.initialStatus),m=E.useRef(!1),y=E.useRef({});E.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var _=E.useState(0),w=_[1],I=E.useRef({values:h.initialValues,errors:h.initialErrors||ha,touched:h.initialTouched||zm,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),b=I.current,T=E.useCallback(function(A){var H=I.current;I.current=Z_e(H,A),H!==I.current&&w(function(W){return W+1})},[]),x=E.useCallback(function(A,H){return new Promise(function(W,Z){var ae=h.validate(A,H);ae==null?W(ha):lE(ae)?ae.then(function(ve){W(ve||ha)},function(ve){Z(ve)}):W(ae)})},[h.validate]),O=E.useCallback(function(A,H){var W=h.validationSchema,Z=pi(W)?W(H):W,ae=H&&Z.validateAt?Z.validateAt(H,A):nve(A,Z);return new Promise(function(ve,pe){ae.then(function(){ve(ha)},function(ie){ie.name==="ValidationError"?ve(tve(ie)):pe(ie)})})},[h.validationSchema]),R=E.useCallback(function(A,H){return new Promise(function(W){return W(y.current[A].validate(H))})},[]),D=E.useCallback(function(A){var H=Object.keys(y.current).filter(function(Z){return pi(y.current[Z].validate)}),W=H.length>0?H.map(function(Z){return R(Z,Ir(A,Z))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(W).then(function(Z){return Z.reduce(function(ae,ve,pe){return ve==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ve&&(ae=Ja(ae,H[pe],ve)),ae},{})})},[R]),z=E.useCallback(function(A){return Promise.all([D(A),h.validationSchema?O(A):{},h.validate?x(A):{}]).then(function(H){var W=H[0],Z=H[1],ae=H[2],ve=LI.all([W,Z,ae],{arrayMerge:rve});return ve})},[h.validate,h.validationSchema,D,x,O]),M=Hr(function(A){return A===void 0&&(A=b.values),T({type:"SET_ISVALIDATING",payload:!0}),z(A).then(function(H){return m.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:H})),H})});E.useEffect(function(){o&&m.current===!0&&Ta(f.current,h.initialValues)&&M(f.current)},[o,M]);var $=E.useCallback(function(A){var H=A&&A.values?A.values:f.current,W=A&&A.errors?A.errors:p.current?p.current:h.initialErrors||{},Z=A&&A.touched?A.touched:g.current?g.current:h.initialTouched||{},ae=A&&A.status?A.status:v.current?v.current:h.initialStatus;f.current=H,p.current=W,g.current=Z,v.current=ae;var ve=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!A&&!!A.isSubmitting,errors:W,touched:Z,status:ae,values:H,isValidating:!!A&&!!A.isValidating,submitCount:A&&A.submitCount&&typeof A.submitCount=="number"?A.submitCount:0}})};if(h.onReset){var pe=h.onReset(b.values,Te);lE(pe)?pe.then(ve):ve()}else ve()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);E.useEffect(function(){m.current===!0&&!Ta(f.current,h.initialValues)&&u&&(f.current=h.initialValues,$(),o&&M(f.current))},[u,h.initialValues,$,o,M]),E.useEffect(function(){u&&m.current===!0&&!Ta(p.current,h.initialErrors)&&(p.current=h.initialErrors||ha,T({type:"SET_ERRORS",payload:h.initialErrors||ha}))},[u,h.initialErrors]),E.useEffect(function(){u&&m.current===!0&&!Ta(g.current,h.initialTouched)&&(g.current=h.initialTouched||zm,T({type:"SET_TOUCHED",payload:h.initialTouched||zm}))},[u,h.initialTouched]),E.useEffect(function(){u&&m.current===!0&&!Ta(v.current,h.initialStatus)&&(v.current=h.initialStatus,T({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var V=Hr(function(A){if(y.current[A]&&pi(y.current[A].validate)){var H=Ir(b.values,A),W=y.current[A].validate(H);return lE(W)?(T({type:"SET_ISVALIDATING",payload:!0}),W.then(function(Z){return Z}).then(function(Z){T({type:"SET_FIELD_ERROR",payload:{field:A,value:Z}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:A,value:W}}),Promise.resolve(W))}else if(h.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),O(b.values,A).then(function(Z){return Z}).then(function(Z){T({type:"SET_FIELD_ERROR",payload:{field:A,value:Ir(Z,A)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=E.useCallback(function(A,H){var W=H.validate;y.current[A]={validate:W}},[]),K=E.useCallback(function(A){delete y.current[A]},[]),N=Hr(function(A,H){T({type:"SET_TOUCHED",payload:A});var W=H===void 0?i:H;return W?M(b.values):Promise.resolve()}),U=E.useCallback(function(A){T({type:"SET_ERRORS",payload:A})},[]),Y=Hr(function(A,H){var W=pi(A)?A(b.values):A;T({type:"SET_VALUES",payload:W});var Z=H===void 0?n:H;return Z?M(W):Promise.resolve()}),ge=E.useCallback(function(A,H){T({type:"SET_FIELD_ERROR",payload:{field:A,value:H}})},[]),ce=Hr(function(A,H,W){T({type:"SET_FIELD_VALUE",payload:{field:A,value:H}});var Z=W===void 0?n:W;return Z?M(Ja(b.values,A,H)):Promise.resolve()}),Se=E.useCallback(function(A,H){var W=H,Z=A,ae;if(!aE(A)){A.persist&&A.persist();var ve=A.target?A.target:A.currentTarget,pe=ve.type,ie=ve.name,It=ve.id,wr=ve.value,Er=ve.checked,de=ve.outerHTML,Ke=ve.options,yt=ve.multiple;W=H||ie||It,Z=/number|range/.test(pe)?(ae=parseFloat(wr),isNaN(ae)?"":ae):/checkbox/.test(pe)?sve(Ir(b.values,W),Er,wr):Ke&&yt?ive(Ke):wr}W&&ce(W,Z)},[ce,b.values]),ue=Hr(function(A){if(aE(A))return function(H){return Se(H,A)};Se(A)}),ye=Hr(function(A,H,W){H===void 0&&(H=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:A,value:H}});var Z=W===void 0?i:W;return Z?M(b.values):Promise.resolve()}),Ee=E.useCallback(function(A,H){A.persist&&A.persist();var W=A.target,Z=W.name,ae=W.id,ve=W.outerHTML,pe=H||Z||ae;ye(pe,!0)},[ye]),qe=Hr(function(A){if(aE(A))return function(H){return Ee(H,A)};Ee(A)}),Ue=E.useCallback(function(A){pi(A)?T({type:"SET_FORMIK_STATE",payload:A}):T({type:"SET_FORMIK_STATE",payload:function(){return A}})},[]),Ae=E.useCallback(function(A){T({type:"SET_STATUS",payload:A})},[]),gt=E.useCallback(function(A){T({type:"SET_ISSUBMITTING",payload:A})},[]),_e=Hr(function(){return T({type:"SUBMIT_ATTEMPT"}),M().then(function(A){var H=A instanceof Error,W=!H&&Object.keys(A).length===0;if(W){var Z;try{if(Z=Le(),Z===void 0)return}catch(ae){throw ae}return Promise.resolve(Z).then(function(ae){return m.current&&T({type:"SUBMIT_SUCCESS"}),ae}).catch(function(ae){if(m.current)throw T({type:"SUBMIT_FAILURE"}),ae})}else if(m.current&&(T({type:"SUBMIT_FAILURE"}),H))throw A})}),Xe=Hr(function(A){A&&A.preventDefault&&pi(A.preventDefault)&&A.preventDefault(),A&&A.stopPropagation&&pi(A.stopPropagation)&&A.stopPropagation(),_e().catch(function(H){console.warn("Warning: An unhandled error was caught from submitForm()",H)})}),Te={resetForm:$,validateForm:M,validateField:V,setErrors:U,setFieldError:ge,setFieldTouched:ye,setFieldValue:ce,setStatus:Ae,setSubmitting:gt,setTouched:N,setValues:Y,setFormikState:Ue,submitForm:_e},Le=Hr(function(){return c(b.values,Te)}),xe=Hr(function(A){A&&A.preventDefault&&pi(A.preventDefault)&&A.preventDefault(),A&&A.stopPropagation&&pi(A.stopPropagation)&&A.stopPropagation(),$()}),wn=E.useCallback(function(A){return{value:Ir(b.values,A),error:Ir(b.errors,A),touched:!!Ir(b.touched,A),initialValue:Ir(f.current,A),initialTouched:!!Ir(g.current,A),initialError:Ir(p.current,A)}},[b.errors,b.touched,b.values]),Jt=E.useCallback(function(A){return{setValue:function(W,Z){return ce(A,W,Z)},setTouched:function(W,Z){return ye(A,W,Z)},setError:function(W){return ge(A,W)}}},[ce,ye,ge]),Pt=E.useCallback(function(A){var H=N0(A),W=H?A.name:A,Z=Ir(b.values,W),ae={name:W,value:Z,onChange:ue,onBlur:qe};if(H){var ve=A.type,pe=A.value,ie=A.as,It=A.multiple;ve==="checkbox"?pe===void 0?ae.checked=!!Z:(ae.checked=!!(Array.isArray(Z)&&~Z.indexOf(pe)),ae.value=pe):ve==="radio"?(ae.checked=Z===pe,ae.value=pe):ie==="select"&&It&&(ae.value=ae.value||[],ae.multiple=!0)}return ae},[qe,ue,b.values]),Ht=E.useMemo(function(){return!Ta(f.current,b.values)},[f.current,b.values]),st=E.useMemo(function(){return typeof a<"u"?Ht?b.errors&&Object.keys(b.errors).length===0:a!==!1&&pi(a)?a(h):a:b.errors&&Object.keys(b.errors).length===0},[a,Ht,b.errors,h]),He=on({},b,{initialValues:f.current,initialErrors:p.current,initialTouched:g.current,initialStatus:v.current,handleBlur:qe,handleChange:ue,handleReset:xe,handleSubmit:Xe,resetForm:$,setErrors:U,setFormikState:Ue,setFieldTouched:ye,setFieldValue:ce,setFieldError:ge,setStatus:Ae,setSubmitting:gt,setTouched:N,setValues:Y,submitForm:_e,validateForm:M,validateField:V,isValid:st,dirty:Ht,unregisterField:K,registerField:B,getFieldProps:Pt,getFieldMeta:wn,getFieldHelpers:Jt,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return He}function tve(t){var e={};if(t.inner){if(t.inner.length===0)return Ja(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Ir(e,o.path)||(e=Ja(e,o.path,o.message))}}return e}function nve(t,e,n,r){n===void 0&&(n=!1);var i=jI(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function jI(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||cO(i)?jI(i):i!==""?i:void 0}):cO(t[r])?e[r]=jI(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function rve(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?LI(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=LI(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function ive(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function sve(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var ove=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function Hr(t){var e=E.useRef(t);return ove(function(){e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var ave=E.forwardRef(function(t,e){var n=t.action,r=Hj(t,["action"]),i=n??"#",s=X_e(),o=s.handleReset,a=s.handleSubmit;return E.createElement("form",on({onSubmit:a,ref:e,onReset:o,action:i},r))});ave.displayName="Form";function Wl(t){this._maxSize=t,this.clear()}Wl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Wl.prototype.get=function(t){return this._values[t]};Wl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var lve=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Kj=/^\d+$/,uve=/^\d/,cve=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,dve=/^\s*(['"]?)(.*?)(\1)\s*$/,_x=512,FO=new Wl(_x),$O=new Wl(_x),VO=new Wl(_x),Za={Cache:Wl,split:zI,normalizePath:uE,setter:function(t){var e=uE(t);return $O.get(t)||$O.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=uE(t);return VO.get(t)||VO.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(vx(n)||Kj.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){hve(Array.isArray(t)?t:zI(t),e,n)}};function uE(t){return FO.get(t)||FO.set(t,zI(t).map(function(e){return e.replace(dve,"$2")}))}function zI(t){return t.match(lve)||[""]}function hve(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(mve(i)&&(i='"'+i+'"'),a=vx(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function vx(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function fve(t){return t.match(uve)&&!t.match(Kj)}function pve(t){return cve.test(t)}function mve(t){return!vx(t)&&(fve(t)||pve(t))}const gve=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,O0=t=>t.match(gve)||[],D0=t=>t[0].toUpperCase()+t.slice(1),wx=(t,e)=>O0(t).join(e).toLowerCase(),Qj=t=>O0(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),yve=t=>D0(Qj(t)),_ve=t=>wx(t,"_"),vve=t=>wx(t,"-"),wve=t=>D0(wx(t," ")),Eve=t=>O0(t).map(D0).join(" ");var cE={words:O0,upperFirst:D0,camelCase:Qj,pascalCase:yve,snakeCase:_ve,kebabCase:vve,sentenceCase:wve,titleCase:Eve},Ex={exports:{}};Ex.exports=function(t){return Yj(Tve(t),t)};Ex.exports.array=Yj;function Yj(t,e){var n=t.length,r=new Array(n),i={},s=n,o=Ive(e),a=bve(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,d){if(d.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var f=o.get(u)||new Set;if(f=Array.from(f),c=f.length){d.add(u);do{var p=f[--c];l(p,a.get(p),d)}while(c);d.delete(u)}r[--n]=u}}}function Tve(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function Ive(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function bve(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var Sve=Ex.exports;const Cve=n_(Sve),Rve=Object.prototype.toString,xve=Error.prototype.toString,Pve=RegExp.prototype.toString,Ave=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",kve=/^Symbol\((.*)\)(.*)$/;function Nve(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function UO(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Nve(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Ave.call(t).replace(kve,"Symbol($1)");const r=Rve.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+xve.call(t)+"]":r==="RegExp"?Pve.call(t):null}function Ao(t,e){let n=UO(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=UO(this[r],e);return s!==null?s:i},2)}function Xj(t){return t==null?[]:[].concat(t)}let Jj,Ove=/\$\{\s*(\w+)\s*\}/g;Jj=Symbol.toStringTag;class or extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(Ove,(i,s)=>Ao(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[Jj]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Xj(e).forEach(o=>{if(or.isError(o)){this.errors.push(...o.errors);const a=o.inner.length?o.inner:[o];this.inner.push(...a)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,or)}}let Fi={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Ao(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ao(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Ao(n,!0)}\``+i}},mi={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Dve={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},WI={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Mve={isValue:"${path} field must be ${value}"},qI={noUnknown:"${path} field has unspecified keys: ${unknown}"},Lve={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Fve={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Ao(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Ao(n,!0)}\``}return or.formatError(Fi.notType,t)}};Object.assign(Object.create(null),{mixed:Fi,string:mi,number:Dve,date:WI,object:qI,array:Lve,boolean:Mve,tuple:Fve});const Tx=t=>t&&t.__isYupSchema__;class e_{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new e_(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Tx(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Wm={context:"$",value:"."};class ql{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Wm.context,this.isValue=this.key[0]===Wm.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Wm.context:this.isValue?Wm.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Za.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ql.prototype.__isYupRef=!0;const Ba=t=>t==null;function lu(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:d,message:h,skipAbsent:f}=t;let{parent:p,context:g,abortEarly:v=o.spec.abortEarly,disableStackTrace:m=o.spec.disableStackTrace}=i;function y(D){return ql.isRef(D)?D.getValue(n,p,g):D}function _(D={}){var z;const M=Object.assign({value:n,originalValue:s,label:o.spec.label,path:D.path||r,spec:o.spec},d,D.params);for(const V of Object.keys(M))M[V]=y(M[V]);const $=new or(or.formatError(D.message||h,M),n,M.path,D.type||u,(z=D.disableStackTrace)!=null?z:m);return $.params=M,$}const w=v?a:l;let I={path:r,parent:p,type:u,from:i.from,createError:_,resolve:y,options:i,originalValue:s,schema:o};const b=D=>{or.isError(D)?w(D):D?l(null):w(_())},T=D=>{or.isError(D)?w(D):a(D)};if(f&&Ba(n))return b(!0);let O;try{var R;if(O=c.call(I,n,I),typeof((R=O)==null?void 0:R.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(O).then(b,T)}}catch(D){T(D);return}b(O)}return e.OPTIONS=t,e}function $ve(t,e,n,r=n){let i,s,o;return e?(Za.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",h=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[h],t=d?t.spec.types[h]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class t_ extends Set{describe(){const e=[];for(const n of this.values())e.push(ql.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new t_(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Au(t,e=new Map){if(Tx(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Au(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Au(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Au(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Au(i,e)}else throw Error(`Unable to clone ${t}`);return n}class ds{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new t_,this._blacklist=new t_,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Fi.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Au(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Ba(s))return s;let o=Ao(e),a=Ao(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=g=>{i||(i=!0,n(g,o))},d=g=>{i||(i=!0,r(g,o))},h=s.length,f=[];if(!h)return d([]);let p={value:o,originalValue:a,path:l,options:u,schema:this};for(let g=0;g<s.length;g++){const v=s[g];v(p,c,function(y){y&&(Array.isArray(y)?f.push(...y):f.push(y)),--h<=0&&d(f)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,h,f)=>this.resolve(c)._validate(u,c,h,f)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{or.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new or(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw or.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new or(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(or.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(or.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Au(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=lu({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=lu({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Fi.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Fi.notNull){return this.nullability(!1,e)}required(e=Fi.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Fi.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=lu(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=Xj(e).map(s=>new ql(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new e_(i,n):e_.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=lu({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Fi.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=lu({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Fi.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=lu({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}ds.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ds.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=$ve(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])ds.prototype[t]=ds.prototype.oneOf;for(const t of["not","nope"])ds.prototype[t]=ds.prototype.notOneOf;let Vve=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Uve=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Bve=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,jve=t=>Ba(t)||t===t.trim(),zve={}.toString();function Ig(){return new Zj}class Zj extends ds{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===zve?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Fi.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=mi.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=mi.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=mi.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||mi.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=mi.email){return this.matches(Vve,{name:"email",message:e,excludeEmptyString:!0})}url(e=mi.url){return this.matches(Uve,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=mi.uuid){return this.matches(Bve,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=mi.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:jve})}lowercase(e=mi.lowercase){return this.transform(n=>Ba(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ba(n)||n===n.toLowerCase()})}uppercase(e=mi.uppercase){return this.transform(n=>Ba(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ba(n)||n===n.toUpperCase()})}}Ig.prototype=Zj.prototype;const Wve=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ps(t,e=0){return Number(t)||e}function qve(t){const e=Wve.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:ps(e[1]),month:ps(e[2],1)-1,day:ps(e[3],1),hour:ps(e[4]),minute:ps(e[5]),second:ps(e[6]),millisecond:e[7]?ps(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:ps(e[10]),minuteOffset:ps(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let Hve=new Date(""),Gve=t=>Object.prototype.toString.call(t)==="[object Date]";class M0 extends ds{constructor(){super({type:"date",check(e){return Gve(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=qve(e),isNaN(e)?M0.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ql.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=WI.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=WI.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}M0.INVALID_DATE=Hve;M0.prototype;function Kve(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Za.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ql.isRef(a)&&a.isSibling?s(a.path,o):Tx(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return Cve.array(Array.from(r),n).reverse()}function BO(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function ez(t){return(e,n)=>BO(t,e)-BO(t,n)}const Qve=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function bg(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=bg(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=bg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(bg)}):"optional"in t?t.optional():t}const Yve=(t,e)=>{const n=[...Za.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Za.getter(Za.join(n),!0)(t);return!!(i&&r in i)};let jO=t=>Object.prototype.toString.call(t)==="[object Object]";function Xve(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Jve=ez([]);function tz(t){return new nz(t)}class nz extends ds{constructor(e){super({type:"object",check(n){return jO(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Jve,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let h=s[d],f=d in i;if(h){let p,g=i[d];u.path=(n.path?`${n.path}.`:"")+d,h=h.resolve({value:g,context:n.context,parent:l});let v=h instanceof ds?h.spec:void 0,m=v==null?void 0:v.strict;if(v!=null&&v.strip){c=c||d in i;continue}p=!n.__validating||!m?h.cast(i[d],u):i[d],p!==void 0&&(l[d]=p)}else f&&!o&&(l[d]=i[d]);(f!==d in l||l[d]!==i[d])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!jO(u)){i(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let h=this.fields[d];!h||ql.isRef(h)||c.push(h.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Kve(e,n),r._sortErrors=ez(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return bg(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Za.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Yve(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(Qve)}noUnknown(e=!0,n=qI.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Xve(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=qI.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(cE.camelCase)}snakeCase(){return this.transformKeys(cE.snakeCase)}constantCase(){return this.transformKeys(e=>cE.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}tz.prototype=nz.prototype;const Zve="_container_1h04x_1",e0e="_dialogTitle_1h04x_23",dE={container:Zve,dialogTitle:e0e},t0e=({onSubmit:t})=>{const e=i_(),n={cardNumber:"",cvv:"",expirationDate:""},r=tz({cardNumber:Ig().matches(/^\d{16}$/,"enter any 16 digits").required("required field"),cvv:Ig().matches(/^\d{3}$/,"enter any 3 digits").required("required field"),expirationDate:Ig().matches(/^\d{2}\/\d{2}$/,`
enter the date in the format 01/01`).required("required field")}),i=eve({initialValues:n,onSubmit:l=>{localStorage.clear(),e(R9()),o(!0),t(l)},validationSchema:r}),[s,o]=Jr.useState(!1),a=()=>{o(!1)};return C.jsx(Jy,{className:dE.form,container:!0,justifyContent:"center",children:C.jsx(Jy,{item:!0,xs:8,children:C.jsxs("form",{onSubmit:i.handleSubmit,children:[C.jsxs(Jde,{onClose:a,open:s,children:[C.jsx(_he,{className:dE.dialogTitle,children:"payment message"}),C.jsx(fhe,{children:C.jsx("div",{children:"Your order has been successfully paid"})}),C.jsx(ihe,{children:C.jsx(Nr,{autoFocus:!0,color:"primary",onClick:a,children:"CLOSE"})})]}),C.jsxs("div",{className:dE.container,children:[C.jsx(Xa,{error:i.touched.cardNumber&&!!i.errors.cardNumber,helperText:i.touched.cardNumber&&i.errors.cardNumber,label:"Card Number",name:"cardNumber",onChange:i.handleChange,value:i.values.cardNumber,variant:"outlined"}),C.jsx(Xa,{error:i.touched.expirationDate&&!!i.errors.expirationDate,helperText:i.touched.expirationDate&&i.errors.expirationDate,label:"Expiration Date",name:"expirationDate",onChange:i.handleChange,style:{margin:"20px 0 20px 0"},value:i.values.expirationDate,variant:"outlined"}),C.jsx(Xa,{error:i.touched.cvv&&!!i.errors.cvv,helperText:i.touched.cvv&&i.errors.cvv,label:"CVV",name:"cvv",onChange:i.handleChange,value:i.values.cvv,variant:"outlined"}),C.jsx(Nr,{color:"primary",type:"submit",variant:"contained",children:"Pay"})]})]})})})},n0e="_error404_1lt3v_1",r0e="_wrapper_1lt3v_6",zO={error404:n0e,wrapper:r0e},i0e="/eShop/assets/404-kMbd88y6.svg",s0e=()=>C.jsx("div",{id:"hw5-page-404",children:C.jsx("div",{className:zO.wrapper,children:C.jsx("img",{alt:"404",className:zO.error404,src:i0e})})}),o0e=({id:t,name:e,photo:n,price:r,quantity:i})=>{const s=i_(),o=Nc(l=>l.cart.items.find(u=>u.id===t)),a=()=>{s(o?ML(t):S9({id:t,name:e,photo:n,price:r,quantity:i}))};return C.jsx(Qp,{sx:{marginTop:2},children:C.jsxs(Yp,{children:[C.jsx(nn,{component:"div",variant:"h5",children:e}),C.jsx(rj,{alt:e,component:"img",height:"250",image:n}),C.jsxs(nn,{color:"text.secondary",variant:"body1",children:["Price: $",r]}),C.jsx(Nr,{onClick:a,variant:"contained",children:"Add to Cart"})]})})},a0e=()=>{const t=Nc(n=>n.product.items),e=Object.values(t);return C.jsx(Jy,{container:!0,spacing:2,children:e.map(n=>C.jsx(Jy,{item:!0,children:C.jsx(o0e,{id:n.id,name:n.name,photo:n.photo,price:n.price,quantity:n.quantity},n.id)},n.id))})};var Ix={},rz={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(rz);var Hl=rz.exports,hE={};const l0e=xz(qae);var WO;function Gl(){return WO||(WO=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=l0e}(hE)),hE}var u0e=Hl;Object.defineProperty(Ix,"__esModule",{value:!0});var iz=Ix.default=void 0,c0e=u0e(Gl()),qO=C,d0e=(0,c0e.default)([(0,qO.jsx)("path",{d:"M18 11c.7 0 1.37.1 2 .29V9l-8-6-8 6v12h7.68c-.43-.91-.68-1.92-.68-3 0-3.87 3.13-7 7-7z"},"0"),(0,qO.jsx)("path",{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm3 5.5h-2.5V21h-1v-2.5H15v-1h2.5V15h1v2.5H21v1z"},"1")],"AddHome");iz=Ix.default=d0e;var bx={},h0e=Hl;Object.defineProperty(bx,"__esModule",{value:!0});var sz=bx.default=void 0,f0e=h0e(Gl()),p0e=C,m0e=(0,f0e.default)((0,p0e.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");sz=bx.default=m0e;var Sx={},g0e=Hl;Object.defineProperty(Sx,"__esModule",{value:!0});var oz=Sx.default=void 0,y0e=g0e(Gl()),_0e=C,v0e=(0,y0e.default)((0,_0e.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"Payment");oz=Sx.default=v0e;var Cx={},w0e=Hl;Object.defineProperty(Cx,"__esModule",{value:!0});var az=Cx.default=void 0,E0e=w0e(Gl()),T0e=C,I0e=(0,E0e.default)((0,T0e.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");az=Cx.default=I0e;const b0e="_container_1qpp8_1",S0e={container:b0e};var Rx={},C0e=Hl;Object.defineProperty(Rx,"__esModule",{value:!0});var lz=Rx.default=void 0,R0e=C0e(Gl()),x0e=C,P0e=(0,R0e.default)((0,x0e.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");lz=Rx.default=P0e;var xx={},A0e=Hl;Object.defineProperty(xx,"__esModule",{value:!0});var uz=xx.default=void 0,k0e=A0e(Gl()),N0e=C,O0e=(0,k0e.default)((0,N0e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");uz=xx.default=O0e;var Px={},D0e=Hl;Object.defineProperty(Px,"__esModule",{value:!0});var cz=Px.default=void 0,M0e=D0e(Gl()),L0e=C,F0e=(0,M0e.default)((0,L0e.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");cz=Px.default=F0e;const $0e=({id:t,name:e,photo:n,price:r,quantity:i})=>{const s=i_(),o=()=>{s(yP(t))},a=()=>{i>1?s(C9(t)):s(yP(t))},l=()=>{s(ML(t))};return C.jsx(Qp,{children:C.jsxs(Yp,{children:[C.jsx(nn,{component:"div",variant:"h5",children:e}),C.jsx(rj,{alt:e,component:"img",image:n,style:{height:100,width:100}}),C.jsxs(nn,{color:"text.secondary",variant:"body1",children:["Price: $",r]}),C.jsxs(nn,{color:"text.secondary",variant:"body1",children:[C.jsx(Nr,{onClick:o,variant:"outlined",children:C.jsx(uz,{})}),C.jsx(Nr,{onClick:a,variant:"text",children:C.jsx(cz,{})}),i,C.jsx(Nr,{onClick:l,variant:"text",children:C.jsx(lz,{})})]})]})})},V0e=()=>{const t=Nc(n=>n.cart.items),e=t.reduce((n,r)=>n+r.price*r.quantity,0);return E.useEffect(()=>{t.length!==0&&localStorage.setItem("cartItems",JSON.stringify(t))},[t]),C.jsx(Qp,{children:C.jsxs(Yp,{children:[t.length>0?C.jsxs(nn,{component:"div",variant:"h5",children:["Cart",C.jsx(Nr,{component:Na,style:{margin:"10px"},to:"/checkout",variant:"contained",children:"Order"})]}):C.jsx(nn,{component:"div",variant:"h5",children:"Cart is empty"}),t.map(n=>C.jsx($0e,{id:n.id,name:n.name,photo:n.photo,price:n.price,quantity:n.quantity},n.id)),C.jsxs(nn,{color:"text.secondary",variant:"body1",children:["Total: $",e]})]})})},U0e=()=>{const t=Nc(r=>r.cart.items),e=t.reduce((r,i)=>r+i.price*i.quantity,0),n=()=>{};return C.jsx(Qp,{children:C.jsxs(Yp,{children:[C.jsx(nn,{component:"div",variant:"h5",children:"Checkout"}),t.map(r=>C.jsx("div",{children:C.jsxs(nn,{component:"div",variant:"body1",children:[r.name," - ",r.quantity,"pcs. - $",r.price]})},r.id)),C.jsxs(nn,{color:"div",style:{margin:"20px 0"},variant:"h5",children:[C.jsx(Nr,{component:Na,disabled:e===0,onClick:n,style:{margin:"0 10px 0 0"},to:"/payment",variant:"contained",children:"Place Order"}),"Total: $",e]})]})})},B0e=()=>{const e=Nc(r=>r.cart.items).reduce((r,i)=>r+i.price*i.quantity,0),n=US();return E.useEffect(()=>{n(T$())},[n]),E.useEffect(()=>{const r=localStorage.getItem("cartItems");r&&n(x9(JSON.parse(r)))},[n]),C.jsxs(C.Fragment,{children:[C.jsx(Dle,{position:"fixed",children:C.jsxs(Upe,{children:[C.jsx(nn,{component:"div",sx:{flexGrow:1},variant:"h6",children:"My Shop"}),C.jsx(Nr,{color:"inherit",component:Na,to:"/",children:C.jsx(jm,{title:"to shopping",children:C.jsx(sz,{})})}),C.jsx(Nr,{color:"inherit",component:Na,to:"/add",children:C.jsx(jm,{title:"add product",children:C.jsx(iz,{})})}),C.jsx(Nr,{color:"inherit",component:Na,to:"/checkout",children:C.jsx(jm,{title:"pay for the order",children:C.jsx(oz,{})})}),C.jsx(Nr,{color:"inherit",component:Na,to:"/cart",children:C.jsx(jm,{title:"go to cart",children:C.jsx(az,{})})}),e?C.jsxs(nn,{color:"text.secondary",component:"div",variant:"h6",children:["Total: $",e]}):""]})}),C.jsx(Mde,{className:S0e.container,children:C.jsxs(dW,{children:[C.jsx(ma,{element:C.jsx(a0e,{}),path:"/"}),C.jsx(ma,{element:C.jsx(Kpe,{}),path:"/add"}),C.jsx(ma,{element:C.jsx(V0e,{}),path:"/cart"}),C.jsx(ma,{element:C.jsx(U0e,{}),path:"/checkout"}),C.jsx(ma,{element:C.jsx(t0e,{}),path:"/payment"}),C.jsx(ma,{element:C.jsx(s0e,{}),path:"*"})]})})]})},j0e={apiKey:"AIzaSyD1u4VDvhbnOQvIlTsJd88GrMb0TTyvo7M",appId:"1:1004589233541:web:0185c11193e27aa053c0ec",authDomain:"eshop2-7a876.firebaseapp.com",databaseURL:"https://eshop2-7a876-default-rtdb.firebaseio.com",messagingSenderId:"1004589233541",projectId:"eshop2-7a876",storageBucket:"eshop2-7a876.appspot.com"},dz=N_(j0e),HI=fK(dz),z0e=x7(dz);W$(document.getElementById("root")).render(C.jsx(m5,{store:U7,children:C.jsx(yW,{basename:"/eShop/",children:C.jsx(B0e,{})})}))});export default W0e();
