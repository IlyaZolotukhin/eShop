var Fz=Object.defineProperty;var Vz=(t,e,n)=>e in t?Fz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Uz=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var B0=(t,e,n)=>(Vz(t,typeof e!="symbol"?e+"":e,n),n);var Rwe=Uz((Dr,Mr)=>{function Bz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function i_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jz(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var oD={exports:{}},s_={},aD={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=Symbol.for("react.element"),zz=Symbol.for("react.portal"),Wz=Symbol.for("react.fragment"),qz=Symbol.for("react.strict_mode"),Hz=Symbol.for("react.profiler"),Gz=Symbol.for("react.provider"),Kz=Symbol.for("react.context"),Qz=Symbol.for("react.forward_ref"),Yz=Symbol.for("react.suspense"),Xz=Symbol.for("react.memo"),Jz=Symbol.for("react.lazy"),XR=Symbol.iterator;function Zz(t){return t===null||typeof t!="object"?null:(t=XR&&t[XR]||t["@@iterator"],typeof t=="function"?t:null)}var lD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uD=Object.assign,cD={};function kc(t,e,n){this.props=t,this.context=e,this.refs=cD,this.updater=n||lD}kc.prototype.isReactComponent={};kc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dD(){}dD.prototype=kc.prototype;function JI(t,e,n){this.props=t,this.context=e,this.refs=cD,this.updater=n||lD}var ZI=JI.prototype=new dD;ZI.constructor=JI;uD(ZI,kc.prototype);ZI.isPureReactComponent=!0;var JR=Array.isArray,hD=Object.prototype.hasOwnProperty,eb={current:null},fD={key:!0,ref:!0,__self:!0,__source:!0};function pD(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hD.call(e,r)&&!fD.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:rp,type:t,key:s,ref:o,props:i,_owner:eb.current}}function e5(t,e){return{$$typeof:rp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tb(t){return typeof t=="object"&&t!==null&&t.$$typeof===rp}function t5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ZR=/\/+/g;function j0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?t5(""+t.key):e.toString(36)}function Gm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rp:case zz:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+j0(o,0):r,JR(i)?(n="",t!=null&&(n=t.replace(ZR,"$&/")+"/"),Gm(i,e,n,"",function(u){return u})):i!=null&&(tb(i)&&(i=e5(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ZR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",JR(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+j0(s,a);o+=Gm(s,e,n,l,i)}else if(l=Zz(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+j0(s,a++),o+=Gm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nm(t,e,n){if(t==null)return t;var r=[],i=0;return Gm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function n5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tr={current:null},Km={transition:null},r5={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:Km,ReactCurrentOwner:eb};Fe.Children={map:nm,forEach:function(t,e,n){nm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nm(t,function(){e++}),e},toArray:function(t){return nm(t,function(e){return e})||[]},only:function(t){if(!tb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=kc;Fe.Fragment=Wz;Fe.Profiler=Hz;Fe.PureComponent=JI;Fe.StrictMode=qz;Fe.Suspense=Yz;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r5;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uD({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=eb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hD.call(e,l)&&!fD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:rp,type:t.type,key:i,ref:s,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:Kz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gz,_context:t},t.Consumer=t};Fe.createElement=pD;Fe.createFactory=function(t){var e=pD.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:Qz,render:t}};Fe.isValidElement=tb;Fe.lazy=function(t){return{$$typeof:Jz,_payload:{_status:-1,_result:t},_init:n5}};Fe.memo=function(t,e){return{$$typeof:Xz,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=Km.transition;Km.transition={};try{t()}finally{Km.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(t,e){return tr.current.useCallback(t,e)};Fe.useContext=function(t){return tr.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return tr.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return tr.current.useEffect(t,e)};Fe.useId=function(){return tr.current.useId()};Fe.useImperativeHandle=function(t,e,n){return tr.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return tr.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return tr.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return tr.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return tr.current.useReducer(t,e,n)};Fe.useRef=function(t){return tr.current.useRef(t)};Fe.useState=function(t){return tr.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return tr.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return tr.current.useTransition()};Fe.version="18.2.0";aD.exports=Fe;var E=aD.exports;const ar=i_(E),Yu=Bz({__proto__:null,default:ar},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5=E,s5=Symbol.for("react.element"),o5=Symbol.for("react.fragment"),a5=Object.prototype.hasOwnProperty,l5=i5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u5={key:!0,ref:!0,__self:!0,__source:!0};function mD(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)a5.call(e,r)&&!u5.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:s5,type:t,key:s,ref:o,props:i,_owner:l5.current}}s_.Fragment=o5;s_.jsx=mD;s_.jsxs=mD;oD.exports=s_;var C=oD.exports,gD={exports:{}},yD={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=E;function c5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var d5=typeof Object.is=="function"?Object.is:c5,h5=ip.useSyncExternalStore,f5=ip.useRef,p5=ip.useEffect,m5=ip.useMemo,g5=ip.useDebugValue;yD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=f5(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=m5(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,d5(c,f))return p;var g=r(f);return i!==void 0&&i(p,g)?p:(c=f,d=g)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=h5(t,s[0],s[1]);return p5(function(){o.hasValue=!0,o.value=a},[a]),g5(a),a};gD.exports=yD;var y5=gD.exports,Ar="default"in Yu?ar:Yu,e1=Symbol.for("react-redux-context"),t1=typeof globalThis<"u"?globalThis:{};function _5(){if(!Ar.createContext)return{};const t=t1[e1]??(t1[e1]=new Map);let e=t.get(Ar.createContext);return e||(e=Ar.createContext(null),t.set(Ar.createContext,e)),e}var ko=_5(),v5=()=>{throw new Error("uSES not initialized!")};function nb(t=ko){return function(){return Ar.useContext(t)}}var _D=nb(),vD=v5,w5=t=>{vD=t},E5=(t,e)=>t===e;function T5(t=ko){const e=t===ko?_D:nb(t);return function(r,i={}){const{equalityFn:s=E5,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e();Ar.useRef(!0);const h=Ar.useCallback({[r.name](p){return r(p)}}[r.name],[r,c,o.stabilityCheck]),f=vD(l.addNestedSub,a.getState,u||a.getState,h,s);return Ar.useDebugValue(f),f}}var Nc=T5();function I5(t){t()}function b5(){let t=null,e=null;return{clear(){t=null,e=null},notify(){I5(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var n1={notify(){},get:()=>[]};function S5(t,e){let n,r=n1,i=0,s=!1;function o(g){c();const _=r.subscribe(g);let m=!1;return()=>{m||(m=!0,_(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=b5())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=n1)}function h(){s||(s=!0,c())}function f(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>r};return p}var C5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x5=C5?Ar.useLayoutEffect:Ar.useEffect;function R5({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Ar.useMemo(()=>{const u=S5(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Ar.useMemo(()=>t.getState(),[t]);x5(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||ko;return Ar.createElement(l.Provider,{value:o},n)}var P5=R5;function wD(t=ko){const e=t===ko?_D:nb(t);return function(){const{store:r}=e();return r}}var A5=wD();function k5(t=ko){const e=t===ko?A5:wD(t);return function(){return e().dispatch}}var o_=k5();w5(y5.useSyncExternalStoreWithSelector);var ED={exports:{}},Wr={},TD={exports:{}},ID={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,U){var Y=N.length;N.push(U);e:for(;0<Y;){var ge=Y-1>>>1,he=N[ge];if(0<i(he,U))N[ge]=U,N[Y]=he,Y=ge;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var U=N[0],Y=N.pop();if(Y!==U){N[0]=Y;e:for(var ge=0,he=N.length,Ce=he>>>1;ge<Ce;){var ce=2*(ge+1)-1,ye=N[ce],Ee=ce+1,qe=N[Ee];if(0>i(ye,Y))Ee<he&&0>i(qe,ye)?(N[ge]=qe,N[Ee]=Y,ge=Ee):(N[ge]=ye,N[ce]=Y,ge=ce);else if(Ee<he&&0>i(qe,Y))N[ge]=qe,N[Ee]=Y,ge=Ee;else break e}}return U}function i(N,U){var Y=N.sortIndex-U.sortIndex;return Y!==0?Y:N.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=N)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function w(N){if(g=!1,v(N),!p)if(n(l)!==null)p=!0,B(I);else{var U=n(u);U!==null&&K(w,U.startTime-N)}}function I(N,U){p=!1,g&&(g=!1,m(R),R=-1),f=!0;var Y=h;try{for(v(U),d=n(l);d!==null&&(!(d.expirationTime>U)||N&&!D());){var ge=d.callback;if(typeof ge=="function"){d.callback=null,h=d.priorityLevel;var he=ge(d.expirationTime<=U);U=t.unstable_now(),typeof he=="function"?d.callback=he:d===n(l)&&r(l),v(U)}else r(l);d=n(l)}if(d!==null)var Ce=!0;else{var ce=n(u);ce!==null&&K(w,ce.startTime-U),Ce=!1}return Ce}finally{d=null,h=Y,f=!1}}var b=!1,T=null,R=-1,O=5,x=-1;function D(){return!(t.unstable_now()-x<O)}function z(){if(T!==null){var N=t.unstable_now();x=N;var U=!0;try{U=T(!0,N)}finally{U?M():(b=!1,T=null)}}else b=!1}var M;if(typeof y=="function")M=function(){y(z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=z,M=function(){V.postMessage(null)}}else M=function(){_(z,0)};function B(N){T=N,b||(b=!0,M())}function K(N,U){R=_(function(){N(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,B(I))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var Y=h;h=U;try{return N()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,U){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=h;h=N;try{return U()}finally{h=Y}},t.unstable_scheduleCallback=function(N,U,Y){var ge=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,N){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Y+he,N={id:c++,callback:U,priorityLevel:N,startTime:Y,expirationTime:he,sortIndex:-1},Y>ge?(N.sortIndex=Y,e(u,N),n(l)===null&&N===n(u)&&(g?(m(R),R=-1):g=!0,K(w,Y-ge))):(N.sortIndex=he,e(l,N),p||f||(p=!0,B(I))),N},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(N){var U=h;return function(){var Y=h;h=U;try{return N.apply(this,arguments)}finally{h=Y}}}})(ID);TD.exports=ID;var N5=TD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD=E,Fr=N5;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SD=new Set,Mh={};function xl(t,e){Xu(t,e),Xu(t+"Capture",e)}function Xu(t,e){for(Mh[t]=e,t=0;t<e.length;t++)SD.add(e[t])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mE=Object.prototype.hasOwnProperty,O5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r1={},i1={};function D5(t){return mE.call(i1,t)?!0:mE.call(r1,t)?!1:O5.test(t)?i1[t]=!0:(r1[t]=!0,!1)}function M5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L5(t,e,n,r){if(e===null||typeof e>"u"||M5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var rb=/[\-:]([a-z])/g;function ib(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rb,ib);kn[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rb,ib);kn[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rb,ib);kn[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function sb(t,e,n,r){var i=kn.hasOwnProperty(e)?kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L5(e,n,i,r)&&(n=null),r||i===null?D5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vs=bD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rm=Symbol.for("react.element"),mu=Symbol.for("react.portal"),gu=Symbol.for("react.fragment"),ob=Symbol.for("react.strict_mode"),gE=Symbol.for("react.profiler"),CD=Symbol.for("react.provider"),xD=Symbol.for("react.context"),ab=Symbol.for("react.forward_ref"),yE=Symbol.for("react.suspense"),_E=Symbol.for("react.suspense_list"),lb=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),RD=Symbol.for("react.offscreen"),s1=Symbol.iterator;function ud(t){return t===null||typeof t!="object"?null:(t=s1&&t[s1]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,z0;function jd(t){if(z0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);z0=e&&e[1]||""}return`
`+z0+t}var W0=!1;function q0(t,e){if(!t||W0)return"";W0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{W0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jd(t):""}function $5(t){switch(t.tag){case 5:return jd(t.type);case 16:return jd("Lazy");case 13:return jd("Suspense");case 19:return jd("SuspenseList");case 0:case 2:case 15:return t=q0(t.type,!1),t;case 11:return t=q0(t.type.render,!1),t;case 1:return t=q0(t.type,!0),t;default:return""}}function vE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gu:return"Fragment";case mu:return"Portal";case gE:return"Profiler";case ob:return"StrictMode";case yE:return"Suspense";case _E:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xD:return(t.displayName||"Context")+".Consumer";case CD:return(t._context.displayName||"Context")+".Provider";case ab:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lb:return e=t.displayName||null,e!==null?e:vE(t.type)||"Memo";case to:e=t._payload,t=t._init;try{return vE(t(e))}catch{}}return null}function F5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vE(e);case 8:return e===ob?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V5(t){var e=PD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function im(t){t._valueTracker||(t._valueTracker=V5(t))}function AD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wE(t,e){var n=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=No(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kD(t,e){e=e.checked,e!=null&&sb(t,"checked",e,!1)}function EE(t,e){kD(t,e);var n=No(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?TE(t,e.type,n):e.hasOwnProperty("defaultValue")&&TE(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function TE(t,e,n){(e!=="number"||xg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zd=Array.isArray;function ku(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+No(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function IE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(zd(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:No(n)}}function ND(t,e){var n=No(e.value),r=No(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sm,DD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sm=sm||document.createElement("div"),sm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U5=["Webkit","ms","Moz","O"];Object.keys(ih).forEach(function(t){U5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ih[e]=ih[t]})});function MD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ih.hasOwnProperty(t)&&ih[t]?(""+e).trim():e+"px"}function LD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var B5=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function SE(t,e){if(e){if(B5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function CE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xE=null;function ub(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var RE=null,Nu=null,Ou=null;function c1(t){if(t=ap(t)){if(typeof RE!="function")throw Error(j(280));var e=t.stateNode;e&&(e=d_(e),RE(t.stateNode,t.type,e))}}function $D(t){Nu?Ou?Ou.push(t):Ou=[t]:Nu=t}function FD(){if(Nu){var t=Nu,e=Ou;if(Ou=Nu=null,c1(t),e)for(t=0;t<e.length;t++)c1(e[t])}}function VD(t,e){return t(e)}function UD(){}var H0=!1;function BD(t,e,n){if(H0)return t(e,n);H0=!0;try{return VD(t,e,n)}finally{H0=!1,(Nu!==null||Ou!==null)&&(UD(),FD())}}function $h(t,e){var n=t.stateNode;if(n===null)return null;var r=d_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var PE=!1;if(Ps)try{var cd={};Object.defineProperty(cd,"passive",{get:function(){PE=!0}}),window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{PE=!1}function j5(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var sh=!1,Rg=null,Pg=!1,AE=null,z5={onError:function(t){sh=!0,Rg=t}};function W5(t,e,n,r,i,s,o,a,l){sh=!1,Rg=null,j5.apply(z5,arguments)}function q5(t,e,n,r,i,s,o,a,l){if(W5.apply(this,arguments),sh){if(sh){var u=Rg;sh=!1,Rg=null}else throw Error(j(198));Pg||(Pg=!0,AE=u)}}function Rl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d1(t){if(Rl(t)!==t)throw Error(j(188))}function H5(t){var e=t.alternate;if(!e){if(e=Rl(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d1(i),t;if(s===r)return d1(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function zD(t){return t=H5(t),t!==null?WD(t):null}function WD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WD(t);if(e!==null)return e;t=t.sibling}return null}var qD=Fr.unstable_scheduleCallback,h1=Fr.unstable_cancelCallback,G5=Fr.unstable_shouldYield,K5=Fr.unstable_requestPaint,zt=Fr.unstable_now,Q5=Fr.unstable_getCurrentPriorityLevel,cb=Fr.unstable_ImmediatePriority,HD=Fr.unstable_UserBlockingPriority,Ag=Fr.unstable_NormalPriority,Y5=Fr.unstable_LowPriority,GD=Fr.unstable_IdlePriority,a_=null,es=null;function X5(t){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(a_,t,void 0,(t.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:e6,J5=Math.log,Z5=Math.LN2;function e6(t){return t>>>=0,t===0?32:31-(J5(t)/Z5|0)|0}var om=64,am=4194304;function Wd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Wd(a):(s&=o,s!==0&&(r=Wd(s)))}else o=n&~i,o!==0?r=Wd(o):s!==0&&(r=Wd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Si(e),i=1<<n,r|=t[n],e&=~i;return r}function t6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Si(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=t6(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function kE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KD(){var t=om;return om<<=1,!(om&4194240)&&(om=64),t}function G0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Si(e),t[e]=n}function r6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Si(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function db(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Si(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ze=0;function QD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YD,hb,XD,JD,ZD,NE=!1,lm=[],go=null,yo=null,_o=null,Fh=new Map,Vh=new Map,ro=[],i6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f1(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Fh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(e.pointerId)}}function dd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ap(e),e!==null&&hb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function s6(t,e,n,r,i){switch(e){case"focusin":return go=dd(go,t,e,n,r,i),!0;case"dragenter":return yo=dd(yo,t,e,n,r,i),!0;case"mouseover":return _o=dd(_o,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fh.set(s,dd(Fh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vh.set(s,dd(Vh.get(s)||null,t,e,n,r,i)),!0}return!1}function eM(t){var e=ka(t.target);if(e!==null){var n=Rl(e);if(n!==null){if(e=n.tag,e===13){if(e=jD(n),e!==null){t.blockedOn=e,ZD(t.priority,function(){XD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=OE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xE=r,n.target.dispatchEvent(r),xE=null}else return e=ap(n),e!==null&&hb(e),t.blockedOn=n,!1;e.shift()}return!0}function p1(t,e,n){Qm(t)&&n.delete(e)}function o6(){NE=!1,go!==null&&Qm(go)&&(go=null),yo!==null&&Qm(yo)&&(yo=null),_o!==null&&Qm(_o)&&(_o=null),Fh.forEach(p1),Vh.forEach(p1)}function hd(t,e){t.blockedOn===e&&(t.blockedOn=null,NE||(NE=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,o6)))}function Uh(t){function e(i){return hd(i,t)}if(0<lm.length){hd(lm[0],t);for(var n=1;n<lm.length;n++){var r=lm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&hd(go,t),yo!==null&&hd(yo,t),_o!==null&&hd(_o,t),Fh.forEach(e),Vh.forEach(e),n=0;n<ro.length;n++)r=ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ro.length&&(n=ro[0],n.blockedOn===null);)eM(n),n.blockedOn===null&&ro.shift()}var Du=Vs.ReactCurrentBatchConfig,Ng=!0;function a6(t,e,n,r){var i=Ze,s=Du.transition;Du.transition=null;try{Ze=1,fb(t,e,n,r)}finally{Ze=i,Du.transition=s}}function l6(t,e,n,r){var i=Ze,s=Du.transition;Du.transition=null;try{Ze=4,fb(t,e,n,r)}finally{Ze=i,Du.transition=s}}function fb(t,e,n,r){if(Ng){var i=OE(t,e,n,r);if(i===null)rw(t,e,r,Og,n),f1(t,r);else if(s6(i,t,e,n,r))r.stopPropagation();else if(f1(t,r),e&4&&-1<i6.indexOf(t)){for(;i!==null;){var s=ap(i);if(s!==null&&YD(s),s=OE(t,e,n,r),s===null&&rw(t,e,r,Og,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rw(t,e,r,null,n)}}var Og=null;function OE(t,e,n,r){if(Og=null,t=ub(r),t=ka(t),t!==null)if(e=Rl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Og=t,null}function tM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q5()){case cb:return 1;case HD:return 4;case Ag:case Y5:return 16;case GD:return 536870912;default:return 16}default:return 16}}var lo=null,pb=null,Ym=null;function nM(){if(Ym)return Ym;var t,e=pb,n=e.length,r,i="value"in lo?lo.value:lo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ym=i.slice(t,1<r?1-r:void 0)}function Xm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function um(){return!0}function m1(){return!1}function qr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?um:m1,this.isPropagationStopped=m1,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=um)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=um)},persist:function(){},isPersistent:um}),e}var Oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mb=qr(Oc),op=xt({},Oc,{view:0,detail:0}),u6=qr(op),K0,Q0,fd,l_=xt({},op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fd&&(fd&&t.type==="mousemove"?(K0=t.screenX-fd.screenX,Q0=t.screenY-fd.screenY):Q0=K0=0,fd=t),K0)},movementY:function(t){return"movementY"in t?t.movementY:Q0}}),g1=qr(l_),c6=xt({},l_,{dataTransfer:0}),d6=qr(c6),h6=xt({},op,{relatedTarget:0}),Y0=qr(h6),f6=xt({},Oc,{animationName:0,elapsedTime:0,pseudoElement:0}),p6=qr(f6),m6=xt({},Oc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g6=qr(m6),y6=xt({},Oc,{data:0}),y1=qr(y6),_6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=w6[t])?!!e[t]:!1}function gb(){return E6}var T6=xt({},op,{key:function(t){if(t.key){var e=_6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gb,charCode:function(t){return t.type==="keypress"?Xm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I6=qr(T6),b6=xt({},l_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_1=qr(b6),S6=xt({},op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gb}),C6=qr(S6),x6=xt({},Oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),R6=qr(x6),P6=xt({},l_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A6=qr(P6),k6=[9,13,27,32],yb=Ps&&"CompositionEvent"in window,oh=null;Ps&&"documentMode"in document&&(oh=document.documentMode);var N6=Ps&&"TextEvent"in window&&!oh,rM=Ps&&(!yb||oh&&8<oh&&11>=oh),v1=" ",w1=!1;function iM(t,e){switch(t){case"keyup":return k6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yu=!1;function O6(t,e){switch(t){case"compositionend":return sM(e);case"keypress":return e.which!==32?null:(w1=!0,v1);case"textInput":return t=e.data,t===v1&&w1?null:t;default:return null}}function D6(t,e){if(yu)return t==="compositionend"||!yb&&iM(t,e)?(t=nM(),Ym=pb=lo=null,yu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rM&&e.locale!=="ko"?null:e.data;default:return null}}var M6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M6[t.type]:e==="textarea"}function oM(t,e,n,r){$D(r),e=Dg(e,"onChange"),0<e.length&&(n=new mb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ah=null,Bh=null;function L6(t){yM(t,0)}function u_(t){var e=wu(t);if(AD(e))return t}function $6(t,e){if(t==="change")return e}var aM=!1;if(Ps){var X0;if(Ps){var J0="oninput"in document;if(!J0){var T1=document.createElement("div");T1.setAttribute("oninput","return;"),J0=typeof T1.oninput=="function"}X0=J0}else X0=!1;aM=X0&&(!document.documentMode||9<document.documentMode)}function I1(){ah&&(ah.detachEvent("onpropertychange",lM),Bh=ah=null)}function lM(t){if(t.propertyName==="value"&&u_(Bh)){var e=[];oM(e,Bh,t,ub(t)),BD(L6,e)}}function F6(t,e,n){t==="focusin"?(I1(),ah=e,Bh=n,ah.attachEvent("onpropertychange",lM)):t==="focusout"&&I1()}function V6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return u_(Bh)}function U6(t,e){if(t==="click")return u_(e)}function B6(t,e){if(t==="input"||t==="change")return u_(e)}function j6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pi=typeof Object.is=="function"?Object.is:j6;function jh(t,e){if(Pi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mE.call(e,i)||!Pi(t[i],e[i]))return!1}return!0}function b1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function S1(t,e){var n=b1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=b1(n)}}function uM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cM(){for(var t=window,e=xg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xg(t.document)}return e}function _b(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function z6(t){var e=cM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uM(n.ownerDocument.documentElement,n)){if(r!==null&&_b(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=S1(n,s);var o=S1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W6=Ps&&"documentMode"in document&&11>=document.documentMode,_u=null,DE=null,lh=null,ME=!1;function C1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ME||_u==null||_u!==xg(r)||(r=_u,"selectionStart"in r&&_b(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lh&&jh(lh,r)||(lh=r,r=Dg(DE,"onSelect"),0<r.length&&(e=new mb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_u)))}function cm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vu={animationend:cm("Animation","AnimationEnd"),animationiteration:cm("Animation","AnimationIteration"),animationstart:cm("Animation","AnimationStart"),transitionend:cm("Transition","TransitionEnd")},Z0={},dM={};Ps&&(dM=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function c_(t){if(Z0[t])return Z0[t];if(!vu[t])return t;var e=vu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dM)return Z0[t]=e[n];return t}var hM=c_("animationend"),fM=c_("animationiteration"),pM=c_("animationstart"),mM=c_("transitionend"),gM=new Map,x1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(t,e){gM.set(t,e),xl(e,[t])}for(var ew=0;ew<x1.length;ew++){var tw=x1[ew],q6=tw.toLowerCase(),H6=tw[0].toUpperCase()+tw.slice(1);Jo(q6,"on"+H6)}Jo(hM,"onAnimationEnd");Jo(fM,"onAnimationIteration");Jo(pM,"onAnimationStart");Jo("dblclick","onDoubleClick");Jo("focusin","onFocus");Jo("focusout","onBlur");Jo(mM,"onTransitionEnd");Xu("onMouseEnter",["mouseout","mouseover"]);Xu("onMouseLeave",["mouseout","mouseover"]);Xu("onPointerEnter",["pointerout","pointerover"]);Xu("onPointerLeave",["pointerout","pointerover"]);xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G6=new Set("cancel close invalid load scroll toggle".split(" ").concat(qd));function R1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,q5(r,e,void 0,t),t.currentTarget=null}function yM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;R1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;R1(i,a,u),s=l}}}if(Pg)throw t=AE,Pg=!1,AE=null,t}function ct(t,e){var n=e[UE];n===void 0&&(n=e[UE]=new Set);var r=t+"__bubble";n.has(r)||(_M(e,t,2,!1),n.add(r))}function nw(t,e,n){var r=0;e&&(r|=4),_M(n,t,r,e)}var dm="_reactListening"+Math.random().toString(36).slice(2);function zh(t){if(!t[dm]){t[dm]=!0,SD.forEach(function(n){n!=="selectionchange"&&(G6.has(n)||nw(n,!1,t),nw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dm]||(e[dm]=!0,nw("selectionchange",!1,e))}}function _M(t,e,n,r){switch(tM(e)){case 1:var i=a6;break;case 4:i=l6;break;default:i=fb}n=i.bind(null,e,n,t),i=void 0,!PE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ka(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}BD(function(){var u=s,c=ub(n),d=[];e:{var h=gM.get(t);if(h!==void 0){var f=mb,p=t;switch(t){case"keypress":if(Xm(n)===0)break e;case"keydown":case"keyup":f=I6;break;case"focusin":p="focus",f=Y0;break;case"focusout":p="blur",f=Y0;break;case"beforeblur":case"afterblur":f=Y0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=g1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=d6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=C6;break;case hM:case fM:case pM:f=p6;break;case mM:f=R6;break;case"scroll":f=u6;break;case"wheel":f=A6;break;case"copy":case"cut":case"paste":f=g6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=_1}var g=(e&4)!==0,_=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,m!==null&&(w=$h(y,m),w!=null&&g.push(Wh(y,w,v)))),_)break;y=y.return}0<g.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==xE&&(p=n.relatedTarget||n.fromElement)&&(ka(p)||p[As]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?ka(p):null,p!==null&&(_=Rl(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=g1,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=_1,w="onPointerLeave",m="onPointerEnter",y="pointer"),_=f==null?h:wu(f),v=p==null?h:wu(p),h=new g(w,y+"leave",f,n,c),h.target=_,h.relatedTarget=v,w=null,ka(c)===u&&(g=new g(m,y+"enter",p,n,c),g.target=v,g.relatedTarget=_,w=g),_=w,f&&p)t:{for(g=f,m=p,y=0,v=g;v;v=Gl(v))y++;for(v=0,w=m;w;w=Gl(w))v++;for(;0<y-v;)g=Gl(g),y--;for(;0<v-y;)m=Gl(m),v--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Gl(g),m=Gl(m)}g=null}else g=null;f!==null&&P1(d,h,f,g,!1),p!==null&&_!==null&&P1(d,_,p,g,!0)}}e:{if(h=u?wu(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=$6;else if(E1(h))if(aM)I=B6;else{I=V6;var b=F6}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=U6);if(I&&(I=I(t,u))){oM(d,I,n,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&TE(h,"number",h.value)}switch(b=u?wu(u):window,t){case"focusin":(E1(b)||b.contentEditable==="true")&&(_u=b,DE=u,lh=null);break;case"focusout":lh=DE=_u=null;break;case"mousedown":ME=!0;break;case"contextmenu":case"mouseup":case"dragend":ME=!1,C1(d,n,c);break;case"selectionchange":if(W6)break;case"keydown":case"keyup":C1(d,n,c)}var T;if(yb)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else yu?iM(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(rM&&n.locale!=="ko"&&(yu||R!=="onCompositionStart"?R==="onCompositionEnd"&&yu&&(T=nM()):(lo=c,pb="value"in lo?lo.value:lo.textContent,yu=!0)),b=Dg(u,R),0<b.length&&(R=new y1(R,t,null,n,c),d.push({event:R,listeners:b}),T?R.data=T:(T=sM(n),T!==null&&(R.data=T)))),(T=N6?O6(t,n):D6(t,n))&&(u=Dg(u,"onBeforeInput"),0<u.length&&(c=new y1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}yM(d,e)})}function Wh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$h(t,n),s!=null&&r.unshift(Wh(t,s,i)),s=$h(t,e),s!=null&&r.push(Wh(t,s,i))),t=t.return}return r}function Gl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=$h(n,s),l!=null&&o.unshift(Wh(n,l,a))):i||(l=$h(n,s),l!=null&&o.push(Wh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var K6=/\r\n?/g,Q6=/\u0000|\uFFFD/g;function A1(t){return(typeof t=="string"?t:""+t).replace(K6,`
`).replace(Q6,"")}function hm(t,e,n){if(e=A1(e),A1(t)!==e&&n)throw Error(j(425))}function Mg(){}var LE=null,$E=null;function FE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var VE=typeof setTimeout=="function"?setTimeout:void 0,Y6=typeof clearTimeout=="function"?clearTimeout:void 0,k1=typeof Promise=="function"?Promise:void 0,X6=typeof queueMicrotask=="function"?queueMicrotask:typeof k1<"u"?function(t){return k1.resolve(null).then(t).catch(J6)}:VE;function J6(t){setTimeout(function(){throw t})}function iw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Uh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uh(e)}function vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Dc,qh="__reactProps$"+Dc,As="__reactContainer$"+Dc,UE="__reactEvents$"+Dc,Z6="__reactListeners$"+Dc,e3="__reactHandles$"+Dc;function ka(t){var e=t[Bi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[As]||n[Bi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N1(t);t!==null;){if(n=t[Bi])return n;t=N1(t)}return e}t=n,n=t.parentNode}return null}function ap(t){return t=t[Bi]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function d_(t){return t[qh]||null}var BE=[],Eu=-1;function Zo(t){return{current:t}}function mt(t){0>Eu||(t.current=BE[Eu],BE[Eu]=null,Eu--)}function lt(t,e){Eu++,BE[Eu]=t.current,t.current=e}var Oo={},zn=Zo(Oo),fr=Zo(!1),tl=Oo;function Ju(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pr(t){return t=t.childContextTypes,t!=null}function Lg(){mt(fr),mt(zn)}function O1(t,e,n){if(zn.current!==Oo)throw Error(j(168));lt(zn,e),lt(fr,n)}function vM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,F5(t)||"Unknown",i));return xt({},n,r)}function $g(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,tl=zn.current,lt(zn,t),lt(fr,fr.current),!0}function D1(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=vM(t,e,tl),r.__reactInternalMemoizedMergedChildContext=t,mt(fr),mt(zn),lt(zn,t)):mt(fr),lt(fr,n)}var ys=null,h_=!1,sw=!1;function wM(t){ys===null?ys=[t]:ys.push(t)}function t3(t){h_=!0,wM(t)}function ea(){if(!sw&&ys!==null){sw=!0;var t=0,e=Ze;try{var n=ys;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ys=null,h_=!1}catch(i){throw ys!==null&&(ys=ys.slice(t+1)),qD(cb,ea),i}finally{Ze=e,sw=!1}}return null}var Tu=[],Iu=0,Fg=null,Vg=0,Qr=[],Yr=0,nl=null,vs=1,ws="";function ma(t,e){Tu[Iu++]=Vg,Tu[Iu++]=Fg,Fg=t,Vg=e}function EM(t,e,n){Qr[Yr++]=vs,Qr[Yr++]=ws,Qr[Yr++]=nl,nl=t;var r=vs;t=ws;var i=32-Si(r)-1;r&=~(1<<i),n+=1;var s=32-Si(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vs=1<<32-Si(e)+i|n<<i|r,ws=s+t}else vs=1<<s|n<<i|r,ws=t}function vb(t){t.return!==null&&(ma(t,1),EM(t,1,0))}function wb(t){for(;t===Fg;)Fg=Tu[--Iu],Tu[Iu]=null,Vg=Tu[--Iu],Tu[Iu]=null;for(;t===nl;)nl=Qr[--Yr],Qr[Yr]=null,ws=Qr[--Yr],Qr[Yr]=null,vs=Qr[--Yr],Qr[Yr]=null}var Lr=null,kr=null,vt=!1,vi=null;function TM(t,e){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lr=t,kr=vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lr=t,kr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nl!==null?{id:vs,overflow:ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lr=t,kr=null,!0):!1;default:return!1}}function jE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zE(t){if(vt){var e=kr;if(e){var n=e;if(!M1(t,e)){if(jE(t))throw Error(j(418));e=vo(n.nextSibling);var r=Lr;e&&M1(t,e)?TM(r,n):(t.flags=t.flags&-4097|2,vt=!1,Lr=t)}}else{if(jE(t))throw Error(j(418));t.flags=t.flags&-4097|2,vt=!1,Lr=t}}}function L1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lr=t}function fm(t){if(t!==Lr)return!1;if(!vt)return L1(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!FE(t.type,t.memoizedProps)),e&&(e=kr)){if(jE(t))throw IM(),Error(j(418));for(;e;)TM(t,e),e=vo(e.nextSibling)}if(L1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kr=vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kr=null}}else kr=Lr?vo(t.stateNode.nextSibling):null;return!0}function IM(){for(var t=kr;t;)t=vo(t.nextSibling)}function Zu(){kr=Lr=null,vt=!1}function Eb(t){vi===null?vi=[t]:vi.push(t)}var n3=Vs.ReactCurrentBatchConfig;function yi(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ug=Zo(null),Bg=null,bu=null,Tb=null;function Ib(){Tb=bu=Bg=null}function bb(t){var e=Ug.current;mt(Ug),t._currentValue=e}function WE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mu(t,e){Bg=t,Tb=bu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(Tb!==t)if(t={context:t,memoizedValue:e,next:null},bu===null){if(Bg===null)throw Error(j(308));bu=t,Bg.dependencies={lanes:0,firstContext:t}}else bu=bu.next=t;return e}var Na=null;function Sb(t){Na===null?Na=[t]:Na.push(t)}function bM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Sb(e)):(n.next=i.next,i.next=n),e.interleaved=n,ks(t,r)}function ks(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var no=!1;function Cb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ks(t,n)}return i=r.interleaved,i===null?(e.next=e,Sb(r)):(e.next=i.next,i.next=e),r.interleaved=e,ks(t,n)}function Jm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,db(t,n)}}function $1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jg(t,e,n,r){var i=t.updateQueue;no=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=xt({},d,h);break e;case 2:no=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);il|=o,t.lanes=o,t.memoizedState=d}}function F1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var CM=new bD.Component().refs;function qE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var f_={isMounted:function(t){return(t=t._reactInternals)?Rl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=To(t),s=Ss(r,i);s.payload=e,n!=null&&(s.callback=n),e=wo(t,s,i),e!==null&&(Ci(e,t,i,r),Jm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=To(t),s=Ss(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wo(t,s,i),e!==null&&(Ci(e,t,i,r),Jm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yn(),r=To(t),i=Ss(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(Ci(e,t,r,n),Jm(e,t,r))}};function V1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!jh(n,r)||!jh(i,s):!0}function xM(t,e,n){var r=!1,i=Oo,s=e.contextType;return typeof s=="object"&&s!==null?s=ri(s):(i=pr(e)?tl:zn.current,r=e.contextTypes,s=(r=r!=null)?Ju(t,i):Oo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=f_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function U1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&f_.enqueueReplaceState(e,e.state,null)}function HE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=CM,Cb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ri(s):(s=pr(e)?tl:zn.current,i.context=Ju(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&f_.enqueueReplaceState(i,i.state,null),jg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===CM&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function pm(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B1(t){var e=t._init;return e(t._payload)}function RM(t){function e(m,y){if(t){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Io(m,y),m.index=0,m.sibling=null,m}function s(m,y,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,v,w){return y===null||y.tag!==6?(y=hw(v,m.mode,w),y.return=m,y):(y=i(y,v),y.return=m,y)}function l(m,y,v,w){var I=v.type;return I===gu?c(m,y,v.props.children,w,v.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===to&&B1(I)===y.type)?(w=i(y,v.props),w.ref=pd(m,y,v),w.return=m,w):(w=ig(v.type,v.key,v.props,null,m.mode,w),w.ref=pd(m,y,v),w.return=m,w)}function u(m,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=fw(v,m.mode,w),y.return=m,y):(y=i(y,v.children||[]),y.return=m,y)}function c(m,y,v,w,I){return y===null||y.tag!==7?(y=Wa(v,m.mode,w,I),y.return=m,y):(y=i(y,v),y.return=m,y)}function d(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hw(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rm:return v=ig(y.type,y.key,y.props,null,m.mode,v),v.ref=pd(m,null,y),v.return=m,v;case mu:return y=fw(y,m.mode,v),y.return=m,y;case to:var w=y._init;return d(m,w(y._payload),v)}if(zd(y)||ud(y))return y=Wa(y,m.mode,v,null),y.return=m,y;pm(m,y)}return null}function h(m,y,v,w){var I=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:a(m,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rm:return v.key===I?l(m,y,v,w):null;case mu:return v.key===I?u(m,y,v,w):null;case to:return I=v._init,h(m,y,I(v._payload),w)}if(zd(v)||ud(v))return I!==null?null:c(m,y,v,w,null);pm(m,v)}return null}function f(m,y,v,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(v)||null,a(y,m,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rm:return m=m.get(w.key===null?v:w.key)||null,l(y,m,w,I);case mu:return m=m.get(w.key===null?v:w.key)||null,u(y,m,w,I);case to:var b=w._init;return f(m,y,v,b(w._payload),I)}if(zd(w)||ud(w))return m=m.get(v)||null,c(y,m,w,I,null);pm(y,w)}return null}function p(m,y,v,w){for(var I=null,b=null,T=y,R=y=0,O=null;T!==null&&R<v.length;R++){T.index>R?(O=T,T=null):O=T.sibling;var x=h(m,T,v[R],w);if(x===null){T===null&&(T=O);break}t&&T&&x.alternate===null&&e(m,T),y=s(x,y,R),b===null?I=x:b.sibling=x,b=x,T=O}if(R===v.length)return n(m,T),vt&&ma(m,R),I;if(T===null){for(;R<v.length;R++)T=d(m,v[R],w),T!==null&&(y=s(T,y,R),b===null?I=T:b.sibling=T,b=T);return vt&&ma(m,R),I}for(T=r(m,T);R<v.length;R++)O=f(T,m,R,v[R],w),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?R:O.key),y=s(O,y,R),b===null?I=O:b.sibling=O,b=O);return t&&T.forEach(function(D){return e(m,D)}),vt&&ma(m,R),I}function g(m,y,v,w){var I=ud(v);if(typeof I!="function")throw Error(j(150));if(v=I.call(v),v==null)throw Error(j(151));for(var b=I=null,T=y,R=y=0,O=null,x=v.next();T!==null&&!x.done;R++,x=v.next()){T.index>R?(O=T,T=null):O=T.sibling;var D=h(m,T,x.value,w);if(D===null){T===null&&(T=O);break}t&&T&&D.alternate===null&&e(m,T),y=s(D,y,R),b===null?I=D:b.sibling=D,b=D,T=O}if(x.done)return n(m,T),vt&&ma(m,R),I;if(T===null){for(;!x.done;R++,x=v.next())x=d(m,x.value,w),x!==null&&(y=s(x,y,R),b===null?I=x:b.sibling=x,b=x);return vt&&ma(m,R),I}for(T=r(m,T);!x.done;R++,x=v.next())x=f(T,m,R,x.value,w),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?R:x.key),y=s(x,y,R),b===null?I=x:b.sibling=x,b=x);return t&&T.forEach(function(z){return e(m,z)}),vt&&ma(m,R),I}function _(m,y,v,w){if(typeof v=="object"&&v!==null&&v.type===gu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case rm:e:{for(var I=v.key,b=y;b!==null;){if(b.key===I){if(I=v.type,I===gu){if(b.tag===7){n(m,b.sibling),y=i(b,v.props.children),y.return=m,m=y;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===to&&B1(I)===b.type){n(m,b.sibling),y=i(b,v.props),y.ref=pd(m,b,v),y.return=m,m=y;break e}n(m,b);break}else e(m,b);b=b.sibling}v.type===gu?(y=Wa(v.props.children,m.mode,w,v.key),y.return=m,m=y):(w=ig(v.type,v.key,v.props,null,m.mode,w),w.ref=pd(m,y,v),w.return=m,m=w)}return o(m);case mu:e:{for(b=v.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=i(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=fw(v,m.mode,w),y.return=m,m=y}return o(m);case to:return b=v._init,_(m,y,b(v._payload),w)}if(zd(v))return p(m,y,v,w);if(ud(v))return g(m,y,v,w);pm(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,v),y.return=m,m=y):(n(m,y),y=hw(v,m.mode,w),y.return=m,m=y),o(m)):n(m,y)}return _}var ec=RM(!0),PM=RM(!1),lp={},ts=Zo(lp),Hh=Zo(lp),Gh=Zo(lp);function Oa(t){if(t===lp)throw Error(j(174));return t}function xb(t,e){switch(lt(Gh,e),lt(Hh,t),lt(ts,lp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bE(e,t)}mt(ts),lt(ts,e)}function tc(){mt(ts),mt(Hh),mt(Gh)}function AM(t){Oa(Gh.current);var e=Oa(ts.current),n=bE(e,t.type);e!==n&&(lt(Hh,t),lt(ts,n))}function Rb(t){Hh.current===t&&(mt(ts),mt(Hh))}var bt=Zo(0);function zg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ow=[];function Pb(){for(var t=0;t<ow.length;t++)ow[t]._workInProgressVersionPrimary=null;ow.length=0}var Zm=Vs.ReactCurrentDispatcher,aw=Vs.ReactCurrentBatchConfig,rl=0,St=null,en=null,cn=null,Wg=!1,uh=!1,Kh=0,r3=0;function On(){throw Error(j(321))}function Ab(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pi(t[n],e[n]))return!1;return!0}function kb(t,e,n,r,i,s){if(rl=s,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zm.current=t===null||t.memoizedState===null?a3:l3,t=n(r,i),uh){s=0;do{if(uh=!1,Kh=0,25<=s)throw Error(j(301));s+=1,cn=en=null,e.updateQueue=null,Zm.current=u3,t=n(r,i)}while(uh)}if(Zm.current=qg,e=en!==null&&en.next!==null,rl=0,cn=en=St=null,Wg=!1,e)throw Error(j(300));return t}function Nb(){var t=Kh!==0;return Kh=0,t}function $i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?St.memoizedState=cn=t:cn=cn.next=t,cn}function ii(){if(en===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=en.next;var e=cn===null?St.memoizedState:cn.next;if(e!==null)cn=e,en=t;else{if(t===null)throw Error(j(310));en=t,t={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},cn===null?St.memoizedState=cn=t:cn=cn.next=t}return cn}function Qh(t,e){return typeof e=="function"?e(t):e}function lw(t){var e=ii(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=en,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((rl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,St.lanes|=c,il|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Pi(r,e.memoizedState)||(lr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,St.lanes|=s,il|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uw(t){var e=ii(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pi(s,e.memoizedState)||(lr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kM(){}function NM(t,e){var n=St,r=ii(),i=e(),s=!Pi(r.memoizedState,i);if(s&&(r.memoizedState=i,lr=!0),r=r.queue,Ob(MM.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||cn!==null&&cn.memoizedState.tag&1){if(n.flags|=2048,Yh(9,DM.bind(null,n,r,i,e),void 0,null),fn===null)throw Error(j(349));rl&30||OM(n,e,i)}return i}function OM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DM(t,e,n,r){e.value=n,e.getSnapshot=r,LM(e)&&$M(t)}function MM(t,e,n){return n(function(){LM(e)&&$M(t)})}function LM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pi(t,n)}catch{return!0}}function $M(t){var e=ks(t,1);e!==null&&Ci(e,t,1,-1)}function j1(t){var e=$i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:t},e.queue=t,t=t.dispatch=o3.bind(null,St,t),[e.memoizedState,t]}function Yh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FM(){return ii().memoizedState}function eg(t,e,n,r){var i=$i();St.flags|=t,i.memoizedState=Yh(1|e,n,void 0,r===void 0?null:r)}function p_(t,e,n,r){var i=ii();r=r===void 0?null:r;var s=void 0;if(en!==null){var o=en.memoizedState;if(s=o.destroy,r!==null&&Ab(r,o.deps)){i.memoizedState=Yh(e,n,s,r);return}}St.flags|=t,i.memoizedState=Yh(1|e,n,s,r)}function z1(t,e){return eg(8390656,8,t,e)}function Ob(t,e){return p_(2048,8,t,e)}function VM(t,e){return p_(4,2,t,e)}function UM(t,e){return p_(4,4,t,e)}function BM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jM(t,e,n){return n=n!=null?n.concat([t]):null,p_(4,4,BM.bind(null,e,t),n)}function Db(){}function zM(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ab(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WM(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ab(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qM(t,e,n){return rl&21?(Pi(n,e)||(n=KD(),St.lanes|=n,il|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=n)}function i3(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=aw.transition;aw.transition={};try{t(!1),e()}finally{Ze=n,aw.transition=r}}function HM(){return ii().memoizedState}function s3(t,e,n){var r=To(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GM(t))KM(e,n);else if(n=bM(t,e,n,r),n!==null){var i=Yn();Ci(n,t,r,i),QM(n,e,r)}}function o3(t,e,n){var r=To(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GM(t))KM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pi(a,o)){var l=e.interleaved;l===null?(i.next=i,Sb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=bM(t,e,i,r),n!==null&&(i=Yn(),Ci(n,t,r,i),QM(n,e,r))}}function GM(t){var e=t.alternate;return t===St||e!==null&&e===St}function KM(t,e){uh=Wg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,db(t,n)}}var qg={readContext:ri,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},a3={readContext:ri,useCallback:function(t,e){return $i().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:z1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,eg(4194308,4,BM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return eg(4194308,4,t,e)},useInsertionEffect:function(t,e){return eg(4,2,t,e)},useMemo:function(t,e){var n=$i();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$i();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=s3.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var e=$i();return t={current:t},e.memoizedState=t},useState:j1,useDebugValue:Db,useDeferredValue:function(t){return $i().memoizedState=t},useTransition:function(){var t=j1(!1),e=t[0];return t=i3.bind(null,t[1]),$i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=St,i=$i();if(vt){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),fn===null)throw Error(j(349));rl&30||OM(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,z1(MM.bind(null,r,s,t),[t]),r.flags|=2048,Yh(9,DM.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$i(),e=fn.identifierPrefix;if(vt){var n=ws,r=vs;n=(r&~(1<<32-Si(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=r3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l3={readContext:ri,useCallback:zM,useContext:ri,useEffect:Ob,useImperativeHandle:jM,useInsertionEffect:VM,useLayoutEffect:UM,useMemo:WM,useReducer:lw,useRef:FM,useState:function(){return lw(Qh)},useDebugValue:Db,useDeferredValue:function(t){var e=ii();return qM(e,en.memoizedState,t)},useTransition:function(){var t=lw(Qh)[0],e=ii().memoizedState;return[t,e]},useMutableSource:kM,useSyncExternalStore:NM,useId:HM,unstable_isNewReconciler:!1},u3={readContext:ri,useCallback:zM,useContext:ri,useEffect:Ob,useImperativeHandle:jM,useInsertionEffect:VM,useLayoutEffect:UM,useMemo:WM,useReducer:uw,useRef:FM,useState:function(){return uw(Qh)},useDebugValue:Db,useDeferredValue:function(t){var e=ii();return en===null?e.memoizedState=t:qM(e,en.memoizedState,t)},useTransition:function(){var t=uw(Qh)[0],e=ii().memoizedState;return[t,e]},useMutableSource:kM,useSyncExternalStore:NM,useId:HM,unstable_isNewReconciler:!1};function nc(t,e){try{var n="",r=e;do n+=$5(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function GE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var c3=typeof WeakMap=="function"?WeakMap:Map;function YM(t,e,n){n=Ss(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gg||(Gg=!0,rT=r),GE(t,e)},n}function XM(t,e,n){n=Ss(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){GE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){GE(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new c3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b3.bind(null,t,e,n),e.then(t,t))}function q1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function H1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ss(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var d3=Vs.ReactCurrentOwner,lr=!1;function qn(t,e,n,r){e.child=t===null?PM(e,null,n,r):ec(e,t.child,n,r)}function G1(t,e,n,r,i){n=n.render;var s=e.ref;return Mu(e,i),r=kb(t,e,n,r,s,i),n=Nb(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ns(t,e,i)):(vt&&n&&vb(e),e.flags|=1,qn(t,e,r,i),e.child)}function K1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!jb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JM(t,e,s,r,i)):(t=ig(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jh,n(o,r)&&t.ref===e.ref)return Ns(t,e,i)}return e.flags|=1,t=Io(s,r),t.ref=e.ref,t.return=e,e.child=t}function JM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(jh(s,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,Ns(t,e,i)}return KE(t,e,n,r,i)}function ZM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Cu,Cr),Cr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Cu,Cr),Cr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,lt(Cu,Cr),Cr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,lt(Cu,Cr),Cr|=r;return qn(t,e,i,n),e.child}function eL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function KE(t,e,n,r,i){var s=pr(n)?tl:zn.current;return s=Ju(e,s),Mu(e,i),n=kb(t,e,n,r,s,i),r=Nb(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ns(t,e,i)):(vt&&r&&vb(e),e.flags|=1,qn(t,e,n,i),e.child)}function Q1(t,e,n,r,i){if(pr(n)){var s=!0;$g(e)}else s=!1;if(Mu(e,i),e.stateNode===null)tg(t,e),xM(e,n,r),HE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ri(u):(u=pr(n)?tl:zn.current,u=Ju(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&U1(e,o,r,u),no=!1;var h=e.memoizedState;o.state=h,jg(e,r,o,i),l=e.memoizedState,a!==r||h!==l||fr.current||no?(typeof c=="function"&&(qE(e,n,c,r),l=e.memoizedState),(a=no||V1(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SM(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yi(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ri(l):(l=pr(n)?tl:zn.current,l=Ju(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&U1(e,o,r,l),no=!1,h=e.memoizedState,o.state=h,jg(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||fr.current||no?(typeof f=="function"&&(qE(e,n,f,r),p=e.memoizedState),(u=no||V1(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return QE(t,e,n,r,s,i)}function QE(t,e,n,r,i,s){eL(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&D1(e,n,!1),Ns(t,e,s);r=e.stateNode,d3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ec(e,t.child,null,s),e.child=ec(e,null,a,s)):qn(t,e,a,s),e.memoizedState=r.state,i&&D1(e,n,!0),e.child}function tL(t){var e=t.stateNode;e.pendingContext?O1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O1(t,e.context,!1),xb(t,e.containerInfo)}function Y1(t,e,n,r,i){return Zu(),Eb(i),e.flags|=256,qn(t,e,n,r),e.child}var YE={dehydrated:null,treeContext:null,retryLane:0};function XE(t){return{baseLanes:t,cachePool:null,transitions:null}}function nL(t,e,n){var r=e.pendingProps,i=bt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(bt,i&1),t===null)return zE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=y_(o,r,0,null),t=Wa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=XE(n),e.memoizedState=YE,t):Mb(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return h3(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Io(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Io(a,s):(s=Wa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?XE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=YE,r}return s=t.child,t=s.sibling,r=Io(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mb(t,e){return e=y_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mm(t,e,n,r){return r!==null&&Eb(r),ec(e,t.child,null,n),t=Mb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function h3(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cw(Error(j(422))),mm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=y_({mode:"visible",children:r.children},i,0,null),s=Wa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ec(e,t.child,null,o),e.child.memoizedState=XE(o),e.memoizedState=YE,s);if(!(e.mode&1))return mm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=cw(s,r,void 0),mm(t,e,o,r)}if(a=(o&t.childLanes)!==0,lr||a){if(r=fn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ks(t,i),Ci(r,t,i,-1))}return Bb(),r=cw(Error(j(421))),mm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=S3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,kr=vo(i.nextSibling),Lr=e,vt=!0,vi=null,t!==null&&(Qr[Yr++]=vs,Qr[Yr++]=ws,Qr[Yr++]=nl,vs=t.id,ws=t.overflow,nl=e),e=Mb(e,r.children),e.flags|=4096,e)}function X1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),WE(t.return,e,n)}function dw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qn(t,e,r.children,n),r=bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X1(t,n,e);else if(t.tag===19)X1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(bt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dw(e,!0,n,null,s);break;case"together":dw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ns(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Io(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Io(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f3(t,e,n){switch(e.tag){case 3:tL(e),Zu();break;case 5:AM(e);break;case 1:pr(e.type)&&$g(e);break;case 4:xb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(Ug,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?nL(t,e,n):(lt(bt,bt.current&1),t=Ns(t,e,n),t!==null?t.sibling:null);lt(bt,bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(bt,bt.current),r)break;return null;case 22:case 23:return e.lanes=0,ZM(t,e,n)}return Ns(t,e,n)}var iL,JE,sL,oL;iL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};JE=function(){};sL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oa(ts.current);var s=null;switch(n){case"input":i=wE(t,i),r=wE(t,r),s=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),s=[];break;case"textarea":i=IE(t,i),r=IE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mg)}SE(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ct("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};oL=function(t,e,n,r){n!==r&&(e.flags|=4)};function md(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function p3(t,e,n){var r=e.pendingProps;switch(wb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(e),null;case 1:return pr(e.type)&&Lg(),Dn(e),null;case 3:return r=e.stateNode,tc(),mt(fr),mt(zn),Pb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vi!==null&&(oT(vi),vi=null))),JE(t,e),Dn(e),null;case 5:Rb(e);var i=Oa(Gh.current);if(n=e.type,t!==null&&e.stateNode!=null)sL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Dn(e),null}if(t=Oa(ts.current),fm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Bi]=e,r[qh]=s,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<qd.length;i++)ct(qd[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":o1(r,s),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ct("invalid",r);break;case"textarea":l1(r,s),ct("invalid",r)}SE(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hm(r.textContent,a,t),i=["children",""+a]):Mh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":im(r),a1(r,s,!0);break;case"textarea":im(r),u1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bi]=e,t[qh]=r,iL(t,e,!1,!1),e.stateNode=t;e:{switch(o=CE(n,r),n){case"dialog":ct("cancel",t),ct("close",t),i=r;break;case"iframe":case"object":case"embed":ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<qd.length;i++)ct(qd[i],t);i=r;break;case"source":ct("error",t),i=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=r;break;case"details":ct("toggle",t),i=r;break;case"input":o1(t,r),i=wE(t,r),ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":l1(t,r),i=IE(t,r),ct("invalid",t);break;default:i=r}SE(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?LD(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DD(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lh(t,l):typeof l=="number"&&Lh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ct("scroll",t):l!=null&&sb(t,s,l,o))}switch(n){case"input":im(t),a1(t,r,!1);break;case"textarea":im(t),u1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+No(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ku(t,!!r.multiple,s,!1):r.defaultValue!=null&&ku(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dn(e),null;case 6:if(t&&e.stateNode!=null)oL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Oa(Gh.current),Oa(ts.current),fm(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bi]=e,(s=r.nodeValue!==n)&&(t=Lr,t!==null))switch(t.tag){case 3:hm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bi]=e,e.stateNode=r}return Dn(e),null;case 13:if(mt(bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&kr!==null&&e.mode&1&&!(e.flags&128))IM(),Zu(),e.flags|=98560,s=!1;else if(s=fm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Bi]=e}else Zu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dn(e),s=!1}else vi!==null&&(oT(vi),vi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?rn===0&&(rn=3):Bb())),e.updateQueue!==null&&(e.flags|=4),Dn(e),null);case 4:return tc(),JE(t,e),t===null&&zh(e.stateNode.containerInfo),Dn(e),null;case 10:return bb(e.type._context),Dn(e),null;case 17:return pr(e.type)&&Lg(),Dn(e),null;case 19:if(mt(bt),s=e.memoizedState,s===null)return Dn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)md(s,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zg(t),o!==null){for(e.flags|=128,md(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(bt,bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&zt()>rc&&(e.flags|=128,r=!0,md(s,!1),e.lanes=4194304)}else{if(!r)if(t=zg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),md(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!vt)return Dn(e),null}else 2*zt()-s.renderingStartTime>rc&&n!==1073741824&&(e.flags|=128,r=!0,md(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=zt(),e.sibling=null,n=bt.current,lt(bt,r?n&1|2:n&1),e):(Dn(e),null);case 22:case 23:return Ub(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cr&1073741824&&(Dn(e),e.subtreeFlags&6&&(e.flags|=8192)):Dn(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function m3(t,e){switch(wb(e),e.tag){case 1:return pr(e.type)&&Lg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tc(),mt(fr),mt(zn),Pb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rb(e),null;case 13:if(mt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Zu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(bt),null;case 4:return tc(),null;case 10:return bb(e.type._context),null;case 22:case 23:return Ub(),null;case 24:return null;default:return null}}var gm=!1,$n=!1,g3=typeof WeakSet=="function"?WeakSet:Set,te=null;function Su(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(t,e,r)}else n.current=null}function ZE(t,e,n){try{n()}catch(r){Nt(t,e,r)}}var J1=!1;function y3(t,e){if(LE=Ng,t=cM(),_b(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($E={focusedElem:t,selectionRange:n},Ng=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:yi(e.type,g),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(w){Nt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return p=J1,J1=!1,p}function ch(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ZE(e,n,s)}i=i.next}while(i!==r)}}function m_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function eT(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aL(t){var e=t.alternate;e!==null&&(t.alternate=null,aL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[qh],delete e[UE],delete e[Z6],delete e[e3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lL(t){return t.tag===5||t.tag===3||t.tag===4}function Z1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mg));else if(r!==4&&(t=t.child,t!==null))for(tT(t,e,n),t=t.sibling;t!==null;)tT(t,e,n),t=t.sibling}function nT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nT(t,e,n),t=t.sibling;t!==null;)nT(t,e,n),t=t.sibling}var In=null,_i=!1;function Ks(t,e,n){for(n=n.child;n!==null;)uL(t,e,n),n=n.sibling}function uL(t,e,n){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(a_,n)}catch{}switch(n.tag){case 5:$n||Su(n,e);case 6:var r=In,i=_i;In=null,Ks(t,e,n),In=r,_i=i,In!==null&&(_i?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(_i?(t=In,n=n.stateNode,t.nodeType===8?iw(t.parentNode,n):t.nodeType===1&&iw(t,n),Uh(t)):iw(In,n.stateNode));break;case 4:r=In,i=_i,In=n.stateNode.containerInfo,_i=!0,Ks(t,e,n),In=r,_i=i;break;case 0:case 11:case 14:case 15:if(!$n&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ZE(n,e,o),i=i.next}while(i!==r)}Ks(t,e,n);break;case 1:if(!$n&&(Su(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nt(n,e,a)}Ks(t,e,n);break;case 21:Ks(t,e,n);break;case 22:n.mode&1?($n=(r=$n)||n.memoizedState!==null,Ks(t,e,n),$n=r):Ks(t,e,n);break;default:Ks(t,e,n)}}function eP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g3),e.forEach(function(r){var i=C3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:In=a.stateNode,_i=!1;break e;case 3:In=a.stateNode.containerInfo,_i=!0;break e;case 4:In=a.stateNode.containerInfo,_i=!0;break e}a=a.return}if(In===null)throw Error(j(160));uL(s,o,i),In=null,_i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Nt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cL(e,t),e=e.sibling}function cL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pi(e,t),Li(t),r&4){try{ch(3,t,t.return),m_(3,t)}catch(g){Nt(t,t.return,g)}try{ch(5,t,t.return)}catch(g){Nt(t,t.return,g)}}break;case 1:pi(e,t),Li(t),r&512&&n!==null&&Su(n,n.return);break;case 5:if(pi(e,t),Li(t),r&512&&n!==null&&Su(n,n.return),t.flags&32){var i=t.stateNode;try{Lh(i,"")}catch(g){Nt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kD(i,s),CE(a,o);var u=CE(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?LD(i,d):c==="dangerouslySetInnerHTML"?DD(i,d):c==="children"?Lh(i,d):sb(i,c,d,u)}switch(a){case"input":EE(i,s);break;case"textarea":ND(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ku(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?ku(i,!!s.multiple,s.defaultValue,!0):ku(i,!!s.multiple,s.multiple?[]:"",!1))}i[qh]=s}catch(g){Nt(t,t.return,g)}}break;case 6:if(pi(e,t),Li(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Nt(t,t.return,g)}}break;case 3:if(pi(e,t),Li(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uh(e.containerInfo)}catch(g){Nt(t,t.return,g)}break;case 4:pi(e,t),Li(t);break;case 13:pi(e,t),Li(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fb=zt())),r&4&&eP(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?($n=(u=$n)||c,pi(e,t),$n=u):pi(e,t),Li(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(te=t,c=t.child;c!==null;){for(d=te=c;te!==null;){switch(h=te,f=h.child,h.tag){case 0:case 11:case 14:case 15:ch(4,h,h.return);break;case 1:Su(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Nt(r,n,g)}}break;case 5:Su(h,h.return);break;case 22:if(h.memoizedState!==null){nP(d);continue}}f!==null?(f.return=h,te=f):nP(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=MD("display",o))}catch(g){Nt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Nt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pi(e,t),Li(t),r&4&&eP(t);break;case 21:break;default:pi(e,t),Li(t)}}function Li(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lL(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lh(i,""),r.flags&=-33);var s=Z1(t);nT(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z1(t);tT(t,a,o);break;default:throw Error(j(161))}}catch(l){Nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _3(t,e,n){te=t,dL(t)}function dL(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$n;a=gm;var u=$n;if(gm=o,($n=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?rP(i):l!==null?(l.return=o,te=l):rP(i);for(;s!==null;)te=s,dL(s),s=s.sibling;te=i,gm=a,$n=u}tP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):tP(t)}}function tP(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$n||m_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$n)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&F1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Uh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}$n||e.flags&512&&eT(e)}catch(h){Nt(e,e.return,h)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function nP(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function rP(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{m_(4,e)}catch(l){Nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nt(e,i,l)}}var s=e.return;try{eT(e)}catch(l){Nt(e,s,l)}break;case 5:var o=e.return;try{eT(e)}catch(l){Nt(e,o,l)}}}catch(l){Nt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var v3=Math.ceil,Hg=Vs.ReactCurrentDispatcher,Lb=Vs.ReactCurrentOwner,ti=Vs.ReactCurrentBatchConfig,ze=0,fn=null,Xt=null,Rn=0,Cr=0,Cu=Zo(0),rn=0,Xh=null,il=0,g_=0,$b=0,dh=null,sr=null,Fb=0,rc=1/0,gs=null,Gg=!1,rT=null,Eo=null,ym=!1,uo=null,Kg=0,hh=0,iT=null,ng=-1,rg=0;function Yn(){return ze&6?zt():ng!==-1?ng:ng=zt()}function To(t){return t.mode&1?ze&2&&Rn!==0?Rn&-Rn:n3.transition!==null?(rg===0&&(rg=KD()),rg):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:tM(t.type)),t):1}function Ci(t,e,n,r){if(50<hh)throw hh=0,iT=null,Error(j(185));sp(t,n,r),(!(ze&2)||t!==fn)&&(t===fn&&(!(ze&2)&&(g_|=n),rn===4&&io(t,Rn)),mr(t,r),n===1&&ze===0&&!(e.mode&1)&&(rc=zt()+500,h_&&ea()))}function mr(t,e){var n=t.callbackNode;n6(t,e);var r=kg(t,t===fn?Rn:0);if(r===0)n!==null&&h1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&h1(n),e===1)t.tag===0?t3(iP.bind(null,t)):wM(iP.bind(null,t)),X6(function(){!(ze&6)&&ea()}),n=null;else{switch(QD(r)){case 1:n=cb;break;case 4:n=HD;break;case 16:n=Ag;break;case 536870912:n=GD;break;default:n=Ag}n=vL(n,hL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hL(t,e){if(ng=-1,rg=0,ze&6)throw Error(j(327));var n=t.callbackNode;if(Lu()&&t.callbackNode!==n)return null;var r=kg(t,t===fn?Rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qg(t,r);else{e=r;var i=ze;ze|=2;var s=pL();(fn!==t||Rn!==e)&&(gs=null,rc=zt()+500,za(t,e));do try{T3();break}catch(a){fL(t,a)}while(!0);Ib(),Hg.current=s,ze=i,Xt!==null?e=0:(fn=null,Rn=0,e=rn)}if(e!==0){if(e===2&&(i=kE(t),i!==0&&(r=i,e=sT(t,i))),e===1)throw n=Xh,za(t,0),io(t,r),mr(t,zt()),n;if(e===6)io(t,r);else{if(i=t.current.alternate,!(r&30)&&!w3(i)&&(e=Qg(t,r),e===2&&(s=kE(t),s!==0&&(r=s,e=sT(t,s))),e===1))throw n=Xh,za(t,0),io(t,r),mr(t,zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:ga(t,sr,gs);break;case 3:if(io(t,r),(r&130023424)===r&&(e=Fb+500-zt(),10<e)){if(kg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=VE(ga.bind(null,t,sr,gs),e);break}ga(t,sr,gs);break;case 4:if(io(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Si(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v3(r/1960))-r,10<r){t.timeoutHandle=VE(ga.bind(null,t,sr,gs),r);break}ga(t,sr,gs);break;case 5:ga(t,sr,gs);break;default:throw Error(j(329))}}}return mr(t,zt()),t.callbackNode===n?hL.bind(null,t):null}function sT(t,e){var n=dh;return t.current.memoizedState.isDehydrated&&(za(t,e).flags|=256),t=Qg(t,e),t!==2&&(e=sr,sr=n,e!==null&&oT(e)),t}function oT(t){sr===null?sr=t:sr.push.apply(sr,t)}function w3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function io(t,e){for(e&=~$b,e&=~g_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Si(e),r=1<<n;t[n]=-1,e&=~r}}function iP(t){if(ze&6)throw Error(j(327));Lu();var e=kg(t,0);if(!(e&1))return mr(t,zt()),null;var n=Qg(t,e);if(t.tag!==0&&n===2){var r=kE(t);r!==0&&(e=r,n=sT(t,r))}if(n===1)throw n=Xh,za(t,0),io(t,e),mr(t,zt()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ga(t,sr,gs),mr(t,zt()),null}function Vb(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(rc=zt()+500,h_&&ea())}}function sl(t){uo!==null&&uo.tag===0&&!(ze&6)&&Lu();var e=ze;ze|=1;var n=ti.transition,r=Ze;try{if(ti.transition=null,Ze=1,t)return t()}finally{Ze=r,ti.transition=n,ze=e,!(ze&6)&&ea()}}function Ub(){Cr=Cu.current,mt(Cu)}function za(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y6(n)),Xt!==null)for(n=Xt.return;n!==null;){var r=n;switch(wb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lg();break;case 3:tc(),mt(fr),mt(zn),Pb();break;case 5:Rb(r);break;case 4:tc();break;case 13:mt(bt);break;case 19:mt(bt);break;case 10:bb(r.type._context);break;case 22:case 23:Ub()}n=n.return}if(fn=t,Xt=t=Io(t.current,null),Rn=Cr=e,rn=0,Xh=null,$b=g_=il=0,sr=dh=null,Na!==null){for(e=0;e<Na.length;e++)if(n=Na[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Na=null}return t}function fL(t,e){do{var n=Xt;try{if(Ib(),Zm.current=qg,Wg){for(var r=St.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wg=!1}if(rl=0,cn=en=St=null,uh=!1,Kh=0,Lb.current=null,n===null||n.return===null){rn=1,Xh=e,Xt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Rn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=q1(o);if(f!==null){f.flags&=-257,H1(f,o,a,s,e),f.mode&1&&W1(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){W1(s,u,e),Bb();break e}l=Error(j(426))}}else if(vt&&a.mode&1){var _=q1(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),H1(_,o,a,s,e),Eb(nc(l,a));break e}}s=l=nc(l,a),rn!==4&&(rn=2),dh===null?dh=[s]:dh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=YM(s,l,e);$1(s,m);break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Eo===null||!Eo.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=XM(s,a,e);$1(s,w);break e}}s=s.return}while(s!==null)}gL(n)}catch(I){e=I,Xt===n&&n!==null&&(Xt=n=n.return);continue}break}while(!0)}function pL(){var t=Hg.current;return Hg.current=qg,t===null?qg:t}function Bb(){(rn===0||rn===3||rn===2)&&(rn=4),fn===null||!(il&268435455)&&!(g_&268435455)||io(fn,Rn)}function Qg(t,e){var n=ze;ze|=2;var r=pL();(fn!==t||Rn!==e)&&(gs=null,za(t,e));do try{E3();break}catch(i){fL(t,i)}while(!0);if(Ib(),ze=n,Hg.current=r,Xt!==null)throw Error(j(261));return fn=null,Rn=0,rn}function E3(){for(;Xt!==null;)mL(Xt)}function T3(){for(;Xt!==null&&!G5();)mL(Xt)}function mL(t){var e=_L(t.alternate,t,Cr);t.memoizedProps=t.pendingProps,e===null?gL(t):Xt=e,Lb.current=null}function gL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=m3(n,e),n!==null){n.flags&=32767,Xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Xt=null;return}}else if(n=p3(n,e,Cr),n!==null){Xt=n;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);rn===0&&(rn=5)}function ga(t,e,n){var r=Ze,i=ti.transition;try{ti.transition=null,Ze=1,I3(t,e,n,r)}finally{ti.transition=i,Ze=r}return null}function I3(t,e,n,r){do Lu();while(uo!==null);if(ze&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(r6(t,s),t===fn&&(Xt=fn=null,Rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ym||(ym=!0,vL(Ag,function(){return Lu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ti.transition,ti.transition=null;var o=Ze;Ze=1;var a=ze;ze|=4,Lb.current=null,y3(t,n),cL(n,t),z6($E),Ng=!!LE,$E=LE=null,t.current=n,_3(n),K5(),ze=a,Ze=o,ti.transition=s}else t.current=n;if(ym&&(ym=!1,uo=t,Kg=i),s=t.pendingLanes,s===0&&(Eo=null),X5(n.stateNode),mr(t,zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gg)throw Gg=!1,t=rT,rT=null,t;return Kg&1&&t.tag!==0&&Lu(),s=t.pendingLanes,s&1?t===iT?hh++:(hh=0,iT=t):hh=0,ea(),null}function Lu(){if(uo!==null){var t=QD(Kg),e=ti.transition,n=Ze;try{if(ti.transition=null,Ze=16>t?16:t,uo===null)var r=!1;else{if(t=uo,uo=null,Kg=0,ze&6)throw Error(j(331));var i=ze;for(ze|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:ch(8,c,s)}var d=c.child;if(d!==null)d.return=c,te=d;else for(;te!==null;){c=te;var h=c.sibling,f=c.return;if(aL(c),c===u){te=null;break}if(h!==null){h.return=f,te=h;break}te=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ch(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,te=m;break e}te=s.return}}var y=t.current;for(te=y;te!==null;){o=te;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,te=v;else e:for(o=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:m_(9,a)}}catch(I){Nt(a,a.return,I)}if(a===o){te=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,te=w;break e}te=a.return}}if(ze=i,ea(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(a_,t)}catch{}r=!0}return r}finally{Ze=n,ti.transition=e}}return!1}function sP(t,e,n){e=nc(n,e),e=YM(t,e,1),t=wo(t,e,1),e=Yn(),t!==null&&(sp(t,1,e),mr(t,e))}function Nt(t,e,n){if(t.tag===3)sP(t,t,n);else for(;e!==null;){if(e.tag===3){sP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=nc(n,t),t=XM(e,t,1),e=wo(e,t,1),t=Yn(),e!==null&&(sp(e,1,t),mr(e,t));break}}e=e.return}}function b3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&n,fn===t&&(Rn&n)===n&&(rn===4||rn===3&&(Rn&130023424)===Rn&&500>zt()-Fb?za(t,0):$b|=n),mr(t,e)}function yL(t,e){e===0&&(t.mode&1?(e=am,am<<=1,!(am&130023424)&&(am=4194304)):e=1);var n=Yn();t=ks(t,e),t!==null&&(sp(t,e,n),mr(t,n))}function S3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yL(t,n)}function C3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),yL(t,n)}var _L;_L=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)lr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lr=!1,f3(t,e,n);lr=!!(t.flags&131072)}else lr=!1,vt&&e.flags&1048576&&EM(e,Vg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tg(t,e),t=e.pendingProps;var i=Ju(e,zn.current);Mu(e,n),i=kb(null,e,r,t,i,n);var s=Nb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(s=!0,$g(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cb(e),i.updater=f_,e.stateNode=i,i._reactInternals=e,HE(e,r,t,n),e=QE(null,e,r,!0,s,n)):(e.tag=0,vt&&s&&vb(e),qn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R3(r),t=yi(r,t),i){case 0:e=KE(null,e,r,t,n);break e;case 1:e=Q1(null,e,r,t,n);break e;case 11:e=G1(null,e,r,t,n);break e;case 14:e=K1(null,e,r,yi(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),KE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),Q1(t,e,r,i,n);case 3:e:{if(tL(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SM(t,e),jg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nc(Error(j(423)),e),e=Y1(t,e,r,n,i);break e}else if(r!==i){i=nc(Error(j(424)),e),e=Y1(t,e,r,n,i);break e}else for(kr=vo(e.stateNode.containerInfo.firstChild),Lr=e,vt=!0,vi=null,n=PM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zu(),r===i){e=Ns(t,e,n);break e}qn(t,e,r,n)}e=e.child}return e;case 5:return AM(e),t===null&&zE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,FE(r,i)?o=null:s!==null&&FE(r,s)&&(e.flags|=32),eL(t,e),qn(t,e,o,n),e.child;case 6:return t===null&&zE(e),null;case 13:return nL(t,e,n);case 4:return xb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ec(e,null,r,n):qn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),G1(t,e,r,i,n);case 7:return qn(t,e,e.pendingProps,n),e.child;case 8:return qn(t,e,e.pendingProps.children,n),e.child;case 12:return qn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lt(Ug,r._currentValue),r._currentValue=o,s!==null)if(Pi(s.value,o)){if(s.children===i.children&&!fr.current){e=Ns(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ss(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),WE(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),WE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mu(e,n),i=ri(i),r=r(i),e.flags|=1,qn(t,e,r,n),e.child;case 14:return r=e.type,i=yi(r,e.pendingProps),i=yi(r.type,i),K1(t,e,r,i,n);case 15:return JM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),tg(t,e),e.tag=1,pr(r)?(t=!0,$g(e)):t=!1,Mu(e,n),xM(e,r,i),HE(e,r,i,n),QE(null,e,r,!0,t,n);case 19:return rL(t,e,n);case 22:return ZM(t,e,n)}throw Error(j(156,e.tag))};function vL(t,e){return qD(t,e)}function x3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(t,e,n,r){return new x3(t,e,n,r)}function jb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R3(t){if(typeof t=="function")return jb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ab)return 11;if(t===lb)return 14}return 2}function Io(t,e){var n=t.alternate;return n===null?(n=Zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ig(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")jb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gu:return Wa(n.children,i,s,e);case ob:o=8,i|=8;break;case gE:return t=Zr(12,n,e,i|2),t.elementType=gE,t.lanes=s,t;case yE:return t=Zr(13,n,e,i),t.elementType=yE,t.lanes=s,t;case _E:return t=Zr(19,n,e,i),t.elementType=_E,t.lanes=s,t;case RD:return y_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CD:o=10;break e;case xD:o=9;break e;case ab:o=11;break e;case lb:o=14;break e;case to:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Zr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wa(t,e,n,r){return t=Zr(7,t,r,e),t.lanes=n,t}function y_(t,e,n,r){return t=Zr(22,t,r,e),t.elementType=RD,t.lanes=n,t.stateNode={isHidden:!1},t}function hw(t,e,n){return t=Zr(6,t,null,e),t.lanes=n,t}function fw(t,e,n){return e=Zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function P3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=G0(0),this.expirationTimes=G0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zb(t,e,n,r,i,s,o,a,l){return t=new P3(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cb(s),t}function A3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wL(t){if(!t)return Oo;t=t._reactInternals;e:{if(Rl(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(pr(n))return vM(t,n,e)}return e}function EL(t,e,n,r,i,s,o,a,l){return t=zb(n,r,!0,t,i,s,o,a,l),t.context=wL(null),n=t.current,r=Yn(),i=To(n),s=Ss(r,i),s.callback=e??null,wo(n,s,i),t.current.lanes=i,sp(t,i,r),mr(t,r),t}function __(t,e,n,r){var i=e.current,s=Yn(),o=To(i);return n=wL(n),e.context===null?e.context=n:e.pendingContext=n,e=Ss(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,o),t!==null&&(Ci(t,i,o,s),Jm(t,i,o)),o}function Yg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wb(t,e){oP(t,e),(t=t.alternate)&&oP(t,e)}function k3(){return null}var TL=typeof reportError=="function"?reportError:function(t){console.error(t)};function qb(t){this._internalRoot=t}v_.prototype.render=qb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));__(t,e,null,null)};v_.prototype.unmount=qb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sl(function(){__(null,t,null,null)}),e[As]=null}};function v_(t){this._internalRoot=t}v_.prototype.unstable_scheduleHydration=function(t){if(t){var e=JD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ro.length&&e!==0&&e<ro[n].priority;n++);ro.splice(n,0,t),n===0&&eM(t)}};function Hb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function w_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aP(){}function N3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Yg(o);s.call(u)}}var o=EL(e,r,t,0,null,!1,!1,"",aP);return t._reactRootContainer=o,t[As]=o.current,zh(t.nodeType===8?t.parentNode:t),sl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Yg(l);a.call(u)}}var l=zb(t,0,!1,null,null,!1,!1,"",aP);return t._reactRootContainer=l,t[As]=l.current,zh(t.nodeType===8?t.parentNode:t),sl(function(){__(e,l,n,r)}),l}function E_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Yg(o);a.call(l)}}__(e,o,t,i)}else o=N3(n,e,t,i,r);return Yg(o)}YD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wd(e.pendingLanes);n!==0&&(db(e,n|1),mr(e,zt()),!(ze&6)&&(rc=zt()+500,ea()))}break;case 13:sl(function(){var r=ks(t,1);if(r!==null){var i=Yn();Ci(r,t,1,i)}}),Wb(t,1)}};hb=function(t){if(t.tag===13){var e=ks(t,134217728);if(e!==null){var n=Yn();Ci(e,t,134217728,n)}Wb(t,134217728)}};XD=function(t){if(t.tag===13){var e=To(t),n=ks(t,e);if(n!==null){var r=Yn();Ci(n,t,e,r)}Wb(t,e)}};JD=function(){return Ze};ZD=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};RE=function(t,e,n){switch(e){case"input":if(EE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=d_(r);if(!i)throw Error(j(90));AD(r),EE(r,i)}}}break;case"textarea":ND(t,n);break;case"select":e=n.value,e!=null&&ku(t,!!n.multiple,e,!1)}};VD=Vb;UD=sl;var O3={usingClientEntryPoint:!1,Events:[ap,wu,d_,$D,FD,Vb]},gd={findFiberByHostInstance:ka,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},D3={bundleType:gd.bundleType,version:gd.version,rendererPackageName:gd.rendererPackageName,rendererConfig:gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zD(t),t===null?null:t.stateNode},findFiberByHostInstance:gd.findFiberByHostInstance||k3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_m.isDisabled&&_m.supportsFiber)try{a_=_m.inject(D3),es=_m}catch{}}Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O3;Wr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hb(e))throw Error(j(200));return A3(t,e,null,n)};Wr.createRoot=function(t,e){if(!Hb(t))throw Error(j(299));var n=!1,r="",i=TL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zb(t,1,!1,null,null,n,!1,r,i),t[As]=e.current,zh(t.nodeType===8?t.parentNode:t),new qb(e)};Wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=zD(e),t=t===null?null:t.stateNode,t};Wr.flushSync=function(t){return sl(t)};Wr.hydrate=function(t,e,n){if(!w_(e))throw Error(j(200));return E_(null,t,e,!0,n)};Wr.hydrateRoot=function(t,e,n){if(!Hb(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=TL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=EL(e,null,t,1,n??null,i,!1,s,o),t[As]=e.current,zh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new v_(e)};Wr.render=function(t,e,n){if(!w_(e))throw Error(j(200));return E_(null,t,e,!1,n)};Wr.unmountComponentAtNode=function(t){if(!w_(t))throw Error(j(40));return t._reactRootContainer?(sl(function(){E_(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};Wr.unstable_batchedUpdates=Vb;Wr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!w_(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return E_(t,e,n,!1,r)};Wr.version="18.2.0-next-9e3b772b8-20220608";function IL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IL)}catch(t){console.error(t)}}IL(),ED.exports=Wr;var T_=ED.exports;const vm=i_(T_);/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}var co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(co||(co={}));const lP="popstate";function M3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return aT("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xg(i)}return $3(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L3(){return Math.random().toString(36).substr(2,8)}function uP(t,e){return{usr:t.state,key:t.key,idx:e}}function aT(t,e,n,r){return n===void 0&&(n=null),Jh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mc(e):e,{state:n,key:e&&e.key||r||L3()})}function Xg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=co.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Jh({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=co.Pop;let _=c(),m=_==null?null:_-u;u=_,l&&l({action:a,location:g.location,delta:m})}function h(_,m){a=co.Push;let y=aT(g.location,_,m);n&&n(y,_),u=c()+1;let v=uP(y,u),w=g.createHref(y);try{o.pushState(v,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(w)}s&&l&&l({action:a,location:g.location,delta:1})}function f(_,m){a=co.Replace;let y=aT(g.location,_,m);n&&n(y,_),u=c();let v=uP(y,u),w=g.createHref(y);o.replaceState(v,"",w),s&&l&&l({action:a,location:g.location,delta:0})}function p(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:Xg(_);return Jt(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lP,d),l=_,()=>{i.removeEventListener(lP,d),l=null}},createHref(_){return e(i,_)},createURL:p,encodeLocation(_){let m=p(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(_){return o.go(_)}};return g}var cP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cP||(cP={}));function F3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Mc(e):e,i=Kb(r.pathname||"/",n);if(i==null)return null;let s=bL(t);V3(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=K3(s[a],X3(i));return o}function bL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Jt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bo([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Jt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bL(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:H3(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of SL(s.path))i(s,o,l)}),e}function SL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=SL(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function V3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:G3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U3=/^:\w+$/,B3=3,j3=2,z3=1,W3=10,q3=-2,dP=t=>t==="*";function H3(t,e){let n=t.split("/"),r=n.length;return n.some(dP)&&(r+=q3),e&&(r+=j3),n.filter(i=>!dP(i)).reduce((i,s)=>i+(U3.test(s)?B3:s===""?z3:W3),r)}function G3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function K3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Q3({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:bo([i,c.pathname]),pathnameBase:nW(bo([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=bo([i,c.pathnameBase]))}return s}function Q3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Y3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=J3(p||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Y3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function X3(t){try{return decodeURI(t)}catch(e){return Gb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function J3(t,e){try{return decodeURIComponent(t)}catch(n){return Gb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Kb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Z3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Mc(t):t;return{pathname:n?n.startsWith("/")?n:eW(n,e):e,search:rW(r),hash:iW(i)}}function eW(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CL(t,e){let n=tW(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xL(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Mc(t):(i=Jh({},t),Jt(!i.pathname||!i.pathname.includes("?"),pw("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),pw("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),pw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=Z3(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const bo=t=>t.join("/").replace(/\/\/+/g,"/"),nW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RL=["post","put","patch","delete"];new Set(RL);const oW=["get",...RL];new Set(oW);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}const Qb=E.createContext(null),aW=E.createContext(null),Pl=E.createContext(null),I_=E.createContext(null),Al=E.createContext({outlet:null,matches:[],isDataRoute:!1}),PL=E.createContext(null);function lW(t,e){let{relative:n}=e===void 0?{}:e;up()||Jt(!1);let{basename:r,navigator:i}=E.useContext(Pl),{hash:s,pathname:o,search:a}=NL(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:bo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function up(){return E.useContext(I_)!=null}function b_(){return up()||Jt(!1),E.useContext(I_).location}function AL(t){E.useContext(Pl).static||E.useLayoutEffect(t)}function kL(){let{isDataRoute:t}=E.useContext(Al);return t?EW():uW()}function uW(){up()||Jt(!1);let t=E.useContext(Qb),{basename:e,future:n,navigator:r}=E.useContext(Pl),{matches:i}=E.useContext(Al),{pathname:s}=b_(),o=JSON.stringify(CL(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return AL(()=>{a.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=xL(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:bo([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function NL(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(Pl),{matches:i}=E.useContext(Al),{pathname:s}=b_(),o=JSON.stringify(CL(i,r.v7_relativeSplatPath));return E.useMemo(()=>xL(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function cW(t,e){return dW(t,e)}function dW(t,e,n,r){up()||Jt(!1);let{navigator:i}=E.useContext(Pl),{matches:s}=E.useContext(Al),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=b_(),c;if(e){var d;let _=typeof e=="string"?Mc(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Jt(!1),c=_}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",p=F3(t,{pathname:f}),g=gW(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:bo([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:bo([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&g?E.createElement(I_.Provider,{value:{location:Zh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:co.Pop}},g):g}function hW(){let t=wW(),e=sW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const fW=E.createElement(hW,null);class pW extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Al.Provider,{value:this.props.routeContext},E.createElement(PL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mW(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Qb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Al.Provider,{value:e},r)}function gW(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Jt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,g=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||fW,l&&(u<0&&h===0?(TW("route-fallback",!1),p=!0,_=null):u===h&&(p=!0,_=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),y=()=>{let v;return f?v=g:p?v=_:d.route.Component?v=E.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,E.createElement(mW,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(pW,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var OL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OL||{}),Jg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jg||{});function yW(t){let e=E.useContext(Qb);return e||Jt(!1),e}function _W(t){let e=E.useContext(aW);return e||Jt(!1),e}function vW(t){let e=E.useContext(Al);return e||Jt(!1),e}function DL(t){let e=vW(),n=e.matches[e.matches.length-1];return n.route.id||Jt(!1),n.route.id}function wW(){var t;let e=E.useContext(PL),n=_W(Jg.UseRouteError),r=DL(Jg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function EW(){let{router:t}=yW(OL.UseNavigateStable),e=DL(Jg.UseNavigateStable),n=E.useRef(!1);return AL(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zh({fromRouteId:e},s)))},[t,e])}const hP={};function TW(t,e,n){!e&&!hP[t]&&(hP[t]=!0)}function ya(t){Jt(!1)}function IW(t){let{basename:e="/",children:n=null,location:r,navigationType:i=co.Pop,navigator:s,static:o=!1,future:a}=t;up()&&Jt(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Zh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Mc(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=E.useMemo(()=>{let _=Kb(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return g==null?null:E.createElement(Pl.Provider,{value:u},E.createElement(I_.Provider,{children:n,value:g}))}function bW(t){let{children:e,location:n}=t;return cW(lT(e),n)}new Promise(()=>{});function lT(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,lT(r.props.children,s));return}r.type!==ya&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lT(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uT.apply(this,arguments)}function SW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xW(t,e){return t.button===0&&(!e||e==="_self")&&!CW(t)}const RW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],PW="startTransition",fP=Yu[PW];function AW(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=M3({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=E.useCallback(d=>{u&&fP?fP(()=>l(d)):l(d)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(IW,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const kW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ef=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=SW(e,RW),{basename:f}=E.useContext(Pl),p,g=!1;if(typeof u=="string"&&NW.test(u)&&(p=u,kW))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),I=Kb(w.pathname,f);w.origin===v.origin&&I!=null?u=I+w.search+w.hash:g=!0}catch{}let _=lW(u,{relative:i}),m=OW(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function y(v){r&&r(v),v.defaultPrevented||m(v)}return E.createElement("a",uT({},h,{href:p||_,onClick:g||s?r:y,ref:n,target:l}))});var pP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pP||(pP={}));var mP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mP||(mP={}));function OW(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=kL(),u=b_(),c=NL(t,{relative:o});return E.useCallback(d=>{if(xW(d,n)){d.preventDefault();let h=r!==void 0?r:Xg(u)===Xg(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function Tn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var DW=typeof Symbol=="function"&&Symbol.observable||"@@observable",gP=DW,mw=()=>Math.random().toString(36).substring(7).split("").join("."),MW={INIT:`@@redux/INIT${mw()}`,REPLACE:`@@redux/REPLACE${mw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mw()}`},Zg=MW;function Yb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ML(t,e,n){if(typeof t!="function")throw new Error(Tn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tn(1));return n(ML)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((_,m)=>{o.set(m,_)}))}function c(){if(l)throw new Error(Tn(3));return i}function d(_){if(typeof _!="function")throw new Error(Tn(4));if(l)throw new Error(Tn(5));let m=!0;u();const y=a++;return o.set(y,_),function(){if(m){if(l)throw new Error(Tn(6));m=!1,u(),o.delete(y),s=null}}}function h(_){if(!Yb(_))throw new Error(Tn(7));if(typeof _.type>"u")throw new Error(Tn(8));if(typeof _.type!="string")throw new Error(Tn(17));if(l)throw new Error(Tn(9));try{l=!0,i=r(i,_)}finally{l=!1}return(s=o).forEach(y=>{y()}),_}function f(_){if(typeof _!="function")throw new Error(Tn(10));r=_,h({type:Zg.REPLACE})}function p(){const _=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Tn(11));function y(){const w=m;w.next&&w.next(c())}return y(),{unsubscribe:_(y)}},[gP](){return this}}}return h({type:Zg.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:f,[gP]:p}}function LW(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Zg.INIT})>"u")throw new Error(Tn(12));if(typeof n(void 0,{type:Zg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tn(13))})}function $W(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{LW(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],f=o[d],p=h(f,a);if(typeof p>"u")throw a&&a.type,new Error(Tn(14));u[d]=p,l=l||p!==f}return l=l||r.length!==Object.keys(o).length,l?u:o}}function ey(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function FW(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Tn(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=ey(...a)(i.dispatch),{...i,dispatch:s}}}function VW(t){return Yb(t)&&"type"in t&&typeof t.type=="string"}var LL=Symbol.for("immer-nothing"),yP=Symbol.for("immer-draftable"),Vr=Symbol.for("immer-state");function wi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ic=Object.getPrototypeOf;function Do(t){return!!t&&!!t[Vr]}function Os(t){var e;return t?$L(t)||Array.isArray(t)||!!t[yP]||!!((e=t.constructor)!=null&&e[yP])||C_(t)||x_(t):!1}var UW=Object.prototype.constructor.toString();function $L(t){if(!t||typeof t!="object")return!1;const e=ic(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===UW}function tf(t,e){S_(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function S_(t){const e=t[Vr];return e?e.type_:Array.isArray(t)?1:C_(t)?2:x_(t)?3:0}function cT(t,e){return S_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function FL(t,e,n){const r=S_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function BW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function C_(t){return t instanceof Map}function x_(t){return t instanceof Set}function _a(t){return t.copy_||t.base_}function dT(t,e){if(C_(t))return new Map(t);if(x_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&$L(t))return ic(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Vr];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(ic(t),n)}function Xb(t,e=!1){return R_(t)||Do(t)||!Os(t)||(S_(t)>1&&(t.set=t.add=t.clear=t.delete=jW),Object.freeze(t),e&&tf(t,(n,r)=>Xb(r,!0))),t}function jW(){wi(2)}function R_(t){return Object.isFrozen(t)}var zW={};function ol(t){const e=zW[t];return e||wi(0,t),e}var nf;function VL(){return nf}function WW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _P(t,e){e&&(ol("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function hT(t){fT(t),t.drafts_.forEach(qW),t.drafts_=null}function fT(t){t===nf&&(nf=t.parent_)}function vP(t){return nf=WW(nf,t)}function qW(t){const e=t[Vr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Vr].modified_&&(hT(e),wi(4)),Os(t)&&(t=ty(e,t),e.parent_||ny(e,t)),e.patches_&&ol("Patches").generateReplacementPatches_(n[Vr].base_,t,e.patches_,e.inversePatches_)):t=ty(e,n,[]),hT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==LL?t:void 0}function ty(t,e,n){if(R_(e))return e;const r=e[Vr];if(!r)return tf(e,(i,s)=>EP(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ny(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),tf(s,(a,l)=>EP(t,r,i,a,l,n,o)),ny(t,i,!1),n&&t.patches_&&ol("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function EP(t,e,n,r,i,s,o){if(Do(i)){const a=s&&e&&e.type_!==3&&!cT(e.assigned_,r)?s.concat(r):void 0,l=ty(t,i,a);if(FL(n,r,l),Do(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Os(i)&&!R_(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ty(t,i),(!e||!e.scope_.parent_)&&ny(t,i)}}function ny(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Xb(e,n)}function HW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:VL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Jb;n&&(i=[r],s=rf);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Jb={get(t,e){if(e===Vr)return t;const n=_a(t);if(!cT(n,e))return GW(t,n,e);const r=n[e];return t.finalized_||!Os(r)?r:r===gw(t.base_,e)?(yw(t),t.copy_[e]=mT(r,t)):r},has(t,e){return e in _a(t)},ownKeys(t){return Reflect.ownKeys(_a(t))},set(t,e,n){const r=UL(_a(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=gw(_a(t),e),s=i==null?void 0:i[Vr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(BW(n,i)&&(n!==void 0||cT(t.base_,e)))return!0;yw(t),pT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return gw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,yw(t),pT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=_a(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){wi(11)},getPrototypeOf(t){return ic(t.base_)},setPrototypeOf(){wi(12)}},rf={};tf(Jb,(t,e)=>{rf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});rf.deleteProperty=function(t,e){return rf.set.call(this,t,e,void 0)};rf.set=function(t,e,n){return Jb.set.call(this,t[0],e,n,t[0])};function gw(t,e){const n=t[Vr];return(n?_a(n):t)[e]}function GW(t,e,n){var i;const r=UL(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function UL(t,e){if(!(e in t))return;let n=ic(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ic(n)}}function pT(t){t.modified_||(t.modified_=!0,t.parent_&&pT(t.parent_))}function yw(t){t.copy_||(t.copy_=dT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var KW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&wi(6),r!==void 0&&typeof r!="function"&&wi(7);let i;if(Os(e)){const s=vP(this),o=mT(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?hT(s):fT(s)}return _P(s,r),wP(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===LL&&(i=void 0),this.autoFreeze_&&Xb(i,!0),r){const s=[],o=[];ol("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else wi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Os(t)||wi(8),Do(t)&&(t=BL(t));const e=vP(this),n=mT(t,void 0);return n[Vr].isManual_=!0,fT(e),n}finishDraft(t,e){const n=t&&t[Vr];(!n||!n.isManual_)&&wi(9);const{scope_:r}=n;return _P(r,e),wP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ol("Patches").applyPatches_;return Do(t)?r(t,e):this.produce(t,i=>r(i,e))}};function mT(t,e){const n=C_(t)?ol("MapSet").proxyMap_(t,e):x_(t)?ol("MapSet").proxySet_(t,e):HW(t,e);return(e?e.scope_:VL()).drafts_.push(n),n}function BL(t){return Do(t)||wi(10,t),jL(t)}function jL(t){if(!Os(t)||R_(t))return t;const e=t[Vr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dT(t,e.scope_.immer_.useStrictShallowCopy_)}else n=dT(t,!0);return tf(n,(r,i)=>{FL(n,r,jL(i))}),e&&(e.finalized_=!1),n}var Ur=new KW,zL=Ur.produce;Ur.produceWithPatches.bind(Ur);Ur.setAutoFreeze.bind(Ur);Ur.setUseStrictShallowCopy.bind(Ur);Ur.applyPatches.bind(Ur);Ur.createDraft.bind(Ur);Ur.finishDraft.bind(Ur);function QW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function YW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function XW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var TP=t=>Array.isArray(t)?t:[t];function JW(t){const e=Array.isArray(t[0])?t[0]:t;return XW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ZW(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var e9=class{constructor(t){this.value=t}deref(){return this.value}},t9=typeof WeakRef<"u"?WeakRef:e9,n9=0,IP=1;function wm(){return{s:n9,v:void 0,o:null,p:null}}function Zb(t,e={}){let n=wm();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=a.o;g===null&&(a.o=g=new WeakMap);const _=g.get(p);_===void 0?(a=wm(),g.set(p,a)):a=_}else{let g=a.p;g===null&&(a.p=g=new Map);const _=g.get(p);_===void 0?(a=wm(),g.set(p,a)):a=_}}const u=a;let c;if(a.s===IP?c=a.v:(c=t.apply(null,arguments),s++),u.s=IP,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new t9(c):c}return u.v=c,c}return o.clearCache=()=>{n=wm(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function WL(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),QW(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:f=Zb,argsMemoizeOptions:p=[],devModeChecks:g={}}=c,_=TP(h),m=TP(p),y=JW(i),v=d(function(){return s++,u.apply(null,arguments)},..._),w=f(function(){o++;const b=ZW(y,arguments);return a=v.apply(null,b),a},...m);return Object.assign(w,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var r9=WL(Zb),i9=Object.assign((t,e=r9)=>{YW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>i9});function qL(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var s9=qL(),o9=qL,a9=(...t)=>{const e=WL(...t);return(...n)=>{const r=e(...n),i=(s,...o)=>r(Do(s)?BL(s):s,...o);return Object.assign(i,r),i}};a9(Zb);var l9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ey:ey.apply(null,arguments)},u9=t=>t&&typeof t.match=="function";function So(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(xi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>VW(r)&&r.type===t,n}var HL=class Hd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hd.prototype)}static get[Symbol.species](){return Hd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hd(...e[0].concat(this)):new Hd(...e.concat(this))}};function bP(t){return Os(t)?zL(t,()=>{}):t}function SP(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(xi(10));const r=n.insert(e,t);return t.set(e,r),r}function c9(t){return typeof t=="boolean"}var d9=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new HL;return n&&(c9(n)?o.push(s9):o.push(o9(n.extraArgument))),o},h9="RTK_autoBatch",GL=t=>e=>{setTimeout(e,t)},f9=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:GL(10),p9=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?f9:t.type==="callback"?t.queueNotification:GL(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[h9]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},m9=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new HL(t);return r&&i.push(p9(typeof r=="object"?r:void 0)),i},g9=!0;function y9(t){const e=d9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Yb(n))a=$W(n);else throw new Error(xi(1));let l;typeof r=="function"?l=r(e):l=e();let u=ey;i&&(u=l9({trace:!g9,...typeof i=="object"&&i}));const c=FW(...l),d=m9(c);let h=typeof o=="function"?o(d):d();const f=u(...h);return ML(a,s,f)}function KL(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(xi(28));if(a in e)throw new Error(xi(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function _9(t){return typeof t=="function"}function v9(t,e){let[n,r,i]=KL(e),s;if(_9(t))s=()=>bP(t());else{const a=bP(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Do(c)){const f=d(c,l);return f===void 0?c:f}else{if(Os(c))return zL(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw new Error(xi(9))}return h}}return c},a)}return o.getInitialState=s,o}var w9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E9=(t=21)=>{let e="",n=t;for(;n--;)e+=w9[Math.random()*64|0];return e},T9=(t,e)=>u9(t)?t.match(e):t(e);function I9(...t){return e=>t.some(n=>T9(n,e))}var b9=["name","message","stack","code"],_w=class{constructor(t,e){B0(this,"_type");this.payload=t,this.meta=e}},CP=class{constructor(t,e){B0(this,"_type");this.payload=t,this.meta=e}},S9=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of b9)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},eS=(()=>{function t(e,n,r){const i=So(e+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),s=So(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),o=So(e+"/rejected",(l,u,c,d,h)=>({payload:d,error:(r&&r.serializeError||S9)(l||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(u,c,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):E9(),f=new AbortController;let p;function g(m){p=m,f.abort()}const _=async function(){var v,w;let m;try{let I=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:c,extra:d});if(x9(I)&&(I=await I),I===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const b=new Promise((T,R)=>f.signal.addEventListener("abort",()=>R({name:"AbortError",message:p||"Aborted"})));u(s(h,l,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:l},{getState:c,extra:d}))),m=await Promise.race([b,Promise.resolve(n(l,{dispatch:u,getState:c,extra:d,requestId:h,signal:f.signal,abort:g,rejectWithValue:(T,R)=>new _w(T,R),fulfillWithValue:(T,R)=>new CP(T,R)})).then(T=>{if(T instanceof _w)throw T;return T instanceof CP?i(T.payload,h,l,T.meta):i(T,h,l)})])}catch(I){m=I instanceof _w?o(null,h,l,I.payload,I.meta):o(I,h,l)}return r&&!r.dispatchConditionRejection&&o.match(m)&&m.meta.condition||u(m),m}();return Object.assign(_,{abort:g,requestId:h,arg:l,unwrap(){return _.then(C9)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:I9(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function C9(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function x9(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var R9=Symbol.for("rtk-slice-createasyncthunk");function P9(t,e){return`${t}/${e}`}function A9({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[R9];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(xi(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(N9()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,m){const y=typeof _=="string"?_:_.type;if(!y)throw new Error(xi(12));if(y in u.sliceCaseReducersByType)throw new Error(xi(13));return u.sliceCaseReducersByType[y]=m,c},addMatcher(_,m){return u.sliceMatchers.push({matcher:_,reducer:m}),c},exposeAction(_,m){return u.actionCreators[_]=m,c},exposeCaseReducer(_,m){return u.sliceCaseReducersByName[_]=m,c}};l.forEach(_=>{const m=a[_],y={reducerName:_,type:P9(s,_),createNotation:typeof i.reducers=="function"};D9(m)?L9(y,m,c,e):O9(y,m,c)});function d(){const[_={},m=[],y=void 0]=typeof i.extraReducers=="function"?KL(i.extraReducers):[i.extraReducers],v={..._,...u.sliceCaseReducersByType};return v9(i.initialState,w=>{for(let I in v)w.addCase(I,v[I]);for(let I of u.sliceMatchers)w.addMatcher(I.matcher,I.reducer);for(let I of m)w.addMatcher(I.matcher,I.reducer);y&&w.addDefaultCase(y)})}const h=_=>_,f=new WeakMap;let p;const g={name:s,reducerPath:o,reducer(_,m){return p||(p=d()),p(_,m)},actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState(){return p||(p=d()),p.getInitialState()},getSelectors(_=h){const m=SP(f,this,{insert:()=>new WeakMap});return SP(m,_,{insert:()=>{const y={};for(const[v,w]of Object.entries(i.selectors??{}))y[v]=k9(this,w,_,this!==g);return y}})},selectSlice(_){let m=_[this.reducerPath];return typeof m>"u"&&this!==g&&(m=this.getInitialState()),m},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(_,{reducerPath:m,...y}={}){const v=m??this.reducerPath;return _.inject({reducerPath:v,reducer:this.reducer},y),{...this,reducerPath:v}}};return g}}function k9(t,e,n,r){function i(s,...o){let a=n.call(t,s);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var tS=A9();function N9(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function O9({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!M9(r))throw new Error(xi(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?So(t,o):So(t))}function D9(t){return t._reducerDefinitionType==="asyncThunk"}function M9(t){return t._reducerDefinitionType==="reducerWithPrepare"}function L9({type:t,reducerName:e},n,r,i){if(!i)throw new Error(xi(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(t,s,c);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Em,pending:a||Em,rejected:l||Em,settled:u||Em})}function Em(){}var nS="listenerMiddleware";So(`${nS}/add`);So(`${nS}/removeAll`);So(`${nS}/remove`);function xi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const $9={items:[]},QL=tS({initialState:$9,name:"cart",reducers:{addItem:(t,e)=>{e.payload.quantity=1,t.items.push(e.payload)},decreaseItem:(t,e)=>{const n=t.items.find(r=>r.id===e.payload);n&&(n.quantity-=1)},deleteCart:t=>{t.items=[]},increaseItem:(t,e)=>{const n=t.items.find(r=>r.id===e.payload);n&&(n.quantity+=1)},removeItem:(t,e)=>{t.items=t.items.filter(n=>n.id!==e.payload)},setCart:(t,e)=>{t.items=e.payload}}}),{addItem:F9,decreaseItem:V9,deleteCart:U9,increaseItem:YL,removeItem:xP,setCart:B9}=QL.actions,j9=QL.reducer,z9=eS.withTypes();var RP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw Lc(e)},Lc=function(t){return new Error("Firebase Database ("+XL.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},W9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new q9;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZL=function(t){const e=JL(t);return rS.encodeByteArray(e,!0)},ry=function(t){return ZL(t).replace(/\./g,"")},iy=function(t){try{return rS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t){return sf(void 0,t)}function sf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!G9(n)||(t[n]=sf(t[n],e[n]));return t}function G9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=()=>K9().__FIREBASE_DEFAULTS__,Y9=()=>{if(typeof process>"u"||typeof RP>"u")return;const t=RP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iy(t[1]);return e&&JSON.parse(e)},P_=()=>{try{return Q9()||Y9()||X9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J9=t=>{var e,n;return(n=(e=P_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},e$=t=>{const e=J9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},t$=()=>{var t;return(t=P_())===null||t===void 0?void 0:t.config},Z9=t=>{var e;return(e=P_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ry(JSON.stringify(n)),ry(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function oS(){var t;const e=(t=P_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eq(){return typeof self=="object"&&self.self===self}function n$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r$(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i$(){return XL.NODE_ADMIN===!0}function tq(){return!oS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function of(){try{return typeof indexedDB=="object"}catch{return!1}}function nq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq="FirebaseError";class Vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rq,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Vn(i,a,r)}}function iq(t,e){return t.replace(sq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sq=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){return JSON.parse(t)}function tn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=af(iy(s[0])||""),n=af(iy(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},oq=function(t){const e=s$(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},aq=function(t){const e=s$(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sy(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function yT(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(PP(s)&&PP(o)){if(!yT(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function o$(t,e){const n=new uq(t,e);return n.subscribe.bind(n)}class uq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vw),i.error===void 0&&(i.error=vw),i.complete===void 0&&(i.complete=vw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vw(){}function aS(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t){return t&&t._delegate?t._delegate:t}class si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new A_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pq(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fq(t){return t===va?void 0:t}function pq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=[];var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const a$={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},gq=xe.INFO,yq={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},_q=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=gq,this._logHandler=_q,this._userLogHandler=null,lS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}function vq(t){lS.forEach(e=>{e.setLogLevel(t)})}function wq(t,e){for(const n of lS){let r=null;e&&e.level&&(r=a$[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:xe[s].toLowerCase(),message:a,args:o,type:i.name})}}}const Eq=(t,e)=>e.some(n=>t instanceof n);let AP,kP;function Tq(){return AP||(AP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Iq(){return kP||(kP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l$=new WeakMap,_T=new WeakMap,u$=new WeakMap,ww=new WeakMap,uS=new WeakMap;function bq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Co(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&l$.set(n,t)}).catch(()=>{}),uS.set(e,t),e}function Sq(t){if(_T.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_T.set(t,e)}let vT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _T.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cq(t){vT=t(vT)}function xq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ew(this),e,...n);return u$.set(r,e.sort?e.sort():[e]),Co(r)}:Iq().includes(t)?function(...e){return t.apply(Ew(this),e),Co(l$.get(this))}:function(...e){return Co(t.apply(Ew(this),e))}}function Rq(t){return typeof t=="function"?xq(t):(t instanceof IDBTransaction&&Sq(t),Eq(t,Tq())?new Proxy(t,vT):t)}function Co(t){if(t instanceof IDBRequest)return bq(t);if(ww.has(t))return ww.get(t);const e=Rq(t);return e!==t&&(ww.set(t,e),uS.set(e,t)),e}const Ew=t=>uS.get(t);function Pq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Co(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Co(o.result),l.oldVersion,l.newVersion,Co(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Aq=["get","getKey","getAll","getAllKeys","count"],kq=["put","add","delete","clear"],Tw=new Map;function NP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tw.get(e))return Tw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Aq.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Tw.set(e,s),s}Cq(t=>({...t,get:(e,n,r)=>NP(e,n)||t.get(e,n,r),has:(e,n)=>!!NP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Oq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Oq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wT="@firebase/app",OP="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new cp("@firebase/app"),Dq="@firebase/app-compat",Mq="@firebase/analytics-compat",Lq="@firebase/analytics",$q="@firebase/app-check-compat",Fq="@firebase/app-check",Vq="@firebase/auth",Uq="@firebase/auth-compat",Bq="@firebase/database",jq="@firebase/database-compat",zq="@firebase/functions",Wq="@firebase/functions-compat",qq="@firebase/installations",Hq="@firebase/installations-compat",Gq="@firebase/messaging",Kq="@firebase/messaging-compat",Qq="@firebase/performance",Yq="@firebase/performance-compat",Xq="@firebase/remote-config",Jq="@firebase/remote-config-compat",Zq="@firebase/storage",e8="@firebase/storage-compat",t8="@firebase/firestore",n8="@firebase/firestore-compat",r8="firebase",i8="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]",s8={[wT]:"fire-core",[Dq]:"fire-core-compat",[Lq]:"fire-analytics",[Mq]:"fire-analytics-compat",[Fq]:"fire-app-check",[$q]:"fire-app-check-compat",[Vq]:"fire-auth",[Uq]:"fire-auth-compat",[Bq]:"fire-rtdb",[jq]:"fire-rtdb-compat",[zq]:"fire-fn",[Wq]:"fire-fn-compat",[qq]:"fire-iid",[Hq]:"fire-iid-compat",[Gq]:"fire-fcm",[Kq]:"fire-fcm-compat",[Qq]:"fire-perf",[Yq]:"fire-perf-compat",[Xq]:"fire-rc",[Jq]:"fire-rc-compat",[Zq]:"fire-gcs",[e8]:"fire-gcs-compat",[t8]:"fire-fst",[n8]:"fire-fst-compat","fire-js":"fire-js",[r8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,lf=new Map;function oy(t,e){try{t.container.addComponent(e)}catch(n){al.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function c$(t,e){t.container.addOrOverwriteComponent(e)}function os(t){const e=t.name;if(lf.has(e))return al.debug(`There were multiple attempts to register component ${e}.`),!1;lf.set(e,t);for(const n of Lo.values())oy(n,t);return!0}function O_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function o8(t,e,n=Mo){O_(t,e).clearInstance(n)}function a8(){lf.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cs=new kl("app","Firebase",l8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u8=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=i8;function D_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(n||(n=t$()),!n)throw Cs.create("no-options");const s=Lo.get(i);if(s){if(yT(n,s.options)&&yT(r,s.config))return s;throw Cs.create("duplicate-app",{appName:i})}const o=new mq(i);for(const l of lf.values())o.addComponent(l);const a=new u8(n,r,o);return Lo.set(i,a),a}function cS(t=Mo){const e=Lo.get(t);if(!e&&t===Mo&&t$())return D_();if(!e)throw Cs.create("no-app",{appName:t});return e}function c8(){return Array.from(Lo.values())}async function d$(t){const e=t.name;Lo.has(e)&&(Lo.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Xn(t,e,n){var r;let i=(r=s8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),al.warn(a.join(" "));return}os(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function h$(t,e){if(t!==null&&typeof t!="function")throw Cs.create("invalid-log-argument");wq(t,e)}function f$(t){vq(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8="firebase-heartbeat-database",h8=1,uf="firebase-heartbeat-store";let Iw=null;function p$(){return Iw||(Iw=Pq(d8,h8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uf)}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),Iw}async function f8(t){try{return await(await p$()).transaction(uf).objectStore(uf).get(m$(t))}catch(e){if(e instanceof Vn)al.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});al.warn(n.message)}}}async function DP(t,e){try{const r=(await p$()).transaction(uf,"readwrite");await r.objectStore(uf).put(e,m$(t)),await r.done}catch(n){if(n instanceof Vn)al.warn(n.message);else{const r=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});al.warn(r.message)}}}function m$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=1024,m8=30*24*60*60*1e3;class g8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=MP();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=m8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=MP(),{heartbeatsToSend:r,unsentEntries:i}=y8(this._heartbeatsCache.heartbeats),s=ry(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function MP(){return new Date().toISOString().substring(0,10)}function y8(t,e=p8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),LP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return of()?nq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LP(t){return ry(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){os(new si("platform-logger",e=>new Nq(e),"PRIVATE")),os(new si("heartbeat",e=>new g8(e),"PRIVATE")),Xn(wT,OP,t),Xn(wT,OP,"esm2017"),Xn("fire-js","")}v8("");const w8=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Vn,SDK_VERSION:fs,_DEFAULT_ENTRY_NAME:Mo,_addComponent:oy,_addOrOverwriteComponent:c$,_apps:Lo,_clearComponents:a8,_components:lf,_getProvider:O_,_registerComponent:os,_removeServiceInstance:o8,deleteApp:d$,getApp:cS,getApps:c8,initializeApp:D_,onLog:h$,registerVersion:Xn,setLogLevel:f$},Symbol.toStringTag,{value:"Module"}));var $P={};const FP="@firebase/database",VP="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g$="";function E8(t){g$=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:af(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ai(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new T8(e)}}catch{}return new I8},Da=y$("localStorage"),ET=y$("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new cp("@firebase/database"),b8=function(){let t=1;return function(){return t++}}(),_$=function(t){const e=dq(t),n=new lq;n.update(e);const r=n.digest();return rS.encodeByteArray(r)},dp=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=dp.apply(null,r):typeof r=="object"?e+=tn(r):e+=r,e+=" "}return e};let qa=null,UP=!0;const S8=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?($u.logLevel=xe.VERBOSE,qa=$u.log.bind($u),e&&ET.set("logging_enabled",!0)):typeof t=="function"?qa=t:(qa=null,ET.remove("logging_enabled"))},Fn=function(...t){if(UP===!0&&(UP=!1,qa===null&&ET.get("logging_enabled")===!0&&S8(!0)),qa){const e=dp.apply(null,t);qa(e)}},hp=function(t){return function(...e){Fn(t,...e)}},TT=function(...t){const e="FIREBASE INTERNAL ERROR: "+dp(...t);$u.error(e)},Ds=function(...t){const e=`FIREBASE FATAL ERROR: ${dp(...t)}`;throw $u.error(e),new Error(e)},gr=function(...t){const e="FIREBASE WARNING: "+dp(...t);$u.warn(e)},C8=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},v$=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},oc="[MIN_NAME]",ll="[MAX_NAME]",$c=function(t,e){if(t===e)return 0;if(t===oc||e===ll)return-1;if(e===oc||t===ll)return 1;{const n=BP(t),r=BP(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},R8=function(t,e){return t===e?0:t<e?-1:1},yd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tn(e))},dS=function(t){if(typeof t!="object"||t===null)return tn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=tn(e[r]),n+=":",n+=dS(t[e[r]]);return n+="}",n},w$=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function wr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const E$=function(t){G(!v$(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},P8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},A8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function k8(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const N8=new RegExp("^-?(0*)\\d{1,10}$"),O8=-2147483648,D8=2147483647,BP=function(t){if(N8.test(t)){const e=Number(t);if(e>=O8&&e<=D8)return e}return null},Fc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw gr("Exception was thrown by user callback.",n),e},Math.floor(0))}},M8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gr(e)}}class Fu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="5",T$="v",I$="s",b$="r",S$="f",C$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,x$="ls",R$="p",IT="ac",P$="websocket",A$="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Da.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Da.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function F8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function N$(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===P$)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===A$)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);F8(t)&&(n.ns=t.namespace);const i=[];return wr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.counters_={}}incrementCounter(e,n=1){Ai(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return H9(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={},Sw={};function fS(t){const e=t.toString();return bw[e]||(bw[e]=new V8),bw[e]}function U8(t,e){const n=t.toString();return Sw[n]||(Sw[n]=e()),Sw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Fc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="start",j8="close",z8="pLPCommand",W8="pRTLPCB",O$="id",D$="pw",M$="ser",q8="cb",H8="seg",G8="ts",K8="d",Q8="dframe",L$=1870,$$=30,Y8=L$-$$,X8=25e3,J8=3e4;class Ru{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hp(e),this.stats_=fS(n),this.urlFn=l=>(this.appCheckToken&&(l[IT]=this.appCheckToken),N$(n,A$,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new B8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(J8)),x8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pS((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jP)this.id=a,this.password=l;else if(o===j8)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[jP]="t",r[M$]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[q8]=this.scriptTagHolder.uniqueCallbackIdentifier),r[T$]=hS,this.transportSessionId&&(r[I$]=this.transportSessionId),this.lastSessionId&&(r[x$]=this.lastSessionId),this.applicationId&&(r[R$]=this.applicationId),this.appCheckToken&&(r[IT]=this.appCheckToken),typeof location<"u"&&location.hostname&&C$.test(location.hostname)&&(r[b$]=S$);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ru.forceAllow_=!0}static forceDisallow(){Ru.forceDisallow_=!0}static isAvailable(){return Ru.forceAllow_?!0:!Ru.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!P8()&&!A8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ZL(n),i=w$(r,Y8);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Q8]="t",r[O$]=e,r[D$]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pS{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=b8(),window[z8+this.uniqueCallbackIdentifier]=e,window[W8+this.uniqueCallbackIdentifier]=n,this.myIFrame=pS.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Fn("frame writing exception"),a.stack&&Fn(a.stack),Fn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[O$]=this.myID,e[D$]=this.myPW,e[M$]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$$+r.length<=L$;){const o=this.pendingSegs.shift();r=r+"&"+H8+i+"="+o.seg+"&"+G8+i+"="+o.ts+"&"+K8+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(X8)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=16384,eH=45e3;let ay=null;typeof MozWebSocket<"u"?ay=MozWebSocket:typeof WebSocket<"u"&&(ay=WebSocket);class Ei{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hp(this.connId),this.stats_=fS(n),this.connURL=Ei.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[T$]=hS,typeof location<"u"&&location.hostname&&C$.test(location.hostname)&&(o[b$]=S$),n&&(o[I$]=n),r&&(o[x$]=r),i&&(o[IT]=i),s&&(o[R$]=s),N$(e,P$,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Da.set("previous_websocket_failure",!0);try{let r;i$(),this.mySock=new ay(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ei.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ay!==null&&!Ei.forceDisallow_}static previouslyFailed(){return Da.isInMemoryStorage||Da.get("previous_websocket_failure")===!0}markConnectionHealthy(){Da.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=af(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=w$(n,Z8);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eH))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ei.responsesRequiredToBeHealthy=2;Ei.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ru,Ei]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ei&&Ei.isAvailable();let r=n&&!Ei.previouslyFailed();if(e.webSocketOnly&&(n||gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ei];else{const i=this.transports_=[];for(const s of cf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);cf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}cf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=6e4,nH=5e3,rH=10*1024,iH=100*1024,Cw="t",zP="d",sH="s",WP="r",oH="e",qP="o",HP="a",GP="n",KP="p",aH="h";class lH{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hp("c:"+this.id+":"),this.transportManager_=new cf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=fh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cw in e){const n=e[Cw];n===HP?this.upgradeIfSecondaryHealthy_():n===WP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yd("t",e),r=yd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:KP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:HP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:GP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yd("t",e),r=yd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yd(Cw,e);if(zP in e){const r=e[zP];if(n===aH){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===GP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===sH?this.onConnectionShutdown_(r):n===WP?this.onReset_(r):n===oH?TT("Server Error: "+r):n===qP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):TT("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hS!==r&&gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:KP,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Da.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends V${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ly}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=32,YP=768;class it{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ge(){return new it("")}function Le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function $o(t){return t.pieces_.length-t.pieceNum_}function at(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new it(t.pieces_,e)}function U$(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function uH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function B$(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function j$(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new it(e,0)}function nn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof it)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new it(n,0)}function ke(t){return t.pieceNum_>=t.pieces_.length}function Kn(t,e){const n=Le(t),r=Le(e);if(n===null)return e;if(n===r)return Kn(at(t),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function z$(t,e){if($o(t)!==$o(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ti(t,e){let n=t.pieceNum_,r=e.pieceNum_;if($o(t)>$o(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class cH{constructor(e,n){this.errorPrefix_=n,this.parts_=B$(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=N_(this.parts_[r]);W$(this)}}function dH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=N_(e),W$(t)}function hH(t){const e=t.parts_.pop();t.byteLength_-=N_(e),t.parts_.length>0&&(t.byteLength_-=1)}function W$(t){if(t.byteLength_>YP)throw new Error(t.errorPrefix_+"has a key path longer than "+YP+" bytes ("+t.byteLength_+").");if(t.parts_.length>QP)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+QP+") or object contains a cycle "+wa(t))}function wa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends V${constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new mS}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=1e3,fH=60*5*1e3,XP=30*1e3,pH=1.3,mH=3e4,gH="server_kill",JP=3;class xs extends F${constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=xs.nextPersistentConnectionId_++,this.log_=hp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_d,this.maxReconnectDelay_=fH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!i$())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mS.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ly.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(tn(s)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new A_,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;xs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ai(e,"w")){const r=sc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||aq(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=XP)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=oq(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):TT("Unrecognized action received from server: "+tn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mH&&(this.reconnectDelay_=_d),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+xs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Fn("getToken() completed but was canceled"):(Fn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new lH(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{gr(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(gH)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&gr(d),l())}}}interrupt(e){Fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gT(this.interruptReasons_)&&(this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>dS(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new it(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=JP&&(this.reconnectDelay_=XP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=JP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+g$.replace(/\./g,"-")]=1,sS()?e["framework.cordova"]=1:k_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ly.getInstance().currentlyOnline();return gT(this.interruptReasons_)&&e}}xs.nextPersistentConnectionId_=0;xs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Re(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Re(oc,e),i=new Re(oc,n);return this.compare(r,i)!==0}minPost(){return Re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm;class q$ extends M_{static get __EMPTY_NODE(){return Tm}static set __EMPTY_NODE(e){Tm=e}compare(e,n){return $c(e.name,n.name)}isDefinedOn(e){throw Lc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Re.MIN}maxPost(){return new Re(ll,Tm)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Re(e,Tm)}toString(){return".key"}}const Vu=new q$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},xr=class Kd{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Kd.RED,this.left=i??Gi.EMPTY_NODE,this.right=s??Gi.EMPTY_NODE}copy(e,n,r,i,s){return new Kd(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Gi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Kd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Kd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};xr.RED=!0;xr.BLACK=!1;class yH{copy(e,n,r,i,s){return this}insert(e,n,r){return new xr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Gi=class sg{constructor(e,n=sg.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new sg(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xr.BLACK,null,null))}remove(e){return new sg(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Im(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Im(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Im(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Im(this.root_,null,this.comparator_,!0,e)}};Gi.EMPTY_NODE=new yH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(t,e){return $c(t.name,e.name)}function gS(t,e){return $c(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bT;function vH(t){bT=t}const H$=function(t){return typeof t=="number"?"number:"+E$(t):"string:"+t},G$=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ai(e,".sv"),"Priority must be a string or number.")}else G(t===bT||t.isEmpty(),"priority of unexpected type.");G(t===bT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZP;class ln{constructor(e,n=ln.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),G$(this.priorityNode_)}static set __childrenNodeConstructor(e){ZP=e}static get __childrenNodeConstructor(){return ZP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ln(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ln.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ke(e)?this:Le(e)===".priority"?this.priorityNode_:ln.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ln.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||$o(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ln.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+H$(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=E$(this.value_):e+=this.value_,this.lazyHash_=_$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ln.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ln.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ln.VALUE_TYPE_ORDER.indexOf(n),s=ln.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ln.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K$,Q$;function wH(t){K$=t}function EH(t){Q$=t}class TH extends M_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?$c(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(ll,new ln("[PRIORITY-POST]",Q$))}makePost(e,n){const r=K$(e);return new Re(n,new ln("[PRIORITY-POST]",r))}toString(){return".priority"}}const Mt=new TH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=Math.log(2);class bH{constructor(e){const n=s=>parseInt(Math.log(s)/IH,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uy=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new xr(h,d.node,xr.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new xr(h,d.node,xr.BLACK,p,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const _=d-p,m=d;d-=p;const y=i(_+1,m),v=t[_],w=n?n(v):v;f(new xr(w,v.node,g,null,y))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,xr.BLACK):(h(_,xr.BLACK),h(_,xr.RED))}return c},o=new bH(t.length),a=s(o);return new Gi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xw;const Kl={};class Es{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Kl&&Mt,"ChildrenNode.ts has not been loaded"),xw=xw||new Es({".priority":Kl},{".priority":Mt}),xw}get(e){const n=sc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Gi?n:null}hasIndex(e){return Ai(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Vu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Re.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=uy(r,e.getCompare()):a=Kl;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Es(c,u)}addToIndexes(e,n){const r=sy(this.indexes_,(i,s)=>{const o=sc(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===Kl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Re.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),uy(a,o.getCompare())}else return Kl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Re(e.name,a))),l.insert(e,e.node)}});return new Es(r,this.indexSet_)}removeFromIndexes(e,n){const r=sy(this.indexes_,i=>{if(i===Kl)return i;{const s=n.get(e.name);return s?i.remove(new Re(e.name,s)):i}});return new Es(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;class me{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&G$(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vd||(vd=new me(new Gi(gS),null,Es.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vd}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?vd:n}}getChild(e){const n=Le(e);return n===null?this:this.getImmediateChild(n).getChild(at(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Re(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?vd:this.priorityNode_;return new me(i,o,s)}}updateChild(e,n){const r=Le(e);if(r===null)return n;{G(Le(e)!==".priority"||$o(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(at(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Mt,(o,a)=>{n[o]=a.val(e),r++,s&&me.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+H$(this.getPriority().val())+":"),this.forEachChild(Mt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":_$(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Re(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Re(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Re(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fp?-1:0}withIndex(e){if(e===Vu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Mt),i=n.getIterator(Mt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vu?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class SH extends me{constructor(){super(new Gi(gS),me.EMPTY_NODE,Es.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const fp=new SH;Object.defineProperties(Re,{MIN:{value:new Re(oc,me.EMPTY_NODE)},MAX:{value:new Re(ll,fp)}});q$.__EMPTY_NODE=me.EMPTY_NODE;ln.__childrenNodeConstructor=me;vH(fp);EH(fp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=!0;function hn(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ln(n,hn(e))}if(!(t instanceof Array)&&CH){const n=[];let r=!1;if(wr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=hn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Re(o,l)))}}),n.length===0)return me.EMPTY_NODE;const s=uy(n,_H,o=>o.name,gS);if(r){const o=uy(n,Mt.getCompare());return new me(s,hn(e),new Es({".priority":o},{".priority":Mt}))}else return new me(s,hn(e),Es.Default)}else{let n=me.EMPTY_NODE;return wr(t,(r,i)=>{if(Ai(t,r)&&r.substring(0,1)!=="."){const s=hn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(hn(e))}}wH(hn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH extends M_{constructor(e){super(),this.indexPath_=e,G(!ke(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?$c(e.name,n.name):s}makePost(e,n){const r=hn(e),i=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new Re(n,i)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,fp);return new Re(ll,e)}toString(){return B$(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH extends M_{compare(e,n){const r=e.node.compareTo(n.node);return r===0?$c(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(e,n){const r=hn(e);return new Re(n,r)}toString(){return".value"}}const PH=new RH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t){return{type:"value",snapshotNode:t}}function ac(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function df(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function hf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function AH(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(df(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ac(n,r)):o.trackChildChange(hf(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Mt,(i,s)=>{n.hasChild(i)||r.trackChildChange(df(i,s))}),n.isLeafNode()||n.forEachChild(Mt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(hf(i,s,o))}else r.trackChildChange(ac(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.indexedFilter_=new yS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ff.getStartPost_(e),this.endPost_=ff.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Re(n,r))||(r=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=me.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(me.EMPTY_NODE);const s=this;return n.forEachChild(Mt,(o,a)=>{s.matches(new Re(o,a))||(i=i.updateImmediateChild(o,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ff(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Re(n,r))||(r=me.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=me.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(me.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new Re(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(hf(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(df(n,d));const g=a.updateImmediateChild(n,me.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(ac(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(df(u.name,u.node)),s.trackChildChange(ac(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,me.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oc}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ll}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mt}copy(){const e=new _S;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function NH(t){return t.loadsAllData()?new yS(t.getIndex()):t.hasLimit()?new kH(t):new ff(t)}function eA(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Mt?n="$priority":t.index_===PH?n="$value":t.index_===Vu?n="$key":(G(t.index_ instanceof xH,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=tn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+tn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=tn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+tn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tA(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Mt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends F${constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=hp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=cy.getListenId_(e,r),a={};this.listens_[o]=a;const l=eA(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),sc(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=cy.getListenId_(e,n);delete this.listens_[r]}get(e){const n=eA(e._queryParams),r=e._path.toString(),i=new A_;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Nl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=af(a.responseText)}catch{gr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&gr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){return{value:null,children:new Map}}function X$(t,e,n){if(ke(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Le(e);t.children.has(r)||t.children.set(r,dy());const i=t.children.get(r);e=at(e),X$(i,e,n)}}function ST(t,e,n){t.value!==null?n(e,t.value):DH(t,(r,i)=>{const s=new it(e.toString()+"/"+r);ST(i,s,n)})}function DH(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&wr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=10*1e3,LH=30*1e3,$H=5*60*1e3;class FH{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new MH(e);const r=nA+(LH-nA)*Math.random();fh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;wr(e,(i,s)=>{s>0&&Ai(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),fh(this.reportStats_.bind(this),Math.floor(Math.random()*2*$H))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ii||(Ii={}));function J$(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ii.ACK_USER_WRITE,this.source=J$()}operationForChild(e){if(ke(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new it(e));return new hy(Ge(),n,this.revert)}}else return G(Le(this.path)===e,"operationForChild called for unrelated child."),new hy(at(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.source=e,this.path=n,this.type=Ii.LISTEN_COMPLETE}operationForChild(e){return ke(this.path)?new pf(this.source,Ge()):new pf(this.source,at(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ii.OVERWRITE}operationForChild(e){return ke(this.path)?new ul(this.source,Ge(),this.snap.getImmediateChild(e)):new ul(this.source,at(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ii.MERGE}operationForChild(e){if(ke(this.path)){const n=this.children.subtree(new it(e));return n.isEmpty()?null:n.value?new ul(this.source,Ge(),n.value):new mf(this.source,Ge(),n)}else return G(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new mf(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ke(e))return this.isFullyInitialized()&&!this.filtered_;const n=Le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function UH(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(AH(o.childName,o.snapshotNode))}),wd(t,i,"child_removed",e,r,n),wd(t,i,"child_added",e,r,n),wd(t,i,"child_moved",s,r,n),wd(t,i,"child_changed",e,r,n),wd(t,i,"value",e,r,n),i}function wd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>jH(t,a,l)),o.forEach(a=>{const l=BH(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function BH(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function jH(t,e,n){if(e.childName==null||n.childName==null)throw Lc("Should only compare child_ events.");const r=new Re(e.childName,e.snapshotNode),i=new Re(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e){return{eventCache:t,serverCache:e}}function ph(t,e,n,r){return L_(new Fo(e,n,r),t.serverCache)}function Z$(t,e,n,r){return L_(t.eventCache,new Fo(e,n,r))}function fy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function cl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rw;const zH=()=>(Rw||(Rw=new Gi(R8)),Rw);class ht{constructor(e,n=zH()){this.value=e,this.children=n}static fromObject(e){let n=new ht(null);return wr(e,(r,i)=>{n=n.set(new it(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ge(),value:this.value};if(ke(e))return null;{const r=Le(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(at(e),n);return s!=null?{path:nn(new it(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ke(e))return this;{const n=Le(e),r=this.children.get(n);return r!==null?r.subtree(at(e)):new ht(null)}}set(e,n){if(ke(e))return new ht(n,this.children);{const r=Le(e),s=(this.children.get(r)||new ht(null)).set(at(e),n),o=this.children.insert(r,s);return new ht(this.value,o)}}remove(e){if(ke(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const n=Le(e),r=this.children.get(n);if(r){const i=r.remove(at(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ht(null):new ht(this.value,s)}else return this}}get(e){if(ke(e))return this.value;{const n=Le(e),r=this.children.get(n);return r?r.get(at(e)):null}}setTree(e,n){if(ke(e))return n;{const r=Le(e),s=(this.children.get(r)||new ht(null)).setTree(at(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ht(this.value,o)}}fold(e){return this.fold_(Ge(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(nn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ge(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ke(e))return null;{const s=Le(e),o=this.children.get(s);return o?o.findOnPath_(at(e),nn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ge(),n)}foreachOnPath_(e,n,r){if(ke(e))return this;{this.value&&r(n,this.value);const i=Le(e),s=this.children.get(i);return s?s.foreachOnPath_(at(e),nn(n,i),r):new ht(null)}}foreach(e){this.foreach_(Ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(nn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.writeTree_=e}static empty(){return new Ri(new ht(null))}}function mh(t,e,n){if(ke(e))return new Ri(new ht(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Kn(i,e);return s=s.updateChild(o,n),new Ri(t.writeTree_.set(i,s))}else{const i=new ht(n),s=t.writeTree_.setTree(e,i);return new Ri(s)}}}function rA(t,e,n){let r=t;return wr(n,(i,s)=>{r=mh(r,nn(e,i),s)}),r}function iA(t,e){if(ke(e))return Ri.empty();{const n=t.writeTree_.setTree(e,new ht(null));return new Ri(n)}}function CT(t,e){return Ol(t,e)!=null}function Ol(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Kn(n.path,e)):null}function sA(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Mt,(r,i)=>{e.push(new Re(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Re(r,i.value))}),e}function xo(t,e){if(ke(e))return t;{const n=Ol(t,e);return n!=null?new Ri(new ht(n)):new Ri(t.writeTree_.subtree(e))}}function xT(t){return t.writeTree_.isEmpty()}function lc(t,e){return eF(Ge(),t.writeTree_,e)}function eF(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=eF(nn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(nn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t,e){return iF(e,t)}function WH(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=mh(t.visibleWrites,e,n)),t.lastWriteId=r}function qH(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function HH(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&GH(a,r.path)?i=!1:Ti(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return KH(t),!0;if(r.snap)t.visibleWrites=iA(t.visibleWrites,r.path);else{const a=r.children;wr(a,l=>{t.visibleWrites=iA(t.visibleWrites,nn(r.path,l))})}return!0}else return!1}function GH(t,e){if(t.snap)return Ti(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ti(nn(t.path,n),e))return!0;return!1}function KH(t){t.visibleWrites=tF(t.allWrites,QH,Ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function QH(t){return t.visible}function tF(t,e,n){let r=Ri.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ti(n,o)?(a=Kn(n,o),r=mh(r,a,s.snap)):Ti(o,n)&&(a=Kn(o,n),r=mh(r,Ge(),s.snap.getChild(a)));else if(s.children){if(Ti(n,o))a=Kn(n,o),r=rA(r,a,s.children);else if(Ti(o,n))if(a=Kn(o,n),ke(a))r=rA(r,Ge(),s.children);else{const l=sc(s.children,Le(a));if(l){const u=l.getChild(at(a));r=mh(r,Ge(),u)}}}else throw Lc("WriteRecord should have .snap or .children")}}return r}function nF(t,e,n,r,i){if(!r&&!i){const s=Ol(t.visibleWrites,e);if(s!=null)return s;{const o=xo(t.visibleWrites,e);if(xT(o))return n;if(n==null&&!CT(o,Ge()))return null;{const a=n||me.EMPTY_NODE;return lc(o,a)}}}else{const s=xo(t.visibleWrites,e);if(!i&&xT(s))return n;if(!i&&n==null&&!CT(s,Ge()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ti(u.path,e)||Ti(e,u.path))},a=tF(t.allWrites,o,e),l=n||me.EMPTY_NODE;return lc(a,l)}}}function YH(t,e,n){let r=me.EMPTY_NODE;const i=Ol(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Mt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=xo(t.visibleWrites,e);return n.forEachChild(Mt,(o,a)=>{const l=lc(xo(s,new it(o)),a);r=r.updateImmediateChild(o,l)}),sA(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=xo(t.visibleWrites,e);return sA(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function XH(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=nn(e,n);if(CT(t.visibleWrites,s))return null;{const o=xo(t.visibleWrites,s);return xT(o)?i.getChild(n):lc(o,i.getChild(n))}}function JH(t,e,n,r){const i=nn(e,n),s=Ol(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=xo(t.visibleWrites,i);return lc(o,r.getNode().getImmediateChild(n))}else return null}function ZH(t,e){return Ol(t.visibleWrites,e)}function eG(t,e,n,r,i,s,o){let a;const l=xo(t.visibleWrites,e),u=Ol(l,Ge());if(u!=null)a=u;else if(n!=null)a=lc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function tG(){return{visibleWrites:Ri.empty(),allWrites:[],lastWriteId:-1}}function py(t,e,n,r){return nF(t.writeTree,t.treePath,e,n,r)}function ES(t,e){return YH(t.writeTree,t.treePath,e)}function oA(t,e,n,r){return XH(t.writeTree,t.treePath,e,n,r)}function my(t,e){return ZH(t.writeTree,nn(t.treePath,e))}function nG(t,e,n,r,i,s){return eG(t.writeTree,t.treePath,e,n,r,i,s)}function TS(t,e,n){return JH(t.writeTree,t.treePath,e,n)}function rF(t,e){return iF(nn(t.treePath,e),t.writeTree)}function iF(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,hf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,df(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ac(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,hf(r,e.snapshotNode,i.oldSnap));else throw Lc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const sF=new iG;class IS{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return TS(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cl(this.viewCache_),s=nG(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t){return{filter:t}}function oG(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function aG(t,e,n,r,i){const s=new rG;let o,a;if(n.type===Ii.OVERWRITE){const u=n;u.source.fromUser?o=RT(t,e,u.path,u.snap,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ke(u.path),o=gy(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ii.MERGE){const u=n;u.source.fromUser?o=uG(t,e,u.path,u.children,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=PT(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ii.ACK_USER_WRITE){const u=n;u.revert?o=hG(t,e,u.path,r,i,s):o=cG(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ii.LISTEN_COMPLETE)o=dG(t,e,n.path,r,s);else throw Lc("Unknown operation type: "+n.type);const l=s.getChanges();return lG(e,o,l),{viewCache:o,changes:l}}function lG(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=fy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Y$(fy(e)))}}function oF(t,e,n,r,i,s){const o=e.eventCache;if(my(r,n)!=null)return e;{let a,l;if(ke(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=cl(e),c=u instanceof me?u:me.EMPTY_NODE,d=ES(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=py(r,cl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Le(n);if(u===".priority"){G($o(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=oA(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=at(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=oA(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=TS(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return ph(e,a,o.isFullyInitialized()||ke(n),t.filter.filtersNodes())}}function gy(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(ke(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Le(n);if(!l.isCompleteForPath(n)&&$o(n)>1)return e;const p=at(n),_=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),_):u=c.updateChild(l.getNode(),f,_,p,sF,null)}const d=Z$(e,u,l.isFullyInitialized()||ke(n),c.filtersNodes()),h=new IS(i,d,s);return oF(t,d,n,i,h,a)}function RT(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new IS(i,e,s);if(ke(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ph(e,u,!0,t.filter.filtersNodes());else{const d=Le(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ph(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=at(n),f=a.getNode().getImmediateChild(d);let p;if(ke(h))p=r;else{const g=c.getCompleteChild(d);g!=null?U$(h)===".priority"&&g.getChild(j$(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=me.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=ph(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function aA(t,e){return t.eventCache.isCompleteForChild(e)}function uG(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=nn(n,l);aA(e,Le(c))&&(a=RT(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=nn(n,l);aA(e,Le(c))||(a=RT(t,a,c,u,i,s,o))}),a}function lA(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function PT(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ke(n)?u=r:u=new ht(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=lA(t,f,h);l=gy(t,l,new it(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=lA(t,p,h);l=gy(t,l,new it(d),g,i,s,o,a)}}),l}function cG(t,e,n,r,i,s,o){if(my(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ke(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return gy(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ke(n)){let u=new ht(null);return l.getNode().forEachChild(Vu,(c,d)=>{u=u.set(new it(c),d)}),PT(t,e,n,u,i,s,a,o)}else return e}else{let u=new ht(null);return r.foreach((c,d)=>{const h=nn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),PT(t,e,n,u,i,s,a,o)}}function dG(t,e,n,r,i){const s=e.serverCache,o=Z$(e,s.getNode(),s.isFullyInitialized()||ke(n),s.isFiltered());return oF(t,o,n,r,sF,i)}function hG(t,e,n,r,i,s){let o;if(my(r,n)!=null)return e;{const a=new IS(r,e,i),l=e.eventCache.getNode();let u;if(ke(n)||Le(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=py(r,cl(e));else{const d=e.serverCache.getNode();G(d instanceof me,"serverChildren would be complete if leaf node"),c=ES(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Le(n);let d=TS(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,at(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,me.EMPTY_NODE,at(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=py(r,cl(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||my(r,Ge())!=null,ph(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new yS(r.getIndex()),s=NH(r);this.processor_=sG(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(me.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(me.EMPTY_NODE,a.getNode(),null),c=new Fo(l,o.isFullyInitialized(),i.filtersNodes()),d=new Fo(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=L_(d,c),this.eventGenerator_=new VH(this.query_)}get query(){return this.query_}}function pG(t){return t.viewCache_.serverCache.getNode()}function mG(t){return fy(t.viewCache_)}function gG(t,e){const n=cl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ke(e)&&!n.getImmediateChild(Le(e)).isEmpty())?n.getChild(e):null}function uA(t){return t.eventRegistrations_.length===0}function yG(t,e){t.eventRegistrations_.push(e)}function cA(t,e,n){const r=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function dA(t,e,n,r){e.type===Ii.MERGE&&e.source.queryId!==null&&(G(cl(t.viewCache_),"We should always have a full cache before handling merges"),G(fy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=aG(t.processor_,i,e,n,r);return oG(t.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,aF(t,s.changes,s.viewCache.eventCache.getNode(),null)}function _G(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Mt,(s,o)=>{r.push(ac(s,o))}),n.isFullyInitialized()&&r.push(Y$(n.getNode())),aF(t,r,n.getNode(),e)}function aF(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return UH(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yy;class lF{constructor(){this.views=new Map}}function vG(t){G(!yy,"__referenceConstructor has already been defined"),yy=t}function wG(){return G(yy,"Reference.ts has not been loaded"),yy}function EG(t){return t.views.size===0}function bS(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return G(s!=null,"SyncTree gave us an op for an invalid query."),dA(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(dA(o,e,n,r));return s}}function uF(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=py(n,i?r:null),l=!1;a?l=!0:r instanceof me?(a=ES(n,r),l=!1):(a=me.EMPTY_NODE,l=!1);const u=L_(new Fo(a,l,!1),new Fo(r,i,!1));return new fG(e,u)}return o}function TG(t,e,n,r,i,s){const o=uF(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),yG(o,n),_G(o,n)}function IG(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Vo(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(cA(u,n,r)),uA(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(cA(l,n,r)),uA(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Vo(t)&&s.push(new(wG())(e._repo,e._path)),{removed:s,events:o}}function cF(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ro(t,e){let n=null;for(const r of t.views.values())n=n||gG(r,e);return n}function dF(t,e){if(e._queryParams.loadsAllData())return F_(t);{const r=e._queryIdentifier;return t.views.get(r)}}function hF(t,e){return dF(t,e)!=null}function Vo(t){return F_(t)!=null}function F_(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _y;function bG(t){G(!_y,"__referenceConstructor has already been defined"),_y=t}function SG(){return G(_y,"Reference.ts has not been loaded"),_y}let CG=1;class hA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=tG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fF(t,e,n,r,i){return WH(t.pendingWriteTree_,e,n,r,i),i?mp(t,new ul(J$(),e,n)):[]}function Ma(t,e,n=!1){const r=qH(t.pendingWriteTree_,e);if(HH(t.pendingWriteTree_,e)){let s=new ht(null);return r.snap!=null?s=s.set(Ge(),!0):wr(r.children,o=>{s=s.set(new it(o),!0)}),mp(t,new hy(r.path,s,n))}else return[]}function pp(t,e,n){return mp(t,new ul(vS(),e,n))}function xG(t,e,n){const r=ht.fromObject(n);return mp(t,new mf(vS(),e,r))}function RG(t,e){return mp(t,new pf(vS(),e))}function PG(t,e,n){const r=CS(t,n);if(r){const i=xS(r),s=i.path,o=i.queryId,a=Kn(s,e),l=new pf(wS(o),a);return RS(t,s,l)}else return[]}function pF(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||hF(o,e))){const l=IG(o,e,n,r);EG(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Vo(f));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=OG(h);for(let p=0;p<f.length;++p){const g=f[p],_=g.query,m=_F(t,g);t.listenProvider_.startListening(gh(_),gf(t,_),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(gh(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(V_(h));t.listenProvider_.stopListening(gh(h),f)}))}DG(t,u)}return a}function mF(t,e,n,r){const i=CS(t,r);if(i!=null){const s=xS(i),o=s.path,a=s.queryId,l=Kn(o,e),u=new ul(wS(a),l,n);return RS(t,o,u)}else return[]}function AG(t,e,n,r){const i=CS(t,r);if(i){const s=xS(i),o=s.path,a=s.queryId,l=Kn(o,e),u=ht.fromObject(n),c=new mf(wS(a),l,u);return RS(t,o,c)}else return[]}function kG(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Kn(h,i);s=s||Ro(f,p),o=o||Vo(f)});let a=t.syncPointTree_.get(i);a?(o=o||Vo(a),s=s||Ro(a,Ge())):(a=new lF,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=me.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=Ro(p,Ge());g&&(s=s.updateImmediateChild(f,g))}));const u=hF(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=V_(e);G(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=MG();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const c=$_(t.pendingWriteTree_,i);let d=TG(a,e,n,c,s,l);if(!u&&!o&&!r){const h=dF(a,e);d=d.concat(LG(t,e,h))}return d}function SS(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Kn(o,e),u=Ro(a,l);if(u)return u});return nF(i,e,s,n,!0)}function NG(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Kn(u,n);r=r||Ro(c,d)});let i=t.syncPointTree_.get(n);i?r=r||Ro(i,Ge()):(i=new lF,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Fo(r,!0,!1):null,a=$_(t.pendingWriteTree_,e._path),l=uF(i,e,a,s?o.getNode():me.EMPTY_NODE,s);return mG(l)}function mp(t,e){return gF(e,t.syncPointTree_,null,$_(t.pendingWriteTree_,Ge()))}function gF(t,e,n,r){if(ke(t.path))return yF(t,e,n,r);{const i=e.get(Ge());n==null&&i!=null&&(n=Ro(i,Ge()));let s=[];const o=Le(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=rF(r,o);s=s.concat(gF(a,l,u,c))}return i&&(s=s.concat(bS(i,t,r,n))),s}}function yF(t,e,n,r){const i=e.get(Ge());n==null&&i!=null&&(n=Ro(i,Ge()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=rF(r,o),c=t.operationForChild(o);c&&(s=s.concat(yF(c,a,l,u)))}),i&&(s=s.concat(bS(i,t,r,n))),s}function _F(t,e){const n=e.query,r=gf(t,n);return{hashFn:()=>(pG(e)||me.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?PG(t,n._path,r):RG(t,n._path);{const s=k8(i,n);return pF(t,n,null,s)}}}}function gf(t,e){const n=V_(e);return t.queryToTagMap.get(n)}function V_(t){return t._path.toString()+"$"+t._queryIdentifier}function CS(t,e){return t.tagToQueryMap.get(e)}function xS(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new it(t.substr(0,e))}}function RS(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=$_(t.pendingWriteTree_,e);return bS(r,n,i,null)}function OG(t){return t.fold((e,n,r)=>{if(n&&Vo(n))return[F_(n)];{let i=[];return n&&(i=cF(n)),wr(r,(s,o)=>{i=i.concat(o)}),i}})}function gh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(SG())(t._repo,t._path):t}function DG(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=V_(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function MG(){return CG++}function LG(t,e,n){const r=e._path,i=gf(t,e),s=_F(t,n),o=t.listenProvider_.startListening(gh(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)G(!Vo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!ke(u)&&c&&Vo(c))return[F_(c).query];{let h=[];return c&&(h=h.concat(cF(c).map(f=>f.query))),wr(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(gh(c),gf(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new PS(n)}node(){return this.node_}}class AS{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nn(this.path_,e);return new AS(this.syncTree_,n)}node(){return SS(this.syncTree_,this.path_)}}const $G=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},fA=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return FG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return VG(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},FG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},VG=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},UG=function(t,e,n,r){return kS(e,new AS(n,t),r)},vF=function(t,e,n){return kS(t,new PS(e),n)};function kS(t,e,n){const r=t.getPriority().val(),i=fA(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=fA(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ln(a,hn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ln(i))),o.forEachChild(Mt,(a,l)=>{const u=kS(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function OS(t,e){let n=e instanceof it?e:new it(e),r=t,i=Le(n);for(;i!==null;){const s=sc(r.node.children,i)||{children:{},childCount:0};r=new NS(i,r,s),n=at(n),i=Le(n)}return r}function Vc(t){return t.node.value}function wF(t,e){t.node.value=e,AT(t)}function EF(t){return t.node.childCount>0}function BG(t){return Vc(t)===void 0&&!EF(t)}function U_(t,e){wr(t.node.children,(n,r)=>{e(new NS(n,t,r))})}function TF(t,e,n,r){n&&!r&&e(t),U_(t,i=>{TF(i,e,!0,r)}),n&&r&&e(t)}function jG(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function gp(t){return new it(t.parent===null?t.name:gp(t.parent)+"/"+t.name)}function AT(t){t.parent!==null&&zG(t.parent,t.name,t)}function zG(t,e,n){const r=BG(n),i=Ai(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,AT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,AT(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=/[\[\].#$\/\u0000-\u001F\u007F]/,qG=/[\[\].#$\u0000-\u001F\u007F]/,Pw=10*1024*1024,IF=function(t){return typeof t=="string"&&t.length!==0&&!WG.test(t)},bF=function(t){return typeof t=="string"&&t.length!==0&&!qG.test(t)},HG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bF(t)},SF=function(t,e,n,r){r&&e===void 0||DS(aS(t,"value"),e,n)},DS=function(t,e,n){const r=n instanceof it?new cH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+wa(r));if(typeof e=="function")throw new Error(t+"contains a function "+wa(r)+" with contents = "+e.toString());if(v$(e))throw new Error(t+"contains "+e.toString()+" "+wa(r));if(typeof e=="string"&&e.length>Pw/3&&N_(e)>Pw)throw new Error(t+"contains a string greater than "+Pw+" utf8 bytes "+wa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(wr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!IF(o)))throw new Error(t+" contains an invalid key ("+o+") "+wa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dH(r,o),DS(t,a,r),hH(r)}),i&&s)throw new Error(t+' contains ".value" child '+wa(r)+" in addition to actual children.")}},CF=function(t,e,n,r){if(!(r&&n===void 0)&&!bF(n))throw new Error(aS(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GG=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),CF(t,e,n,r)},xF=function(t,e){if(Le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},KG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!IF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!HG(n))throw new Error(aS(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function RF(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!z$(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function as(t,e,n){RF(t,n),YG(t,r=>Ti(r,e)||Ti(e,r))}function YG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(XG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function XG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();qa&&Fn("event: "+n.toString()),Fc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG="repo_interrupt",ZG=25;class eK{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dy(),this.transactionQueueTree_=new NS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tK(t,e,n){if(t.stats_=fS(t.repoInfo_),t.forceRestClient_||M8())t.server_=new cy(t.repoInfo_,(r,i,s,o)=>{pA(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mA(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xs(t.repoInfo_,e,(r,i,s,o)=>{pA(t,r,i,s,o)},r=>{mA(t,r)},r=>{nK(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=U8(t.repoInfo_,()=>new FH(t.stats_,t.server_)),t.infoData_=new OH,t.infoSyncTree_=new hA({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=pp(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),LS(t,"connected",!1),t.serverSyncTree_=new hA({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);as(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function PF(t){const n=t.infoData_.getNode(new it(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function MS(t){return $G({timestamp:PF(t)})}function pA(t,e,n,r,i){t.dataUpdateCount++;const s=new it(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=sy(n,u=>hn(u));o=AG(t.serverSyncTree_,s,l,i)}else{const l=hn(n);o=mF(t.serverSyncTree_,s,l,i)}else if(r){const l=sy(n,u=>hn(u));o=xG(t.serverSyncTree_,s,l)}else{const l=hn(n);o=pp(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=j_(t,s)),as(t.eventQueue_,a,o)}function mA(t,e){LS(t,"connected",e),e===!1&&sK(t)}function nK(t,e){wr(e,(n,r)=>{LS(t,n,r)})}function LS(t,e,n){const r=new it("/.info/"+e),i=hn(n);t.infoData_.updateSnapshot(r,i);const s=pp(t.infoSyncTree_,r,i);as(t.eventQueue_,r,s)}function AF(t){return t.nextWriteId_++}function rK(t,e,n){const r=NG(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=hn(i).withIndex(e._queryParams.getIndex());kG(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=pp(t.serverSyncTree_,e._path,s);else{const a=gf(t.serverSyncTree_,e);o=mF(t.serverSyncTree_,e._path,s,a)}return as(t.eventQueue_,e._path,o),pF(t.serverSyncTree_,e,n,null,!0),s},i=>(B_(t,"get for query "+tn(e)+" failed: "+i),Promise.reject(new Error(i))))}function iK(t,e,n,r,i){B_(t,"set",{path:e.toString(),value:n,priority:r});const s=MS(t),o=hn(n,r),a=SS(t.serverSyncTree_,e),l=vF(o,a,s),u=AF(t),c=fF(t.serverSyncTree_,e,l,u,!0);RF(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const p=h==="ok";p||gr("set at "+e+" failed: "+h);const g=Ma(t.serverSyncTree_,u,!p);as(t.eventQueue_,e,g),aK(t,i,h,f)});const d=MF(t,e);j_(t,d),as(t.eventQueue_,d,[])}function sK(t){B_(t,"onDisconnectEvents");const e=MS(t),n=dy();ST(t.onDisconnect_,Ge(),(i,s)=>{const o=UG(i,s,t.serverSyncTree_,e);X$(n,i,o)});let r=[];ST(n,Ge(),(i,s)=>{r=r.concat(pp(t.serverSyncTree_,i,s));const o=MF(t,i);j_(t,o)}),t.onDisconnect_=dy(),as(t.eventQueue_,Ge(),r)}function oK(t){t.persistentConnection_&&t.persistentConnection_.interrupt(JG)}function B_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fn(n,...e)}function aK(t,e,n,r){e&&Fc(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function kF(t,e,n){return SS(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function $S(t,e=t.transactionQueueTree_){if(e||z_(t,e),Vc(e)){const n=OF(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&lK(t,gp(e),n)}else EF(e)&&U_(e,n=>{$S(t,n)})}function lK(t,e,n){const r=n.map(u=>u.currentWriteId),i=kF(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];G(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Kn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{B_(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Ma(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();z_(t,OS(t.transactionQueueTree_,e)),$S(t,t.transactionQueueTree_),as(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Fc(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{gr("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}j_(t,e)}},o)}function j_(t,e){const n=NF(t,e),r=gp(n),i=OF(t,n);return uK(t,i,r),r}function uK(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Kn(n,l.path);let c=!1,d;if(G(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Ma(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ZG)c=!0,d="maxretry",i=i.concat(Ma(t.serverSyncTree_,l.currentWriteId,!0));else{const h=kF(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){DS("transaction failed: Data returned ",f,l.path);let p=hn(f);typeof f=="object"&&f!=null&&Ai(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,m=MS(t),y=vF(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=AF(t),o.splice(o.indexOf(_),1),i=i.concat(fF(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(Ma(t.serverSyncTree_,_,!0))}else c=!0,d="nodata",i=i.concat(Ma(t.serverSyncTree_,l.currentWriteId,!0))}as(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}z_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Fc(r[a]);$S(t,t.transactionQueueTree_)}function NF(t,e){let n,r=t.transactionQueueTree_;for(n=Le(e);n!==null&&Vc(r)===void 0;)r=OS(r,n),e=at(e),n=Le(e);return r}function OF(t,e){const n=[];return DF(t,e,n),n.sort((r,i)=>r.order-i.order),n}function DF(t,e,n){const r=Vc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);U_(e,i=>{DF(t,i,n)})}function z_(t,e){const n=Vc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,wF(e,n.length>0?n:void 0)}U_(e,r=>{z_(t,r)})}function MF(t,e){const n=gp(NF(t,e)),r=OS(t.transactionQueueTree_,e);return jG(r,i=>{Aw(t,i)}),Aw(t,r),TF(r,i=>{Aw(t,i)}),n}function Aw(t,e){const n=Vc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ma(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?wF(e,void 0):n.length=s+1,as(t.eventQueue_,gp(e),i);for(let o=0;o<r.length;o++)Fc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function dK(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gr(`Invalid query segment '${n}' in query '${t}'`)}return e}const gA=function(t,e){const n=hK(t),r=n.namespace;n.domain==="firebase.com"&&Ds(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ds("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||C8();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new k$(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new it(n.pathString)}},hK=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=cK(t.substring(c,d)));const h=dK(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fK=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=yA.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=yA.charAt(e[i]);return G(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tn(this.snapshot.exportVal())}}class mK{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ke(this._path)?null:U$(this._path)}get ref(){return new Us(this._repo,this._path)}get _queryIdentifier(){const e=tA(this._queryParams),n=dS(e);return n==="{}"?"default":n}get _queryObject(){return tA(this._queryParams)}isEqual(e){if(e=ie(e),!(e instanceof FS))return!1;const n=this._repo===e._repo,r=z$(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+uH(this._path)}}class Us extends FS{constructor(e,n){super(e,n,new _S,!1)}get parent(){const e=j$(this._path);return e===null?null:new Us(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class yf{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new it(e),r=_f(this.ref,e);return new yf(this._node.getChild(n),r,Mt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new yf(i,_f(this.ref,r),Mt)))}hasChild(e){const n=new it(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kT(t,e){return t=ie(t),t._checkNotDeleted("ref"),e!==void 0?_f(t._root,e):t._root}function _f(t,e){return t=ie(t),Le(t._path)===null?GG("child","path",e,!1):CF("child","path",e,!1),new Us(t._repo,nn(t._path,e))}function yK(t,e){t=ie(t),xF("push",t._path),SF("push",e,t._path,!0);const n=PF(t._repo),r=fK(n),i=_f(t,r),s=_f(t,r);let o;return e!=null?o=_K(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function _K(t,e){t=ie(t),xF("set",t._path),SF("set",e,t._path,!1);const n=new A_;return iK(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function LF(t){t=ie(t);const e=new gK(()=>{}),n=new VS(e);return rK(t._repo,t,n).then(r=>new yf(r,new Us(t._repo,t._path),t._queryParams.getIndex()))}class VS{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new pK("value",this,new yf(e.snapshotNode,new Us(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new mK(this,e,n):null}matches(e){return e instanceof VS?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}vG(Us);bG(Us);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK="FIREBASE_DATABASE_EMULATOR_HOST",NT={};let wK=!1;function EK(t,e,n,r){t.repoInfo_=new k$(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function TK(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ds("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=gA(s,i),a=o.repoInfo,l,u;typeof process<"u"&&$P&&(u=$P[vK]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=gA(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Fu(Fu.OWNER):new $8(t.name,t.options,e);KG("Invalid Firebase Database URL",o),ke(o.path)||Ds("Database URL must point to the root of a Firebase Database (not including a child path).");const d=bK(a,t,c,new L8(t.name,n));return new SK(d,t)}function IK(t,e){const n=NT[e];(!n||n[t.key]!==t)&&Ds(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oK(t),delete n[t.key]}function bK(t,e,n,r){let i=NT[e.name];i||(i={},NT[e.name]=i);let s=i[t.toURLString()];return s&&Ds("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new eK(t,wK,n,r),i[t.toURLString()]=s,s}class SK{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Us(this._repo,Ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ds("Cannot call "+e+" on a deleted database.")}}function CK(t=cS(),e){const n=O_(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=e$("database");r&&xK(n,...r)}return n}function xK(t,e,n,r={}){t=ie(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ds("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ds('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Fu(Fu.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:iS(r.mockUserToken,t.app.options.projectId);s=new Fu(o)}EK(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(t){E8(fs),os(new si("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return TK(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Xn(FP,VP,t),Xn(FP,VP,"esm2017")}xs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};RK();const PK={items:[]},$F=eS("product/fetchProducts",async()=>{const t=kT(XI,"items"),e=await LF(t);return e.exists()?e.val():[]}),FF=z9("product/addProduct",async t=>{try{await yK(kT(XI,"items"),t),console.log("Data sent successfully");const e=kT(XI,"items"),n=await LF(e);return n.exists()?n.val():[]}catch(e){return console.error("Error sending data:",e),[]}}),VF=tS({extraReducers:t=>{t.addCase($F.fulfilled,(e,n)=>{e.items=n.payload}).addCase(FF.fulfilled,(e,n)=>{e.items=n.payload})},initialState:PK,name:"product",reducers:{addItem:(t,e)=>{t.items.push(e.payload)},setItems:(t,e)=>{t.items=e.payload}}});VF.actions;const AK=VF.reducer;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="firebasestorage.googleapis.com",BF="storageBucket",kK=2*60*1e3,NK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut extends Vn{constructor(e,n,r=0){super(kw(e),`Firebase Storage: ${n} (${kw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lt||(Lt={}));function kw(t){return"storage/"+t}function US(){const t="An unknown error occurred, please check the error payload for server response.";return new Ut(Lt.UNKNOWN,t)}function OK(t){return new Ut(Lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function DK(t){return new Ut(Lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ut(Lt.UNAUTHENTICATED,t)}function LK(){return new Ut(Lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $K(t){return new Ut(Lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function FK(){return new Ut(Lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VK(){return new Ut(Lt.CANCELED,"User canceled the upload/download.")}function UK(t){return new Ut(Lt.INVALID_URL,"Invalid URL '"+t+"'.")}function BK(t){return new Ut(Lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jK(){return new Ut(Lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BF+"' property when initializing the app?")}function zK(){return new Ut(Lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WK(){return new Ut(Lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qK(t){return new Ut(Lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function OT(t){return new Ut(Lt.INVALID_ARGUMENT,t)}function jF(){return new Ut(Lt.APP_DELETED,"The Firebase app was deleted.")}function HK(t){return new Ut(Lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yh(t,e){return new Ut(Lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ed(t){throw new Ut(Lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Nr.makeFromUrl(e,n)}catch{return new Nr(e,"")}if(r.path==="")return r;throw BK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},g=n===UF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${_}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<v.length;w++){const I=v[w],b=I.regex.exec(e);if(b){const T=b[I.indices.bucket];let R=b[I.indices.path];R||(R=""),r=new Nr(T,R),I.postModify(r);break}}if(r==null)throw UK(e);return r}}class GK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(f,l())},_)}function h(){s&&clearTimeout(s)}function f(_,...m){if(u){h();return}if(_){h(),c.call(null,_,...m);return}if(l()||o){h(),c.call(null,_,...m);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let p=!1;function g(_){p||(p=!0,h(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function QK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){return t!==void 0}function XK(t){return typeof t=="object"&&!Array.isArray(t)}function BS(t){return typeof t=="string"||t instanceof String}function _A(t){return jS()&&t instanceof Blob}function jS(){return typeof Blob<"u"}function vA(t,e,n,r){if(r<e)throw OT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw OT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function zF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ha;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ha||(Ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new bm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ha.NO_ERROR,l=s.getStatus();if(!a||JK(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ha.ABORT;r(!1,new bm(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new bm(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());YK(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=US();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?jF():VK();o(l)}else{const l=FK();o(l)}};this.canceled_?n(!1,new bm(!1,null,!0)):this.backoffId_=KK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function e7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function t7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function n7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function r7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function i7(t,e,n,r,i,s,o=!0){const a=zF(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return n7(u,e),e7(u,n),t7(u,s),r7(u,r),new ZK(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function o7(...t){const e=s7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jS())return new Blob(t);throw new Ut(Lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function a7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t){if(typeof atob>"u")throw qK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nw{constructor(e,n){this.data=e,this.contentType=n||null}}function u7(t,e){switch(t){case Ki.RAW:return new Nw(WF(e));case Ki.BASE64:case Ki.BASE64URL:return new Nw(qF(t,e));case Ki.DATA_URL:return new Nw(d7(e),h7(e))}throw US()}function WF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function c7(t){let e;try{e=decodeURIComponent(t)}catch{throw yh(Ki.DATA_URL,"Malformed data URL.")}return WF(e)}function qF(t,e){switch(t){case Ki.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw yh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ki.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw yh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=l7(e)}catch(i){throw i.message.includes("polyfill")?i:yh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yh(Ki.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=f7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function d7(t){const e=new HF(t);return e.base64?qF(Ki.BASE64,e.rest):c7(e.rest)}function h7(t){return new HF(t).contentType}function f7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){let r=0,i="";_A(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_A(this.data_)){const r=this.data_,i=a7(r,e,n);return i===null?null:new so(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new so(r,!0)}}static getBlob(...e){if(jS()){const n=e.map(r=>r instanceof so?r.data_:r);return new so(o7.apply(null,n))}else{const n=e.map(o=>BS(o)?u7(Ki.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new so(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t){let e;try{e=JSON.parse(t)}catch{return null}return XK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function m7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function KF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t,e){return e}class Wn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||g7}}let Sm=null;function y7(t){return!BS(t)||t.length<2?t:KF(t)}function QF(){if(Sm)return Sm;const t=[];t.push(new Wn("bucket")),t.push(new Wn("generation")),t.push(new Wn("metageneration")),t.push(new Wn("name","fullPath",!0));function e(s,o){return y7(o)}const n=new Wn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Wn("size");return i.xform=r,t.push(i),t.push(new Wn("timeCreated")),t.push(new Wn("updated")),t.push(new Wn("md5Hash",null,!0)),t.push(new Wn("cacheControl",null,!0)),t.push(new Wn("contentDisposition",null,!0)),t.push(new Wn("contentEncoding",null,!0)),t.push(new Wn("contentLanguage",null,!0)),t.push(new Wn("contentType",null,!0)),t.push(new Wn("metadata","customMetadata",!0)),Sm=t,Sm}function _7(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Nr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function v7(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return _7(r,t),r}function YF(t,e,n){const r=GF(e);return r===null?null:v7(t,r,n)}function w7(t,e,n,r){const i=GF(e);if(i===null||!BS(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=zS(h,n,r),p=zF({alt:"media",token:u});return f+p})[0]}function E7(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class XF{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){if(!t)throw US()}function T7(t,e){function n(r,i){const s=YF(t,i,e);return JF(s!==null),s}return n}function I7(t,e){function n(r,i){const s=YF(t,i,e);return JF(s!==null),w7(s,i,t.host,t._protocol)}return n}function ZF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=LK():i=MK():n.getStatus()===402?i=DK(t.bucket):n.getStatus()===403?i=$K(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function b7(t){const e=ZF(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=OK(t.path)),s.serverResponse=i.serverResponse,s}return n}function S7(t,e,n){const r=e.fullServerUrl(),i=zS(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new XF(i,s,I7(t,n),o);return a.errorHandler=b7(e),a}function C7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function x7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=C7(null,e)),r}function R7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let w=0;w<2;w++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=x7(e,r,i),c=E7(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=so.getBlob(d,r,h);if(f===null)throw zK();const p={name:u.fullPath},g=zS(s,t.host,t._protocol),_="POST",m=t.maxUploadRetryTime,y=new XF(g,_,T7(t,n),m);return y.urlParams=p,y.headers=o,y.body=f.uploadData(),y.errorHandler=ZF(e),y}class P7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ed("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ed("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ed("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ed("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ed("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class A7 extends P7{initXhr(){this.xhr_.responseType="text"}}function e2(){return new A7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W_=class DT{constructor(e,n){this._service=e,n instanceof Nr?this._location=n:this._location=Nr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new DT(e,n)}get root(){const e=new Nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KF(this._location.path)}get storage(){return this._service}get parent(){const e=p7(this._location.path);if(e===null)return null;const n=new Nr(this._location.bucket,e);return new DT(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HK(e)}};function k7(t,e,n){t._throwIfRoot("uploadBytes");const r=R7(t.storage,t._location,QF(),new so(e,!0),n);return t.storage.makeRequestWithTokens(r,e2).then(i=>({metadata:i,ref:t}))}function N7(t){t._throwIfRoot("getDownloadURL");const e=S7(t.storage,t._location,QF());return t.storage.makeRequestWithTokens(e,e2).then(n=>{if(n===null)throw WK();return n})}function O7(t,e){const n=m7(t._location.path,e),r=new Nr(t._location.bucket,n);return new W_(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t){return/^[A-Za-z]+:\/\//.test(t)}function M7(t,e){return new W_(t,e)}function t2(t,e){if(t instanceof WS){const n=t;if(n._bucket==null)throw jK();const r=new W_(n,n._bucket);return e!=null?t2(r,e):r}else return e!==void 0?O7(t,e):t}function L7(t,e){if(e&&D7(e)){if(t instanceof WS)return M7(t,e);throw OT("To use ref(service, url), the first argument must be a Storage instance.")}else return t2(t,e)}function wA(t,e){const n=e==null?void 0:e[BF];return n==null?null:Nr.makeFromBucketSpec(n,t)}function $7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:iS(i,t.app.options.projectId))}class WS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=UF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kK,this._maxUploadRetryTime=NK,this._requests=new Set,i!=null?this._bucket=Nr.makeFromBucketSpec(i,this._host):this._bucket=wA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nr.makeFromBucketSpec(this._url,e):this._bucket=wA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new W_(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new GK(jF());{const o=i7(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const EA="@firebase/storage",TA="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="storage";function F7(t,e,n){return t=ie(t),k7(t,e,n)}function V7(t){return t=ie(t),N7(t)}function U7(t,e){return t=ie(t),L7(t,e)}function B7(t=cS(),e){t=ie(t);const r=O_(t,n2).getImmediate({identifier:e}),i=e$("storage");return i&&j7(r,...i),r}function j7(t,e,n,r={}){$7(t,e,n,r)}function z7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new WS(n,r,i,e,fs)}function W7(){os(new si(n2,z7,"PUBLIC").setMultipleInstances(!0)),Xn(EA,TA,""),Xn(EA,TA,"esm2017")}W7();let Cm;const q7=new Uint8Array(16);function H7(){if(!Cm&&(Cm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cm(q7)}const En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function G7(t,e=0){return En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]}const K7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),IA={randomUUID:K7};function qS(t,e,n){if(IA.randomUUID&&!e&&!t)return IA.randomUUID();t=t||{};const r=t.random||(t.rng||H7)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return G7(r)}const Q7={loading:!1,uploadImg:""},r2=tS({name:"upload",initialState:Q7,reducers:{setLoading:(t,e)=>{t.loading=e.payload},onImageUpload:(t,e)=>{t.uploadImg=e.payload}}}),Y7=eS("product/upload",async(t,e)=>{const{dispatch:n}=e;n(Ow(!0));const r=U7(xwe,`images/${t.name+qS()}`);try{const i=await F7(r,t),s=await V7(i.ref);n(Ow(!1)),n(X7(s))}catch(i){console.error("Error uploading file:",i),n(Ow(!1))}}),{setLoading:Ow,onImageUpload:X7}=r2.actions,J7=r2.reducer,Z7=y9({reducer:{cart:j9,product:AK,upload:J7}}),HS=()=>o_();var eQ="firebase",tQ="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(eQ,tQ,"app");var i2,bA=T_;i2=bA.createRoot,bA.hydrateRoot;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e,n){this._delegate=e,this.firebase=n,oy(e,new si("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),d$(this._delegate)))}_getService(e,n=Mo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Mo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){oy(this._delegate,e)}_addOrOverwriteComponent(e){c$(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},SA=new kl("app-compat","Firebase",rQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Xn,setLogLevel:f$,onLog:h$,apps:null,SDK_VERSION:fs,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:w8}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Mo,!Ai(e,u))throw SA.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=D_(u,c);if(Ai(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(os(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw SA.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&sf(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){const t=iQ(nQ);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:s2,extendNamespace:e,createSubscribe:o$,ErrorFactory:kl,deepExtend:sf});function e(n){sf(t,n)}return t}const sQ=s2();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new cp("@firebase/app-compat"),oQ="@firebase/app-compat",aQ="0.2.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(t){Xn(oQ,aQ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(eq()&&self.firebase!==void 0){CA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&CA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const q_=sQ;lQ();function GS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Td={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ql={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function o2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cQ=uQ,dQ=o2,a2=new kl("auth","Firebase",o2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new cp("@firebase/auth");function hQ(t,...e){vy.logLevel<=xe.WARN&&vy.warn(`Auth (${fs}): ${t}`,...e)}function og(t,...e){vy.logLevel<=xe.ERROR&&vy.error(`Auth (${fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw KS(t,...e)}function Pn(t,...e){return KS(t,...e)}function l2(t,e,n){const r=Object.assign(Object.assign({},dQ()),{[e]:n});return new kl("auth","Firebase",r).create(e,{appName:t.name})}function Uc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nn(t,"argument-error"),l2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function KS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return a2.create(t,...e)}function q(t,e,...n){if(!t)throw KS(e,...n)}function Qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw og(e),new Error(e)}function ki(t,e){t||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QS(){return xA()==="http:"||xA()==="https:"}function xA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||n$()||"connection"in navigator)?navigator.onLine:!0}function pQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=sS()||k_()}get(){return fQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=new yp(3e4,6e4);function Bt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jt(t,e,n,r,i={}){return c2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Nl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),u2.fetch()(d2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function c2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mQ),e);try{const i=new _Q(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Qd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Qd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Qd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw l2(t,c,u);Nn(t,c)}}catch(i){if(i instanceof Vn)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function Bs(t,e,n,r,i={}){const s=await jt(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function d2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?YS(t.config,i):`${t.config.apiScheme}://${i}`}function yQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _Q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),gQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){return t!==void 0&&t.getResponse!==void 0}function PA(t){return t!==void 0&&t.enterprise!==void 0}class vQ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wQ(t){return(await jt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function EQ(t,e){return jt(t,"GET","/v2/recaptchaConfig",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TQ(t,e){return jt(t,"POST","/v1/accounts:delete",e)}async function IQ(t,e){return jt(t,"POST","/v1/accounts:update",e)}async function bQ(t,e){return jt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SQ(t,e=!1){const n=ie(t),r=await n.getIdToken(e),i=H_(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_h(Dw(i.auth_time)),issuedAtTime:_h(Dw(i.iat)),expirationTime:_h(Dw(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Dw(t){return Number(t)*1e3}function H_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return og("JWT malformed, contained fewer than 3 sections"),null;try{const i=iy(n);return i?JSON.parse(i):(og("Failed to decode base64 JWT payload"),null)}catch(i){return og("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CQ(t){const e=H_(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vn&&xQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ms(t,bQ(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kQ(s.providerUserInfo):[],a=AQ(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new h2(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function PQ(t){const e=ie(t);await wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kQ(t){return t.map(e=>{var{providerId:n}=e,r=GS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NQ(t,e){const n=await c2(t,{},async()=>{const r=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=d2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",u2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OQ(t,e){return jt(t,"POST","/v2/accounts:revokeToken",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CQ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await NQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ef;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ef,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ga{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=GS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new h2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ms(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SQ(this,e)}reload(){return PQ(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ga(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ms(this,TQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:w,isAnonymous:I,providerData:b,stsTokenManager:T}=n;q(v&&T,e,"internal-error");const R=Ef.fromJSON(this.name,T);q(typeof v=="string",e,"internal-error"),Qs(d,e.name),Qs(h,e.name),q(typeof w=="boolean",e,"internal-error"),q(typeof I=="boolean",e,"internal-error"),Qs(f,e.name),Qs(p,e.name),Qs(g,e.name),Qs(_,e.name),Qs(m,e.name),Qs(y,e.name);const O=new Ga({uid:v,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:I,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:R,createdAt:m,lastLoginAt:y});return b&&Array.isArray(b)&&(O.providerData=b.map(x=>Object.assign({},x))),_&&(O._redirectEventId=_),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ef;i.updateFromServerResponse(n);const s=new Ga({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wf(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Map;function Or(t){ki(t instanceof Function,"Expected a class definition");let e=AA.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}f2.type="NONE";const uc=f2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,e,n){return`firebase:${t}:${e}:${n}`}class Uu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ka(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ka("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ga._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uu(Or(uc),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Or(uc);const o=Ka(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ga._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Uu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Uu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y2(e))return"Blackberry";if(_2(e))return"Webos";if(XS(e))return"Safari";if((e.includes("chrome/")||m2(e))&&!e.includes("edge/"))return"Chrome";if(_p(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p2(t=Rt()){return/firefox\//i.test(t)}function XS(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m2(t=Rt()){return/crios\//i.test(t)}function g2(t=Rt()){return/iemobile/i.test(t)}function _p(t=Rt()){return/android/i.test(t)}function y2(t=Rt()){return/blackberry/i.test(t)}function _2(t=Rt()){return/webos/i.test(t)}function Bc(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DQ(t=Rt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function MQ(t=Rt()){var e;return Bc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LQ(){return r$()&&document.documentMode===10}function v2(t=Rt()){return Bc(t)||_p(t)||_2(t)||y2(t)||/windows phone/i.test(t)||g2(t)}function $Q(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e=[]){let n;switch(t){case"Browser":n=kA(Rt());break;case"Worker":n=`${kA(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VQ(t,e={}){return jt(t,"GET","/v2/passwordPolicy",Bt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ=6;class BQ{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:UQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NA(this),this.idTokenSubscription=new NA(this),this.beforeStateQueue=new FQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Uu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ie(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VQ(this),n=new BQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await Uu.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $t(t){return ie(t)}class NA{constructor(e){this.auth=e,this.observer=null,this.addObserver=o$(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function JS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zQ().appendChild(r)})}function E2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const WQ="https://www.google.com/recaptcha/enterprise.js?render=",qQ="recaptcha-enterprise",HQ="NO_RECAPTCHA";class GQ{constructor(e){this.type=qQ,this.auth=$t(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{EQ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new vQ(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;PA(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(HQ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&PA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}JS(WQ+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function OA(t,e,n,r=!1){const i=new GQ(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Tf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await OA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await OA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function KQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QQ(t,e,n){const r=$t(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=T2(e),{host:o,port:a}=YQ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||XQ()}function T2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YQ(t){const e=T2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:DA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:DA(o)}}}function DA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(t,e){return jt(t,"POST","/v1/accounts:resetPassword",Bt(t,e))}async function JQ(t,e){return jt(t,"POST","/v1/accounts:update",e)}async function ZQ(t,e){return jt(t,"POST","/v1/accounts:signUp",e)}async function eY(t,e){return jt(t,"POST","/v1/accounts:update",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tY(t,e){return Bs(t,"POST","/v1/accounts:signInWithPassword",Bt(t,e))}async function G_(t,e){return jt(t,"POST","/v1/accounts:sendOobCode",Bt(t,e))}async function nY(t,e){return G_(t,e)}async function rY(t,e){return G_(t,e)}async function iY(t,e){return G_(t,e)}async function sY(t,e){return G_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oY(t,e){return Bs(t,"POST","/v1/accounts:signInWithEmailLink",Bt(t,e))}async function aY(t,e){return Bs(t,"POST","/v1/accounts:signInWithEmailLink",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends jc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new If(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new If(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tf(e,n,"signInWithPassword",tY);case"emailLink":return oY(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tf(e,r,"signUpPassword",ZQ);case"emailLink":return aY(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t,e){return Bs(t,"POST","/v1/accounts:signInWithIdp",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lY="http://localhost";class ls extends jc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=GS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ls(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rs(e,n)}buildRequest(){const e={requestUri:lY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uY(t,e){return jt(t,"POST","/v1/accounts:sendVerificationCode",Bt(t,e))}async function cY(t,e){return Bs(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,e))}async function dY(t,e){const n=await Bs(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,e));if(n.temporaryProof)throw Qd(t,"account-exists-with-different-credential",n);return n}const hY={USER_NOT_FOUND:"user-not-found"};async function fY(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Bs(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,n),hY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends jc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Qa({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Qa({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return cY(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return dY(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return fY(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Qa({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mY(t){const e=xu(Gd(t)).link,n=e?xu(Gd(e)).deep_link_id:null,r=xu(Gd(t)).deep_link_id;return(r?xu(Gd(r)).link:null)||r||n||e||t}class K_{constructor(e){var n,r,i,s,o,a;const l=xu(Gd(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=pY((i=l.mode)!==null&&i!==void 0?i:null);q(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=mY(e);try{return new K_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,n){return If._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=K_.parseLink(n);return q(r,"argument-error"),If._fromEmailAndCode(e,r.code,r.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends js{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bu extends zc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return q("providerId"in n&&"signInMethod"in n,"argument-error"),ls._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return q(e.idToken||e.accessToken,"argument-error"),ls._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Bu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Bu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Bu(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends zc{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends zc{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="http://localhost";class cc extends jc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rs(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new cc(r,s)}static _create(e,n){return new cc(e,n)}buildRequest(){return{requestUri:gY,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY="saml.";class wy extends js{constructor(e){q(e.startsWith(yY),"argument-error"),super(e)}static credentialFromResult(e){return wy.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return wy.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=cc.fromJSON(e);return q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return cc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends zc{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(t,e){return Bs(t,"POST","/v1/accounts:signUp",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ga._fromIdTokenResponse(e,r,i),o=MA(r);return new oi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=MA(r);return new oi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function MA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Y(t){var e;const n=$t(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new oi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await b2(n,{returnSecureToken:!0}),i=await oi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends Vn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ey.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ey(e,n,r,i)}}function S2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ey._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vY(t,e){const n=ie(t);await Q_(!0,n,e);const{providerUserInfo:r}=await IQ(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=C2(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ZS(t,e,n=!1){const r=await Ms(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oi._forOperation(t,"link",r)}async function Q_(t,e,n){await wf(e);const r=C2(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";q(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ms(t,S2(r,i,e,t),n);q(s.idToken,r,"internal-error");const o=H_(s.idToken);q(o,r,"internal-error");const{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),oi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e,n=!1){const r="signIn",i=await S2(t,r,e),s=await oi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Y_(t,e){return R2($t(t),e)}async function P2(t,e){const n=ie(t);return await Q_(!1,n,e.providerId),ZS(n,e)}async function A2(t,e){return x2(ie(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wY(t,e){return Bs(t,"POST","/v1/accounts:signInWithCustomToken",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EY(t,e){const n=$t(t),r=await wY(n,{token:e,returnSecureToken:!0}),i=await oi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?eC._fromServerResponse(e,n):"totpInfo"in n?tC._fromServerResponse(e,n):Nn(e,"internal-error")}}class eC extends vp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new eC(n)}}class tC extends vp{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new tC(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e,n){var r;q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(t){const e=$t(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TY(t,e,n){const r=$t(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&X_(r,i,n),await Tf(r,i,"getOobCode",rY)}async function IY(t,e,n){await I2(ie(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nC(t),r})}async function bY(t,e){await eY(ie(t),{oobCode:e})}async function k2(t,e){const n=ie(t),r=await I2(n,{oobCode:e}),i=r.requestType;switch(q(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(r.mfaInfo,n,"internal-error");default:q(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=vp._fromServerResponse($t(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function SY(t,e){const{data:n}=await k2(ie(t),e);return n.email}async function CY(t,e,n){const r=$t(t),o=await Tf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&nC(t),l}),a=await oi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function xY(t,e,n){return Y_(ie(t),ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY(t,e,n){const r=$t(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){q(a.handleCodeInApp,r,"argument-error"),a&&X_(r,o,a)}s(i,n),await Tf(r,i,"getOobCode",iY)}function PY(t,e){const n=K_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function AY(t,e,n){const r=ie(t),i=ta.credentialWithLink(e,n||vf());return q(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Y_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kY(t,e){return jt(t,"POST","/v1/accounts:createAuthUri",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NY(t,e){const n=QS()?vf():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await kY(ie(t),r);return i||[]}async function OY(t,e){const n=ie(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&X_(n.auth,i,e);const{email:s}=await nY(n.auth,i);s!==t.email&&await t.reload()}async function DY(t,e,n){const r=ie(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&X_(r.auth,s,n);const{email:o}=await sY(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MY(t,e){return jt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LY(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ie(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ms(r,MY(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $Y(t,e){return N2(ie(t),e,null)}function FY(t,e){return N2(ie(t),null,e)}async function N2(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ms(t,JQ(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=H_(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new ju(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new UY(s,i);case"github.com":return new BY(s,i);case"google.com":return new jY(s,i);case"twitter.com":return new zY(s,i,t.screenName||null);case"custom":case"anonymous":return new ju(s,null);default:return new ju(s,r,i)}}class ju{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class O2 extends ju{constructor(e,n,r,i){super(e,n,r),this.username=i}}class UY extends ju{constructor(e,n){super(e,"facebook.com",n)}}class BY extends O2{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class jY extends ju{constructor(e,n){super(e,"google.com",n)}}class zY extends O2{constructor(e,n,r){super(e,"twitter.com",n,r)}}function WY(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:VY(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new La("enroll",e,n)}static _fromMfaPendingCredential(e){return new La("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return La._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return La._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=$t(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>vp._fromServerResponse(r,a));q(i.mfaPendingCredential,r,"internal-error");const o=La._fromMfaPendingCredential(i.mfaPendingCredential);return new rC(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await oi._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return q(n.user,r,"internal-error"),oi._forOperation(n.user,n.operationType,u);default:Nn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function qY(t,e){var n;const r=ie(t),i=e;return q(e.customData.operationType,r,"argument-error"),q((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),rC._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HY(t,e){return jt(t,"POST","/v2/accounts/mfaEnrollment:start",Bt(t,e))}function GY(t,e){return jt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(t,e))}function KY(t,e){return jt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(t,e))}class iC{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>vp._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new iC(e)}async getSession(){return La._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ms(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ms(this.user,KY(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Mw=new WeakMap;function QY(t){const e=ie(t);return Mw.has(e)||Mw.set(e,iC._fromUser(e)),Mw.get(e)}const Ty="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ty,"1"),this.storage.removeItem(Ty),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YY(){const t=Rt();return XS(t)||Bc(t)}const XY=1e3,JY=10;class M2 extends D2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=YY()&&$Q(),this.fallbackToPolling=v2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);LQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M2.type="LOCAL";const sC=M2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2 extends D2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L2.type="SESSION";const dl=L2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new J_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await ZY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}J_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=wp("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return window}function tX(t){Qt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return typeof Qt().WorkerGlobalScope<"u"&&typeof Qt().importScripts=="function"}async function nX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iX(){return oC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebaseLocalStorageDb",sX=1,Iy="firebaseLocalStorage",F2="fbase_key";class Ep{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Z_(t,e){return t.transaction([Iy],e?"readwrite":"readonly").objectStore(Iy)}function oX(){const t=indexedDB.deleteDatabase($2);return new Ep(t).toPromise()}function MT(){const t=indexedDB.open($2,sX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Iy,{keyPath:F2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Iy)?e(r):(r.close(),await oX(),e(await MT()))})})}async function LA(t,e,n){const r=Z_(t,!0).put({[F2]:e,value:n});return new Ep(r).toPromise()}async function aX(t,e){const n=Z_(t,!1).get(e),r=await new Ep(n).toPromise();return r===void 0?null:r.value}function $A(t,e){const n=Z_(t,!0).delete(e);return new Ep(n).toPromise()}const lX=800,uX=3;class V2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await MT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=J_._getInstance(iX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nX(),!this.activeServiceWorker)return;this.sender=new eX(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await MT();return await LA(e,Ty,"1"),await $A(e,Ty),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$A(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Z_(i,!1).getAll();return new Ep(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V2.type="LOCAL";const bf=V2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t,e){return jt(t,"POST","/v2/accounts/mfaSignIn:start",Bt(t,e))}function dX(t,e){return jt(t,"POST","/v2/accounts/mfaSignIn:finalize",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hX=500,fX=6e4,xm=1e12;class pX{constructor(e){this.auth=e,this.counter=xm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new mX(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||xm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||xm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||xm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class mX{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;q(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=gX(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},fX)},hX))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function gX(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=E2("rcb"),yX=new yp(3e4,6e4),_X="https://www.google.com/recaptcha/api.js?";class vX{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Qt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return q(wX(n),e,"argument-error"),this.shouldResolveImmediately(n)&&RA(Qt().grecaptcha)?Promise.resolve(Qt().grecaptcha):new Promise((r,i)=>{const s=Qt().setTimeout(()=>{i(Pn(e,"network-request-failed"))},yX.get());Qt()[Lw]=()=>{Qt().clearTimeout(s),delete Qt()[Lw];const a=Qt().grecaptcha;if(!a||!RA(a)){i(Pn(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${_X}?${Nl({onload:Lw,render:"explicit",hl:n})}`;JS(o).catch(()=>{clearTimeout(s),i(Pn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Qt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function wX(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class EX{async load(e){return new pX(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="recaptcha",TX={theme:"light",type:"image"};let IX=class{constructor(e,n,r=Object.assign({},TX)){this.parameters=r,this.type=U2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$t(e),this.isInvisible=this.parameters.size==="invisible",q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;q(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new EX:new vX,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Qt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){q(QS()&&!oC(),this.auth,"internal-error"),await bX(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await wQ(this.auth);q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function bX(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Qa._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function SX(t,e,n){const r=$t(t),i=await ev(r,e,ie(n));return new aC(i,s=>Y_(r,s))}async function CX(t,e,n){const r=ie(t);await Q_(!1,r,"phone");const i=await ev(r.auth,e,ie(n));return new aC(i,s=>P2(r,s))}async function xX(t,e,n){const r=ie(t),i=await ev(r.auth,e,ie(n));return new aC(i,s=>A2(r,s))}async function ev(t,e,n){var r;const i=await n.verify();try{q(typeof i=="string",t,"argument-error"),q(n.type===U2,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return q(o.type==="enroll",t,"internal-error"),(await HY(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{q(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return q(a,t,"missing-multi-factor-info"),(await cX(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await uY(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function RX(t,e){await ZS(ie(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl=class ag{constructor(e){this.providerId=ag.PROVIDER_ID,this.auth=$t(e)}verifyPhoneNumber(e,n){return ev(this.auth,e,ie(n))}static credential(e,n){return Qa._fromVerification(e,n)}static credentialFromResult(e){const n=e;return ag.credentialFromTaggedObject(n)}static credentialFromError(e){return ag.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Qa._fromTokenResponse(n,r):null}};hl.PROVIDER_ID="phone";hl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){return e?Or(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC extends jc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PX(t){return R2(t.auth,new lC(t),t.bypassAuthState)}function AX(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),x2(n,new lC(t),t.bypassAuthState)}async function kX(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),ZS(n,new lC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PX;case"linkViaPopup":case"linkViaRedirect":return kX;case"reauthViaPopup":case"reauthViaRedirect":return AX;default:Nn(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=new yp(2e3,1e4);async function OX(t,e,n){const r=$t(t);Uc(t,e,js);const i=Dl(r,n);return new Ts(r,"signInViaPopup",e,i).executeNotNull()}async function DX(t,e,n){const r=ie(t);Uc(r.auth,e,js);const i=Dl(r.auth,n);return new Ts(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function MX(t,e,n){const r=ie(t);Uc(r.auth,e,js);const i=Dl(r.auth,n);return new Ts(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ts extends B2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ts.currentPopupAction&&Ts.currentPopupAction.cancel(),Ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NX.get())};e()}}Ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX="pendingRedirect",vh=new Map;class $X extends B2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await FX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FX(t,e){const n=z2(e),r=j2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function uC(t,e){return j2(t)._set(z2(e),"true")}function VX(){vh.clear()}function cC(t,e){vh.set(t._key(),e)}function j2(t){return Or(t._redirectPersistence)}function z2(t){return Ka(LX,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t,e,n){return BX(t,e,n)}async function BX(t,e,n){const r=$t(t);Uc(t,e,js),await r._initializationPromise;const i=Dl(r,n);return await uC(i,r),i._openRedirect(r,e,"signInViaRedirect")}function jX(t,e,n){return zX(t,e,n)}async function zX(t,e,n){const r=ie(t);Uc(r.auth,e,js),await r.auth._initializationPromise;const i=Dl(r.auth,n);await uC(i,r.auth);const s=await W2(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function WX(t,e,n){return qX(t,e,n)}async function qX(t,e,n){const r=ie(t);Uc(r.auth,e,js),await r.auth._initializationPromise;const i=Dl(r.auth,n);await Q_(!1,r,e.providerId),await uC(i,r.auth);const s=await W2(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function HX(t,e){return await $t(t)._initializationPromise,tv(t,e,!1)}async function tv(t,e,n=!1){const r=$t(t),i=Dl(r,e),o=await new $X(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function W2(t){const e=wp(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=10*60*1e3;class q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!H2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GX&&this.cachedEventUids.clear(),this.cachedEventUids.has(FA(e))}saveEventToCache(e){this.cachedEventUids.add(FA(e)),this.lastProcessedEventTime=Date.now()}}function FA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function H2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e={}){return jt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YX=/^https?/;async function XX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G2(t);for(const n of e)try{if(JX(n))return}catch{}Nn(t,"unauthorized-domain")}function JX(t){const e=vf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YX.test(n))return!1;if(QX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX=new yp(3e4,6e4);function VA(){const t=Qt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eJ(t){return new Promise((e,n)=>{var r,i,s;function o(){VA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VA(),n(Pn(t,"network-request-failed"))},timeout:ZX.get()})}if(!((i=(r=Qt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qt().gapi)===null||s===void 0)&&s.load)o();else{const a=E2("iframefcb");return Qt()[a]=()=>{gapi.load?o():n(Pn(t,"network-request-failed"))},JS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lg=null,e})}let lg=null;function tJ(t){return lg=lg||eJ(t),lg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ=new yp(5e3,15e3),rJ="__/auth/iframe",iJ="emulator/auth/iframe",sJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aJ(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?YS(e,iJ):`https://${t.config.authDomain}/${rJ}`,r={apiKey:e.apiKey,appName:t.name,v:fs},i=oJ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nl(r).slice(1)}`}async function lJ(t){const e=await tJ(t),n=Qt().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:aJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sJ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=Qt().setTimeout(()=>{s(o)},nJ.get());function l(){Qt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cJ=500,dJ=600,hJ="_blank",fJ="http://localhost";class UA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pJ(t,e,n,r=cJ,i=dJ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},uJ),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Rt().toLowerCase();n&&(a=m2(u)?hJ:n),p2(u)&&(e=e||fJ,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(MQ(u)&&a!=="_self")return mJ(e||"",a),new UA(null);const d=window.open(e||"",a,c);q(d,t,"popup-blocked");try{d.focus()}catch{}return new UA(d)}function mJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ="__/auth/handler",yJ="emulator/auth/handler",_J=encodeURIComponent("fac");async function LT(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(e instanceof js){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof zc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${_J}=${encodeURIComponent(l)}`:"";return`${vJ(t)}?${Nl(a).slice(1)}${u}`}function vJ({config:t}){return t.emulator?YS(t,yJ):`https://${t.authDomain}/${gJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="webStorageSupport";class wJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dl,this._completeRedirectFn=tv,this._overrideRedirectResult=cC}async _openPopup(e,n,r,i){var s;ki((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await LT(e,n,r,vf(),i);return pJ(e,o,wp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await LT(e,n,r,vf(),i);return tX(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ki(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lJ(e),r=new q2(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($w,{type:$w},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$w];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v2()||XS()||Bc()}}const EJ=wJ;class TJ{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Qi("unexpected MultiFactorSessionType")}}}class dC extends TJ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new dC(e)}_finalizeEnroll(e,n,r){return GY(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return dX(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class K2{constructor(){}static assertion(e){return dC._fromCredential(e)}}K2.FACTOR_ID="phone";var BA="@firebase/auth",jA="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function SJ(t){os(new si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w2(t)},u=new jQ(r,i,s,l);return KQ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),os(new si("auth-internal",e=>{const n=$t(e.getProvider("auth").getImmediate());return(r=>new IJ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(BA,jA,bJ(t)),Xn(BA,jA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=5*60;Z9("authIdTokenMaxAge");SJ("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ=2e3;async function RJ(t,e,n){var r;const{BuildInfo:i}=fl();ki(e.sessionId,"AuthEvent did not contain a session ID");const s=await OJ(e.sessionId),o={};return Bc()?o.ibi=i.packageName:_p()?o.apn=i.packageName:Nn(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,LT(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function PJ(t){const{BuildInfo:e}=fl(),n={};Bc()?n.iosBundleId=e.packageName:_p()?n.androidPackageName=e.packageName:Nn(t,"operation-not-supported-in-this-environment"),await G2(t,n)}function AJ(t){const{cordova:e}=fl();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,DQ()?"_blank":"_system","location=yes"),n(i)})})}async function kJ(t,e,n){const{cordova:r}=fl();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Pn(t,"redirect-cancelled-by-user"))},xJ))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),_p()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function NJ(t){var e,n,r,i,s,o,a,l,u,c;const d=fl();q(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function OJ(t){const e=DJ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function DJ(t){if(ki(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=20;class LJ extends q2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function $J(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:UJ(),postBody:null,tenantId:t.tenantId,error:Pn(t,"no-auth-event")}}function FJ(t,e){return $T()._set(FT(t),e)}async function zA(t){const e=await $T()._get(FT(t));return e&&await $T()._remove(FT(t)),e}function VJ(t,e){var n,r;const i=jJ(e);if(i.includes("/__/auth/callback")){const s=ug(i),o=s.firebaseError?BJ(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Pn(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function UJ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<MJ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function $T(){return Or(sC)}function FT(t){return Ka("authEvent",t.config.apiKey,t.name)}function BJ(t){try{return JSON.parse(t)}catch{return null}}function jJ(t){const e=ug(t),n=e.link?decodeURIComponent(e.link):void 0,r=ug(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ug(i).link||i||r||n||t}function ug(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return xu(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=500;class WJ{constructor(){this._redirectPersistence=dl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tv,this._overrideRedirectResult=cC}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new LJ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){NJ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),VX(),await this._originValidation(e);const o=$J(e,r,i);await FJ(e,o);const a=await RJ(e,o,n),l=await AJ(a);return kJ(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PJ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=fl(),o=setTimeout(async()=>{await zA(e),n.onEvent(WA())},zJ),a=async c=>{clearTimeout(o);const d=await zA(e);let h=null;d&&(c!=null&&c.url)&&(h=VJ(d,c.url)),n.onEvent(h||WA())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;fl().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const qJ=WJ;function WA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HJ(t,e){$t(t)._logFramework(e)}var GJ="@firebase/auth-compat",KJ="0.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ=1e3;function wh(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function YJ(){return wh()==="http:"||wh()==="https:"}function Q2(t=Rt()){return!!((wh()==="file:"||wh()==="ionic:"||wh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function XJ(){return k_()||oS()}function JJ(){return r$()&&(document==null?void 0:document.documentMode)===11}function ZJ(t=Rt()){return/Edge\/\d+/.test(t)}function eZ(t=Rt()){return JJ()||ZJ(t)}function Y2(){try{const t=self.localStorage,e=wp();if(t)return t.setItem(e,"1"),t.removeItem(e),eZ()?of():!0}catch{return hC()&&of()}return!1}function hC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fw(){return(YJ()||n$()||Q2())&&!XJ()&&Y2()&&!hC()}function X2(){return Q2()&&typeof document<"u"}async function tZ(){return X2()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},QJ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function nZ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr={LOCAL:"local",NONE:"none",SESSION:"session"},Id=q,J2="persistence";function rZ(t,e){if(Id(Object.values(Rr).includes(e),t,"invalid-persistence-type"),k_()){Id(e!==Rr.SESSION,t,"unsupported-persistence-type");return}if(oS()){Id(e===Rr.NONE,t,"unsupported-persistence-type");return}if(hC()){Id(e===Rr.NONE||e===Rr.LOCAL&&of(),t,"unsupported-persistence-type");return}Id(e===Rr.NONE||Y2(),t,"unsupported-persistence-type")}async function VT(t){await t._initializationPromise;const e=Z2(),n=Ka(J2,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function iZ(t,e){const n=Z2();if(!n)return[];const r=Ka(J2,t,e);switch(n.getItem(r)){case Rr.NONE:return[uc];case Rr.LOCAL:return[bf,dl];case Rr.SESSION:return[dl];default:return[]}}function Z2(){var t;try{return((t=nZ())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ=q;class ho{constructor(){this.browserResolver=Or(EJ),this.cordovaResolver=Or(qJ),this.underlyingResolver=null,this._redirectPersistence=dl,this._completeRedirectFn=tv,this._overrideRedirectResult=cC}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return X2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sZ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await tZ();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){return t.unwrap()}function oZ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(t){return tV(t)}function lZ(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new uZ(t,qY(t,e))}else if(r){const i=tV(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function tV(t){const{_tokenResponse:e}=t instanceof Vn?t.customData:t;if(!e)return null;if(!(t instanceof Vn)&&"temporaryProof"in e&&"phoneNumber"in e)return hl.credentialFromResult(t);const n=e.providerId;if(!n||n===Td.PASSWORD)return null;let r;switch(n){case Td.GOOGLE:r=zi;break;case Td.FACEBOOK:r=ji;break;case Td.GITHUB:r=Wi;break;case Td.TWITTER:r=qi;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?cc._create(n,a):ls._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Bu(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Vn?r.credentialFromError(t):r.credentialFromResult(t)}function rr(t,e){return e.catch(n=>{throw n instanceof Vn&&lZ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:aZ(n),additionalUserInfo:WY(n),user:nv.getOrCreate(i)}})}async function UT(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>rr(t,n.confirm(r))}}class uZ{constructor(e,n){this.resolver=n,this.auth=oZ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return rr(eV(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv=class Yd{constructor(e){this._delegate=e,this.multiFactor=QY(e)}static getOrCreate(e){return Yd.USER_MAP.has(e)||Yd.USER_MAP.set(e,new Yd(e)),Yd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return rr(this.auth,P2(this._delegate,e))}async linkWithPhoneNumber(e,n){return UT(this.auth,CX(this._delegate,e,n))}async linkWithPopup(e){return rr(this.auth,MX(this._delegate,e,ho))}async linkWithRedirect(e){return await VT($t(this.auth)),WX(this._delegate,e,ho)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return rr(this.auth,A2(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return UT(this.auth,xX(this._delegate,e,n))}reauthenticateWithPopup(e){return rr(this.auth,DX(this._delegate,e,ho))}async reauthenticateWithRedirect(e){return await VT($t(this.auth)),jX(this._delegate,e,ho)}sendEmailVerification(e){return OY(this._delegate,e)}async unlink(e){return await vY(this._delegate,e),this}updateEmail(e){return $Y(this._delegate,e)}updatePassword(e){return FY(this._delegate,e)}updatePhoneNumber(e){return RX(this._delegate,e)}updateProfile(e){return LY(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return DY(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};nv.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=q;class BT{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;bd(r,"invalid-api-key",{appName:e.name}),bd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ho:void 0;this._delegate=n.initialize({options:{persistence:cZ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(cQ),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nv.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){QQ(this._delegate,e,n)}applyActionCode(e){return bY(this._delegate,e)}checkActionCode(e){return k2(this._delegate,e)}confirmPasswordReset(e,n){return IY(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return rr(this._delegate,CY(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return NY(this._delegate,e)}isSignInWithEmailLink(e){return PY(this._delegate,e)}async getRedirectResult(){bd(Fw(),this._delegate,"operation-not-supported-in-this-environment");const e=await HX(this._delegate,ho);return e?rr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){HJ(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=qA(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=qA(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return RY(this._delegate,e,n)}sendPasswordResetEmail(e,n){return TY(this._delegate,e,n||void 0)}async setPersistence(e){rZ(this._delegate,e);let n;switch(e){case Rr.SESSION:n=dl;break;case Rr.LOCAL:n=await Or(bf)._isAvailable()?bf:sC;break;case Rr.NONE:n=uc;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return rr(this._delegate,_Y(this._delegate))}signInWithCredential(e){return rr(this._delegate,Y_(this._delegate,e))}signInWithCustomToken(e){return rr(this._delegate,EY(this._delegate,e))}signInWithEmailAndPassword(e,n){return rr(this._delegate,xY(this._delegate,e,n))}signInWithEmailLink(e,n){return rr(this._delegate,AY(this._delegate,e,n))}signInWithPhoneNumber(e,n){return UT(this._delegate,SX(this._delegate,e,n))}async signInWithPopup(e){return bd(Fw(),this._delegate,"operation-not-supported-in-this-environment"),rr(this._delegate,OX(this._delegate,e,ho))}async signInWithRedirect(e){return bd(Fw(),this._delegate,"operation-not-supported-in-this-environment"),await VT(this._delegate),UX(this._delegate,e,ho)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return SY(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}BT.Persistence=Rr;function qA(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&nv.getOrCreate(o)),error:e,complete:n}}function cZ(t,e){const n=iZ(t,e);if(typeof self<"u"&&!n.includes(bf)&&n.push(bf),typeof window<"u")for(const r of[sC,dl])n.includes(r)||n.push(r);return n.includes(uc)||n.push(uc),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.providerId="phone",this._delegate=new hl(eV(q_.auth()))}static credential(e,n){return hl.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}fC.PHONE_SIGN_IN_METHOD=hl.PHONE_SIGN_IN_METHOD;fC.PROVIDER_ID=hl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ=q;class hZ{constructor(e,n,r=q_.app()){var i;dZ((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new IX(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ="auth-compat";function pZ(t){t.INTERNAL.registerComponent(new si(fZ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new BT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ql.EMAIL_SIGNIN,PASSWORD_RESET:Ql.PASSWORD_RESET,RECOVER_EMAIL:Ql.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ql.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ql.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ql.VERIFY_EMAIL}},EmailAuthProvider:ta,FacebookAuthProvider:ji,GithubAuthProvider:Wi,GoogleAuthProvider:zi,OAuthProvider:Bu,SAMLAuthProvider:wy,PhoneAuthProvider:fC,PhoneMultiFactorGenerator:K2,RecaptchaVerifier:hZ,TwitterAuthProvider:qi,Auth:BT,AuthCredential:jc,Error:Vn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(GJ,KJ)}pZ(q_);var mZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,pC=pC||{},we=mZ||self;function rv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Tp(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gZ(t){return Object.prototype.hasOwnProperty.call(t,Vw)&&t[Vw]||(t[Vw]=++yZ)}var Vw="closure_uid_"+(1e9*Math.random()>>>0),yZ=0;function _Z(t,e,n){return t.call.apply(t.bind,arguments)}function vZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Un(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Un=_Z:Un=vZ,Un.apply(null,arguments)}function Rm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function na(){this.s=this.s,this.o=this.o}var wZ=0;na.prototype.s=!1;na.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),wZ!=0)&&gZ(this)};na.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function mC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function HA(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(rv(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var EZ=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};we.addEventListener("test",n,e),we.removeEventListener("test",n,e)}catch{}return t}();function Sf(t){return/^[\s\xa0]*$/.test(t)}function iv(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function Hi(t){return iv().indexOf(t)!=-1}function gC(t){return gC[" "](t),t}gC[" "]=function(){};function TZ(t,e){var n=pee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var IZ=Hi("Opera"),dc=Hi("Trident")||Hi("MSIE"),rV=Hi("Edge"),jT=rV||dc,iV=Hi("Gecko")&&!(iv().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),bZ=iv().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge");function sV(){var t=we.document;return t?t.documentMode:void 0}var zT;e:{var Uw="",Bw=function(){var t=iv();if(iV)return/rv:([^\);]+)(\)|;)/.exec(t);if(rV)return/Edge\/([\d\.]+)/.exec(t);if(dc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(bZ)return/WebKit\/(\S+)/.exec(t);if(IZ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Bw&&(Uw=Bw?Bw[1]:""),dc){var jw=sV();if(jw!=null&&jw>parseFloat(Uw)){zT=String(jw);break e}}zT=Uw}var WT;if(we.document&&dc){var GA=sV();WT=GA||parseInt(zT,10)||void 0}else WT=void 0;var SZ=WT;function Cf(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(iV){e:{try{gC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:CZ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cf.$.h.call(this)}}gn(Cf,Bn);var CZ={2:"touch",3:"pen",4:"mouse"};Cf.prototype.h=function(){Cf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ip="closure_listenable_"+(1e6*Math.random()|0),xZ=0;function RZ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++xZ,this.fa=this.ia=!1}function sv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function yC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PZ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function oV(t){const e={};for(const n in t)e[n]=t[n];return e}const KA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aV(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<KA.length;s++)n=KA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ov(t){this.src=t,this.g={},this.h=0}ov.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=HT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new RZ(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function qT(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=nV(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sv(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function HT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var _C="closure_lm_"+(1e6*Math.random()|0),zw={};function lV(t,e,n,r,i){if(r&&r.once)return cV(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lV(t,e[s],n,r,i);return null}return n=EC(n),t&&t[Ip]?t.O(e,n,Tp(r)?!!r.capture:!!r,i):uV(t,e,n,!1,r,i)}function uV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Tp(i)?!!i.capture:!!i,a=wC(t);if(a||(t[_C]=a=new ov(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=AZ(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)EZ||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hV(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AZ(){function t(n){return e.call(t.src,t.listener,n)}const e=kZ;return t}function cV(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)cV(t,e[s],n,r,i);return null}return n=EC(n),t&&t[Ip]?t.P(e,n,Tp(r)?!!r.capture:!!r,i):uV(t,e,n,!0,r,i)}function dV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dV(t,e[s],n,r,i);else r=Tp(r)?!!r.capture:!!r,n=EC(n),t&&t[Ip]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=HT(s,n,r,i),-1<n&&(sv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=wC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=HT(e,n,r,i)),(n=-1<t?e[t]:null)&&vC(n))}function vC(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ip])qT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wC(e))?(qT(n,t),n.h==0&&(n.src=null,e[_C]=null)):sv(t)}}}function hV(t){return t in zw?zw[t]:zw[t]="on"+t}function kZ(t,e){if(t.fa)t=!0;else{e=new Cf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&vC(t),t=n.call(r,e)}return t}function wC(t){return t=t[_C],t instanceof ov?t:null}var Ww="__closure_events_fn_"+(1e9*Math.random()>>>0);function EC(t){return typeof t=="function"?t:(t[Ww]||(t[Ww]=function(e){return t.handleEvent(e)}),t[Ww])}function mn(){na.call(this),this.i=new ov(this),this.S=this,this.J=null}gn(mn,na);mn.prototype[Ip]=!0;mn.prototype.removeEventListener=function(t,e,n,r){dV(this,t,e,n,r)};function An(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;e=new Bn(r,t),aV(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Pm(o,r,!0,e)&&i}if(o=e.g=t,i=Pm(o,r,!0,e)&&i,i=Pm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Pm(o,r,!1,e)&&i}mn.prototype.N=function(){if(mn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sv(n[r]);delete t.g[e],t.h--}}this.J=null};mn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};mn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Pm(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&qT(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var TC=we.JSON.stringify;class NZ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function OZ(){var t=IC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class DZ{constructor(){this.h=this.g=null}add(e,n){const r=fV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var fV=new NZ(()=>new MZ,t=>t.reset());class MZ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LZ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function $Z(t){we.setTimeout(()=>{throw t},0)}let xf,Rf=!1,IC=new DZ,pV=()=>{const t=we.Promise.resolve(void 0);xf=()=>{t.then(FZ)}};var FZ=()=>{for(var t;t=OZ();){try{t.h.call(t.g)}catch(n){$Z(n)}var e=fV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rf=!1};function av(t,e){mn.call(this),this.h=t||1,this.g=e||we,this.j=Un(this.qb,this),this.l=Date.now()}gn(av,mn);J=av.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),An(this,"tick"),this.ga&&(bC(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function bC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){av.$.N.call(this),bC(this),delete this.g};function SC(t,e,n){if(typeof t=="function")n&&(t=Un(t,n));else if(t&&typeof t.handleEvent=="function")t=Un(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function mV(t){t.g=SC(()=>{t.g=null,t.i&&(t.i=!1,mV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class VZ extends na{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mV(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pf(t){na.call(this),this.h=t,this.g={}}gn(Pf,na);var QA=[];function gV(t,e,n,r){Array.isArray(n)||(n&&(QA[0]=n.toString()),n=QA);for(var i=0;i<n.length;i++){var s=lV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function yV(t){yC(t.g,function(e,n){this.g.hasOwnProperty(n)&&vC(e)},t),t.g={}}Pf.prototype.N=function(){Pf.$.N.call(this),yV(this)};Pf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lv(){this.g=!0}lv.prototype.Ea=function(){this.g=!1};function UZ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function BZ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Pu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zZ(t,n)+(r?" "+r:"")})}function jZ(t,e){t.info(function(){return"TIMEOUT: "+e})}lv.prototype.info=function(){};function zZ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return TC(n)}catch{return e}}var Ml={},YA=null;function uv(){return YA=YA||new mn}Ml.Ta="serverreachability";function _V(t){Bn.call(this,Ml.Ta,t)}gn(_V,Bn);function Af(t){const e=uv();An(e,new _V(e))}Ml.STAT_EVENT="statevent";function vV(t,e){Bn.call(this,Ml.STAT_EVENT,t),this.stat=e}gn(vV,Bn);function Qn(t){const e=uv();An(e,new vV(e,t))}Ml.Ua="timingevent";function wV(t,e){Bn.call(this,Ml.Ua,t),this.size=e}gn(wV,Bn);function bp(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var cv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},EV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function CC(){}CC.prototype.h=null;function XA(t){return t.h||(t.h=t.i())}function TV(){}var Sp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xC(){Bn.call(this,"d")}gn(xC,Bn);function RC(){Bn.call(this,"c")}gn(RC,Bn);var GT;function dv(){}gn(dv,CC);dv.prototype.g=function(){return new XMLHttpRequest};dv.prototype.i=function(){return{}};GT=new dv;function Cp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Pf(this),this.P=WZ,t=jT?125:void 0,this.V=new av(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new IV}function IV(){this.i=null,this.g="",this.h=!1}var WZ=45e3,bV={},KT={};J=Cp.prototype;J.setTimeout=function(t){this.P=t};function QT(t,e,n){t.L=1,t.A=fv(Ls(e)),t.u=n,t.S=!0,SV(t,null)}function SV(t,e){t.G=Date.now(),xp(t),t.B=Ls(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),OV(n.i,"t",r),t.o=0,n=t.l.J,t.h=new IV,t.g=eU(t.l,n?e:null,!t.u),0<t.O&&(t.M=new VZ(Un(t.Pa,t,t.g),t.O)),gV(t.U,t.g,"readystatechange",t.nb),e=t.I?oV(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Af(),UZ(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&Yi(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const c=Yi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||jT||this.g&&(this.h.h||this.g.ja()||tk(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Af(3):Af(2)),hv(this);var n=this.g.da();this.ca=n;t:if(CV(this)){var r=tk(this.g);t="";var i=r.length,s=Yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$a(this),Eh(this);var o="";break t}this.h.i=new we.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,BZ(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sf(a)){var u=a;break t}}u=null}if(n=u)Pu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,YT(this,n);else{this.i=!1,this.s=3,Qn(12),$a(this),Eh(this);break e}}this.S?(xV(this,c,o),jT&&this.i&&c==3&&(gV(this.U,this.V,"tick",this.mb),this.V.start())):(Pu(this.j,this.m,o,null),YT(this,o)),c==4&&$a(this),this.i&&!this.J&&(c==4?YV(this.l,this):(this.i=!1,xp(this)))}else dee(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Qn(12)):(this.s=0,Qn(13)),$a(this),Eh(this)}}}catch{}finally{}};function CV(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function xV(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=qZ(t,n),i==KT){e==4&&(t.s=4,Qn(14),r=!1),Pu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==bV){t.s=4,Qn(15),Pu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Pu(t.j,t.m,i,null),YT(t,i);CV(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),DC(e),e.M=!0,Qn(11))):(Pu(t.j,t.m,n,"[Invalid Chunked Response]"),$a(t),Eh(t))}J.mb=function(){if(this.g){var t=Yi(this.g),e=this.g.ja();this.o<e.length&&(hv(this),xV(this,t,e),this.i&&t!=4&&xp(this))}};function qZ(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?KT:(n=Number(e.substring(n,r)),isNaN(n)?bV:(r+=1,r+n>e.length?KT:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,$a(this)};function xp(t){t.Y=Date.now()+t.P,RV(t,t.P)}function RV(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=bp(Un(t.lb,t),e)}function hv(t){t.C&&(we.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(jZ(this.j,this.B),this.L!=2&&(Af(),Qn(17)),$a(this),this.s=2,Eh(this)):RV(this,this.Y-t)};function Eh(t){t.l.H==0||t.J||YV(t.l,t)}function $a(t){hv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,bC(t.V),yV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function YT(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||XT(n.i,t))){if(!t.K&&XT(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Cy(n),yv(n);else break e;OC(n),Qn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=bp(Un(n.ib,n),6e3));if(1>=LV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Fa(n,11)}else if((t.K||n.g==t)&&Cy(n),!Sf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(PC(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ft(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ZV(r,r.J?r.pa:null,r.Y),o.K){$V(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(hv(a),xp(a)),r.g=o}else KV(r);0<n.j.length&&_v(n)}else u[0]!="stop"&&u[0]!="close"||Fa(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Fa(n,7):NC(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Af(4)}catch{}}function HZ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(rv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function GZ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(rv(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function PV(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(rv(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=GZ(t),r=HZ(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var AV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KZ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ya(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ya){this.h=t.h,by(this,t.j),this.s=t.s,this.g=t.g,Sy(this,t.m),this.l=t.l;var e=t.i,n=new kf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),JA(this,n),this.o=t.o}else t&&(e=String(t).match(AV))?(this.h=!1,by(this,e[1]||"",!0),this.s=Xd(e[2]||""),this.g=Xd(e[3]||"",!0),Sy(this,e[4]),this.l=Xd(e[5]||"",!0),JA(this,e[6]||"",!0),this.o=Xd(e[7]||"")):(this.h=!1,this.i=new kf(null,this.h))}Ya.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Jd(e,ZA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Jd(e,ZA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Jd(n,n.charAt(0)=="/"?XZ:YZ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Jd(n,ZZ)),t.join("")};function Ls(t){return new Ya(t)}function by(t,e,n){t.j=n?Xd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function JA(t,e,n){e instanceof kf?(t.i=e,eee(t.i,t.h)):(n||(e=Jd(e,JZ)),t.i=new kf(e,t.h))}function ft(t,e,n){t.i.set(e,n)}function fv(t){return ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,QZ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function QZ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ZA=/[#\/\?@]/g,YZ=/[#\?:]/g,XZ=/[#\?]/g,JZ=/[#\?@]/g,ZZ=/#/g;function kf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ra(t){t.g||(t.g=new Map,t.h=0,t.i&&KZ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=kf.prototype;J.add=function(t,e){ra(this),this.i=null,t=Wc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function kV(t,e){ra(t),e=Wc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function NV(t,e){return ra(t),e=Wc(t,e),t.g.has(e)}J.forEach=function(t,e){ra(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.ta=function(){ra(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.Z=function(t){ra(this);let e=[];if(typeof t=="string")NV(this,t)&&(e=e.concat(this.g.get(Wc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return ra(this),this.i=null,t=Wc(this,t),NV(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function OV(t,e,n){kV(t,e),0<n.length&&(t.i=null,t.g.set(Wc(t,e),mC(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Wc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eee(t,e){e&&!t.j&&(ra(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(kV(this,r),OV(this,i,n))},t)),t.j=e}var tee=class{constructor(t,e){this.g=t,this.map=e}};function DV(t){this.l=t||nee,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nee=10;function MV(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function LV(t){return t.h?1:t.g?t.g.size:0}function XT(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function PC(t,e){t.g?t.g.add(e):t.h=e}function $V(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}DV.prototype.cancel=function(){if(this.i=FV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function FV(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return mC(t.i)}var ree=class{stringify(t){return we.JSON.stringify(t,void 0)}parse(t){return we.JSON.parse(t,void 0)}};function iee(){this.g=new ree}function see(t,e,n){const r=n||"";try{PV(t,function(i,s){let o=i;Tp(i)&&(o=TC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function oee(t,e){const n=new lv;if(we.Image){const r=new Image;r.onload=Rm(Am,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rm(Am,n,r,"TestLoadImage: error",!1,e),r.onabort=Rm(Am,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rm(Am,n,r,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Am(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function pv(t){this.l=t.ec||null,this.j=t.ob||!1}gn(pv,CC);pv.prototype.g=function(){return new mv(this.l,this.j)};pv.prototype.i=function(t){return function(){return t}}({});function mv(t,e){mn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=AC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gn(mv,mn);var AC=0;J=mv.prototype;J.open=function(t,e){if(this.readyState!=AC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Nf(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rp(this)),this.readyState=AC};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Nf(this)),this.g&&(this.readyState=3,Nf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function VV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rp(this):Nf(this),this.readyState==3&&VV(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,Rp(this))};J.Ya=function(t){this.g&&(this.response=t,Rp(this))};J.ka=function(){this.g&&Rp(this)};function Rp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Nf(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Nf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(mv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var aee=we.JSON.parse;function Ft(t){mn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UV,this.L=this.M=!1}gn(Ft,mn);var UV="",lee=/^https?$/i,uee=["POST","PUT"];J=Ft.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GT.g(),this.C=this.u?XA(this.u):XA(GT),this.g.onreadystatechange=Un(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ek(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=we.FormData&&t instanceof we.FormData,!(0<=nV(uee,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zV(this),0<this.B&&((this.L=cee(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Un(this.ua,this)):this.A=SC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ek(this,s)}};function cee(t){return dc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof pC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,An(this,"timeout"),this.abort(8))};function ek(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,BV(t),gv(t)}function BV(t){t.F||(t.F=!0,An(t,"complete"),An(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,An(this,"complete"),An(this,"abort"),gv(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gv(this,!0)),Ft.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?jV(this):this.kb())};J.kb=function(){jV(this)};function jV(t){if(t.h&&typeof pC<"u"&&(!t.C[1]||Yi(t)!=4||t.da()!=2)){if(t.v&&Yi(t)==4)SC(t.La,0,t);else if(An(t,"readystatechange"),Yi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(AV)[1]||null;!i&&we.self&&we.self.location&&(i=we.self.location.protocol.slice(0,-1)),r=!lee.test(i?i.toLowerCase():"")}n=r}if(n)An(t,"complete"),An(t,"success");else{t.m=6;try{var s=2<Yi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",BV(t)}}finally{gv(t)}}}}function gv(t,e){if(t.g){zV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||An(t,"ready");try{n.onreadystatechange=r}catch{}}}function zV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function Yi(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<Yi(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),aee(e)}};function tk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case UV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dee(t){const e={};t=(t.g&&2<=Yi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Sf(t[r]))continue;var n=LZ(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}PZ(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function WV(t){let e="";return yC(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function kC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=WV(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ft(t,e,n))}function Sd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qV(t){this.Ga=0,this.j=[],this.l=new lv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sd("baseRetryDelayMs",5e3,t),this.hb=Sd("retryDelaySeedMs",1e4,t),this.eb=Sd("forwardChannelMaxRetries",2,t),this.xa=Sd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new DV(t&&t.concurrentRequestLimit),this.Ja=new iee,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=qV.prototype;J.ra=8;J.H=1;function NC(t){if(HV(t),t.H==3){var e=t.W++,n=Ls(t.I);if(ft(n,"SID",t.K),ft(n,"RID",e),ft(n,"TYPE","terminate"),Pp(t,n),e=new Cp(t,t.l,e),e.L=2,e.A=fv(Ls(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&we.Image&&(new Image().src=e.A,n=!0),n||(e.g=eU(e.l,null),e.g.ha(e.A)),e.G=Date.now(),xp(e)}JV(t)}function yv(t){t.g&&(DC(t),t.g.cancel(),t.g=null)}function HV(t){yv(t),t.u&&(we.clearTimeout(t.u),t.u=null),Cy(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function _v(t){if(!MV(t.i)&&!t.m){t.m=!0;var e=t.Na;xf||pV(),Rf||(xf(),Rf=!0),IC.add(e,t),t.C=0}}function hee(t,e){return LV(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=bp(Un(t.Na,t,e),XV(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Cp(this,this.l,t);let s=this.s;if(this.U&&(s?(s=oV(s),aV(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=GV(this,i,e),n=Ls(this.I),ft(n,"RID",t),ft(n,"CVER",22),this.F&&ft(n,"X-HTTP-Session-Id",this.F),Pp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(WV(s)))+"&"+e:this.o&&kC(n,this.o,s)),PC(this.i,i),this.bb&&ft(n,"TYPE","init"),this.P?(ft(n,"$req",e),ft(n,"SID","null"),i.aa=!0,QT(i,n,null)):QT(i,n,e),this.H=2}}else this.H==3&&(t?nk(this,t):this.j.length==0||MV(this.i)||nk(this))};function nk(t,e){var n;e?n=e.m:n=t.W++;const r=Ls(t.I);ft(r,"SID",t.K),ft(r,"RID",n),ft(r,"AID",t.V),Pp(t,r),t.o&&t.s&&kC(r,t.o,t.s),n=new Cp(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=GV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),PC(t.i,n),QT(n,r,e)}function Pp(t,e){t.na&&yC(t.na,function(n,r){ft(e,r,n)}),t.h&&PV({},function(n,r){ft(e,r,n)})}function GV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Un(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{see(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function KV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xf||pV(),Rf||(xf(),Rf=!0),IC.add(e,t),t.A=0}}function OC(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=bp(Un(t.Ma,t),XV(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,QV(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bp(Un(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qn(10),yv(this),QV(this))};function DC(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function QV(t){t.g=new Cp(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ls(t.wa);ft(e,"RID","rpc"),ft(e,"SID",t.K),ft(e,"AID",t.V),ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ft(e,"TO",t.qa),ft(e,"TYPE","xmlhttp"),Pp(t,e),t.o&&t.s&&kC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=fv(Ls(e)),n.u=null,n.S=!0,SV(n,t)}J.ib=function(){this.v!=null&&(this.v=null,yv(this),OC(this),Qn(19))};function Cy(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function YV(t,e){var n=null;if(t.g==e){Cy(t),DC(t),t.g=null;var r=2}else if(XT(t.i,e))n=e.F,$V(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=uv(),An(r,new wV(r,n)),_v(t)}else KV(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&hee(t,e)||r==2&&OC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Fa(t,5);break;case 4:Fa(t,10);break;case 3:Fa(t,6);break;default:Fa(t,2)}}}function XV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Fa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Un(t.pb,t);n||(n=new Ya("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||by(n,"https"),fv(n)),oee(n.toString(),r)}else Qn(2);t.H=0,t.h&&t.h.za(e),JV(t),HV(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qn(2)):(this.l.info("Failed to ping google.com"),Qn(1))};function JV(t){if(t.H=0,t.ma=[],t.h){const e=FV(t.i);(e.length!=0||t.j.length!=0)&&(HA(t.ma,e),HA(t.ma,t.j),t.i.i.length=0,mC(t.j),t.j.length=0),t.h.ya()}}function ZV(t,e,n){var r=n instanceof Ya?Ls(n):new Ya(n);if(r.g!="")e&&(r.g=e+"."+r.g),Sy(r,r.m);else{var i=we.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ya(null);r&&by(s,r),e&&(s.g=e),i&&Sy(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ft(r,n,e),ft(r,"VER",t.ra),Pp(t,r),r}function eU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ft(new pv({ob:n})):new Ft(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function tU(){}J=tU.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function xy(){if(dc&&!(10<=Number(SZ)))throw Error("Environmental error: no available transport.")}xy.prototype.g=function(t,e){return new Br(t,e)};function Br(t,e){mn.call(this),this.g=new qV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Sf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qc(this)}gn(Br,mn);Br.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ZV(t,null,t.Y),_v(t)};Br.prototype.close=function(){NC(this.g)};Br.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=TC(t),t=n);e.j.push(new tee(e.fb++,t)),e.H==3&&_v(e)};Br.prototype.N=function(){this.g.h=null,delete this.j,NC(this.g),delete this.g,Br.$.N.call(this)};function nU(t){xC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gn(nU,xC);function rU(){RC.call(this),this.status=1}gn(rU,RC);function qc(t){this.g=t}gn(qc,tU);qc.prototype.Ba=function(){An(this.g,"a")};qc.prototype.Aa=function(t){An(this.g,new nU(t))};qc.prototype.za=function(t){An(this.g,new rU)};qc.prototype.ya=function(){An(this.g,"b")};function fee(){this.blockSize=-1}function Ni(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gn(Ni,fee);Ni.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function qw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ni.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)qw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){qw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){qw(this,r),i=0;break}}this.h=i,this.i+=e};Ni.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var pee={};function MC(t){return-128<=t&&128>t?TZ(t,function(e){return new et([e|0],0>e?-1:0)}):new et([t|0],0>t?-1:0)}function Xi(t){if(isNaN(t)||!isFinite(t))return zu;if(0>t)return Cn(Xi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=JT;return new et(e,0)}function iU(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Cn(iU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xi(Math.pow(e,8)),r=zu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Xi(Math.pow(e,s)),r=r.R(s).add(Xi(o))):(r=r.R(n),r=r.add(Xi(o)))}return r}var JT=4294967296,zu=MC(0),ZT=MC(1),rk=MC(16777216);J=et.prototype;J.ea=function(){if(Jr(this))return-Cn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:JT+r)*e,e*=JT}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Is(this))return"0";if(Jr(this))return"-"+Cn(this).toString(t);for(var e=Xi(Math.pow(t,6)),n=this,r="";;){var i=Py(n,e).g;n=Ry(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Is(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Is(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Jr(t){return t.h==-1}J.X=function(t){return t=Ry(this,t),Jr(t)?-1:Is(t)?0:1};function Cn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new et(n,~t.h).add(ZT)}J.abs=function(){return Jr(this)?Cn(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new et(n,n[n.length-1]&-2147483648?-1:0)};function Ry(t,e){return t.add(Cn(e))}J.R=function(t){if(Is(this)||Is(t))return zu;if(Jr(this))return Jr(t)?Cn(this).R(Cn(t)):Cn(Cn(this).R(t));if(Jr(t))return Cn(this.R(Cn(t)));if(0>this.X(rk)&&0>t.X(rk))return Xi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,km(n,2*r+2*i),n[2*r+2*i+1]+=s*l,km(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,km(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,km(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new et(n,0)};function km(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cd(t,e){this.g=t,this.h=e}function Py(t,e){if(Is(e))throw Error("division by zero");if(Is(t))return new Cd(zu,zu);if(Jr(t))return e=Py(Cn(t),e),new Cd(Cn(e.g),Cn(e.h));if(Jr(e))return e=Py(t,Cn(e)),new Cd(Cn(e.g),e.h);if(30<t.g.length){if(Jr(t)||Jr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ZT,r=e;0>=r.X(t);)n=ik(n),r=ik(r);var i=Yl(n,1),s=Yl(r,1);for(r=Yl(r,2),n=Yl(n,2);!Is(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Yl(r,1),n=Yl(n,1)}return e=Ry(t,i.R(e)),new Cd(i,e)}for(i=zu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Xi(n),o=s.R(e);Jr(o)||0<o.X(t);)n-=r,s=Xi(n),o=s.R(e);Is(s)&&(s=ZT),i=i.add(s),t=Ry(t,o)}return new Cd(i,t)}J.gb=function(t){return Py(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new et(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new et(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new et(n,this.h^t.h)};function ik(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new et(n,t.h)}function Yl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new et(i,t.h)}xy.prototype.createWebChannel=xy.prototype.g;Br.prototype.send=Br.prototype.u;Br.prototype.open=Br.prototype.m;Br.prototype.close=Br.prototype.close;cv.NO_ERROR=0;cv.TIMEOUT=8;cv.HTTP_ERROR=6;EV.COMPLETE="complete";TV.EventType=Sp;Sp.OPEN="a";Sp.CLOSE="b";Sp.ERROR="c";Sp.MESSAGE="d";mn.prototype.listen=mn.prototype.O;Ft.prototype.listenOnce=Ft.prototype.P;Ft.prototype.getLastError=Ft.prototype.Sa;Ft.prototype.getLastErrorCode=Ft.prototype.Ia;Ft.prototype.getStatus=Ft.prototype.da;Ft.prototype.getResponseJson=Ft.prototype.Wa;Ft.prototype.getResponseText=Ft.prototype.ja;Ft.prototype.send=Ft.prototype.ha;Ft.prototype.setWithCredentials=Ft.prototype.Oa;Ni.prototype.digest=Ni.prototype.l;Ni.prototype.reset=Ni.prototype.reset;Ni.prototype.update=Ni.prototype.j;et.prototype.add=et.prototype.add;et.prototype.multiply=et.prototype.R;et.prototype.modulo=et.prototype.gb;et.prototype.compare=et.prototype.X;et.prototype.toNumber=et.prototype.ea;et.prototype.toString=et.prototype.toString;et.prototype.getBits=et.prototype.D;et.fromNumber=Xi;et.fromString=iU;var mee=function(){return new xy},gee=function(){return uv()},Hw=cv,yee=EV,_ee=Ml,sk={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nm=TV,vee=Ft,wee=Ni,Wu=et,Eee={};const ok="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new cp("@firebase/firestore");function uu(){return Uo.logLevel}function Tee(t){Uo.setLogLevel(t)}function $(t,...e){if(Uo.logLevel<=xe.DEBUG){const n=e.map(LC);Uo.debug(`Firestore (${Hc}): ${t}`,...n)}}function Wt(t,...e){if(Uo.logLevel<=xe.ERROR){const n=e.map(LC);Uo.error(`Firestore (${Hc}): ${t}`,...n)}}function Oi(t,...e){if(Uo.logLevel<=xe.WARN){const n=e.map(LC);Uo.warn(`Firestore (${Hc}): ${t}`,...n)}}function LC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Hc}) INTERNAL ASSERTION FAILED: `+t;throw Wt(e),new Error(e)}function ae(t,e){t||ee()}function Iee(t,e){t||ee()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class See{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cee{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string"),new sU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string"),new dn(e)}}class xee{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ree{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xee(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string"),this.R=n.token,new Pee(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function hc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function aU(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Tt(0,0))}static max(){return new ue(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Of.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Of?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends Of{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const Nee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Of{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return Nee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(je.fromString(e))}static fromName(e){return new Q(je.fromString(e).popFirst(5))}static empty(){return new Q(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function eI(t){return t.fields.find(e=>e.kind===2)}function Ea(t){return t.fields.filter(e=>e.kind!==2)}Ay.UNKNOWN_ID=-1;class cg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Df{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Df(0,jr.min())}}function lU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new jr(i,Q.empty(),e)}function uU(t){return new jr(t.readTime,t.key,-1)}class jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jr(ue.min(),Q.empty(),-1)}static max(){return new jr(ue.max(),Q.empty(),-1)}}function $C(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==cU)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new pn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Th(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=FC(r.target.error);this.V.reject(new Th(e,i))}}static open(e,n,r,i){try{return new vv(n,e.transaction(i,r))}catch(s){throw new Th(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||($("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Dee(n)}}class bi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,bi.S(Rt())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $("SimpleDb","Removing database:",e),Ca(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!of())return!1;if(bi.C())return!0;const e=Rt(),n=bi.S(e),r=0<n&&n<10,i=bi.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=Eee)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||($("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Th(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new L(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Th(e,o))},i.onupgradeneeded=s=>{$("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{$("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=vv.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),P.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if($("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Oee{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ca(this.k.delete())}}class Th extends L{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function sa(t){return t.name==="IndexedDbTransactionError"}class Dee{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?($("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):($("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ca(r)}add(e){return $("SimpleDb","ADD",this.store.name,e,e),Ca(this.store.add(e))}get(e){return Ca(this.store.get(e)).next(n=>(n===void 0&&(n=null),$("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return $("SimpleDb","DELETE",this.store.name,e),Ca(this.store.delete(e))}count(){return $("SimpleDb","COUNT",this.store.name),Ca(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new P((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new P((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){$("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new P((r,i)=>{n.onerror=s=>{const o=FC(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new P((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Oee(a),u=n(a.primaryKey,a.value,l);if(u instanceof P){const c=u.catch(d=>(l.done(),P.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>P.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ca(t){return new P((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=FC(r.target.error);n(i)}})}let ak=!1;function FC(t){const e=bi.S(Rt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ak||(ak=!0,setTimeout(()=>{throw r},0)),r}}return t}class Mee{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){$("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{$("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){sa(n)?$("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await ia(n)}await this.ee(6e4)})}}class Lee{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return P.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return $("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>($("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=uU(s);$C(o,r)>0&&(r=o)}),new jr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}ur._e=-1;function Ap(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function hU(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lk(e)),e=$ee(t.get(n),e);return lk(e)}function $ee(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function lk(t){return t+""}function Ji(t){const e=t.length;if(ae(e>=2),e===2)return ae(t.charAt(0)===""&&t.charAt(1)===""),je.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&ee(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ee()}s=o+2}return new je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){return[t,Jn(e)]}function fU(t,e,n){return[t,Jn(e),n]}const Fee={},Vee=["prefixPath","collectionGroup","readTime","documentId"],Uee=["prefixPath","collectionGroup","documentId"],Bee=["collectionGroup","readTime","prefixPath","documentId"],jee=["canonicalId","targetId"],zee=["targetId","path"],Wee=["path","targetId"],qee=["collectionId","parent"],Hee=["indexId","uid"],Gee=["uid","sequenceNumber"],Kee=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qee=["indexId","uid","orderedDocumentKey"],Yee=["userId","collectionPath","documentId"],Xee=["userId","collectionPath","largestBatchId"],Jee=["userId","collectionGroup","largestBatchId"],pU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zee=[...pU,"documentOverlays"],mU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gU=mU,ete=[...gU,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI extends dU{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function yn(t,e){const n=X(t);return bi.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Om(this.root,e,this.comparator,!1)}getReverseIterator(){return new Om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Om(this.root,e,this.comparator,!0)}}class Om{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bn.RED,this.left=i??bn.EMPTY,this.right=s??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dk(this.data.getIterator())}getIteratorFrom(e){return new dk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class dk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new cr([])}unionWith(e){let n=new nt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tte(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _U("Invalid base64 string: "+s):s}}(e);return new sn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const nte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bo(t){if(ae(!!t),typeof t=="string"){let e=0;const n=nte.exec(t);if(ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jo(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function VC(t){const e=t.mapValue.fields.__previous_value__;return wv(e)?VC(e):e}function Lf(t){const e=Bo(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hg={nullValue:"NULL_VALUE"};function pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:vU(t)?9007199254740991:10:ee()}function us(t,e){if(t===e)return!0;const n=pl(t);if(n!==pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lf(t).isEqual(Lf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bo(i.timestampValue),a=Bo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return jo(i.bytesValue).isEqual(jo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ot(i.geoPointValue.latitude)===Ot(s.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ot(i.integerValue)===Ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ot(i.doubleValue),a=Ot(s.doubleValue);return o===a?Mf(o)===Mf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ck(o)!==ck(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!us(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function $f(t,e){return(t.values||[]).find(n=>us(n,e))!==void 0}function Wo(t,e){if(t===e)return 0;const n=pl(t),r=pl(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ot(s.integerValue||s.doubleValue),l=Ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return hk(t.timestampValue,e.timestampValue);case 4:return hk(Lf(t),Lf(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){const a=jo(s),l=jo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ie(a[u],l[u]);if(c!==0)return c}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ie(Ot(s.latitude),Ot(o.latitude));return a!==0?a:Ie(Ot(s.longitude),Ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Wo(a[u],l[u]);if(c)return c}return Ie(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===fo.mapValue&&o===fo.mapValue)return 0;if(s===fo.mapValue)return 1;if(o===fo.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ie(l[d],c[d]);if(h!==0)return h;const f=Wo(a[l[d]],u[c[d]]);if(f!==0)return f}return Ie(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ee()}}function hk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Bo(t),r=Bo(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function fc(t){return nI(t)}function nI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=nI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${nI(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function ml(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rI(t){return!!t&&"integerValue"in t}function Ff(t){return!!t&&"arrayValue"in t}function fk(t){return!!t&&"nullValue"in t}function pk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fg(t){return!!t&&"mapValue"in t}function Ih(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ll(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ih(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ih(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function ite(t){return"nullValue"in t?hg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ml(zo.empty(),Q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ee()}function ste(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ml(zo.empty(),Q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?fo:ee()}function mk(t,e){const n=Wo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function gk(t,e){const n=Wo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ih(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ih(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ll(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xn(Ih(this.value))}}function wU(t){const e=[];return Ll(t.fields,(n,r)=>{const i=new wt([n]);if(fg(r)){const s=wU(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,ue.min(),ue.min(),ue.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new pt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new pt(e,2,n,ue.min(),ue.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,ue.min(),ue.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.position=e,this.inclusive=n}}function yk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Wo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _k(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n="asc"){this.field=e,this.dir=n}}function ote(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{}class $e extends EU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ate(e,n,r):n==="array-contains"?new cte(e,r):n==="in"?new xU(e,r):n==="not-in"?new dte(e,r):n==="array-contains-any"?new hte(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lte(e,r):new ute(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wo(n,this.value)):n!==null&&pl(this.value)===pl(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Je extends EU{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Je(e,n)}matches(e){return pc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pc(t){return t.op==="and"}function iI(t){return t.op==="or"}function UC(t){return TU(t)&&pc(t)}function TU(t){for(const e of t.filters)if(e instanceof Je)return!1;return!0}function sI(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(UC(t))return t.filters.map(e=>sI(e)).join(",");{const e=t.filters.map(n=>sI(n)).join(",");return`${t.op}(${e})`}}function IU(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&us(r.value,i.value)}(t,e):t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&IU(o,i.filters[a]),!0):!1}(t,e):void ee()}function bU(t,e){const n=t.filters.concat(e);return Je.create(n,t.op)}function SU(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`}(t):t instanceof Je?function(n){return n.op.toString()+" {"+n.getFilters().map(SU).join(" ,")+"}"}(t):"Filter"}class ate extends $e{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class lte extends $e{constructor(e,n){super(e,"in",n),this.keys=CU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ute extends $e{constructor(e,n){super(e,"not-in",n),this.keys=CU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CU(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class cte extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ff(n)&&$f(n.arrayValue,this.value)}}class xU extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$f(this.value.arrayValue,n)}}class dte extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if($f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$f(this.value.arrayValue,n)}}class hte extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ff(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$f(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function oI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fte(t,e,n,r,i,s,o)}function gl(t){const e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fc(r)).join(",")),e.ce=n}return e.ce}function kp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ote(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_k(t.startAt,e.startAt)&&_k(t.endAt,e.endAt)}function ky(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ny(t,e){return t.filters.filter(n=>n instanceof $e&&n.field.isEqual(e))}function vk(t,e,n){let r=hg,i=!0;for(const s of Ny(t,e)){let o=hg,a=!0;switch(s.op){case"<":case"<=":o=ite(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=hg}mk({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];mk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function wk(t,e,n){let r=fo,i=!0;for(const s of Ny(t,e)){let o=fo,a=!0;switch(s.op){case">=":case">":o=ste(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=fo}gk({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];gk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function RU(t,e,n,r,i,s,o,a){return new zs(t,e,n,r,i,s,o,a)}function Gc(t){return new zs(t)}function Ek(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BC(t){return t.collectionGroup!==null}function qu(t){const e=X(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Vf(s,r))}),n.has(wt.keyField().canonicalString())||e.le.push(new Vf(wt.keyField(),r))}return e.le}function Zn(t){const e=X(t);return e.he||(e.he=pte(e,qu(t))),e.he}function pte(t,e){if(t.limitType==="F")return oI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Vf(i.field,s)});const n=t.endAt?new qo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qo(t.startAt.position,t.startAt.inclusive):null;return oI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function aI(t,e){const n=t.filters.concat([e]);return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Oy(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Np(t,e){return kp(Zn(t),Zn(e))&&t.limitType===e.limitType}function PU(t){return`${gl(Zn(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>SU(i)).join(", ")}]`),Ap(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fc(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=yk(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,qu(r),i)||r.endAt&&!function(o,a,l){const u=yk(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,qu(r),i))}(t,e)}function AU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kU(t){return(e,n)=>{let r=!1;for(const i of qu(t)){const s=mte(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mte(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Wo(l,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ll(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte=new ut(Q.comparator);function dr(){return gte}const NU=new ut(Q.comparator);function Zd(...t){let e=NU;for(const n of t)e=e.insert(n.key,n);return e}function OU(t){let e=NU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zi(){return bh()}function DU(){return bh()}function bh(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const yte=new ut(Q.comparator),_te=new nt(Q.comparator);function be(...t){let e=_te;for(const n of t)e=e.add(n);return e}const vte=new nt(Ie);function jC(){return vte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function LU(t){return{integerValue:""+t}}function $U(t,e){return hU(e)?LU(e):MU(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this._=void 0}}function wte(t,e,n){return t instanceof mc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wv(s)&&(s=VC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof yl?VU(t,e):t instanceof _l?UU(t,e):function(i,s){const o=FU(i,s),a=Tk(o)+Tk(i.Ie);return rI(o)&&rI(i.Ie)?LU(a):MU(i.serializer,a)}(t,e)}function Ete(t,e,n){return t instanceof yl?VU(t,e):t instanceof _l?UU(t,e):n}function FU(t,e){return t instanceof gc?function(r){return rI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mc extends Ev{}class yl extends Ev{constructor(e){super(),this.elements=e}}function VU(t,e){const n=BU(e);for(const r of t.elements)n.some(i=>us(i,r))||n.push(r);return{arrayValue:{values:n}}}class _l extends Ev{constructor(e){super(),this.elements=e}}function UU(t,e){let n=BU(e);for(const r of t.elements)n=n.filter(i=>!us(i,r));return{arrayValue:{values:n}}}class gc extends Ev{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Tk(t){return Ot(t.integerValue||t.doubleValue)}function BU(t){return Ff(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.field=e,this.transform=n}}function Tte(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yl&&i instanceof yl||r instanceof _l&&i instanceof _l?hc(r.elements,i.elements,us):r instanceof gc&&i instanceof gc?us(r.Ie,i.Ie):r instanceof mc&&i instanceof mc}(t.transform,e.transform)}class Ite{constructor(e,n){this.version=e,this.transformResults=n}}class Et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Et}static exists(e){return new Et(void 0,e)}static updateTime(e){return new Et(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tv{}function jU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qc(t.key,Et.none()):new Kc(t.key,t.data,Et.none());{const n=t.data,r=xn.empty();let i=new nt(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ws(t.key,r,new cr(i.toArray()),Et.none())}}function bte(t,e,n){t instanceof Kc?function(i,s,o){const a=i.value.clone(),l=bk(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(i,s,o){if(!pg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=bk(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zU(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sh(t,e,n,r){return t instanceof Kc?function(s,o,a,l){if(!pg(s.precondition,o))return a;const u=s.value.clone(),c=Sk(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(s,o,a,l){if(!pg(s.precondition,o))return a;const u=Sk(s.fieldTransforms,l,o),c=o.data;return c.setAll(zU(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return pg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Ste(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FU(r.transform,i||null);s!=null&&(n===null&&(n=xn.empty()),n.set(r.field,s))}return n||null}function Ik(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hc(r,i,(s,o)=>Tte(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends Tv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends Tv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bk(t,e,n){const r=new Map;ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ete(o,a,n[i]))}return r}function Sk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wte(s,o,e))}return r}class Qc extends Tv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zC extends Tv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bte(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=jU(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(n,r)=>Ik(n,r))&&hc(this.baseMutations,e.baseMutations,(n,r)=>Ik(n,r))}}class qC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ae(e.mutations.length===r.length);let i=function(){return yte}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,Be;function WU(t){switch(t){default:return ee();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function qU(t){if(t===void 0)return Wt("GRPC error has no .code"),k.UNKNOWN;switch(t){case Kt.OK:return k.OK;case Kt.CANCELLED:return k.CANCELLED;case Kt.UNKNOWN:return k.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return k.INTERNAL;case Kt.UNAVAILABLE:return k.UNAVAILABLE;case Kt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Kt.NOT_FOUND:return k.NOT_FOUND;case Kt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Kt.ABORTED:return k.ABORTED;case Kt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Kt.DATA_LOSS:return k.DATA_LOSS;default:return ee()}}(Be=Kt||(Kt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte=new Wu([4294967295,4294967295],0);function Ck(t){const e=HU().encode(t),n=new wee;return n.update(e),new Uint8Array(n.digest())}function xk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wu([n,r],0),new Wu([i,s],0)]}class GC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eh(`Invalid padding: ${n}`);if(r<0)throw new eh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Wu.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Wu.fromNumber(r)));return i.compare(xte)===1&&(i=new Wu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Ck(e),[r,i]=xk(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new GC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Ck(e),[r,i]=xk(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mp(ue.min(),i,new ut(Ie),dr(),be())}}class Lp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lp(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class GU{constructor(e,n){this.targetId=e,this.fe=n}}class KU{constructor(e,n,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Rk{constructor(){this.ge=0,this.pe=Ak(),this.ye=sn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=be(),n=be(),r=be();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Lp(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Ak()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ae(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Rte{constructor(e){this.Le=e,this.ke=new Map,this.qe=dr(),this.Qe=Pk(),this.Ke=new ut(Ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ky(s))if(r===0){const o=new Q(s.path);this.We(n,o,pt.newNoDocument(o,ue.min()))}else ae(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=jo(r).toUint8Array()}catch(l){if(l instanceof _U)return Oi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new GC(o,i,s)}catch(l){return Oi(l instanceof eh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&ky(a.target)){const l=new Q(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,pt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=be();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Mp(e,n,this.Ke,this.qe,r);return this.qe=dr(),this.Qe=Pk(),this.Ke=new ut(Ie),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Rk,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new nt(Ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Rk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Pk(){return new ut(Q.comparator)}function Ak(){return new ut(Q.comparator)}const Pte={asc:"ASCENDING",desc:"DESCENDING"},Ate={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kte={and:"AND",or:"OR"};class Nte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lI(t,e){return t.useProto3Json||Ap(e)?e:{value:e}}function yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ote(t,e){return yc(t,e.toTimestamp())}function qt(t){return ae(!!t),ue.fromTimestamp(function(n){const r=Bo(n);return new Tt(r.seconds,r.nanos)}(t))}function KC(t,e){return function(r){return new je(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function YU(t){const e=je.fromString(t);return ae(sB(e)),e}function Uf(t,e){return KC(t.databaseId,e.path)}function ns(t,e){const n=YU(e);if(n.get(1)!==t.databaseId.projectId)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(JU(n))}function uI(t,e){return KC(t.databaseId,e)}function XU(t){const e=YU(t);return e.length===4?je.emptyPath():JU(e)}function Bf(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JU(t){return ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kk(t,e,n){return{name:Uf(t,e),fields:n.value.mapValue.fields}}function ZU(t,e,n){const r=ns(t,e.name),i=qt(e.updateTime),s=e.createTime?qt(e.createTime):ue.min(),o=new xn({mapValue:{fields:e.fields}}),a=pt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Dte(t,e){return"found"in e?function(r,i){ae(!!i.found),i.found.name,i.found.updateTime;const s=ns(r,i.found.name),o=qt(i.found.updateTime),a=i.found.createTime?qt(i.found.createTime):ue.min(),l=new xn({mapValue:{fields:i.found.fields}});return pt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ae(!!i.missing),ae(!!i.readTime);const s=ns(r,i.missing),o=qt(i.readTime);return pt.newNoDocument(s,o)}(t,e):ee()}function Mte(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ae(c===void 0||typeof c=="string"),sn.fromBase64String(c||"")):(ae(c===void 0||c instanceof Uint8Array),sn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?k.UNKNOWN:qU(u.code);return new L(c,u.message||"")}(o);n=new KU(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ns(t,r.document.name),s=qt(r.document.updateTime),o=r.document.createTime?qt(r.document.createTime):ue.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=pt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new mg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ns(t,r.document),s=r.readTime?qt(r.readTime):ue.min(),o=pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ns(t,r.document),s=r.removedTargetIds||[];n=new mg([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Cte(i,s),a=r.targetId;n=new GU(a,o)}}return n}function jf(t,e){let n;if(e instanceof Kc)n={update:kk(t,e.key,e.value)};else if(e instanceof Qc)n={delete:Uf(t,e.key)};else if(e instanceof Ws)n={update:kk(t,e.key,e.data),updateMask:Bte(e.fieldMask)};else{if(!(e instanceof zC))return ee();n={verify:Uf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof mc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _l)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ote(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function cI(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Et.updateTime(qt(s.updateTime)):s.exists!==void 0?Et.exists(s.exists):Et.none()}(e.currentDocument):Et.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ae(a.setToServerValue==="REQUEST_TIME"),l=new mc;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new yl(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new _l(c)}else"increment"in a?l=new gc(o,a.increment):ee();const u=wt.fromServerFormat(a.fieldPath);return new Dp(u,l)}(t,i)):[];if(e.update){e.update.name;const i=ns(t,e.update.name),s=new xn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new cr(u.map(c=>wt.fromServerFormat(c)))}(e.updateMask);return new Ws(i,s,o,n,r)}return new Kc(i,s,n,r)}if(e.delete){const i=ns(t,e.delete);return new Qc(i,n)}if(e.verify){const i=ns(t,e.verify);return new zC(i,n)}return ee()}function Lte(t,e){return t&&t.length>0?(ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?qt(i.updateTime):qt(s);return o.isEqual(ue.min())&&(o=qt(s)),new Ite(o,i.transformResults||[])}(n,e))):[]}function eB(t,e){return{documents:[uI(t,e.path)]}}function tB(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=uI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return iB(Je.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:du(d.field),direction:Fte(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=lI(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function nB(t){let e=XU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=rB(d);return h instanceof Je&&UC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new Vf(hu(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ap(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new qo(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new qo(f,h)}(n.endAt)),RU(e,i,o,s,a,"F",l,u)}function $te(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hu(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hu(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hu(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(hu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Je.create(n.compositeFilter.filters.map(r=>rB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function Fte(t){return Pte[t]}function Vte(t){return Ate[t]}function Ute(t){return kte[t]}function du(t){return{fieldPath:t.canonicalString()}}function hu(t){return wt.fromServerFormat(t.fieldPath)}function iB(t){return t instanceof $e?function(n){if(n.op==="=="){if(pk(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NAN"}};if(fk(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pk(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NAN"}};if(fk(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(n.field),op:Vte(n.op),value:n.value}}}(t):t instanceof Je?function(n){const r=n.getFilters().map(i=>iB(i));return r.length===1?r[0]:{compositeFilter:{op:Ute(n.op),filters:r}}}(t):ee()}function Bte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.ut=e}}function jte(t,e){let n;if(e.document)n=ZU(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Q.fromSegments(e.noDocument.path),i=wl(e.noDocument.readTime);n=pt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee();{const r=Q.fromSegments(e.unknownDocument.path),i=wl(e.unknownDocument.version);n=pt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Tt(i[0],i[1]);return ue.fromTimestamp(s)}(e.readTime)),n}function Nk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Dy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Uf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:yc(s,o.version.toTimestamp()),createTime:yc(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vl(e.version)};else{if(!e.isUnknownDocument())return ee();r.unknownDocument={path:n.path.toArray(),version:vl(e.version)}}return r}function Dy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wl(t){const e=new Tt(t.seconds,t.nanoseconds);return ue.fromTimestamp(e)}function xa(t,e){const n=(e.baseMutations||[]).map(s=>cI(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>cI(t.ut,s)),i=Tt.fromMillis(e.localWriteTimeMs);return new WC(e.batchId,i,n,r)}function th(t){const e=wl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?wl(t.lastLimboFreeSnapshotVersion):ue.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ae(s.documents.length===1),Zn(Gc(XU(s.documents[0])))}(t.query):function(s){return Zn(nB(s))}(t.query),new bs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,sn.fromBase64String(t.resumeToken))}function aB(t,e){const n=vl(e.snapshotVersion),r=vl(e.lastLimboFreeSnapshotVersion);let i;i=ky(e.target)?eB(t.ut,e.target):tB(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gl(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function QC(t){const e=nB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oy(e,e.limit,"L"):e}function Gw(t,e){return new HC(e.largestBatchId,cI(t.ut,e.overlayMutation))}function Ok(t,e){const n=e.path.lastSegment();return[t,Jn(e.path.popLast()),n]}function Dk(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:vl(r.readTime),documentKey:Jn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{getBundleMetadata(e,n){return Mk(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:wl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return Mk(e).put(function(i){return{bundleId:i.id,createTime:vl(qt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return Lk(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:QC(s.bundledQuery),readTime:wl(s.readTime)}}(r)})}saveNamedQuery(e,n){return Lk(e).put(function(i){return{name:i.name,readTime:vl(qt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function Mk(t){return yn(t,"bundles")}function Lk(t){return yn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new Iv(e,r)}getOverlay(e,n){return xd(e).get(Ok(this.userId,n)).next(r=>r?Gw(this.serializer,r):null)}getOverlays(e,n){const r=Zi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new HC(n,o);i.push(this.lt(e,a))}),P.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Jn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(xd(e).H("collectionPathOverlayIndex",a))}),P.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Zi(),s=Jn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xd(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Gw(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Zi();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return xd(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=Gw(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}lt(e,n){return xd(e).put(function(i,s,o){const[a,l,u]=Ok(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:jf(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function xd(t){return yn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ot(e.integerValue));else if("doubleValue"in e){const r=Ot(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Mf(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(jo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?vU(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):ee()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),Q.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Ra.St=new Ra;function Wte(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function $k(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Wte(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class qte{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=$k(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=$k(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Hte{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Gte{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Rd{constructor(){this.Wt=new qte,this.Gt=new Hte(this.Wt),this.zt=new Gte(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Pa(this.indexId,this.documentKey,this.arrayValue,r)}}function Ys(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Fk(t.arrayValue,e.arrayValue),n!==0?n:(n=Fk(t.directionalValue,e.directionalValue),n!==0?n:Q.comparator(t.documentKey,e.documentKey)))}function Fk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.Jt=new nt((n,r)=>wt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ae(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=eI(e);if(n!==void 0&&!this.tn(n))return!1;const r=Ea(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new nt(wt.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new cg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new cg(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new cg(r.field,r.dir==="asc"?0:1)));return new Ay(Ay.UNKNOWN_ID,this.collectionId,n,Df.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t){var e,n;if(ae(t instanceof $e||t instanceof Je),t instanceof $e){if(t instanceof xU){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>$e.create(t.field,"==",s)))||[];return Je.create(i,"or")}return t}const r=t.filters.map(i=>lB(i));return Je.create(r,t.op)}function Kte(t){if(t.getFilters().length===0)return[];const e=fI(lB(t));return ae(uB(e)),dI(e)||hI(e)?[e]:e.getFilters()}function dI(t){return t instanceof $e}function hI(t){return t instanceof Je&&UC(t)}function uB(t){return dI(t)||hI(t)||function(n){if(n instanceof Je&&iI(n)){for(const r of n.getFilters())if(!dI(r)&&!hI(r))return!1;return!0}return!1}(t)}function fI(t){if(ae(t instanceof $e||t instanceof Je),t instanceof $e)return t;if(t.filters.length===1)return fI(t.filters[0]);const e=t.filters.map(r=>fI(r));let n=Je.create(e,t.op);return n=My(n),uB(n)?n:(ae(n instanceof Je),ae(pc(n)),ae(n.filters.length>1),n.filters.reduce((r,i)=>YC(r,i)))}function YC(t,e){let n;return ae(t instanceof $e||t instanceof Je),ae(e instanceof $e||e instanceof Je),n=t instanceof $e?e instanceof $e?function(i,s){return Je.create([i,s],"and")}(t,e):Uk(t,e):e instanceof $e?Uk(e,t):function(i,s){if(ae(i.filters.length>0&&s.filters.length>0),pc(i)&&pc(s))return bU(i,s.getFilters());const o=iI(i)?i:s,a=iI(i)?s:i,l=o.filters.map(u=>YC(u,a));return Je.create(l,"or")}(t,e),My(n)}function Uk(t,e){if(pc(e))return bU(e,t.getFilters());{const n=e.filters.map(r=>YC(t,r));return Je.create(n,"or")}}function My(t){if(ae(t instanceof $e||t instanceof Je),t instanceof $e)return t;const e=t.getFilters();if(e.length===1)return My(e[0]);if(TU(t))return t;const n=e.map(i=>My(i)),r=[];return n.forEach(i=>{i instanceof $e?r.push(i):i instanceof Je&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Je.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(){this.on=new XC}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(jr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class XC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Uint8Array(0);class Yte{constructor(e,n){this.user=e,this.databaseId=n,this._n=new XC,this.an=new oa(r=>gl(r),(r,i)=>kp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:Jn(i)};return Bk(e).put(s)}return P.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[aU(n),""],!1,!0);return Bk(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Ji(o.parent))}return r})}addFieldIndex(e,n){const r=Pd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Zl(e);return s.next(a=>{o.put(Dk(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Pd(e),i=Zl(e),s=Jl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Pd(e),r=Jl(e),i=Zl(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return P.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new Vk(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Jl(e);let i=!0;const s=new Map;return P.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=be();const a=[];return P.forEach(s,(l,u)=>{$("IndexedDbIndexManager",`Using index ${function(v){return`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(l)} to execute ${gl(n)}`);const c=function(v,w){const I=eI(w);if(I===void 0)return null;for(const b of Ny(v,I.fieldPath))switch(b.op){case"array-contains-any":return b.value.arrayValue.values||[];case"array-contains":return[b.value]}return null}(u,l),d=function(v,w){const I=new Map;for(const b of Ea(w))for(const T of Ny(v,b.fieldPath))switch(T.op){case"==":case"in":I.set(b.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return I.set(b.fieldPath.canonicalString(),T.value),Array.from(I.values())}return null}(u,l),h=function(v,w){const I=[];let b=!0;for(const T of Ea(w)){const R=T.kind===0?vk(v,T.fieldPath,v.startAt):wk(v,T.fieldPath,v.startAt);I.push(R.value),b&&(b=R.inclusive)}return new qo(I,b)}(u,l),f=function(v,w){const I=[];let b=!0;for(const T of Ea(w)){const R=T.kind===0?wk(v,T.fieldPath,v.endAt):vk(v,T.fieldPath,v.endAt);I.push(R.value),b&&(b=R.inclusive)}return new qo(I,b)}(u,l),p=this.ln(l,u,h),g=this.ln(l,u,f),_=this.hn(l,u,d),m=this.Pn(l.indexId,c,p,h.inclusive,g,f.inclusive,_);return P.forEach(m,y=>r.j(y,n.limit).next(v=>{v.forEach(w=>{const I=Q.fromSegments(w.documentKey);o.has(I)||(o=o.add(I),a.push(I))})}))}).next(()=>a)}return P.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=Kte(Je.create(e.filters,"and")).map(r=>oI(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.In(n[d/u]):Dm,f=this.Tn(e,h,r[d%u],i),p=this.En(e,h,s[d%u],o),g=a.map(_=>this.Tn(e,h,_,!0));c.push(...this.createRange(f,p,g))}return c}Tn(e,n,r,i){const s=new Pa(e,Q.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new Pa(e,Q.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new Vk(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return P.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new nt(wt.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new Rd;for(const i of Ea(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);Ra.St.ht(s,o)}return r.Ut()}In(e){const n=new Rd;return Ra.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Rd;return Ra.St.ht(ml(this.databaseId,n),r.jt(function(s){const o=Ea(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new Rd);let s=0;for(const o of Ea(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&Ff(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);Ra.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Rd;l.seed(a.Ut()),Ra.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof $e&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Pd(e),i=Zl(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return P.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new Df(d.sequenceNumber,new jr(wl(d.readTime),new Q(Ji(d.documentKey)),d.largestBatchId)):Df.empty(),f=c.fields.map(([p,g])=>new cg(wt.fromServerFormat(p),g));return new Ay(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ie(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Pd(e),s=Zl(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>P.forEach(a,l=>s.put(Dk(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return P.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?P.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),P.forEach(a,l=>this.gn(e,i,l).next(u=>{const c=this.pn(s,l);return u.isEqual(c)?P.resolve():this.yn(e,s,l,u,c)}))))})}wn(e,n,r,i){return Jl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Jl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Jl(e);let s=new nt(Ys);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new Pa(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new nt(Ys);const i=this.dn(n,e);if(i==null)return r;const s=eI(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Ff(o))for(const a of o.arrayValue.values||[])r=r.add(new Pa(n.indexId,e.key,this.In(a),i))}else r=r.add(new Pa(n.indexId,e.key,Dm,i));return r}yn(e,n,r,i,s){$("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),p=u.getIterator();let g=Xl(f),_=Xl(p);for(;g||_;){let m=!1,y=!1;if(g&&_){const v=c(g,_);v<0?y=!0:v>0&&(m=!0)}else g!=null?y=!0:m=!0;m?(d(_),_=Xl(p)):y?(h(g),g=Xl(f)):(g=Xl(f),_=Xl(p))}}(i,s,Ys,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),P.waitFor(o)}fn(e){let n=1;return Zl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ys(o,a)).filter((o,a,l)=>!a||Ys(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ys(o,e),l=Ys(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Dm,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Dm,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return Ys(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(jk)}getMinOffset(e,n){return P.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||ee())).next(jk)}}function Bk(t){return yn(t,"collectionParents")}function Jl(t){return yn(t,"indexEntries")}function Pd(t){return yn(t,"indexConfiguration")}function Zl(t){return yn(t,"indexState")}function jk(t){ae(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;$C(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new jr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ir{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{ae(a===1)}));const u=[];for(const c of n.mutations){const d=fU(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return P.waitFor(s).next(()=>u)}function Ly(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ee();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class bv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){ae(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new bv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=fu(e),o=Xs(e);return o.add({}).next(a=>{ae(typeof a=="number");const l=new WC(a,n,r,i),u=function(f,p,g){const _=g.baseMutations.map(y=>jf(f.ut,y)),m=g.mutations.map(y=>jf(f.ut,y));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:_,mutations:m}}(this.serializer,this.userId,l),c=[];let d=new nt((h,f)=>Ie(h.canonicalString(),f.canonicalString()));for(const h of i){const f=fU(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,Fee))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),P.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Xs(e).get(n).next(r=>r?(ae(r.userId===this.userId),xa(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?P.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Xs(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ae(a.batchId>=r),s=xa(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Xs(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).W("userMutationsIndex",n).next(r=>r.map(i=>xa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=dg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return fu(e).Y({range:i},(o,a,l)=>{const[u,c,d]=o,h=Ji(c);if(u===this.userId&&n.path.isEqual(h))return Xs(e).get(d).next(f=>{if(!f)throw ee();ae(f.userId===this.userId),s.push(xa(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(Ie);const i=[];return n.forEach(s=>{const o=dg(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=fu(e).Y({range:a},(u,c,d)=>{const[h,f,p]=u,g=Ji(f);h===this.userId&&s.path.isEqual(g)?r=r.add(p):d.done()});i.push(l)}),P.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=dg(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new nt(Ie);return fu(e).Y({range:o},(l,u,c)=>{const[d,h,f]=l,p=Ji(h);d===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):c.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Xs(e).get(s).next(o=>{if(o===null)throw ee();ae(o.userId===this.userId),r.push(xa(this.serializer,o))}))}),P.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return cB(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),P.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return P.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return fu(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Ji(s[1]);i.push(l)}else a.done()}).next(()=>{ae(i.length===0)})})}containsKey(e,n){return dB(e,this.userId,n)}Mn(e){return hB(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function dB(t,e,n){const r=dg(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return fu(t).Y({range:s,J:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Xs(t){return yn(t,"mutations")}function fu(t){return yn(t,"documentMutations")}function hB(t){return yn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new El(0)}static Nn(){return new El(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new El(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ue.fromTimestamp(new Tt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>eu(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ae(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return eu(e).Y((o,a)=>{const l=th(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>P.waitFor(s)).next(()=>i)}forEachTarget(e,n){return eu(e).Y((r,i)=>{const s=th(i);n(s)})}Bn(e){return Wk(e).get("targetGlobalKey").next(n=>(ae(n!==null),n))}Ln(e,n){return Wk(e).put("targetGlobalKey",n)}kn(e,n){return eu(e).put(aB(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=gl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return eu(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=th(a);kp(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=oo(e);return n.forEach(o=>{const a=Jn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),P.waitFor(i)}removeMatchingKeys(e,n,r){const i=oo(e);return P.forEach(n,s=>{const o=Jn(s.path);return P.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=oo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=oo(e);let s=be();return i.Y({range:r,J:!0},(o,a,l)=>{const u=Ji(o[1]),c=new Q(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Jn(n.path),i=IDBKeyRange.bound([r],[aU(r)],!1,!0);let s=0;return oo(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return eu(e).get(n).next(r=>r?th(r):null)}}function eu(t){return yn(t,"targets")}function Wk(t){return yn(t,"targetGlobal")}function oo(t){return yn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk([t,e],[n,r]){const i=Ie(t,n);return i===0?Ie(e,r):i}class Jte{constructor(e){this.Qn=e,this.buffer=new nt(qk),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Zte{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sa(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ia(n)}await this.Gn(3e5)})}}class ene{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(ur._e);const r=new Jte(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(zk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zk):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),uu()<=xe.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function tne(t,e){return new ene(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,n){this.db=e,this.garbageCollector=tne(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return Mm(e,r)}removeReference(e,n,r){return Mm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Mm(e,n)}Xn(e,n){return function(i,s){let o=!1;return hB(i).Z(a=>dB(i,a,s).next(l=>(l&&(o=!0),P.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ue.min()),oo(e).delete(function(d){return[0,Jn(d.path)]}(o))))});i.push(l)}}).next(()=>P.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Mm(e,n)}Zn(e,n){const r=oo(e);let i,s=ur._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==ur._e&&n(new Q(Ji(i)),s),s=u,i=l):s=ur._e}).next(()=>{s!==ur._e&&n(new Q(Ji(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mm(t,e){return oo(t).put(function(r,i){return{targetId:0,path:Jn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ha(e).put(r)}removeEntry(e,n,r){return ha(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Dy(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=pt.newInvalidDocument(n);return ha(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:pt.newInvalidDocument(n)};return ha(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(n))},(i,s)=>{r={document:this.tr(n,s),size:Ly(s)}}).next(()=>r)}getEntries(e,n){let r=dr();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=dr(),i=new ut(Q.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Ly(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return P.resolve();let i=new nt(Kk);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Ad(i.first()),Ad(i.last())),o=i.getIterator();let a=o.getNext();return ha(e).Y({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=Q.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&Kk(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.U(Ad(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Dy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ha(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=dr();for(const d of u){const h=this.tr(Q.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Op(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=dr();const o=Gk(n,r),a=Gk(n,jr.max());return ha(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.tr(Q.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new ine(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Hk(e).get("remoteDocumentGlobalKey").next(n=>(ae(!!n),n))}er(e,n){return Hk(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=jte(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ue.min())))return r}return pt.newInvalidDocument(e)}}function pB(t){return new rne(t)}class ine extends fB{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new oa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new nt((s,o)=>Ie(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=Nk(this._r.serializer,o);i=i.add(s.path.popLast());const u=Ly(l);r+=u-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=Nk(this._r.serializer,o.convertToNoDocument(ue.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),P.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function Hk(t){return yn(t,"remoteDocumentGlobal")}function ha(t){return yn(t,"remoteDocumentsV14")}function Ad(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gk(t,e){const n=e.documentKey.path.toArray();return[t,Dy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Kk(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ie(n[s],r[s]),i)return i;return i=Ie(n.length,r.length),i||(i=Ie(n[n.length-2],r[r.length-2]),i||Ie(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sh(r.mutation,i,cr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=dr();const o=bh(),a=function(){return bh()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ws)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Sh(c.mutation,u,c.mutation.getFieldMask(),Tt.now())):o.set(u.key,cr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new sne(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bh();let i=new ut((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||cr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||be()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=DU();c.forEach(h=>{if(!s.has(h)){const f=jU(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Zi());let a=-1,l=s;return o.next(u=>P.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,be())).next(c=>({batchId:a,changes:OU(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Zd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Zd();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,l=>{const u=function(d,h){return new zs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,pt.newInvalidDocument(c)))});let a=Zd();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Sh(c.mutation,u,cr.empty(),Tt.now()),Op(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qt(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:QC(i.bundledQuery),readTime:qt(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(){this.overlays=new ut(Q.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Zi(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Zi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Zi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HC(n,r));let s=this.lr.get(n);s===void 0&&(s=be(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.hr=new nt(un.Pr),this.Ir=new nt(un.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new un(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new un(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new Q(new je([])),r=new un(n,e),i=new un(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Q(new je([])),r=new un(n,e),i=new un(n,e+1);let s=be();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new un(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Q.comparator(e.key,n.key)||Ie(e.gr,n.gr)}static Tr(e,n){return Ie(e.gr,n.gr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new nt(un.Pr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new un(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),i=new un(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(Ie);return n.forEach(i=>{const s=new un(i,0),o=new un(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),P.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new un(new Q(s),0);let a=new nt(Ie);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ae(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return P.forEach(n.mutations,i=>{const s=new un(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new un(n,0),i=this.yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e){this.Cr=e,this.docs=function(){return new ut(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=dr();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$C(uU(c),r)<=0||(i.has(c.key)||Op(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cne(this)}getSize(e){return P.resolve(this.size)}}class cne extends fB{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(e){this.persistence=e,this.Fr=new oa(n=>gl(n),kp),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Mr=0,this.Or=new JC,this.targetCount=0,this.Nr=El.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new El(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ur(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new dne(this),this.indexManager=new Qte,this.remoteDocumentCache=function(i){return new une(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new oB(n),this.Kr=new one(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ane,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new lne(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new hne(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class hne extends dU{constructor(e){super(),this.currentSequenceNumber=e}}class Sv{constructor(e){this.persistence=e,this.Gr=new JC,this.zr=null}static jr(e){return new Sv(e)}get Hr(){if(this.zr)return this.zr;throw ee()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,r=>{const i=Q.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(e){this.serializer=e}N(e,n,r,i){const s=new vv("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uk,{unique:!0}),l.createObjectStore("documentMutations")}(e),Qk(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=P.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),Qk(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ue.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uk,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return P.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Yee});u.createIndex("collectionPathOverlayIndex",Xee,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Jee,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Vee});u.createIndex("documentKeyIndex",Uee),u.createIndex("collectionGroupIndex",Bee)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Hee}).createIndex("sequenceNumberIndex",Gee,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Kee}).createIndex("documentKeyIndex",Qee,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Ly(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>P.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>P.forEach(a,l=>{ae(l.userId===s.userId);const u=xa(this.serializer,l);return cB(e,s.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new je(o),u=function(d){return[0,Jn(d)]}(l);s.push(n.get(u).next(c=>c?P.resolve():(d=>n.put({targetId:0,path:Jn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>P.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:qee});const r=n.store("collectionParents"),i=new XC,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Jn(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new je(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const c=Ji(a);return s(c.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=th(i),o=aB(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new Q(je.fromString(d.document.name).popFirst(5)):d.noDocument?Q.fromSegments(d.noDocument.path):d.unknownDocument?Q.fromSegments(d.unknownDocument.path):ee()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>P.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=pB(this.serializer),s=new gB(Sv.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:be();xa(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),P.forEach(a,(l,u)=>{const c=new dn(u),d=Iv.ct(this.serializer,c),h=s.getIndexManager(c),f=bv.ct(c,this.serializer,h,s.referenceDelegate);return new mB(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new tI(n,ur._e),l).next()})})}}function Qk(t){t.createObjectStore("targetDocuments",{keyPath:zee}).createIndex("documentTargetsIndex",Wee,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jee,{unique:!0}),t.createObjectStore("targetGlobal")}const Kw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ZC{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=c,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!ZC.D())throw new L(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nne(this,i),this.Ii=n+"main",this.serializer=new oB(l),this.Ti=new bi(this.Ii,this.ai,new fne(this.serializer)),this.qr=new Xte(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pB(this.serializer),this.Kr=new zte,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,c===!1&&Wt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(k.FAILED_PRECONDITION,Kw);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ur(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(sa(e))return $("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return kd(e).get("owner").next(n=>P.resolve(this.wi(n)))}Si(e){return Lm(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=yn(n,"clientMetadata");return r.W().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return P.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?P.resolve(!0):kd(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new L(k.FAILED_PRECONDITION,Kw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lm(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&$("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new tI(e,ur._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Lm(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return bv.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yte(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Iv.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){$("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?ete:l===14?gU:l===13?mU:l===12?Zee:l===11?pU:void ee()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new tI(a,this.Lr?this.Lr.next():ur._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new L(k.FAILED_PRECONDITION,cU);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return kd(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new L(k.FAILED_PRECONDITION,Kw)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kd(e).put("owner",n)}static D(){return bi.D()}pi(e){const n=kd(e);return n.get("owner").next(r=>this.wi(r)?($("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):P.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;tq()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return $("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kd(t){return yn(t,"owner")}function Lm(t){return yn(t,"clientMetadata")}function ex(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new pne;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(uu()<=xe.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(uu()<=xe.DEBUG&&$("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(uu()<=xe.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):P.resolve())}zi(e,n){if(Ek(n))return P.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Oy(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Oy(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return Ek(n)||i.isEqual(ue.min())?P.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?P.resolve(null):(uu()<=xe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.Xi(e,o,n,lU(i,-1)).next(a=>a))})}Yi(e,n){let r=new nt(kU(e));return n.forEach((i,s)=>{Op(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return uu()<=xe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",cu(n)),this.Gi.getDocumentsMatchingQuery(e,n,jr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ut(Ie),this.ns=new oa(s=>gl(s),kp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mB(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function _B(t,e,n,r){return new mne(t,e,n,r)}async function vB(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=be();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function gne(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=P.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const _=u.docVersions.get(p);ae(_!==null),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wB(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function yne(t,e){const n=X(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(sn.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(g,_,m){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=dr(),u=be();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(EB(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(ue.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function EB(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=dr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function _ne(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _c(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new bs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function vc(t,e,n){const r=X(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!sa(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function $y(t,e,n){const r=X(t);let i=ue.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=X(l),h=d.ns.get(c);return h!==void 0?P.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:be())).next(a=>(bB(r,AU(e),a),{documents:a,ls:s})))}function TB(t,e){const n=X(t),r=X(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function IB(t,e){const n=X(t),r=n.rs.get(e)||ue.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,lU(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(bB(n,e,i),i))}function bB(t,e,n){let r=t.rs.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}async function vne(t,e,n,r){const i=X(t);let s=be(),o=dr();for(const u of n){const c=e.hs(u.metadata.name);u.document&&(s=s.add(c));const d=e.Ps(u);d.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(c,d)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await _c(i,function(c){return Zn(Gc(je.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>EB(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.us,c.cs)).next(()=>c.us)))}async function wne(t,e,n=be()){const r=await _c(t,Zn(QC(e.bundledQuery))),i=X(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=qt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(sn.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}function Yk(t,e){return`firestore_clients_${t}_${e}`}function Xk(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Qw(t,e){return`firestore_targets_${t}_${e}`}class Fy{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new L(i.error.code,i.error.message))),o?new Fy(e,n,i.state,s):(Wt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ch{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new L(r.error.code,r.error.message))),s?new Ch(e,r.state,i):(Wt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=jC();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=hU(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Vy(e,s):(Wt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class nx{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new nx(n.clientId,n.onlineState):(Wt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pI{constructor(){this.activeTargetIds=jC()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yw{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ut(Ie),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=Yk(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new pI),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const i=this.getItem(Yk(this.persistenceKey,r));if(i){const s=Vy.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Qw(this.persistenceKey,e));if(r){const i=Ch.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Qw(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return $("SharedClientState","READ",e,n),n}setItem(e,n){$("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){$("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if($("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(s){let o=ur._e;if(s!=null)try{const a=JSON.parse(s);ae(typeof a=="number"),o=a}catch(a){Wt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==ur._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new Fy(this.currentUser,e,n,r),s=Xk(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=Xk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const i=Qw(this.persistenceKey,e),s=new Ch(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return Vy.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Fy.Ts(new dn(s),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Ch.Ts(i,n)}Ms(e){return nx.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);$("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=jC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class SB{constructor(){this.eo=new pI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new pI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m=null;function Xw(){return $m===null?$m=function(){return 268435456+Math.round(2147483648*Math.random())}():$m++,"0x"+$m.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class bne extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Xw(),l=this.So(n,r);$("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>($("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Oi("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=Tne[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Xw();return new Promise((o,a)=>{const l=new vee;l.setWithCredentials(!0),l.listenOnce(yee.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hw.NO_ERROR:const c=l.getResponseJson();$(Mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Hw.TIMEOUT:$(Mn,`RPC '${e}' ${s} timed out`),a(new L(k.DEADLINE_EXCEEDED,"Request time out"));break;case Hw.HTTP_ERROR:const d=l.getStatus();if($(Mn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(m)>=0?m:k.UNKNOWN}(f.status);a(new L(p,f.message))}else a(new L(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(k.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{$(Mn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);$(Mn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=Xw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mee(),a=gee(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");$(Mn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new Ine({co:_=>{f?$(Mn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||($(Mn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),$(Mn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),g=(_,m,y)=>{_.listen(m,v=>{try{y(v)}catch(w){setTimeout(()=>{throw w},0)}})};return g(d,Nm.EventType.OPEN,()=>{f||$(Mn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Nm.EventType.CLOSE,()=>{f||(f=!0,$(Mn,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,Nm.EventType.ERROR,_=>{f||(f=!0,Oi(Mn,`RPC '${e}' stream ${i} transport errored:`,_),p.Ro(new L(k.UNAVAILABLE,"The operation could not be completed")))}),g(d,Nm.EventType.MESSAGE,_=>{var m;if(!f){const y=_.data[0];ae(!!y);const v=y,w=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(w){$(Mn,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let b=function(O){const x=Kt[O];if(x!==void 0)return qU(x)}(I),T=w.message;b===void 0&&(b=k.INTERNAL,T="Unknown error status: "+I+" with message "+w.message),f=!0,p.Ro(new L(b,T)),d.close()}else $(Mn,`RPC '${e}' stream ${i} received:`,y),p.Vo(y)}}),g(a,_ee.STAT_EVENT,_=>{_.stat===sk.PROXY?$(Mn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===sk.NOPROXY&&$(Mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(){return typeof window<"u"?window:null}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){return new Nte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new rx(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Wt(n.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new L(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sne extends xB{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=Mte(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?qt(o.readTime):ue.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Bf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ky(l)?{documents:eB(s,l)}:{query:tB(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QU(s,o.resumeToken);const u=lI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=yc(s,o.snapshotVersion.toTimestamp());const u=lI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=$te(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Bf(this.serializer),n.removeTarget=e,this.e_(n)}}class Cne extends xB{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Lte(e.writeResults,e.commitTime),r=qt(e.commitTime);return this.listener.I_(r,n)}return ae(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Bf(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jf(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(k.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(k.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Rne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Wt(n),this.f_=!1):$("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{aa(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=X(l);u.C_.add(4),await Yc(u),u.M_.set("Unknown"),u.C_.delete(4),await Fp(u)}(this))})}),this.M_=new Rne(r,i)}}async function Fp(t){if(aa(t))for(const e of t.v_)await e(!0)}async function Yc(t){for(const e of t.v_)await e(!1)}function Cv(t,e){const n=X(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),ox(n)?sx(n):Jc(n).Ho()&&ix(n,e))}function zf(t,e){const n=X(t),r=Jc(n);n.D_.delete(e),r.Ho()&&RB(n,e),n.D_.size===0&&(r.Ho()?r.Zo():aa(n)&&n.M_.set("Unknown"))}function ix(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jc(t).u_(e)}function RB(t,e){t.x_.Oe(e),Jc(t).c_(e)}function sx(t){t.x_=new Rte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Jc(t).start(),t.M_.g_()}function ox(t){return aa(t)&&!Jc(t).jo()&&t.D_.size>0}function aa(t){return X(t).C_.size===0}function PB(t){t.x_=void 0}async function Ane(t){t.D_.forEach((e,n)=>{ix(t,e)})}async function kne(t,e){PB(t),ox(t)?(t.M_.w_(e),sx(t)):t.M_.set("Unknown")}async function Nne(t,e,n){if(t.M_.set("Online"),e instanceof KU&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uy(t,r)}else if(e instanceof mg?t.x_.$e(e):e instanceof GU?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ue.min()))try{const r=await wB(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(sn.EMPTY_BYTE_STRING,c.snapshotVersion)),RB(s,l);const d=new bs(c.target,l,u,c.sequenceNumber);ix(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$("RemoteStore","Failed to raise snapshot:",r),await Uy(t,r)}}async function Uy(t,e,n){if(!sa(e))throw e;t.C_.add(1),await Yc(t),t.M_.set("Offline"),n||(n=()=>wB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Fp(t)})}function AB(t,e){return e().catch(n=>Uy(t,n,e))}async function Xc(t){const e=X(t),n=Ho(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;One(e);)try{const i=await _ne(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,Dne(e,i)}catch(i){await Uy(e,i)}kB(e)&&NB(e)}function One(t){return aa(t)&&t.b_.length<10}function Dne(t,e){t.b_.push(e);const n=Ho(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function kB(t){return aa(t)&&!Ho(t).jo()&&t.b_.length>0}function NB(t){Ho(t).start()}async function Mne(t){Ho(t).E_()}async function Lne(t){const e=Ho(t);for(const n of t.b_)e.P_(n.mutations)}async function $ne(t,e,n){const r=t.b_.shift(),i=qC.from(r,e,n);await AB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xc(t)}async function Fne(t,e){e&&Ho(t).h_&&await async function(r,i){if(function(o){return WU(o)&&o!==k.ABORTED}(i.code)){const s=r.b_.shift();Ho(r).Yo(),await AB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xc(r)}}(t,e),kB(t)&&NB(t)}async function Zk(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=aa(n);n.C_.add(3),await Yc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Fp(n)}async function mI(t,e){const n=X(t);e?(n.C_.delete(2),await Fp(n)):e||(n.C_.add(2),await Yc(n),n.M_.set("Unknown"))}function Jc(t){return t.O_||(t.O_=function(n,r,i){const s=X(n);return s.A_(),new Sne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Ane.bind(null,t),Io:kne.bind(null,t),a_:Nne.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),ox(t)?sx(t):t.M_.set("Unknown")):(await t.O_.stop(),PB(t))})),t.O_}function Ho(t){return t.N_||(t.N_=function(n,r,i){const s=X(n);return s.A_(),new Cne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Mne.bind(null,t),Io:Fne.bind(null,t),T_:Lne.bind(null,t),I_:$ne.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Xc(t)):(await t.N_.stop(),t.b_.length>0&&($("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ax(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zc(t,e){if(Wt("AsyncQueue",`${e}: ${t}`),sa(t))return new L(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Zd(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Hu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.B_=new ut(Q.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ee():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wc(e,n,Hu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(){this.k_=void 0,this.listeners=[]}}class Une{constructor(){this.queries=new oa(e=>PU(e),Np),this.onlineState="Unknown",this.q_=new Set}}async function lx(t,e){const n=X(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Vne),i)try{s.k_=await n.onListen(r)}catch(o){const a=Zc(o,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&cx(n)}async function ux(t,e){const n=X(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Bne(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&cx(n)}function jne(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function cx(t){t.q_.forEach(e=>{e.next()})}class dx{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.serializer=e}hs(e){return ns(this.serializer,e)}Ps(e){return e.metadata.exists?ZU(this.serializer,e.document,!1):pt.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return qt(e)}}class Wne{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OB(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=je.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new tN(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||be()).add(s);n.set(o,a)}}return n}async complete(){const e=await vne(this.localStore,new tN(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await wne(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function OB(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.key=e}}class MB{constructor(e){this.key=e}}class LB{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=be(),this.mutatedKeys=be(),this._a=kU(e),this.aa=new Hu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new eN,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Op(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.ha(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,d)=>function(f,p){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return g(f)-g(p)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new wc(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new eN,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=be(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new MB(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new DB(r))}),n}da(e){this.ia=e.ls,this.oa=be();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return wc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class qne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hne{constructor(e){this.key=e,this.Ra=!1}}class Gne{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new oa(a=>PU(a),Np),this.fa=new Map,this.ga=new Set,this.pa=new ut(Q.comparator),this.ya=new Map,this.wa=new JC,this.Sa={},this.ba=new Map,this.Da=El.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Kne(t,e){const n=gx(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await _c(n.localStore,Zn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await hx(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Cv(n.remoteStore,o)}return i}async function hx(t,e,n,r,i){t.va=(d,h,f)=>async function(g,_,m,y){let v=_.view.ca(m);v.Zi&&(v=await $y(g.localStore,_.query,!1).then(({documents:T})=>_.view.ca(T,v)));const w=y&&y.targetChanges.get(_.targetId),I=y&&y.targetMismatches.get(_.targetId)!=null,b=_.view.applyChanges(v,g.isPrimaryClient,w,I);return gI(g,_.targetId,b.Ta),b.snapshot}(t,d,h,f);const s=await $y(t.localStore,e,!0),o=new LB(e,s.ls),a=o.ca(s.documents),l=Lp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);gI(t,n,u.Ta);const c=new qne(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function Qne(t,e){const n=X(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Np(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zf(n.remoteStore,r.targetId),Ec(n,r.targetId)}).catch(ia)):(Ec(n,r.targetId),await vc(n.localStore,r.targetId,!0))}async function Yne(t,e,n){const r=yx(t);try{const i=await function(o,a){const l=X(o),u=Tt.now(),c=a.reduce((f,p)=>f.add(p.key),be());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=dr(),g=be();return l.ss.getEntries(f,c).next(_=>{p=_,p.forEach((m,y)=>{y.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(_=>{d=_;const m=[];for(const y of a){const v=Ste(y,d.get(y.key).overlayedDocument);v!=null&&m.push(new Ws(y.key,v,wU(v.value.mapValue),Et.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(_=>{h=_;const m=_.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,_.batchId,m)})}).then(()=>({batchId:h.batchId,changes:OU(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new ut(Ie)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await qs(r,i.changes),await Xc(r.remoteStore)}catch(i){const s=Zc(i,"Failed to persist write");n.reject(s)}}async function $B(t,e){const n=X(t);try{const r=await yne(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ae(o.Ra):i.removedDocuments.size>0&&(ae(o.Ra),o.Ra=!1))}),await qs(n,r,e)}catch(r){await ia(r)}}function nN(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=X(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&cx(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xne(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new ut(Q.comparator);o=o.insert(s,pt.newNoDocument(s,ue.min()));const a=be().add(s),l=new Mp(ue.min(),new Map,new ut(Ie),o,a);await $B(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),mx(r)}else await vc(r.localStore,e,!1).then(()=>Ec(r,e,n)).catch(ia)}async function Jne(t,e){const n=X(t),r=e.batch.batchId;try{const i=await gne(n.localStore,e);px(n,r,null),fx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qs(n,i)}catch(i){await ia(i)}}async function Zne(t,e,n){const r=X(t);try{const i=await function(o,a){const l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ae(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);px(r,e,n),fx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qs(r,i)}catch(i){await ia(i)}}async function ere(t,e){const n=X(t);aa(n.remoteStore)||$("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=X(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Zc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function fx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function px(t,e,n){const r=X(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Ec(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||FB(t,r)})}function FB(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(zf(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),mx(t))}function gI(t,e,n){for(const r of n)r instanceof DB?(t.wa.addReference(r.key,e),tre(t,r)):r instanceof MB?($("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||FB(t,r.key)):ee()}function tre(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||($("SyncEngine","New document in limbo: "+n),t.ga.add(r),mx(t))}function mx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Q(je.fromString(e)),r=t.Da.next();t.ya.set(r,new Hne(n)),t.pa=t.pa.insert(n,r),Cv(t.remoteStore,new bs(Zn(Gc(n.path)),r,"TargetPurposeLimboResolution",ur._e))}}async function qs(t,e,n){const r=X(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=tx.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=X(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>P.forEach(u,h=>P.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>P.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!sa(d))throw d;$("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(h,g)}}}(r.localStore,s))}async function nre(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=await vB(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new L(k.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qs(n,r._s)}}function rre(t,e){const n=X(t),r=n.ya.get(e);if(r&&r.Ra)return be().add(r.key);{let i=be();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}async function ire(t,e){const n=X(t),r=await $y(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&gI(n,e.targetId,i.Ta),i}async function sre(t,e){const n=X(t);return IB(n.localStore,e).then(r=>qs(n,r))}async function ore(t,e,n,r){const i=X(t),s=await function(a,l){const u=X(a),c=X(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Cn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):P.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Xc(i.remoteStore):n==="acknowledged"||n==="rejected"?(px(i,e,r||null),fx(i,e),function(a,l){X(X(a).mutationQueue).Fn(l)}(i.localStore,e)):ee(),await qs(i,s)):$("SyncEngine","Cannot apply mutation batch with id: "+e)}async function are(t,e){const n=X(t);if(gx(n),yx(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await rN(n,r.toArray());n.Ca=!0,await mI(n.remoteStore,!0);for(const s of i)Cv(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ec(n,o),vc(n.localStore,o,!0))),zf(n.remoteStore,o)}),await i,await rN(n,r),function(o){const a=X(o);a.ya.forEach((l,u)=>{zf(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new ut(Q.comparator)}(n),n.Ca=!1,await mI(n.remoteStore,!1)}}async function rN(t,e,n){const r=X(t),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&l.length!==0){a=await _c(r.localStore,Zn(l[0]));for(const u of l){const c=r.ma.get(u),d=await ire(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await TB(r.localStore,o);a=await _c(r.localStore,u),await hx(r,VB(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}function VB(t){return RU(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function lre(t){return function(n){return X(X(n).persistence).Bi()}(X(t).localStore)}async function ure(t,e,n,r){const i=X(t);if(i.Ca)return void $("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await IB(i.localStore,AU(s[0])),a=Mp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",sn.EMPTY_BYTE_STRING);await qs(i,o,a);break}case"rejected":await vc(i.localStore,e,!0),Ec(i,e,r);break;default:ee()}}async function cre(t,e,n){const r=gx(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){$("SyncEngine","Adding an already active target "+i);continue}const s=await TB(r.localStore,i),o=await _c(r.localStore,s);await hx(r,VB(s),o.targetId,!1,o.resumeToken),Cv(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&await vc(r.localStore,i,!1).then(()=>{zf(r.remoteStore,i),Ec(r,i)}).catch(ia)}}function gx(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$B.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xne.bind(null,e),e.Va.a_=Bne.bind(null,e.eventManager),e.Va.Fa=jne.bind(null,e.eventManager),e}function yx(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zne.bind(null,e),e}function dre(t,e,n){const r=X(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,p){const g=X(f),_=qt(p.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",m=>g.Kr.getBundleMetadata(m,p.id)).then(m=>!!m&&m.createTime.compareTo(_)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(OB(l));const u=new Wne(l,s.localStore,o.serializer);let c=await o.Ma();for(;c;){const h=await u.ea(c);h&&a._updateProgress(h),c=await o.Ma()}const d=await u.complete();return await qs(s,d.ra,void 0),await function(f,p){const g=X(f);return g.persistence.runTransaction("Save bundle","readwrite",_=>g.Kr.saveBundleMetadata(_,p))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.na)}catch(l){return Oi("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class yI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$p(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _B(this.persistence,new yB,e.initialUser,this.serializer)}createPersistence(e){return new gB(Sv.jr,this.serializer)}createSharedClientState(e){return new SB}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class UB extends yI{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await yx(this.xa.syncEngine),await Xc(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return _B(this.persistence,new yB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Zte(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Lee(n,this.persistence);return new Mee(e.asyncQueue,r)}createPersistence(e){const n=ex(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new ZC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,CB(),gg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new SB}}class hre extends UB{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof Yw&&(this.sharedClientState.syncEngine={Ys:ore.bind(null,n),Zs:ure.bind(null,n),Xs:cre.bind(null,n),Bi:lre.bind(null,n),Js:sre.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await are(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=CB();if(!Yw.D(n))throw new L(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ex(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class _x{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nre.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Une}()}createDatastore(e){const n=$p(e.databaseInfo.databaseId),r=function(s){return new bne(s)}(e.databaseInfo);return function(s,o,a,l){return new xne(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Pne(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nN(this.syncEngine,n,0),function(){return Jk.D()?new Jk:new Ene}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new Gne(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=X(n);$("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Yc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new pn,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const i=await this.Ka(r);return new zne(JSON.parse(i),e.length+r)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=X(i),a=Bf(o.serializer)+"/documents",l={documents:s.map(h=>Uf(o.serializer,h))},u=await o.Co("BatchGetDocuments",a,l,s.length),c=new Map;u.forEach(h=>{const f=Dte(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());ae(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=Q.fromPath(r);this.mutations.push(new zC(i,this.precondition(i)))}),await async function(r,i){const s=X(r),o=Bf(s.serializer)+"/documents",a={writes:i.map(l=>jf(s.serializer,l))};await s.wo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ee();n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new L(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?Et.exists(!1):Et.updateTime(n):Et.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new L(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Et.updateTime(n)}return Et.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new rx(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new pre(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!Ap(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!WU(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=oU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{$("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yg(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vB(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _I(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vx(t);$("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Zk(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Zk(e.remoteStore,s)),t._onlineComponents=e}function BB(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function vx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await yg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!BB(n))throw n;Oi("Error using user provided cache. Falling back to memory cache: "+n),await yg(t,new yI)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await yg(t,new yI);return t._offlineComponents}async function Rv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await _I(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await _I(t,new _x))),t._onlineComponents}function jB(t){return vx(t).then(e=>e.persistence)}function wx(t){return vx(t).then(e=>e.localStore)}function zB(t){return Rv(t).then(e=>e.remoteStore)}function Ex(t){return Rv(t).then(e=>e.syncEngine)}function yre(t){return Rv(t).then(e=>e.datastore)}async function Tc(t){const e=await Rv(t),n=e.eventManager;return n.onListen=Kne.bind(null,e.syncEngine),n.onUnlisten=Qne.bind(null,e.syncEngine),n}function _re(t){return t.asyncQueue.enqueue(async()=>{const e=await jB(t),n=await zB(t);return e.setNetworkEnabled(!0),function(i){const s=X(i);return s.C_.delete(0),Fp(s)}(n)})}function vre(t){return t.asyncQueue.enqueue(async()=>{const e=await jB(t),n=await zB(t);return e.setNetworkEnabled(!1),async function(i){const s=X(i);s.C_.add(0),await Yc(s),s.M_.set("Offline")}(n)})}function wre(t,e){const n=new pn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=X(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new L(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Zc(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await wx(t),e,n)),n.promise}function WB(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new xv({next:h=>{o.enqueueAndForget(()=>ux(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new L(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new L(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new dx(Gc(a.path),c,{includeMetadataChanges:!0,J_:!0});return lx(s,d)}(await Tc(t),t.asyncQueue,e,n,r)),r.promise}function Ere(t,e){const n=new pn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await $y(i,s,!0),l=new LB(s,a.ls),u=l.ca(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=Zc(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await wx(t),e,n)),n.promise}function qB(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new xv({next:h=>{o.enqueueAndForget(()=>ux(s,d)),h.fromCache&&l.source==="server"?u.reject(new L(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new dx(a,c,{includeMetadataChanges:!0,J_:!0});return lx(s,d)}(await Tc(t),t.asyncQueue,e,n,r)),r.promise}function Tre(t,e){const n=new xv(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.add(s),s.next()}(await Tc(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.delete(s)}(await Tc(t),n))}}function Ire(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?HU().encode(o):o,function(c,d){return new fre(c,d)}(function(c,d){if(c instanceof Uint8Array)return iN(c,d);if(c instanceof ArrayBuffer)return iN(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,$p(e));t.asyncQueue.enqueueAndForget(async()=>{dre(await Ex(t),i,r)})}function bre(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=X(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(await wx(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e,n){if(!n)throw new L(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GB(t,e,n,r){if(e===!0&&r===!0)throw new L(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oN(t){if(!Q.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aN(t){if(Q.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function We(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pv(t);throw new L(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function KB(t,e){if(e<=0)throw new L(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HB((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lN(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bee;switch(r.type){case"firstParty":return new Ree(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sN.get(n);r&&($("ComponentProvider","Removing Datastore"),sN.delete(n),r.terminate())}(this),Promise.resolve()}}function Sre(t,e,n,r={}){var i;const s=(t=We(t,Vp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=dn.MOCK_USER;else{a=iS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dn(u)}t._authCredentials=new See(new sU(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er=class QB{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new QB(this.firestore,e,this._query)}},Ct=class YB{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new YB(this.firestore,e,this._key)}},Po=class XB extends er{constructor(e,n,r){super(e,n,Gc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Q(e))}withConverter(e){return new XB(this.firestore,e,this._path)}};function JB(t,e,...n){if(t=ie(t),Tx("collection","path",e),t instanceof Vp){const r=je.fromString(e,...n);return aN(r),new Po(t,null,r)}{if(!(t instanceof Ct||t instanceof Po))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return aN(r),new Po(t.firestore,null,r)}}function Cre(t,e){if(t=We(t,Vp),Tx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new er(t,null,function(r){return new zs(je.emptyPath(),r)}(e))}function By(t,e,...n){if(t=ie(t),arguments.length===1&&(e=oU.newId()),Tx("doc","path",e),t instanceof Vp){const r=je.fromString(e,...n);return oN(r),new Ct(t,null,new Q(r))}{if(!(t instanceof Ct||t instanceof Po))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return oN(r),new Ct(t.firestore,t instanceof Po?t.converter:null,new Q(r))}}function ZB(t,e){return t=ie(t),e=ie(e),(t instanceof Ct||t instanceof Po)&&(e instanceof Ct||e instanceof Po)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function e4(t,e){return t=ie(t),e=ie(e),t instanceof er&&e instanceof er&&t.firestore===e.firestore&&Np(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new rx(this,"async_queue_retry"),this.iu=()=>{const n=gg();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=gg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new pn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!sa(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ax.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ee()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function vI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Rre{constructor(){this._progressObserver={},this._taskCompletionResolver=new pn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre=-1;let Vt=class extends Vp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new xre}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||t4(this),this._firestoreClient.terminate()}};function _n(t){return t._firestoreClient||t4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function t4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new rte(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,HB(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new gre(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Are(t,e){r4(t=We(t,Vt));const n=_n(t);if(n._uninitializedComponentsProvider)throw new L(k.FAILED_PRECONDITION,"SDK cache is already specified.");Oi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new _x;return n4(n,i,new UB(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function kre(t){r4(t=We(t,Vt));const e=_n(t);if(e._uninitializedComponentsProvider)throw new L(k.FAILED_PRECONDITION,"SDK cache is already specified.");Oi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new _x;return n4(e,r,new hre(r,n.cacheSizeBytes))}function n4(t,e,n){const r=new pn;return t.asyncQueue.enqueue(async()=>{try{await yg(t,n),await _I(t,e),r.resolve()}catch(i){const s=i;if(!BB(s))throw s;Oi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Nre(t){if(t._initialized&&!t._terminated)throw new L(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!bi.D())return Promise.resolve();const i=r+"main";await bi.delete(i)}(ex(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Ore(t){return function(n){const r=new pn;return n.asyncQueue.enqueueAndForget(async()=>ere(await Ex(n),r)),r.promise}(_n(t=We(t,Vt)))}function Dre(t){return _re(_n(t=We(t,Vt)))}function Mre(t){return vre(_n(t=We(t,Vt)))}function Lre(t,e){const n=_n(t=We(t,Vt)),r=new Rre;return Ire(n,t._databaseId,e,r),r}function $re(t,e){return bre(_n(t=We(t,Vt)),e).then(n=>n?new er(t,null,n.query):null)}function r4(t){if(t._initialized||t._terminated)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cs(sn.fromBase64String(e))}catch(n){throw new L(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cs(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fre=/^__.*__$/;class Vre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class i4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class kv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new kv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return jy(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(s4(this.Iu)&&Fre.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Ure{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$p(e)}pu(e,n,r,i=!1){return new kv({Iu:e,methodName:n,gu:r,path:wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fl(t){const e=t._freezeSettings(),n=$p(t._databaseId);return new Ure(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nv(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Cx("Data must be an object, but it was:",o,r);const a=l4(r,o);let l,u;if(s.merge)l=new cr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=wI(e,d,n);if(!o.contains(h))throw new L(k.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);c4(c,h)||c.push(h)}l=new cr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Vre(new xn(a),l,u)}class Up extends $l{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Up}}function o4(t,e,n){return new kv({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ix extends $l{_toFieldTransform(e){return new Dp(e.path,new mc)}isEqual(e){return e instanceof Ix}}class Bre extends $l{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=o4(this,e,!0),r=this.yu.map(s=>Vl(s,n)),i=new yl(r);return new Dp(e.path,i)}isEqual(e){return this===e}}class jre extends $l{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=o4(this,e,!0),r=this.yu.map(s=>Vl(s,n)),i=new _l(r);return new Dp(e.path,i)}isEqual(e){return this===e}}class zre extends $l{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new gc(e.serializer,$U(e.serializer,this.wu));return new Dp(e.path,n)}isEqual(e){return this===e}}function bx(t,e,n,r){const i=t.pu(1,e,n);Cx("Data must be an object, but it was:",i,r);const s=[],o=xn.empty();Ll(r,(l,u)=>{const c=xx(e,l,n);u=ie(u);const d=i.Ru(c);if(u instanceof Up)s.push(c);else{const h=Vl(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new cr(s);return new i4(o,a,i.fieldTransforms)}function Sx(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[wI(e,r,n)],l=[i];if(s.length%2!=0)throw new L(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(wI(e,s[h])),l.push(s[h+1]);const u=[],c=xn.empty();for(let h=a.length-1;h>=0;--h)if(!c4(u,a[h])){const f=a[h];let p=l[h];p=ie(p);const g=o.Ru(f);if(p instanceof Up)u.push(f);else{const _=Vl(p,g);_!=null&&(u.push(f),c.set(f,_))}}const d=new cr(u);return new i4(c,d,o.fieldTransforms)}function a4(t,e,n,r=!1){return Vl(n,t.pu(r?4:3,e))}function Vl(t,e){if(u4(t=ie(t)))return Cx("Unsupported field value:",e,t),l4(t,e);if(t instanceof $l)return function(r,i){if(!s4(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Vl(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ie(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $U(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Tt.fromDate(r);return{timestampValue:yc(i.serializer,s)}}if(r instanceof Tt){const s=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yc(i.serializer,s)}}if(r instanceof Av)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cs)return{bytesValue:QU(i.serializer,r._byteString)};if(r instanceof Ct){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:KC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Pv(r)}`)}(t,e)}function l4(t,e){const n={};return yU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ll(t,(r,i)=>{const s=Vl(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function u4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Av||t instanceof cs||t instanceof Ct||t instanceof $l)}function Cx(t,e,n){if(!u4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Pv(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function wI(t,e,n){if((e=ie(e))instanceof Go)return e._internalPath;if(typeof e=="string")return xx(t,e);throw jy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wre=new RegExp("[~\\*/\\[\\]]");function xx(t,e,n){if(e.search(Wre)>=0)throw jy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Go(...e.split("."))._internalPath}catch{throw jy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new L(k.INVALID_ARGUMENT,a+t+l)}function c4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qre extends Wf{data(){return super.data()}}function Ov(t,e){return typeof e=="string"?xx(t,e):e instanceof Go?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rx{}class Bp extends Rx{}function Js(t,e,...n){let r=[];e instanceof Rx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Px).length,a=s.filter(l=>l instanceof Dv).length;if(o>1||o>0&&a>0)throw new L(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Dv extends Bp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dv(e,n,r)}_apply(e){const n=this._parse(e);return f4(e._query,n),new er(e.firestore,e.converter,aI(e._query,n))}_parse(e){const n=Fl(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new L(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){cN(d,c);const f=[];for(const p of d)f.push(uN(l,s,p));h={arrayValue:{values:f}}}else h=uN(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||cN(d,c),h=a4(a,o,d,c==="in"||c==="not-in");return $e.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hre(t,e,n){const r=e,i=Ov("where",t);return Dv._create(i,r,n)}class Px extends Rx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Px(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Je.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)f4(o,l),o=aI(o,l)}(e._query,n),new er(e.firestore,e.converter,aI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ax extends Bp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ax(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new L(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vf(s,o)}(e._query,this._field,this._direction);return new er(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new zs(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Gre(t,e="asc"){const n=e,r=Ov("orderBy",t);return Ax._create(r,n)}class Mv extends Bp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Mv(e,n,r)}_apply(e){return new er(e.firestore,e.converter,Oy(e._query,this._limit,this._limitType))}}function Kre(t){return KB("limit",t),Mv._create("limit",t,"F")}function Qre(t){return KB("limitToLast",t),Mv._create("limitToLast",t,"L")}class Lv extends Bp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Lv(e,n,r)}_apply(e){const n=h4(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,s){return new zs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Yre(...t){return Lv._create("startAt",t,!0)}function Xre(...t){return Lv._create("startAfter",t,!1)}class $v extends Bp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new $v(e,n,r)}_apply(e){const n=h4(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,s){return new zs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function Jre(...t){return $v._create("endBefore",t,!1)}function Zre(...t){return $v._create("endAt",t,!0)}function h4(t,e,n,r){if(n[0]=ie(n[0]),n[0]instanceof Wf)return function(s,o,a,l,u){if(!l)throw new L(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of qu(s))if(d.field.isKeyField())c.push(ml(o,l.key));else{const h=l.data.field(d.field);if(wv(h))throw new L(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new L(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new qo(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Fl(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new L(k.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<c.length;p++){const g=c[p];if(h[p].field.isKeyField()){if(typeof g!="string")throw new L(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!BC(o)&&g.indexOf("/")!==-1)throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const _=o.path.child(je.fromString(g));if(!Q.isDocumentKey(_))throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const m=new Q(_);f.push(ml(a,m))}else{const _=a4(l,u,g);f.push(_)}}return new qo(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function uN(t,e,n){if(typeof(n=ie(n))=="string"){if(n==="")throw new L(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BC(e)&&n.indexOf("/")!==-1)throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!Q.isDocumentKey(r))throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ml(t,new Q(r))}if(n instanceof Ct)return ml(t,n._key);throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pv(n)}.`)}function cN(t,e){if(!Array.isArray(t)||t.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f4(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kx{convertValue(e,n="none"){switch(pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ll(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Av(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=VC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lf(e));default:return null}}convertTimestamp(e){const n=Bo(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);ae(sB(r));const i=new zo(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Wt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class eie extends kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new cs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let $s=class extends Wf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ov("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},xh=class extends $s{data(e={}){return super.data(e)}},Ko=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Va(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xh(this._firestore,this._userDataWriter,r.key,r,new Va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new xh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Va(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new xh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Va(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:tie(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function tie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function p4(t,e){return t instanceof $s&&e instanceof $s?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ko&&e instanceof Ko&&t._firestore===e._firestore&&e4(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(t){t=We(t,Ct);const e=We(t.firestore,Vt);return WB(_n(e),t._key).then(n=>Nx(e,t,n))}class Ul extends kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new cs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function rie(t){t=We(t,Ct);const e=We(t.firestore,Vt),n=_n(e),r=new Ul(e);return wre(n,t._key).then(i=>new $s(e,r,t._key,i,new Va(i!==null&&i.hasLocalMutations,!0),t.converter))}function iie(t){t=We(t,Ct);const e=We(t.firestore,Vt);return WB(_n(e),t._key,{source:"server"}).then(n=>Nx(e,t,n))}function sie(t){t=We(t,er);const e=We(t.firestore,Vt),n=_n(e),r=new Ul(e);return d4(t._query),qB(n,t._query).then(i=>new Ko(e,r,t,i))}function oie(t){t=We(t,er);const e=We(t.firestore,Vt),n=_n(e),r=new Ul(e);return Ere(n,t._query).then(i=>new Ko(e,r,t,i))}function aie(t){t=We(t,er);const e=We(t.firestore,Vt),n=_n(e),r=new Ul(e);return qB(n,t._query,{source:"server"}).then(i=>new Ko(e,r,t,i))}function dN(t,e,n){t=We(t,Ct);const r=We(t.firestore,Vt),i=Fv(t.converter,e,n);return jp(r,[Nv(Fl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Et.none())])}function hN(t,e,n,...r){t=We(t,Ct);const i=We(t.firestore,Vt),s=Fl(i);let o;return o=typeof(e=ie(e))=="string"||e instanceof Go?Sx(s,"updateDoc",t._key,e,n,r):bx(s,"updateDoc",t._key,e),jp(i,[o.toMutation(t._key,Et.exists(!0))])}function lie(t){return jp(We(t.firestore,Vt),[new Qc(t._key,Et.none())])}function uie(t,e){const n=We(t.firestore,Vt),r=By(t),i=Fv(t.converter,e);return jp(n,[Nv(Fl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Et.exists(!1))]).then(()=>r)}function m4(t,...e){var n,r,i;t=ie(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||vI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(vI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Ct)u=We(t.firestore,Vt),c=Gc(t._key.path),l={next:d=>{e[o]&&e[o](Nx(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=We(t,er);u=We(d.firestore,Vt),c=d._query;const h=new Ul(u);l={next:f=>{e[o]&&e[o](new Ko(u,h,d,f))},error:e[o+1],complete:e[o+2]},d4(t._query)}return function(h,f,p,g){const _=new xv(g),m=new dx(f,_,p);return h.asyncQueue.enqueueAndForget(async()=>lx(await Tc(h),m)),()=>{_.Na(),h.asyncQueue.enqueueAndForget(async()=>ux(await Tc(h),m))}}(_n(u),c,a,l)}function cie(t,e){return Tre(_n(t=We(t,Vt)),vI(e)?e:{next:e})}function jp(t,e){return function(r,i){const s=new pn;return r.asyncQueue.enqueueAndForget(async()=>Yne(await Ex(r),i,s)),s.promise}(_n(t),e)}function Nx(t,e,n){const r=n.docs.get(e._key),i=new Ul(t);return new $s(t,i,e._key,r,new Va(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const die={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hie=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fl(e)}set(e,n,r){this._verifyNotCommitted();const i=ao(e,this._firestore),s=Fv(i.converter,n,r),o=Nv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Et.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ao(e,this._firestore);let o;return o=typeof(n=ie(n))=="string"||n instanceof Go?Sx(this._dataReader,"WriteBatch.update",s._key,n,r,i):bx(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Et.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ao(e,this._firestore);return this._mutations=this._mutations.concat(new Qc(n._key,Et.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ao(t,e){if((t=ie(t)).firestore!==e)throw new L(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fie=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Fl(n)}get(n){const r=ao(n,this._firestore),i=new eie(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ee();const o=s[0];if(o.isFoundDocument())return new Wf(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Wf(this._firestore,i,r._key,null,r.converter);throw ee()})}set(n,r,i){const s=ao(n,this._firestore),o=Fv(s.converter,r,i),a=Nv(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ao(n,this._firestore);let a;return a=typeof(r=ie(r))=="string"||r instanceof Go?Sx(this._dataReader,"Transaction.update",o._key,r,i,s):bx(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ao(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ao(e,this._firestore),r=new Ul(this._firestore);return super.get(e).then(i=>new $s(this._firestore,r,n._key,i._document,new Va(!1,!1),n.converter))}};function pie(t,e,n){t=We(t,Vt);const r=Object.assign(Object.assign({},die),n);return function(s){if(s.maxAttempts<1)throw new L(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new pn;return s.asyncQueue.enqueueAndForget(async()=>{const u=await yre(s);new mre(s.asyncQueue,u,a,o,l).run()}),l.promise}(_n(t),i=>e(new fie(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mie(){return new Up("deleteField")}function gie(){return new Ix("serverTimestamp")}function yie(...t){return new Bre("arrayUnion",t)}function _ie(...t){return new jre("arrayRemove",t)}function vie(t){return new zre("increment",t)}(function(e,n=!0){(function(i){Hc=i})(fs),os(new si("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vt(new Cee(r.getProvider("auth-internal")),new Aee(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new L(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xn(ok,"4.4.0",e),Xn(ok,"4.4.0","esm2017")})();const wie="@firebase/firestore-compat",Eie="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new L("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function pN(){if(!tte())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}let g4=class EI{constructor(e){this._delegate=e}static fromBase64String(e){return pN(),new EI(cs.fromBase64String(e))}static fromUint8Array(e){return fN(),new EI(cs.fromUint8Array(e))}toBase64(){return pN(),this._delegate.toBase64()}toUint8Array(){return fN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){return Tie(t,["next","error","complete"])}function Tie(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iie{enableIndexedDbPersistence(e,n){return Are(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return kre(e._delegate)}clearIndexedDbPersistence(e){return Nre(e._delegate)}}class y4{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Oi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Sre(this._delegate,e,n,r)}enableNetwork(){return Dre(this._delegate)}disableNetwork(){return Mre(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,GB("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ore(this._delegate)}onSnapshotsInSync(e){return cie(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ic(this,JB(this._delegate,e))}catch(n){throw Gn(n,"collection()","Firestore.collection()")}}doc(e){try{return new ei(this,By(this._delegate,e))}catch(n){throw Gn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hn(this,Cre(this._delegate,e))}catch(n){throw Gn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return pie(this._delegate,n=>e(new _4(this,n)))}batch(){return _n(this._delegate),new v4(new hie(this._delegate,e=>jp(this._delegate,e)))}loadBundle(e){return Lre(this._delegate,e)}namedQuery(e){return $re(this._delegate,e).then(n=>n?new Hn(this,n):null)}}class Vv extends kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new g4(new cs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ei.forKey(n,this.firestore,null)}}function bie(t){Tee(t)}class _4{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Vv(e)}get(e){const n=Ua(e);return this._delegate.get(n).then(r=>new qf(this._firestore,new $s(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ua(e);return r?(Ox("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ua(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ua(e);return this._delegate.delete(n),this}}class v4{constructor(e){this._delegate=e}set(e,n,r){const i=Ua(e);return r?(Ox("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ua(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ua(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Tl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new xh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hf(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Tl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Tl(e,new Vv(e),n),i.set(n,s)),s}}Tl.INSTANCES=new WeakMap;class ei{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Vv(e)}static forPath(e,n,r){if(e.length%2!==0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ei(n,new Ct(n._delegate,r,new Q(e)))}static forKey(e,n,r){return new ei(n,new Ct(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ic(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ic(this.firestore,JB(this._delegate,e))}catch(n){throw Gn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ie(e),e instanceof Ct?ZB(this._delegate,e):!1}set(e,n){n=Ox("DocumentReference.set",n);try{return n?dN(this._delegate,e,n):dN(this._delegate,e)}catch(r){throw Gn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?hN(this._delegate,e):hN(this._delegate,e,n,...r)}catch(i){throw Gn(i,"updateDoc()","DocumentReference.update()")}}delete(){return lie(this._delegate)}onSnapshot(...e){const n=w4(e),r=E4(e,i=>new qf(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return m4(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=rie(this._delegate):(e==null?void 0:e.source)==="server"?n=iie(this._delegate):n=nie(this._delegate),n.then(r=>new qf(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ei(this.firestore,e?this._delegate.withConverter(Tl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Gn(t,e,n){return t.message=t.message.replace(e,n),t}function w4(t){for(const e of t)if(typeof e=="object"&&!TI(e))return e;return{}}function E4(t,e){var n,r;let i;return TI(t[0])?i=t[0]:TI(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class qf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ei(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return p4(this._delegate,e._delegate)}}class Hf extends qf{data(e){const n=this._delegate.data(e);return this._delegate._converter||Iee(n!==void 0),n}}class Hn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Vv(e)}where(e,n,r){try{return new Hn(this.firestore,Js(this._delegate,Hre(e,n,r)))}catch(i){throw Gn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Hn(this.firestore,Js(this._delegate,Gre(e,n)))}catch(r){throw Gn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hn(this.firestore,Js(this._delegate,Kre(e)))}catch(n){throw Gn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Hn(this.firestore,Js(this._delegate,Qre(e)))}catch(n){throw Gn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hn(this.firestore,Js(this._delegate,Yre(...e)))}catch(n){throw Gn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hn(this.firestore,Js(this._delegate,Xre(...e)))}catch(n){throw Gn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hn(this.firestore,Js(this._delegate,Jre(...e)))}catch(n){throw Gn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hn(this.firestore,Js(this._delegate,Zre(...e)))}catch(n){throw Gn(n,"endAt()","Query.endAt()")}}isEqual(e){return e4(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=oie(this._delegate):(e==null?void 0:e.source)==="server"?n=aie(this._delegate):n=sie(this._delegate),n.then(r=>new II(this.firestore,new Ko(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=w4(e),r=E4(e,i=>new II(this.firestore,new Ko(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return m4(this._delegate,n,r)}withConverter(e){return new Hn(this.firestore,e?this._delegate.withConverter(Tl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Sie{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Hf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class II{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Hn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Sie(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Hf(this._firestore,r))})}isEqual(e){return p4(this._delegate,e._delegate)}}class Ic extends Hn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ei(this.firestore,e):null}doc(e){try{return e===void 0?new ei(this.firestore,By(this._delegate)):new ei(this.firestore,By(this._delegate,e))}catch(n){throw Gn(n,"doc()","CollectionReference.doc()")}}add(e){return uie(this._delegate,e).then(n=>new ei(this.firestore,n))}isEqual(e){return ZB(this._delegate,e._delegate)}withConverter(e){return new Ic(this.firestore,e?this._delegate.withConverter(Tl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ua(t){return We(t,Ct)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(...e){this._delegate=new Go(...e)}static documentId(){return new Dx(wt.keyField().canonicalString())}isEqual(e){return e=ie(e),e instanceof Go?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._delegate=e}static serverTimestamp(){const e=gie();return e._methodName="FieldValue.serverTimestamp",new Aa(e)}static delete(){const e=mie();return e._methodName="FieldValue.delete",new Aa(e)}static arrayUnion(...e){const n=yie(...e);return n._methodName="FieldValue.arrayUnion",new Aa(n)}static arrayRemove(...e){const n=_ie(...e);return n._methodName="FieldValue.arrayRemove",new Aa(n)}static increment(e){const n=vie(e);return n._methodName="FieldValue.increment",new Aa(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cie={Firestore:y4,GeoPoint:Av,Timestamp:Tt,Blob:g4,Transaction:_4,WriteBatch:v4,DocumentReference:ei,DocumentSnapshot:qf,Query:Hn,QueryDocumentSnapshot:Hf,QuerySnapshot:II,CollectionReference:Ic,FieldPath:Dx,FieldValue:Aa,setLogLevel:bie,CACHE_SIZE_UNLIMITED:Pre};function xie(t,e){t.INTERNAL.registerComponent(new si("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Cie)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(t){xie(t,(e,n)=>new y4(e,n,new Iie)),t.registerVersion(wie,Eie)}Rie(q_);const Pie={black:"#000",white:"#fff"},Gf=Pie,Aie={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},tu=Aie,kie={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},nu=kie,Nie={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ru=Nie,Oie={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},iu=Oie,Die={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},su=Die,Mie={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Nd=Mie,Lie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},$ie=Lie;function Qo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const zp="$$material";function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function re(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function T4(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Fie=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Vie=T4(function(t){return Fie.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Uie(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Bie(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var jie=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Bie(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Uie(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ln="-ms-",zy="-moz-",Qe="-webkit-",I4="comm",Mx="rule",Lx="decl",zie="@import",b4="@keyframes",Wie="@layer",qie=Math.abs,Uv=String.fromCharCode,Hie=Object.assign;function Gie(t,e){return Sn(t,0)^45?(((e<<2^Sn(t,0))<<2^Sn(t,1))<<2^Sn(t,2))<<2^Sn(t,3):0}function S4(t){return t.trim()}function Kie(t,e){return(t=e.exec(t))?t[0]:t}function Ye(t,e,n){return t.replace(e,n)}function bI(t,e){return t.indexOf(e)}function Sn(t,e){return t.charCodeAt(e)|0}function Kf(t,e,n){return t.slice(e,n)}function Vi(t){return t.length}function $x(t){return t.length}function Fm(t,e){return e.push(t),t}function Qie(t,e){return t.map(e).join("")}var Bv=1,bc=1,C4=0,Er=0,Yt=0,ed="";function jv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Bv,column:bc,length:o,return:""}}function Od(t,e){return Hie(jv("",null,null,"",null,null,0),t,{length:-t.length},e)}function Yie(){return Yt}function Xie(){return Yt=Er>0?Sn(ed,--Er):0,bc--,Yt===10&&(bc=1,Bv--),Yt}function $r(){return Yt=Er<C4?Sn(ed,Er++):0,bc++,Yt===10&&(bc=1,Bv++),Yt}function rs(){return Sn(ed,Er)}function _g(){return Er}function Wp(t,e){return Kf(ed,t,e)}function Qf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function x4(t){return Bv=bc=1,C4=Vi(ed=t),Er=0,[]}function R4(t){return ed="",t}function vg(t){return S4(Wp(Er-1,SI(t===91?t+2:t===40?t+1:t)))}function Jie(t){for(;(Yt=rs())&&Yt<33;)$r();return Qf(t)>2||Qf(Yt)>3?"":" "}function Zie(t,e){for(;--e&&$r()&&!(Yt<48||Yt>102||Yt>57&&Yt<65||Yt>70&&Yt<97););return Wp(t,_g()+(e<6&&rs()==32&&$r()==32))}function SI(t){for(;$r();)switch(Yt){case t:return Er;case 34:case 39:t!==34&&t!==39&&SI(Yt);break;case 40:t===41&&SI(t);break;case 92:$r();break}return Er}function ese(t,e){for(;$r()&&t+Yt!==57;)if(t+Yt===84&&rs()===47)break;return"/*"+Wp(e,Er-1)+"*"+Uv(t===47?t:$r())}function tse(t){for(;!Qf(rs());)$r();return Wp(t,Er)}function nse(t){return R4(wg("",null,null,null,[""],t=x4(t),0,[0],t))}function wg(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,g=1,_=1,m=1,y=0,v="",w=i,I=s,b=r,T=v;_;)switch(p=y,y=$r()){case 40:if(p!=108&&Sn(T,d-1)==58){bI(T+=Ye(vg(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:T+=vg(y);break;case 9:case 10:case 13:case 32:T+=Jie(p);break;case 92:T+=Zie(_g()-1,7);continue;case 47:switch(rs()){case 42:case 47:Fm(rse(ese($r(),_g()),e,n),l);break;default:T+="/"}break;case 123*g:a[u++]=Vi(T)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:_=0;case 59+c:m==-1&&(T=Ye(T,/\f/g,"")),f>0&&Vi(T)-d&&Fm(f>32?gN(T+";",r,n,d-1):gN(Ye(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(Fm(b=mN(T,e,n,u,c,i,a,v,w=[],I=[],d),s),y===123)if(c===0)wg(T,e,b,b,w,s,d,a,I);else switch(h===99&&Sn(T,3)===110?100:h){case 100:case 108:case 109:case 115:wg(t,b,b,r&&Fm(mN(t,b,b,0,0,i,a,v,i,w=[],d),I),i,I,d,a,r?w:I);break;default:wg(T,b,b,b,[""],I,0,a,I)}}u=c=f=0,g=m=1,v=T="",d=o;break;case 58:d=1+Vi(T),f=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&Xie()==125)continue}switch(T+=Uv(y),y*g){case 38:m=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(Vi(T)-1)*m,m=1;break;case 64:rs()===45&&(T+=vg($r())),h=rs(),c=d=Vi(v=T+=tse(_g())),y++;break;case 45:p===45&&Vi(T)==2&&(g=0)}}return s}function mN(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=$x(h),p=0,g=0,_=0;p<r;++p)for(var m=0,y=Kf(t,d+1,d=qie(g=o[p])),v=t;m<f;++m)(v=S4(g>0?h[m]+" "+y:Ye(y,/&\f/g,h[m])))&&(l[_++]=v);return jv(t,e,n,i===0?Mx:a,l,u,c)}function rse(t,e,n){return jv(t,e,n,I4,Uv(Yie()),Kf(t,2,-2),0)}function gN(t,e,n,r){return jv(t,e,n,Lx,Kf(t,0,r),Kf(t,r+1,-1),r)}function Gu(t,e){for(var n="",r=$x(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ise(t,e,n,r){switch(t.type){case Wie:if(t.children.length)break;case zie:case Lx:return t.return=t.return||t.value;case I4:return"";case b4:return t.return=t.value+"{"+Gu(t.children,r)+"}";case Mx:t.value=t.props.join(",")}return Vi(n=Gu(t.children,r))?t.return=t.value+"{"+n+"}":""}function sse(t){var e=$x(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function ose(t){return function(e){e.root||(e=e.return)&&t(e)}}var ase=function(e,n,r){for(var i=0,s=0;i=s,s=rs(),i===38&&s===12&&(n[r]=1),!Qf(s);)$r();return Wp(e,Er)},lse=function(e,n){var r=-1,i=44;do switch(Qf(i)){case 0:i===38&&rs()===12&&(n[r]=1),e[r]+=ase(Er-1,n,r);break;case 2:e[r]+=vg(i);break;case 4:if(i===44){e[++r]=rs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Uv(i)}while(i=$r());return e},use=function(e,n){return R4(lse(x4(e),n))},yN=new WeakMap,cse=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!yN.get(r))&&!i){yN.set(e,!0);for(var s=[],o=use(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},dse=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function P4(t,e){switch(Gie(t,e)){case 5103:return Qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+t+zy+t+Ln+t+t;case 6828:case 4268:return Qe+t+Ln+t+t;case 6165:return Qe+t+Ln+"flex-"+t+t;case 5187:return Qe+t+Ye(t,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+Ln+"flex-$1$2")+t;case 5443:return Qe+t+Ln+"flex-item-"+Ye(t,/flex-|-self/,"")+t;case 4675:return Qe+t+Ln+"flex-line-pack"+Ye(t,/align-content|flex-|-self/,"")+t;case 5548:return Qe+t+Ln+Ye(t,"shrink","negative")+t;case 5292:return Qe+t+Ln+Ye(t,"basis","preferred-size")+t;case 6060:return Qe+"box-"+Ye(t,"-grow","")+Qe+t+Ln+Ye(t,"grow","positive")+t;case 4554:return Qe+Ye(t,/([^-])(transform)/g,"$1"+Qe+"$2")+t;case 6187:return Ye(Ye(Ye(t,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),t,"")+t;case 5495:case 3959:return Ye(t,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Ye(Ye(t,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+Ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+t+t;case 4095:case 3583:case 4068:case 2532:return Ye(t,/(.+)-inline(.+)/,Qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vi(t)-1-e>6)switch(Sn(t,e+1)){case 109:if(Sn(t,e+4)!==45)break;case 102:return Ye(t,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+zy+(Sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~bI(t,"stretch")?P4(Ye(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sn(t,e+1)!==115)break;case 6444:switch(Sn(t,Vi(t)-3-(~bI(t,"!important")&&10))){case 107:return Ye(t,":",":"+Qe)+t;case 101:return Ye(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(Sn(t,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+Ln+"$2box$3")+t}break;case 5936:switch(Sn(t,e+11)){case 114:return Qe+t+Ln+Ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qe+t+Ln+Ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qe+t+Ln+Ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Qe+t+Ln+t+t}return t}var hse=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Lx:e.return=P4(e.value,e.length);break;case b4:return Gu([Od(e,{value:Ye(e.value,"@","@"+Qe)})],i);case Mx:if(e.length)return Qie(e.props,function(s){switch(Kie(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Gu([Od(e,{props:[Ye(s,/:(read-\w+)/,":"+zy+"$1")]})],i);case"::placeholder":return Gu([Od(e,{props:[Ye(s,/:(plac\w+)/,":"+Qe+"input-$1")]}),Od(e,{props:[Ye(s,/:(plac\w+)/,":"+zy+"$1")]}),Od(e,{props:[Ye(s,/:(plac\w+)/,Ln+"input-$1")]})],i)}return""})}},fse=[hse],pse=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var _=g.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||fse,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var _=g.getAttribute("data-emotion").split(" "),m=1;m<_.length;m++)s[_[m]]=!0;a.push(g)});var l,u=[cse,dse];{var c,d=[ise,ose(function(g){c.insert(g)})],h=sse(u.concat(i,d)),f=function(_){return Gu(nse(_),h)};l=function(_,m,y,v){c=y,f(_?_+"{"+m.styles+"}":m.styles),v&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new jie({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},A4={exports:{}},tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn=typeof Symbol=="function"&&Symbol.for,Fx=vn?Symbol.for("react.element"):60103,Vx=vn?Symbol.for("react.portal"):60106,zv=vn?Symbol.for("react.fragment"):60107,Wv=vn?Symbol.for("react.strict_mode"):60108,qv=vn?Symbol.for("react.profiler"):60114,Hv=vn?Symbol.for("react.provider"):60109,Gv=vn?Symbol.for("react.context"):60110,Ux=vn?Symbol.for("react.async_mode"):60111,Kv=vn?Symbol.for("react.concurrent_mode"):60111,Qv=vn?Symbol.for("react.forward_ref"):60112,Yv=vn?Symbol.for("react.suspense"):60113,mse=vn?Symbol.for("react.suspense_list"):60120,Xv=vn?Symbol.for("react.memo"):60115,Jv=vn?Symbol.for("react.lazy"):60116,gse=vn?Symbol.for("react.block"):60121,yse=vn?Symbol.for("react.fundamental"):60117,_se=vn?Symbol.for("react.responder"):60118,vse=vn?Symbol.for("react.scope"):60119;function Hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fx:switch(t=t.type,t){case Ux:case Kv:case zv:case qv:case Wv:case Yv:return t;default:switch(t=t&&t.$$typeof,t){case Gv:case Qv:case Jv:case Xv:case Hv:return t;default:return e}}case Vx:return e}}}function k4(t){return Hr(t)===Kv}tt.AsyncMode=Ux;tt.ConcurrentMode=Kv;tt.ContextConsumer=Gv;tt.ContextProvider=Hv;tt.Element=Fx;tt.ForwardRef=Qv;tt.Fragment=zv;tt.Lazy=Jv;tt.Memo=Xv;tt.Portal=Vx;tt.Profiler=qv;tt.StrictMode=Wv;tt.Suspense=Yv;tt.isAsyncMode=function(t){return k4(t)||Hr(t)===Ux};tt.isConcurrentMode=k4;tt.isContextConsumer=function(t){return Hr(t)===Gv};tt.isContextProvider=function(t){return Hr(t)===Hv};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fx};tt.isForwardRef=function(t){return Hr(t)===Qv};tt.isFragment=function(t){return Hr(t)===zv};tt.isLazy=function(t){return Hr(t)===Jv};tt.isMemo=function(t){return Hr(t)===Xv};tt.isPortal=function(t){return Hr(t)===Vx};tt.isProfiler=function(t){return Hr(t)===qv};tt.isStrictMode=function(t){return Hr(t)===Wv};tt.isSuspense=function(t){return Hr(t)===Yv};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zv||t===Kv||t===qv||t===Wv||t===Yv||t===mse||typeof t=="object"&&t!==null&&(t.$$typeof===Jv||t.$$typeof===Xv||t.$$typeof===Hv||t.$$typeof===Gv||t.$$typeof===Qv||t.$$typeof===yse||t.$$typeof===_se||t.$$typeof===vse||t.$$typeof===gse)};tt.typeOf=Hr;A4.exports=tt;var wse=A4.exports,N4=wse,Ese={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Tse={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},O4={};O4[N4.ForwardRef]=Ese;O4[N4.Memo]=Tse;var Ise=!0;function bse(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var D4=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Ise===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},M4=function(e,n,r){D4(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Sse(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Cse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xse=/[A-Z]|^ms/g,Rse=/_EMO_([^_]+?)_([^]*?)_EMO_/g,L4=function(e){return e.charCodeAt(1)===45},_N=function(e){return e!=null&&typeof e!="boolean"},Jw=T4(function(t){return L4(t)?t:t.replace(xse,"-$&").toLowerCase()}),vN=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Rse,function(r,i,s){return Ui={name:i,styles:s,next:Ui},i})}return Cse[e]!==1&&!L4(e)&&typeof n=="number"&&n!==0?n+"px":n};function Yf(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ui={name:n.name,styles:n.styles,next:Ui},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ui={name:r.name,styles:r.styles,next:Ui},r=r.next;var i=n.styles+";";return i}return Pse(t,e,n)}case"function":{if(t!==void 0){var s=Ui,o=n(t);return Ui=s,Yf(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Pse(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Yf(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":_N(o)&&(r+=Jw(s)+":"+vN(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)_N(o[a])&&(r+=Jw(s)+":"+vN(s,o[a])+";");else{var l=Yf(t,e,o);switch(s){case"animation":case"animationName":{r+=Jw(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var wN=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ui,Bx=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ui=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Yf(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Yf(r,n,e[a]),i&&(s+=o[a]);wN.lastIndex=0;for(var l="",u;(u=wN.exec(s))!==null;)l+="-"+u[1];var c=Sse(s)+l;return{name:c,styles:s,next:Ui}},Ase=function(e){return e()},$4=Yu.useInsertionEffect?Yu.useInsertionEffect:!1,kse=$4||Ase,EN=$4||E.useLayoutEffect,F4=E.createContext(typeof HTMLElement<"u"?pse({key:"css"}):null);F4.Provider;var V4=function(e){return E.forwardRef(function(n,r){var i=E.useContext(F4);return e(n,i,r)})},jx=E.createContext({}),Nse=V4(function(t,e){var n=t.styles,r=Bx([n],void 0,E.useContext(jx)),i=E.useRef();return EN(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),EN(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&M4(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function zx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Bx(e)}var qp=function(){var e=zx.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Ose=Vie,Dse=function(e){return e!=="theme"},TN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Ose:Dse},IN=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Mse=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return D4(n,r,i),kse(function(){return M4(n,r,i)}),null},Lse=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=IN(e,n,r),l=a||TN(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=V4(function(g,_,m){var y=u&&g.as||i,v="",w=[],I=g;if(g.theme==null){I={};for(var b in g)I[b]=g[b];I.theme=E.useContext(jx)}typeof g.className=="string"?v=bse(_.registered,w,g.className):g.className!=null&&(v=g.className+" ");var T=Bx(d.concat(w),_.registered,I);v+=_.key+"-"+T.name,o!==void 0&&(v+=" "+o);var R=u&&a===void 0?TN(y):l,O={};for(var x in g)u&&x==="as"||R(x)&&(O[x]=g[x]);return O.className=v,O.ref=m,E.createElement(E.Fragment,null,E.createElement(Mse,{cache:_,serialized:T,isStringTag:typeof y=="string"}),E.createElement(y,O))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(g,_){return t(g,S({},n,_,{shouldForwardProp:IN(p,_,!0)})).apply(void 0,d)},p}},$se=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],CI=Lse.bind();$se.forEach(function(t){CI[t]=CI(t)});function Fse(t){return t==null||Object.keys(t).length===0}function Vse(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Fse(i)?n:i):e;return C.jsx(Nse,{styles:r})}function U4(t,e){return CI(t,e)}const Use=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function _s(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function B4(t){if(!_s(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=B4(t[n])}),e}function yr(t,e,n={clone:!0}){const r=n.clone?S({},t):t;return _s(t)&&_s(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(_s(e[i])&&i in t&&_s(t[i])?r[i]=yr(t[i],e[i],n):n.clone?r[i]=_s(e[i])?B4(e[i]):e[i]:r[i]=e[i])}),r}var rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx=Symbol.for("react.element"),qx=Symbol.for("react.portal"),Zv=Symbol.for("react.fragment"),e0=Symbol.for("react.strict_mode"),t0=Symbol.for("react.profiler"),n0=Symbol.for("react.provider"),r0=Symbol.for("react.context"),Bse=Symbol.for("react.server_context"),i0=Symbol.for("react.forward_ref"),s0=Symbol.for("react.suspense"),o0=Symbol.for("react.suspense_list"),a0=Symbol.for("react.memo"),l0=Symbol.for("react.lazy"),jse=Symbol.for("react.offscreen"),j4;j4=Symbol.for("react.module.reference");function ci(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Wx:switch(t=t.type,t){case Zv:case t0:case e0:case s0:case o0:return t;default:switch(t=t&&t.$$typeof,t){case Bse:case r0:case i0:case l0:case a0:case n0:return t;default:return e}}case qx:return e}}}rt.ContextConsumer=r0;rt.ContextProvider=n0;rt.Element=Wx;rt.ForwardRef=i0;rt.Fragment=Zv;rt.Lazy=l0;rt.Memo=a0;rt.Portal=qx;rt.Profiler=t0;rt.StrictMode=e0;rt.Suspense=s0;rt.SuspenseList=o0;rt.isAsyncMode=function(){return!1};rt.isConcurrentMode=function(){return!1};rt.isContextConsumer=function(t){return ci(t)===r0};rt.isContextProvider=function(t){return ci(t)===n0};rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wx};rt.isForwardRef=function(t){return ci(t)===i0};rt.isFragment=function(t){return ci(t)===Zv};rt.isLazy=function(t){return ci(t)===l0};rt.isMemo=function(t){return ci(t)===a0};rt.isPortal=function(t){return ci(t)===qx};rt.isProfiler=function(t){return ci(t)===t0};rt.isStrictMode=function(t){return ci(t)===e0};rt.isSuspense=function(t){return ci(t)===s0};rt.isSuspenseList=function(t){return ci(t)===o0};rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zv||t===t0||t===e0||t===s0||t===o0||t===jse||typeof t=="object"&&t!==null&&(t.$$typeof===l0||t.$$typeof===a0||t.$$typeof===n0||t.$$typeof===r0||t.$$typeof===i0||t.$$typeof===j4||t.getModuleId!==void 0)};rt.typeOf=ci;function oe(t){if(typeof t!="string")throw new Error(Qo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function xI(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Hx(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function zse(t,e){return()=>null}function Eg(t,e){var n,r;return E.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function jn(t){return t&&t.ownerDocument||document}function Yo(t){return jn(t).defaultView||window}function Wse(t,e){return()=>null}function Wy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Di=typeof window<"u"?E.useLayoutEffect:E.useEffect;let bN=0;function qse(t){const[e,n]=E.useState(t),r=t||e;return E.useEffect(()=>{e==null&&(bN+=1,n(`mui-${bN}`))},[e]),r}const SN=Yu.useId;function Hp(t){if(SN!==void 0){const e=SN();return t??e}return qse(t)}function Hse(t,e,n,r,i){return null}function qy({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=E.useRef(t!==void 0),[s,o]=E.useState(e),a=i?t:s,l=E.useCallback(u=>{i||o(u)},[]);return[a,l]}function po(t){const e=E.useRef(t);return Di(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function on(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Wy(n,e)})},t)}let u0=!0,RI=!1,CN;const Gse={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Kse(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&Gse[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Qse(t){t.metaKey||t.altKey||t.ctrlKey||(u0=!0)}function Zw(){u0=!1}function Yse(){this.visibilityState==="hidden"&&RI&&(u0=!0)}function Xse(t){t.addEventListener("keydown",Qse,!0),t.addEventListener("mousedown",Zw,!0),t.addEventListener("pointerdown",Zw,!0),t.addEventListener("touchstart",Zw,!0),t.addEventListener("visibilitychange",Yse,!0)}function Jse(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return u0||Kse(e)}function Gx(){const t=E.useCallback(i=>{i!=null&&Xse(i.ownerDocument)},[]),e=E.useRef(!1);function n(){return e.current?(RI=!0,window.clearTimeout(CN),CN=window.setTimeout(()=>{RI=!1},100),e.current=!1,!0):!1}function r(i){return Jse(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function z4(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Kx(t,e){const n=S({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=S({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=S({},s),Object.keys(i).forEach(o=>{n[r][o]=Kx(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Ne(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const xN=t=>t,Zse=()=>{let t=xN;return{configure(e){t=e},generate(e){return t(e)},reset(){t=xN}}},eoe=Zse(),Qx=eoe,toe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Pe(t,e,n="Mui"){const r=toe[e];return r?`${n}-${r}`:`${Qx.generate(t)}-${e}`}function Se(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Pe(t,i,n)}),r}const noe=["values","unit","step"],roe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>S({},n,{[r.key]:r.val}),{})};function ioe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=re(t,noe),s=roe(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return S({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const soe={borderRadius:4},ooe=soe;function Rh(t,e){return e?yr(t,e,{clone:!1}):t}const Yx={xs:0,sm:600,md:900,lg:1200,xl:1536},RN={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Yx[t]}px)`};function ai(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||RN;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||RN;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Yx).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function aoe(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function loe(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function uoe(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function c0({values:t,breakpoints:e,base:n}){const r=n||uoe(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function d0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Hy(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=d0(t,n)||r,e&&(i=e(i,r,t)),i}function Ht(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=d0(l,r)||{};return ai(o,a,d=>{let h=Hy(u,i,d);return d===h&&typeof d=="string"&&(h=Hy(u,i,`${e}${d==="default"?"":oe(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function coe(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const doe={m:"margin",p:"padding"},hoe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},PN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},foe=coe(t=>{if(t.length>2)if(PN[t])t=PN[t];else return[t];const[e,n]=t.split(""),r=doe[e],i=hoe[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Xx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Jx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Xx,...Jx];function Gp(t,e,n,r){var i;const s=(i=d0(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function W4(t){return Gp(t,"spacing",8)}function Kp(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function poe(t,e){return n=>t.reduce((r,i)=>(r[i]=Kp(e,n),r),{})}function moe(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=foe(n),s=poe(i,r),o=t[n];return ai(t,o,s)}function q4(t,e){const n=W4(t.theme);return Object.keys(t).map(r=>moe(t,e,r,n)).reduce(Rh,{})}function At(t){return q4(t,Xx)}At.propTypes={};At.filterProps=Xx;function kt(t){return q4(t,Jx)}kt.propTypes={};kt.filterProps=Jx;function goe(t=8){if(t.mui)return t;const e=W4({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function h0(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Rh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Xr(t){return typeof t!="number"?t:`${t}px solid`}function di(t,e){return Ht({prop:t,themeKey:"borders",transform:e})}const yoe=di("border",Xr),_oe=di("borderTop",Xr),voe=di("borderRight",Xr),woe=di("borderBottom",Xr),Eoe=di("borderLeft",Xr),Toe=di("borderColor"),Ioe=di("borderTopColor"),boe=di("borderRightColor"),Soe=di("borderBottomColor"),Coe=di("borderLeftColor"),xoe=di("outline",Xr),Roe=di("outlineColor"),f0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Gp(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Kp(e,r)});return ai(t,t.borderRadius,n)}return null};f0.propTypes={};f0.filterProps=["borderRadius"];h0(yoe,_oe,voe,woe,Eoe,Toe,Ioe,boe,Soe,Coe,f0,xoe,Roe);const p0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Gp(t.theme,"spacing",8),n=r=>({gap:Kp(e,r)});return ai(t,t.gap,n)}return null};p0.propTypes={};p0.filterProps=["gap"];const m0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Gp(t.theme,"spacing",8),n=r=>({columnGap:Kp(e,r)});return ai(t,t.columnGap,n)}return null};m0.propTypes={};m0.filterProps=["columnGap"];const g0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Gp(t.theme,"spacing",8),n=r=>({rowGap:Kp(e,r)});return ai(t,t.rowGap,n)}return null};g0.propTypes={};g0.filterProps=["rowGap"];const Poe=Ht({prop:"gridColumn"}),Aoe=Ht({prop:"gridRow"}),koe=Ht({prop:"gridAutoFlow"}),Noe=Ht({prop:"gridAutoColumns"}),Ooe=Ht({prop:"gridAutoRows"}),Doe=Ht({prop:"gridTemplateColumns"}),Moe=Ht({prop:"gridTemplateRows"}),Loe=Ht({prop:"gridTemplateAreas"}),$oe=Ht({prop:"gridArea"});h0(p0,m0,g0,Poe,Aoe,koe,Noe,Ooe,Doe,Moe,Loe,$oe);function Ku(t,e){return e==="grey"?e:t}const Foe=Ht({prop:"color",themeKey:"palette",transform:Ku}),Voe=Ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ku}),Uoe=Ht({prop:"backgroundColor",themeKey:"palette",transform:Ku});h0(Foe,Voe,Uoe);function Pr(t){return t<=1&&t!==0?`${t*100}%`:t}const Boe=Ht({prop:"width",transform:Pr}),Zx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Yx[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Pr(n)}};return ai(t,t.maxWidth,e)}return null};Zx.filterProps=["maxWidth"];const joe=Ht({prop:"minWidth",transform:Pr}),zoe=Ht({prop:"height",transform:Pr}),Woe=Ht({prop:"maxHeight",transform:Pr}),qoe=Ht({prop:"minHeight",transform:Pr});Ht({prop:"size",cssProperty:"width",transform:Pr});Ht({prop:"size",cssProperty:"height",transform:Pr});const Hoe=Ht({prop:"boxSizing"});h0(Boe,Zx,joe,zoe,Woe,qoe,Hoe);const Goe={border:{themeKey:"borders",transform:Xr},borderTop:{themeKey:"borders",transform:Xr},borderRight:{themeKey:"borders",transform:Xr},borderBottom:{themeKey:"borders",transform:Xr},borderLeft:{themeKey:"borders",transform:Xr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Xr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:f0},color:{themeKey:"palette",transform:Ku},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ku},backgroundColor:{themeKey:"palette",transform:Ku},p:{style:kt},pt:{style:kt},pr:{style:kt},pb:{style:kt},pl:{style:kt},px:{style:kt},py:{style:kt},padding:{style:kt},paddingTop:{style:kt},paddingRight:{style:kt},paddingBottom:{style:kt},paddingLeft:{style:kt},paddingX:{style:kt},paddingY:{style:kt},paddingInline:{style:kt},paddingInlineStart:{style:kt},paddingInlineEnd:{style:kt},paddingBlock:{style:kt},paddingBlockStart:{style:kt},paddingBlockEnd:{style:kt},m:{style:At},mt:{style:At},mr:{style:At},mb:{style:At},ml:{style:At},mx:{style:At},my:{style:At},margin:{style:At},marginTop:{style:At},marginRight:{style:At},marginBottom:{style:At},marginLeft:{style:At},marginX:{style:At},marginY:{style:At},marginInline:{style:At},marginInlineStart:{style:At},marginInlineEnd:{style:At},marginBlock:{style:At},marginBlockStart:{style:At},marginBlockEnd:{style:At},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:p0},rowGap:{style:g0},columnGap:{style:m0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pr},maxWidth:{style:Zx},minWidth:{transform:Pr},height:{transform:Pr},maxHeight:{transform:Pr},minHeight:{transform:Pr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},y0=Goe;function Koe(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Qoe(t,e){return typeof t=="function"?t(e):t}function Yoe(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=d0(i,u)||{};return d?d(o):ai(o,r,p=>{let g=Hy(h,c,p);return p===g&&typeof p=="string"&&(g=Hy(h,c,`${n}${p==="default"?"":oe(p)}`,p)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:y0;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=aoe(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=Qoe(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=Rh(h,t(f,p,s,o));else{const g=ai({theme:s},p,_=>({[f]:_}));Koe(g,p)?h[f]=e({sx:p,theme:s}):h=Rh(h,g)}else h=Rh(h,t(f,p,s,o))}),loe(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const H4=Yoe();H4.filterProps=["sx"];const _0=H4,Xoe=["breakpoints","palette","spacing","shape"];function v0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=re(t,Xoe),a=ioe(n),l=goe(i);let u=yr({breakpoints:a,direction:"ltr",components:{},palette:S({mode:"light"},r),spacing:l,shape:S({},ooe,s)},o);return u=e.reduce((c,d)=>yr(c,d),u),u.unstable_sxConfig=S({},y0,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return _0({sx:d,theme:this})},u}function Joe(t){return Object.keys(t).length===0}function G4(t=null){const e=E.useContext(jx);return!e||Joe(e)?t:e}const Zoe=v0();function w0(t=Zoe){return G4(t)}function eae({styles:t,themeId:e,defaultTheme:n={}}){const r=w0(n),i=typeof t=="function"?t(e&&r[e]||r):t;return C.jsx(Vse,{styles:i})}const tae=["sx"],nae=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:y0;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function eR(t){const{sx:e}=t,n=re(t,tae),{systemProps:r,otherProps:i}=nae(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return _s(a)?S({},r,a):r}:s=S({},r,e),S({},i,{sx:s})}function K4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=K4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function de(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=K4(t))&&(r&&(r+=" "),r+=e);return r}const rae=["className","component"];function iae(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=U4("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(_0);return E.forwardRef(function(l,u){const c=w0(n),d=eR(l),{className:h,component:f="div"}=d,p=re(d,rae);return C.jsx(s,S({as:f,ref:u,className:de(h,i?i(r):r),theme:e&&c[e]||c},p))})}const sae=["variant"];function AN(t){return t.length===0}function Q4(t){const{variant:e}=t,n=re(t,sae);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=AN(r)?t[i]:oe(t[i]):r+=`${AN(r)?i:oe(i)}${oe(t[i].toString())}`}),r}const oae=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function aae(t){return Object.keys(t).length===0}function lae(t){return typeof t=="string"&&t.charCodeAt(0)>96}const uae=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Gy=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=Q4(r.props),n[i]=r.style}),n},cae=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),Gy(n)},Ky=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let s=0;return n&&n.forEach(o=>{let a=!0;if(typeof o.props=="function"){const l=S({},t,r);a=o.props(l)}else Object.keys(o.props).forEach(l=>{r[l]!==o.props[l]&&t[l]!==o.props[l]&&(a=!1)});a&&(typeof o.props=="function"?i.push(e[`callback${s}`]):i.push(e[Q4(o.props)])),typeof o.props=="function"&&(s+=1)}),i},dae=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Ky(t,e,s)};function Ph(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const hae=v0(),fae=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Tg({defaultTheme:t,theme:e,themeId:n}){return aae(e)?t:e[n]||e}function pae(t){return t?(e,n)=>n[t]:null}const kN=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(S({},e,{theme:Tg(S({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=Ky(e,Gy(s),s);return[i,...o]}return i};function Y4(t={}){const{themeId:e,defaultTheme:n=hae,rootShouldForwardProp:r=Ph,slotShouldForwardProp:i=Ph}=t,s=o=>_0(S({},o,{theme:Tg(S({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{Use(o,w=>w.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=pae(fae(u))}=a,f=re(a,oae),p=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,g=d||!1;let _,m=Ph;u==="Root"||u==="root"?m=r:u?m=i:lae(o)&&(m=void 0);const y=U4(o,S({shouldForwardProp:m,label:_},f)),v=(w,...I)=>{const b=I?I.map(x=>{if(typeof x=="function"&&x.__emotion_real!==x)return D=>kN({styledArg:x,props:D,defaultTheme:n,themeId:e});if(_s(x)){let D=x,z;return x&&x.variants&&(z=x.variants,delete D.variants,D=M=>{let F=x;return Ky(M,Gy(z),z).forEach(B=>{F=yr(F,B)}),F}),D}return x}):[];let T=w;if(_s(w)){let x;w&&w.variants&&(x=w.variants,delete T.variants,T=D=>{let z=w;return Ky(D,Gy(x),x).forEach(F=>{z=yr(z,F)}),z})}else typeof w=="function"&&w.__emotion_real!==w&&(T=x=>kN({styledArg:w,props:x,defaultTheme:n,themeId:e}));l&&h&&b.push(x=>{const D=Tg(S({},x,{defaultTheme:n,themeId:e})),z=uae(l,D);if(z){const M={};return Object.entries(z).forEach(([F,V])=>{M[F]=typeof V=="function"?V(S({},x,{theme:D})):V}),h(x,M)}return null}),l&&!p&&b.push(x=>{const D=Tg(S({},x,{defaultTheme:n,themeId:e}));return dae(x,cae(l,D),D,l)}),g||b.push(s);const R=b.length-I.length;if(Array.isArray(w)&&R>0){const x=new Array(R).fill("");T=[...w,...x],T.raw=[...w.raw,...x]}const O=y(T,...b);return o.muiName&&(O.muiName=o.muiName),O};return y.withConfig&&(v.withConfig=y.withConfig),v}}const mae=Y4();function gae(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Kx(e.components[n].defaultProps,r)}function X4({props:t,name:e,defaultTheme:n,themeId:r}){let i=w0(n);return r&&(i=i[r]||i),gae({theme:i,name:e,props:t})}function tR(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function yae(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Il(t){if(t.type)return t;if(t.charAt(0)==="#")return Il(yae(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Qo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Qo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function E0(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function _ae(t){t=Il(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),E0({type:a,values:l})}function NN(t){t=Il(t);let e=t.type==="hsl"||t.type==="hsla"?Il(_ae(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function vae(t,e){const n=NN(t),r=NN(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function hr(t,e){return t=Il(t),e=tR(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,E0(t)}function wae(t,e){if(t=Il(t),e=tR(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return E0(t)}function Eae(t,e){if(t=Il(t),e=tR(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return E0(t)}const Tae=["className","component","disableGutters","fixed","maxWidth","classes"],Iae=v0(),bae=mae("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${oe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),Sae=t=>X4({props:t,name:"MuiContainer",defaultTheme:Iae}),Cae=(t,e)=>{const n=l=>Pe(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${oe(String(o))}`,i&&"fixed",s&&"disableGutters"]};return Ne(a,n,r)};function xae(t={}){const{createStyledComponent:e=bae,useThemeProps:n=Sae,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>S({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const c=u,d=o.breakpoints.values[c];return d!==0&&(l[o.breakpoints.up(c)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>S({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return E.forwardRef(function(a,l){const u=n(a),{className:c,component:d="div",disableGutters:h=!1,fixed:f=!1,maxWidth:p="lg"}=u,g=re(u,Tae),_=S({},u,{component:d,disableGutters:h,fixed:f,maxWidth:p}),m=Cae(_,r);return C.jsx(i,S({as:d,ownerState:_,className:de(m.root,c),ref:l},g))})}function Rae(t,e){return S({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const Pae=["mode","contrastThreshold","tonalOffset"],ON={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gf.white,default:Gf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},eE={text:{primary:Gf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function DN(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Eae(t.main,i):e==="dark"&&(t.dark=wae(t.main,s)))}function Aae(t="light"){return t==="dark"?{main:ru[200],light:ru[50],dark:ru[400]}:{main:ru[700],light:ru[400],dark:ru[800]}}function kae(t="light"){return t==="dark"?{main:nu[200],light:nu[50],dark:nu[400]}:{main:nu[500],light:nu[300],dark:nu[700]}}function Nae(t="light"){return t==="dark"?{main:tu[500],light:tu[300],dark:tu[700]}:{main:tu[700],light:tu[400],dark:tu[800]}}function Oae(t="light"){return t==="dark"?{main:iu[400],light:iu[300],dark:iu[700]}:{main:iu[700],light:iu[500],dark:iu[900]}}function Dae(t="light"){return t==="dark"?{main:su[400],light:su[300],dark:su[700]}:{main:su[800],light:su[500],dark:su[900]}}function Mae(t="light"){return t==="dark"?{main:Nd[400],light:Nd[300],dark:Nd[700]}:{main:"#ed6c02",light:Nd[500],dark:Nd[900]}}function Lae(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=re(t,Pae),s=t.primary||Aae(e),o=t.secondary||kae(e),a=t.error||Nae(e),l=t.info||Oae(e),u=t.success||Dae(e),c=t.warning||Mae(e);function d(g){return vae(g,eE.text.primary)>=n?eE.text.primary:ON.text.primary}const h=({color:g,name:_,mainShade:m=500,lightShade:y=300,darkShade:v=700})=>{if(g=S({},g),!g.main&&g[m]&&(g.main=g[m]),!g.hasOwnProperty("main"))throw new Error(Qo(11,_?` (${_})`:"",m));if(typeof g.main!="string")throw new Error(Qo(12,_?` (${_})`:"",JSON.stringify(g.main)));return DN(g,"light",y,r),DN(g,"dark",v,r),g.contrastText||(g.contrastText=d(g.main)),g},f={dark:eE,light:ON};return yr(S({common:S({},Gf),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:$ie,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const $ae=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Fae(t){return Math.round(t*1e5)/1e5}const MN={textTransform:"uppercase"},LN='"Roboto", "Helvetica", "Arial", sans-serif';function Vae(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=LN,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=re(n,$ae),f=i/14,p=d||(m=>`${m/u*f}rem`),g=(m,y,v,w,I)=>S({fontFamily:r,fontWeight:m,fontSize:p(y),lineHeight:v},r===LN?{letterSpacing:`${Fae(w/y)}em`}:{},I,c),_={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,MN),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,MN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yr(S({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const Uae=.2,Bae=.14,jae=.12;function _t(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Uae})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Bae})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${jae})`].join(",")}const zae=["none",_t(0,2,1,-1,0,1,1,0,0,1,3,0),_t(0,3,1,-2,0,2,2,0,0,1,5,0),_t(0,3,3,-2,0,3,4,0,0,1,8,0),_t(0,2,4,-1,0,4,5,0,0,1,10,0),_t(0,3,5,-1,0,5,8,0,0,1,14,0),_t(0,3,5,-1,0,6,10,0,0,1,18,0),_t(0,4,5,-2,0,7,10,1,0,2,16,1),_t(0,5,5,-3,0,8,10,1,0,3,14,2),_t(0,5,6,-3,0,9,12,1,0,3,16,2),_t(0,6,6,-3,0,10,14,1,0,4,18,3),_t(0,6,7,-4,0,11,15,1,0,4,20,3),_t(0,7,8,-4,0,12,17,2,0,5,22,4),_t(0,7,8,-4,0,13,19,2,0,5,24,4),_t(0,7,9,-4,0,14,21,2,0,5,26,4),_t(0,8,9,-5,0,15,22,2,0,6,28,5),_t(0,8,10,-5,0,16,24,2,0,6,30,5),_t(0,8,11,-5,0,17,26,2,0,6,32,5),_t(0,9,11,-5,0,18,28,2,0,7,34,6),_t(0,9,12,-6,0,19,29,2,0,7,36,6),_t(0,10,13,-6,0,20,31,3,0,8,38,7),_t(0,10,13,-6,0,21,33,3,0,8,40,7),_t(0,10,14,-6,0,22,35,3,0,8,42,7),_t(0,11,14,-7,0,23,36,3,0,9,44,8),_t(0,11,15,-7,0,24,38,3,0,9,46,8)],Wae=["duration","easing","delay"],qae={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Hae={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $N(t){return`${Math.round(t)}ms`}function Gae(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Kae(t){const e=S({},qae,t.easing),n=S({},Hae,t.duration);return S({getAutoHeightDuration:Gae,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return re(s,Wae),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:$N(o)} ${a} ${typeof l=="string"?l:$N(l)}`).join(",")}},t,{easing:e,duration:n})}const Qae={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Yae=Qae,Xae=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function J4(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=re(t,Xae);if(t.vars)throw new Error(Qo(18));const a=Lae(r),l=v0(t);let u=yr(l,{mixins:Rae(l.breakpoints,n),palette:a,shadows:zae.slice(),typography:Vae(a,s),transitions:Kae(i),zIndex:S({},Yae)});return u=yr(u,o),u=e.reduce((c,d)=>yr(c,d),u),u.unstable_sxConfig=S({},y0,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return _0({sx:d,theme:this})},u}const Jae=J4(),T0=Jae;function td(){const t=w0(T0);return t[zp]||t}function Oe({props:t,name:e}){return X4({props:t,name:e,defaultTheme:T0,themeId:zp})}const hi=t=>Ph(t)&&t!=="classes",Zae=Ph,ne=Y4({themeId:zp,defaultTheme:T0,rootShouldForwardProp:hi}),FN=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function ele(t){return Pe("MuiSvgIcon",t)}Se("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const tle=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nle=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${oe(e)}`,`fontSize${oe(n)}`]};return Ne(i,ele,r)},rle=ne("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${oe(n.color)}`],e[`fontSize${oe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),PI=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=re(r,tle),p=E.isValidElement(i)&&i.type==="svg",g=S({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p}),_={};c||(_.viewBox=h);const m=nle(g);return C.jsxs(rle,S({as:a,className:de(m.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},_,f,p&&i.props,{ownerState:g,children:[p?i.props.children:i,d?C.jsx("title",{children:d}):null]}))});PI.muiName="SvgIcon";function nR(t,e){function n(r,i){return C.jsx(PI,S({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=PI.muiName,E.memo(E.forwardRef(n))}const ile={configure:t=>{Qx.configure(t)}},sle=Object.freeze(Object.defineProperty({__proto__:null,capitalize:oe,createChainedFunction:xI,createSvgIcon:nR,debounce:Hx,deprecatedPropType:zse,isMuiElement:Eg,ownerDocument:jn,ownerWindow:Yo,requirePropFactory:Wse,setRef:Wy,unstable_ClassNameGenerator:ile,unstable_useEnhancedEffect:Di,unstable_useId:Hp,unsupportedProp:Hse,useControlled:qy,useEventCallback:po,useForkRef:on,useIsFocusVisible:Gx},Symbol.toStringTag,{value:"Module"}));function AI(t,e){return AI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AI(t,e)}function Z4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,AI(t,e)}const VN={disabled:!1},Qy=ar.createContext(null);var ole=function(e){return e.scrollTop},nh="unmounted",Ta="exited",Ia="entering",pu="entered",kI="exiting",Hs=function(t){Z4(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ta,s.appearStatus=Ia):l=pu:r.unmountOnExit||r.mountOnEnter?l=nh:l=Ta,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===nh?{status:Ta}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ia&&o!==pu&&(s=Ia):(o===Ia||o===pu)&&(s=kI)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ia){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:vm.findDOMNode(this);o&&ole(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ta&&this.setState({status:nh})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[vm.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||VN.disabled){this.safeSetState({status:pu},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ia},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:pu},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:vm.findDOMNode(this);if(!s||VN.disabled){this.safeSetState({status:Ta},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:kI},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ta},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:vm.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===nh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=re(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ar.createElement(Qy.Provider,{value:null},typeof o=="function"?o(i,a):ar.cloneElement(ar.Children.only(o),a))},e}(ar.Component);Hs.contextType=Qy;Hs.propTypes={};function ou(){}Hs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ou,onEntering:ou,onEntered:ou,onExit:ou,onExiting:ou,onExited:ou};Hs.UNMOUNTED=nh;Hs.EXITED=Ta;Hs.ENTERING=Ia;Hs.ENTERED=pu;Hs.EXITING=kI;const ej=Hs;function ale(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rR(t,e){var n=function(s){return e&&E.isValidElement(s)?e(s):s},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function lle(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ba(t,e,n){return n[e]!=null?n[e]:t.props[e]}function ule(t,e){return rR(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ba(n,"appear",t),enter:Ba(n,"enter",t),exit:Ba(n,"exit",t)})})}function cle(t,e,n){var r=rR(t.children),i=lle(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(E.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=E.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ba(o,"exit",t),enter:Ba(o,"enter",t)}):!l&&a&&!c?i[s]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(u)&&(i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Ba(o,"exit",t),enter:Ba(o,"enter",t)}))}}),i}var dle=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},hle={component:"div",childFactory:function(e){return e}},iR=function(t){Z4(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(ale(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?ule(i,a):cle(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=rR(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=S({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=re(i,["component","childFactory"]),l=this.state.contextValue,u=dle(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?ar.createElement(Qy.Provider,{value:l},u):ar.createElement(Qy.Provider,{value:l},ar.createElement(s,a,u))},e}(ar.Component);iR.propTypes={};iR.defaultProps=hle;const fle=iR,tj=t=>t.scrollTop;function Yy(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function ple(t){return Pe("MuiPaper",t)}Se("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const mle=["className","component","elevation","square","variant"],gle=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ne(s,ple,i)},yle=ne("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return S({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&S({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${hr("#fff",FN(e.elevation))}, ${hr("#fff",FN(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),_le=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=re(r,mle),c=S({},r,{component:s,elevation:o,square:a,variant:l}),d=gle(c);return C.jsx(yle,S({as:s,ownerState:c,className:de(d.root,i),ref:n},u))}),Qp=_le;function vle(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=E.useState(!1),h=de(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=de(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),E.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),C.jsx("span",{className:h,style:f,children:C.jsx("span",{className:p})})}const Kr=Se("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),wle=["center","classes","className"];let I0=t=>t,UN,BN,jN,zN;const NI=550,Ele=80,Tle=qp(UN||(UN=I0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Ile=qp(BN||(BN=I0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),ble=qp(jN||(jN=I0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Sle=ne("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Cle=ne(vle,{name:"MuiTouchRipple",slot:"Ripple"})(zN||(zN=I0`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Kr.rippleVisible,Tle,NI,({theme:t})=>t.transitions.easing.easeInOut,Kr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Kr.child,Kr.childLeaving,Ile,NI,({theme:t})=>t.transitions.easing.easeInOut,Kr.childPulsate,ble,({theme:t})=>t.transitions.easing.easeInOut),xle=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=re(r,wle),[l,u]=E.useState([]),c=E.useRef(0),d=E.useRef(null);E.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=E.useRef(!1),f=E.useRef(0),p=E.useRef(null),g=E.useRef(null);E.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const _=E.useCallback(w=>{const{pulsate:I,rippleX:b,rippleY:T,rippleSize:R,cb:O}=w;u(x=>[...x,C.jsx(Cle,{classes:{ripple:de(s.ripple,Kr.ripple),rippleVisible:de(s.rippleVisible,Kr.rippleVisible),ripplePulsate:de(s.ripplePulsate,Kr.ripplePulsate),child:de(s.child,Kr.child),childLeaving:de(s.childLeaving,Kr.childLeaving),childPulsate:de(s.childPulsate,Kr.childPulsate)},timeout:NI,pulsate:I,rippleX:b,rippleY:T,rippleSize:R},c.current)]),c.current+=1,d.current=O},[s]),m=E.useCallback((w={},I={},b=()=>{})=>{const{pulsate:T=!1,center:R=i||I.pulsate,fakeElement:O=!1}=I;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const x=O?null:g.current,D=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,M,F;if(R||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)z=Math.round(D.width/2),M=Math.round(D.height/2);else{const{clientX:V,clientY:B}=w.touches&&w.touches.length>0?w.touches[0]:w;z=Math.round(V-D.left),M=Math.round(B-D.top)}if(R)F=Math.sqrt((2*D.width**2+D.height**2)/3),F%2===0&&(F+=1);else{const V=Math.max(Math.abs((x?x.clientWidth:0)-z),z)*2+2,B=Math.max(Math.abs((x?x.clientHeight:0)-M),M)*2+2;F=Math.sqrt(V**2+B**2)}w!=null&&w.touches?p.current===null&&(p.current=()=>{_({pulsate:T,rippleX:z,rippleY:M,rippleSize:F,cb:b})},f.current=setTimeout(()=>{p.current&&(p.current(),p.current=null)},Ele)):_({pulsate:T,rippleX:z,rippleY:M,rippleSize:F,cb:b})},[i,_]),y=E.useCallback(()=>{m({},{pulsate:!0})},[m]),v=E.useCallback((w,I)=>{if(clearTimeout(f.current),(w==null?void 0:w.type)==="touchend"&&p.current){p.current(),p.current=null,f.current=setTimeout(()=>{v(w,I)});return}p.current=null,u(b=>b.length>0?b.slice(1):b),d.current=I},[]);return E.useImperativeHandle(n,()=>({pulsate:y,start:m,stop:v}),[y,m,v]),C.jsx(Sle,S({className:de(Kr.root,s.root,o),ref:g},a,{children:C.jsx(fle,{component:null,exit:!0,children:l})}))}),Rle=xle;function Ple(t){return Pe("MuiButtonBase",t)}const Ale=Se("MuiButtonBase",["root","disabled","focusVisible"]),kle=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Nle=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Ne({root:["root",e&&"disabled",n&&"focusVisible"]},Ple,i);return n&&r&&(o.root+=` ${r}`),o},Ole=ne("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ale.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Dle=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:_,onDragLeave:m,onFocus:y,onFocusVisible:v,onKeyDown:w,onKeyUp:I,onMouseDown:b,onMouseLeave:T,onMouseUp:R,onTouchEnd:O,onTouchMove:x,onTouchStart:D,tabIndex:z=0,TouchRippleProps:M,touchRippleRef:F,type:V}=r,B=re(r,kle),K=E.useRef(null),N=E.useRef(null),U=on(N,F),{isFocusVisibleRef:Y,onFocus:ge,onBlur:he,ref:Ce}=Gx(),[ce,ye]=E.useState(!1);u&&ce&&ye(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{ye(!0),K.current.focus()}}),[]);const[Ee,qe]=E.useState(!1);E.useEffect(()=>{qe(!0)},[]);const Ue=Ee&&!c&&!u;E.useEffect(()=>{ce&&h&&!c&&Ee&&N.current.pulsate()},[c,h,ce,Ee]);function De(se,It,Tr=d){return po(Ir=>(It&&It(Ir),!Tr&&N.current&&N.current[se](Ir),!0))}const gt=De("start",b),_e=De("stop",_),Xe=De("stop",m),Te=De("stop",R),Ve=De("stop",se=>{ce&&se.preventDefault(),T&&T(se)}),Ae=De("start",D),wn=De("stop",O),Zt=De("stop",x),Pt=De("stop",se=>{he(se),Y.current===!1&&ye(!1),p&&p(se)},!1),Gt=po(se=>{K.current||(K.current=se.currentTarget),ge(se),Y.current===!0&&(ye(!0),v&&v(se)),y&&y(se)}),st=()=>{const se=K.current;return l&&l!=="button"&&!(se.tagName==="A"&&se.href)},He=E.useRef(!1),A=po(se=>{h&&!He.current&&ce&&N.current&&se.key===" "&&(He.current=!0,N.current.stop(se,()=>{N.current.start(se)})),se.target===se.currentTarget&&st()&&se.key===" "&&se.preventDefault(),w&&w(se),se.target===se.currentTarget&&st()&&se.key==="Enter"&&!u&&(se.preventDefault(),g&&g(se))}),H=po(se=>{h&&se.key===" "&&N.current&&ce&&!se.defaultPrevented&&(He.current=!1,N.current.stop(se,()=>{N.current.pulsate(se)})),I&&I(se),g&&se.target===se.currentTarget&&st()&&se.key===" "&&!se.defaultPrevented&&g(se)});let W=l;W==="button"&&(B.href||B.to)&&(W=f);const Z={};W==="button"?(Z.type=V===void 0?"button":V,Z.disabled=u):(!B.href&&!B.to&&(Z.role="button"),u&&(Z["aria-disabled"]=u));const le=on(n,Ce,K),ve=S({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:z,focusVisible:ce}),pe=Nle(ve);return C.jsxs(Ole,S({as:W,className:de(pe.root,a),ownerState:ve,onBlur:Pt,onClick:g,onContextMenu:_e,onFocus:Gt,onKeyDown:A,onKeyUp:H,onMouseDown:gt,onMouseLeave:Ve,onMouseUp:Te,onDragLeave:Xe,onTouchEnd:wn,onTouchMove:Zt,onTouchStart:Ae,ref:le,tabIndex:u?-1:z,type:V},Z,B,{children:[o,Ue?C.jsx(Rle,S({ref:U,center:s},M)):null]}))}),sR=Dle;function Mle(t){return Pe("MuiIconButton",t)}const Lle=Se("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),$le=["edge","children","className","color","disabled","disableFocusRipple","size"],Fle=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${oe(r)}`,i&&`edge${oe(i)}`,`size${oe(s)}`]};return Ne(o,Mle,e)},Vle=ne(sR,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${oe(n.color)}`],n.edge&&e[`edge${oe(n.edge)}`],e[`size${oe(n.size)}`]]}})(({theme:t,ownerState:e})=>S({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return S({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&S({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":S({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Lle.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Ule=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=re(r,$le),h=S({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),f=Fle(h);return C.jsx(Vle,S({className:de(f.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),WN=Ule;function Ble(t){return Pe("MuiTypography",t)}Se("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const jle=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],zle=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${oe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ne(a,Ble,o)},Wle=ne("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${oe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>S({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),qN={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},qle={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Hle=t=>qle[t]||t,Gle=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiTypography"}),i=Hle(r.color),s=eR(S({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=qN}=s,p=re(s,jle),g=S({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),_=l||(d?"p":f[h]||qN[h])||"span",m=zle(g);return C.jsx(Wle,S({as:_,ref:n,ownerState:g,className:de(m.root,a)},p))}),Dt=Gle;function Kle(t){return Pe("MuiAppBar",t)}Se("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Qle=["className","color","enableColorOnDark","position"],Yle=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${oe(e)}`,`position${oe(n)}`]};return Ne(i,Kle,r)},Vm=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Xle=ne(Qp,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${oe(n.position)}`],e[`color${oe(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return S({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&S({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&S({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&S({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Vm(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Vm(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Vm(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Vm(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Jle=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=re(r,Qle),u=S({},r,{color:s,position:a,enableColorOnDark:o}),c=Yle(u);return C.jsx(Xle,S({square:!0,component:"header",ownerState:u,elevation:4,className:de(c.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),Zle=Jle;function Xy(t){return typeof t=="string"}function rh(t,e,n){return t===void 0||Xy(t)?e:S({},e,{ownerState:S({},e.ownerState,n)})}const eue={disableDefaultClasses:!1},tue=E.createContext(eue);function nue(t){const{disableDefaultClasses:e}=E.useContext(tue);return n=>e?"":t(n)}function nj(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function rue(t,e,n){return typeof t=="function"?t(e,n):t}function HN(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function iue(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=de(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=S({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=S({},n,i,r);return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=nj(S({},i,r)),a=HN(r),l=HN(i),u=e(o),c=de(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=S({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=S({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const sue=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function bl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=re(t,sue),a=s?{}:rue(r,i),{props:l,internalRef:u}=iue(S({},o,{externalSlotProps:a})),c=on(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return rh(n,S({},l,{ref:c}),i)}const oue=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function aue(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function lue(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function uue(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||lue(t))}function cue(t){const e=[],n=[];return Array.from(t.querySelectorAll(oue)).forEach((r,i)=>{const s=aue(r);s===-1||!uue(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function due(){return!0}function hue(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=cue,isEnabled:o=due,open:a}=t,l=E.useRef(!1),u=E.useRef(null),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=E.useRef(!1),p=E.useRef(null),g=on(e.ref,p),_=E.useRef(null);E.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!p.current)return;const v=jn(p.current);return p.current.contains(v.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),E.useEffect(()=>{if(!a||!p.current)return;const v=jn(p.current),w=T=>{_.current=T,!(r||!o()||T.key!=="Tab")&&v.activeElement===p.current&&T.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{const T=p.current;if(T===null)return;if(!v.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(v.activeElement)||r&&v.activeElement!==u.current&&v.activeElement!==c.current)return;if(v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let R=[];if((v.activeElement===u.current||v.activeElement===c.current)&&(R=s(p.current)),R.length>0){var O,x;const D=!!((O=_.current)!=null&&O.shiftKey&&((x=_.current)==null?void 0:x.key)==="Tab"),z=R[0],M=R[R.length-1];typeof z!="string"&&typeof M!="string"&&(D?M.focus():z.focus())}else T.focus()};v.addEventListener("focusin",I),v.addEventListener("keydown",w,!0);const b=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(b),v.removeEventListener("focusin",I),v.removeEventListener("keydown",w,!0)}},[n,r,i,o,a,s]);const m=v=>{d.current===null&&(d.current=v.relatedTarget),f.current=!0,h.current=v.target;const w=e.props.onFocus;w&&w(v)},y=v=>{d.current===null&&(d.current=v.relatedTarget),f.current=!0};return C.jsxs(E.Fragment,{children:[C.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:g,onFocus:m}),C.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}var _r="top",li="bottom",ui="right",vr="left",oR="auto",Yp=[_r,li,ui,vr],Sc="start",Xf="end",fue="clippingParents",rj="viewport",Dd="popper",pue="reference",GN=Yp.reduce(function(t,e){return t.concat([e+"-"+Sc,e+"-"+Xf])},[]),ij=[].concat(Yp,[oR]).reduce(function(t,e){return t.concat([e,e+"-"+Sc,e+"-"+Xf])},[]),mue="beforeRead",gue="read",yue="afterRead",_ue="beforeMain",vue="main",wue="afterMain",Eue="beforeWrite",Tue="write",Iue="afterWrite",bue=[mue,gue,yue,_ue,vue,wue,Eue,Tue,Iue];function ds(t){return t?(t.nodeName||"").toLowerCase():null}function zr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Sl(t){var e=zr(t).Element;return t instanceof e||t instanceof Element}function ni(t){var e=zr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function aR(t){if(typeof ShadowRoot>"u")return!1;var e=zr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Sue(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ni(s)||!ds(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Cue(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!ni(i)||!ds(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const xue={name:"applyStyles",enabled:!0,phase:"write",fn:Sue,effect:Cue,requires:["computeStyles"]};function is(t){return t.split("-")[0]}var Xa=Math.max,Jy=Math.min,Cc=Math.round;function OI(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function sj(){return!/^((?!chrome|android).)*safari/i.test(OI())}function xc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ni(t)&&(i=t.offsetWidth>0&&Cc(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Cc(r.height)/t.offsetHeight||1);var o=Sl(t)?zr(t):window,a=o.visualViewport,l=!sj()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function lR(t){var e=xc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function oj(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&aR(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fs(t){return zr(t).getComputedStyle(t)}function Rue(t){return["table","td","th"].indexOf(ds(t))>=0}function la(t){return((Sl(t)?t.ownerDocument:t.document)||window.document).documentElement}function b0(t){return ds(t)==="html"?t:t.assignedSlot||t.parentNode||(aR(t)?t.host:null)||la(t)}function KN(t){return!ni(t)||Fs(t).position==="fixed"?null:t.offsetParent}function Pue(t){var e=/firefox/i.test(OI()),n=/Trident/i.test(OI());if(n&&ni(t)){var r=Fs(t);if(r.position==="fixed")return null}var i=b0(t);for(aR(i)&&(i=i.host);ni(i)&&["html","body"].indexOf(ds(i))<0;){var s=Fs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Xp(t){for(var e=zr(t),n=KN(t);n&&Rue(n)&&Fs(n).position==="static";)n=KN(n);return n&&(ds(n)==="html"||ds(n)==="body"&&Fs(n).position==="static")?e:n||Pue(t)||e}function uR(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ah(t,e,n){return Xa(t,Jy(e,n))}function Aue(t,e,n){var r=Ah(t,e,n);return r>n?n:r}function aj(){return{top:0,right:0,bottom:0,left:0}}function lj(t){return Object.assign({},aj(),t)}function uj(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var kue=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,lj(typeof e!="number"?e:uj(e,Yp))};function Nue(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=is(n.placement),l=uR(a),u=[vr,ui].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=kue(i.padding,n),h=lR(s),f=l==="y"?_r:vr,p=l==="y"?li:ui,g=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],_=o[l]-n.rects.reference[l],m=Xp(s),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,v=g/2-_/2,w=d[f],I=y-h[c]-d[p],b=y/2-h[c]/2+v,T=Ah(w,b,I),R=l;n.modifiersData[r]=(e={},e[R]=T,e.centerOffset=T-b,e)}}function Oue(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||oj(e.elements.popper,i)&&(e.elements.arrow=i))}const Due={name:"arrow",enabled:!0,phase:"main",fn:Nue,effect:Oue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rc(t){return t.split("-")[1]}var Mue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lue(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Cc(n*i)/i||0,y:Cc(r*i)/i||0}}function QN(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,g=p===void 0?0:p,_=typeof c=="function"?c({x:f,y:g}):{x:f,y:g};f=_.x,g=_.y;var m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),v=vr,w=_r,I=window;if(u){var b=Xp(n),T="clientHeight",R="clientWidth";if(b===zr(n)&&(b=la(n),Fs(b).position!=="static"&&a==="absolute"&&(T="scrollHeight",R="scrollWidth")),b=b,i===_r||(i===vr||i===ui)&&s===Xf){w=li;var O=d&&b===I&&I.visualViewport?I.visualViewport.height:b[T];g-=O-r.height,g*=l?1:-1}if(i===vr||(i===_r||i===li)&&s===Xf){v=ui;var x=d&&b===I&&I.visualViewport?I.visualViewport.width:b[R];f-=x-r.width,f*=l?1:-1}}var D=Object.assign({position:a},u&&Mue),z=c===!0?Lue({x:f,y:g},zr(n)):{x:f,y:g};if(f=z.x,g=z.y,l){var M;return Object.assign({},D,(M={},M[w]=y?"0":"",M[v]=m?"0":"",M.transform=(I.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",M))}return Object.assign({},D,(e={},e[w]=y?g+"px":"",e[v]=m?f+"px":"",e.transform="",e))}function $ue(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:is(e.placement),variation:Rc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,QN(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,QN(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Fue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$ue,data:{}};var Um={passive:!0};function Vue(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=zr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Um)}),a&&l.addEventListener("resize",n.update,Um),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Um)}),a&&l.removeEventListener("resize",n.update,Um)}}const Uue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Vue,data:{}};var Bue={left:"right",right:"left",bottom:"top",top:"bottom"};function Ig(t){return t.replace(/left|right|bottom|top/g,function(e){return Bue[e]})}var jue={start:"end",end:"start"};function YN(t){return t.replace(/start|end/g,function(e){return jue[e]})}function cR(t){var e=zr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function dR(t){return xc(la(t)).left+cR(t).scrollLeft}function zue(t,e){var n=zr(t),r=la(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=sj();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+dR(t),y:l}}function Wue(t){var e,n=la(t),r=cR(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Xa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Xa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+dR(t),l=-r.scrollTop;return Fs(i||n).direction==="rtl"&&(a+=Xa(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function hR(t){var e=Fs(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function cj(t){return["html","body","#document"].indexOf(ds(t))>=0?t.ownerDocument.body:ni(t)&&hR(t)?t:cj(b0(t))}function kh(t,e){var n;e===void 0&&(e=[]);var r=cj(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=zr(r),o=i?[s].concat(s.visualViewport||[],hR(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(kh(b0(o)))}function DI(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function que(t,e){var n=xc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function XN(t,e,n){return e===rj?DI(zue(t,n)):Sl(e)?que(e,n):DI(Wue(la(t)))}function Hue(t){var e=kh(b0(t)),n=["absolute","fixed"].indexOf(Fs(t).position)>=0,r=n&&ni(t)?Xp(t):t;return Sl(r)?e.filter(function(i){return Sl(i)&&oj(i,r)&&ds(i)!=="body"}):[]}function Gue(t,e,n,r){var i=e==="clippingParents"?Hue(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=XN(t,u,r);return l.top=Xa(c.top,l.top),l.right=Jy(c.right,l.right),l.bottom=Jy(c.bottom,l.bottom),l.left=Xa(c.left,l.left),l},XN(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function dj(t){var e=t.reference,n=t.element,r=t.placement,i=r?is(r):null,s=r?Rc(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case _r:l={x:o,y:e.y-n.height};break;case li:l={x:o,y:e.y+e.height};break;case ui:l={x:e.x+e.width,y:a};break;case vr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?uR(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Sc:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Xf:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Jf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?fue:a,u=n.rootBoundary,c=u===void 0?rj:u,d=n.elementContext,h=d===void 0?Dd:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,_=g===void 0?0:g,m=lj(typeof _!="number"?_:uj(_,Yp)),y=h===Dd?pue:Dd,v=t.rects.popper,w=t.elements[p?y:h],I=Gue(Sl(w)?w:w.contextElement||la(t.elements.popper),l,c,o),b=xc(t.elements.reference),T=dj({reference:b,element:v,strategy:"absolute",placement:i}),R=DI(Object.assign({},v,T)),O=h===Dd?R:b,x={top:I.top-O.top+m.top,bottom:O.bottom-I.bottom+m.bottom,left:I.left-O.left+m.left,right:O.right-I.right+m.right},D=t.modifiersData.offset;if(h===Dd&&D){var z=D[i];Object.keys(x).forEach(function(M){var F=[ui,li].indexOf(M)>=0?1:-1,V=[_r,li].indexOf(M)>=0?"y":"x";x[M]+=z[V]*F})}return x}function Kue(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?ij:l,c=Rc(r),d=c?a?GN:GN.filter(function(p){return Rc(p)===c}):Yp,h=d.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=Jf(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[is(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function Que(t){if(is(t)===oR)return[];var e=Ig(t);return[YN(t),e,YN(e)]}function Yue(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,_=e.options.placement,m=is(_),y=m===_,v=l||(y||!p?[Ig(_)]:Que(_)),w=[_].concat(v).reduce(function(ce,ye){return ce.concat(is(ye)===oR?Kue(e,{placement:ye,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:g}):ye)},[]),I=e.rects.reference,b=e.rects.popper,T=new Map,R=!0,O=w[0],x=0;x<w.length;x++){var D=w[x],z=is(D),M=Rc(D)===Sc,F=[_r,li].indexOf(z)>=0,V=F?"width":"height",B=Jf(e,{placement:D,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),K=F?M?ui:vr:M?li:_r;I[V]>b[V]&&(K=Ig(K));var N=Ig(K),U=[];if(s&&U.push(B[z]<=0),a&&U.push(B[K]<=0,B[N]<=0),U.every(function(ce){return ce})){O=D,R=!1;break}T.set(D,U)}if(R)for(var Y=p?3:1,ge=function(ye){var Ee=w.find(function(qe){var Ue=T.get(qe);if(Ue)return Ue.slice(0,ye).every(function(De){return De})});if(Ee)return O=Ee,"break"},he=Y;he>0;he--){var Ce=ge(he);if(Ce==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const Xue={name:"flip",enabled:!0,phase:"main",fn:Yue,requiresIfExists:["offset"],data:{_skip:!1}};function JN(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function ZN(t){return[_r,ui,li,vr].some(function(e){return t[e]>=0})}function Jue(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Jf(e,{elementContext:"reference"}),a=Jf(e,{altBoundary:!0}),l=JN(o,r),u=JN(a,i,s),c=ZN(l),d=ZN(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Zue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jue};function ece(t,e,n){var r=is(t),i=[vr,_r].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[vr,ui].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function tce(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=ij.reduce(function(c,d){return c[d]=ece(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const nce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tce};function rce(t){var e=t.state,n=t.name;e.modifiersData[n]=dj({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const ice={name:"popperOffsets",enabled:!0,phase:"read",fn:rce,data:{}};function sce(t){return t==="x"?"y":"x"}function oce(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,_=Jf(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=is(e.placement),y=Rc(e.placement),v=!y,w=uR(m),I=sce(w),b=e.modifiersData.popperOffsets,T=e.rects.reference,R=e.rects.popper,O=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,x=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(b){if(s){var M,F=w==="y"?_r:vr,V=w==="y"?li:ui,B=w==="y"?"height":"width",K=b[w],N=K+_[F],U=K-_[V],Y=f?-R[B]/2:0,ge=y===Sc?T[B]:R[B],he=y===Sc?-R[B]:-T[B],Ce=e.elements.arrow,ce=f&&Ce?lR(Ce):{width:0,height:0},ye=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:aj(),Ee=ye[F],qe=ye[V],Ue=Ah(0,T[B],ce[B]),De=v?T[B]/2-Y-Ue-Ee-x.mainAxis:ge-Ue-Ee-x.mainAxis,gt=v?-T[B]/2+Y+Ue+qe+x.mainAxis:he+Ue+qe+x.mainAxis,_e=e.elements.arrow&&Xp(e.elements.arrow),Xe=_e?w==="y"?_e.clientTop||0:_e.clientLeft||0:0,Te=(M=D==null?void 0:D[w])!=null?M:0,Ve=K+De-Te-Xe,Ae=K+gt-Te,wn=Ah(f?Jy(N,Ve):N,K,f?Xa(U,Ae):U);b[w]=wn,z[w]=wn-K}if(a){var Zt,Pt=w==="x"?_r:vr,Gt=w==="x"?li:ui,st=b[I],He=I==="y"?"height":"width",A=st+_[Pt],H=st-_[Gt],W=[_r,vr].indexOf(m)!==-1,Z=(Zt=D==null?void 0:D[I])!=null?Zt:0,le=W?A:st-T[He]-R[He]-Z+x.altAxis,ve=W?st+T[He]+R[He]-Z-x.altAxis:H,pe=f&&W?Aue(le,st,ve):Ah(f?le:A,st,f?ve:H);b[I]=pe,z[I]=pe-st}e.modifiersData[r]=z}}const ace={name:"preventOverflow",enabled:!0,phase:"main",fn:oce,requiresIfExists:["offset"]};function lce(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function uce(t){return t===zr(t)||!ni(t)?cR(t):lce(t)}function cce(t){var e=t.getBoundingClientRect(),n=Cc(e.width)/t.offsetWidth||1,r=Cc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function dce(t,e,n){n===void 0&&(n=!1);var r=ni(e),i=ni(e)&&cce(e),s=la(e),o=xc(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ds(e)!=="body"||hR(s))&&(a=uce(e)),ni(e)?(l=xc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=dR(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function hce(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function fce(t){var e=hce(t);return bue.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function pce(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function mce(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var eO={placement:"bottom",modifiers:[],strategy:"absolute"};function tO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function gce(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?eO:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},eO,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(m){var y=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},s,c.options,y),c.scrollParents={reference:Sl(a)?kh(a):a.contextElement?kh(a.contextElement):[],popper:kh(l)};var v=fce(mce([].concat(r,c.options.modifiers)));return c.orderedModifiers=v.filter(function(w){return w.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var m=c.elements,y=m.reference,v=m.popper;if(tO(y,v)){c.rects={reference:dce(y,Xp(v),c.options.strategy==="fixed"),popper:lR(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(x){return c.modifiersData[x.name]=Object.assign({},x.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var I=c.orderedModifiers[w],b=I.fn,T=I.options,R=T===void 0?{}:T,O=I.name;typeof b=="function"&&(c=b({state:c,options:R,name:O,instance:f})||c)}}}},update:pce(function(){return new Promise(function(_){f.forceUpdate(),_(c)})}),destroy:function(){g(),h=!0}};if(!tO(a,l))return f;f.setOptions(u).then(function(_){!h&&u.onFirstUpdate&&u.onFirstUpdate(_)});function p(){c.orderedModifiers.forEach(function(_){var m=_.name,y=_.options,v=y===void 0?{}:y,w=_.effect;if(typeof w=="function"){var I=w({state:c,name:m,instance:f,options:v}),b=function(){};d.push(I||b)}})}function g(){d.forEach(function(_){return _()}),d=[]}return f}}var yce=[Uue,ice,Fue,xue,nce,Xue,ace,Due,Zue],_ce=gce({defaultModifiers:yce});function vce(t){return typeof t=="function"?t():t}const hj=E.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=E.useState(null),l=on(E.isValidElement(r)?r.ref:null,n);if(Di(()=>{s||a(vce(i)||document.body)},[i,s]),Di(()=>{if(o&&!s)return Wy(n,o),()=>{Wy(n,null)}},[n,o,s]),s){if(E.isValidElement(r)){const u={ref:l};return E.cloneElement(r,u)}return C.jsx(E.Fragment,{children:r})}return C.jsx(E.Fragment,{children:o&&T_.createPortal(r,o)})});function wce(t){return Pe("MuiPopper",t)}Se("MuiPopper",["root"]);const Ece=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Tce=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Ice(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function MI(t){return typeof t=="function"?t():t}function bce(t){return t.nodeType!==void 0}const Sce=()=>Ne({root:["root"]},nue(wce)),Cce={},xce=E.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:g}=e,_=re(e,Ece),m=E.useRef(null),y=on(m,n),v=E.useRef(null),w=on(v,h),I=E.useRef(w);Di(()=>{I.current=w},[w]),E.useImperativeHandle(h,()=>v.current,[]);const b=Ice(c,o),[T,R]=E.useState(b),[O,x]=E.useState(MI(i));E.useEffect(()=>{v.current&&v.current.forceUpdate()}),E.useEffect(()=>{i&&x(MI(i))},[i]),Di(()=>{if(!O||!u)return;const V=N=>{R(N.placement)};let B=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:N})=>{V(N)}}];l!=null&&(B=B.concat(l)),d&&d.modifiers!=null&&(B=B.concat(d.modifiers));const K=_ce(O,m.current,S({placement:b},d,{modifiers:B}));return I.current(K),()=>{K.destroy(),I.current(null)}},[O,a,l,u,d,b]);const D={placement:T};g!==null&&(D.TransitionProps=g);const z=Sce(),M=(r=p.root)!=null?r:"div",F=bl({elementType:M,externalSlotProps:f.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:z.root});return C.jsx(M,S({},F,{children:typeof s=="function"?s(D):s}))}),Rce=E.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=Cce,popperRef:f,style:p,transition:g=!1,slotProps:_={},slots:m={}}=e,y=re(e,Tce),[v,w]=E.useState(!0),I=()=>{w(!1)},b=()=>{w(!0)};if(!l&&!c&&(!g||v))return null;let T;if(s)T=s;else if(r){const x=MI(r);T=x&&bce(x)?jn(x).body:jn(null).body}const R=!c&&l&&(!g||v)?"none":void 0,O=g?{in:c,onEnter:I,onExited:b}:void 0;return C.jsx(hj,{disablePortal:a,container:T,children:C.jsx(xce,S({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:g?!v:c,placement:d,popperOptions:h,popperRef:f,slotProps:_,slots:m},y,{style:S({position:"fixed",top:0,left:0,display:R},p),TransitionProps:O,children:i}))})});function Pce(t){const e=jn(t);return e.body===t?Yo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Nh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function nO(t){return parseInt(Yo(t).getComputedStyle(t).paddingRight,10)||0}function Ace(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function rO(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!Ace(o);a&&l&&Nh(o,i)})}function tE(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function kce(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Pce(r)){const o=z4(jn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${nO(r)+o}px`;const a=jn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${nO(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=jn(r).body;else{const o=r.parentElement,a=Yo(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Nce(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Oce{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Nh(e.modalRef,!1);const i=Nce(n);rO(n,e.mount,e.modalRef,i,!0);const s=tE(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=tE(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=kce(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=tE(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Nh(e.modalRef,n),rO(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Nh(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Dce(t){return typeof t=="function"?t():t}function Mce(t){return t?t.props.hasOwnProperty("in"):!1}const Lce=new Oce;function $ce(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Lce,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=E.useRef({}),f=E.useRef(null),p=E.useRef(null),g=on(p,d),[_,m]=E.useState(!c),y=Mce(l);let v=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(v=!1);const w=()=>jn(f.current),I=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),b=()=>{i.mount(I(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},T=po(()=>{const B=Dce(e)||w().body;i.add(I(),B),p.current&&b()}),R=E.useCallback(()=>i.isTopModal(I()),[i]),O=po(B=>{f.current=B,B&&(c&&R()?b():p.current&&Nh(p.current,v))}),x=E.useCallback(()=>{i.remove(I(),v)},[v,i]);E.useEffect(()=>()=>{x()},[x]),E.useEffect(()=>{c?T():(!y||!s)&&x()},[c,x,y,s,T]);const D=B=>K=>{var N;(N=B.onKeyDown)==null||N.call(B,K),!(K.key!=="Escape"||K.which===229||!R())&&(n||(K.stopPropagation(),u&&u(K,"escapeKeyDown")))},z=B=>K=>{var N;(N=B.onClick)==null||N.call(B,K),K.target===K.currentTarget&&u&&u(K,"backdropClick")};return{getRootProps:(B={})=>{const K=nj(t);delete K.onTransitionEnter,delete K.onTransitionExited;const N=S({},K,B);return S({role:"presentation"},N,{onKeyDown:D(N),ref:g})},getBackdropProps:(B={})=>{const K=B;return S({"aria-hidden":!0},K,{onClick:z(K),open:c})},getTransitionProps:()=>{const B=()=>{m(!1),o&&o()},K=()=>{m(!0),a&&a(),s&&x()};return{onEnter:xI(B,l==null?void 0:l.props.onEnter),onExited:xI(K,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:O,isTopModal:R,exited:_,hasTransition:y}}const Fce=["onChange","maxRows","minRows","style","value"];function Bm(t){return parseInt(t,10)||0}const Vce={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function iO(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Uce=E.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=re(e,Fce),{current:u}=E.useRef(a!=null),c=E.useRef(null),d=on(n,c),h=E.useRef(null),f=E.useRef(0),[p,g]=E.useState({outerHeightStyle:0}),_=E.useCallback(()=>{const w=c.current,b=Yo(w).getComputedStyle(w);if(b.width==="0px")return{outerHeightStyle:0};const T=h.current;T.style.width=b.width,T.value=w.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const R=b.boxSizing,O=Bm(b.paddingBottom)+Bm(b.paddingTop),x=Bm(b.borderBottomWidth)+Bm(b.borderTopWidth),D=T.scrollHeight;T.value="x";const z=T.scrollHeight;let M=D;s&&(M=Math.max(Number(s)*z,M)),i&&(M=Math.min(Number(i)*z,M)),M=Math.max(M,z);const F=M+(R==="border-box"?O+x:0),V=Math.abs(M-D)<=1;return{outerHeightStyle:F,overflow:V}},[i,s,e.placeholder]),m=(w,I)=>{const{outerHeightStyle:b,overflow:T}=I;return f.current<20&&(b>0&&Math.abs((w.outerHeightStyle||0)-b)>1||w.overflow!==T)?(f.current+=1,{overflow:T,outerHeightStyle:b}):w},y=E.useCallback(()=>{const w=_();iO(w)||g(I=>m(I,w))},[_]);Di(()=>{const w=()=>{const D=_();iO(D)||T_.flushSync(()=>{g(z=>m(z,D))})},I=()=>{f.current=0,w()};let b;const T=Hx(I),R=c.current,O=Yo(R);O.addEventListener("resize",T);let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(I),x.observe(R)),()=>{T.clear(),cancelAnimationFrame(b),O.removeEventListener("resize",T),x&&x.disconnect()}},[_]),Di(()=>{y()}),E.useEffect(()=>{f.current=0},[a]);const v=w=>{f.current=0,u||y(),r&&r(w)};return C.jsxs(E.Fragment,{children:[C.jsx("textarea",S({value:a,onChange:v,ref:d,rows:s,style:S({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},o)},l)),C.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:S({},Vce.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),Bce=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],jce=ne(Rce,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),zce=E.forwardRef(function(e,n){var r;const i=G4(),s=Oe({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:_,popperRef:m,transition:y,slots:v,slotProps:w}=s,I=re(s,Bce),b=(r=v==null?void 0:v.root)!=null?r:l==null?void 0:l.Root,T=S({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:_,popperRef:m,transition:y},I);return C.jsx(jce,S({as:a,direction:i==null?void 0:i.direction,slots:{root:b},slotProps:w??u},T,{ref:n}))}),fj=zce;function nd({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Wce=E.createContext(void 0),fR=Wce;function rd(){return E.useContext(fR)}function qce(t){return C.jsx(eae,S({},t,{defaultTheme:T0,themeId:zp}))}function sO(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Zy(t,e=!1){return t&&(sO(t.value)&&t.value!==""||e&&sO(t.defaultValue)&&t.defaultValue!=="")}function Hce(t){return t.startAdornment}function Gce(t){return Pe("MuiInputBase",t)}const Kce=Se("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Pc=Kce,Qce=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],S0=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${oe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},C0=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Yce=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,g={root:["root",`color${oe(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${oe(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Ne(g,Gce,e)},x0=ne("div",{name:"MuiInputBase",slot:"Root",overridesResolver:S0})(({theme:t,ownerState:e})=>S({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Pc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&S({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),R0=ne("input",{name:"MuiInputBase",slot:"Input",overridesResolver:C0})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=S({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return S({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Pc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Pc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Xce=C.jsx(qce,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Jce=E.forwardRef(function(e,n){var r;const i=Oe({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:g=!1,id:_,inputComponent:m="input",inputProps:y={},inputRef:v,maxRows:w,minRows:I,multiline:b=!1,name:T,onBlur:R,onChange:O,onClick:x,onFocus:D,onKeyDown:z,onKeyUp:M,placeholder:F,readOnly:V,renderSuffix:B,rows:K,slotProps:N={},slots:U={},startAdornment:Y,type:ge="text",value:he}=i,Ce=re(i,Qce),ce=y.value!=null?y.value:he,{current:ye}=E.useRef(ce!=null),Ee=E.useRef(),qe=E.useCallback(pe=>{},[]),Ue=on(Ee,v,y.ref,qe),[De,gt]=E.useState(!1),_e=rd(),Xe=nd({props:i,muiFormControl:_e,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Xe.focused=_e?_e.focused:De,E.useEffect(()=>{!_e&&h&&De&&(gt(!1),R&&R())},[_e,h,De,R]);const Te=_e&&_e.onFilled,Ve=_e&&_e.onEmpty,Ae=E.useCallback(pe=>{Zy(pe)?Te&&Te():Ve&&Ve()},[Te,Ve]);Di(()=>{ye&&Ae({value:ce})},[ce,Ae,ye]);const wn=pe=>{if(Xe.disabled){pe.stopPropagation();return}D&&D(pe),y.onFocus&&y.onFocus(pe),_e&&_e.onFocus?_e.onFocus(pe):gt(!0)},Zt=pe=>{R&&R(pe),y.onBlur&&y.onBlur(pe),_e&&_e.onBlur?_e.onBlur(pe):gt(!1)},Pt=(pe,...se)=>{if(!ye){const It=pe.target||Ee.current;if(It==null)throw new Error(Qo(1));Ae({value:It.value})}y.onChange&&y.onChange(pe,...se),O&&O(pe,...se)};E.useEffect(()=>{Ae(Ee.current)},[]);const Gt=pe=>{Ee.current&&pe.currentTarget===pe.target&&Ee.current.focus(),x&&x(pe)};let st=m,He=y;b&&st==="input"&&(K?He=S({type:void 0,minRows:K,maxRows:K},He):He=S({type:void 0,maxRows:w,minRows:I},He),st=Uce);const A=pe=>{Ae(pe.animationName==="mui-auto-fill-cancel"?Ee.current:{value:"x"})};E.useEffect(()=>{_e&&_e.setAdornedStart(!!Y)},[_e,Y]);const H=S({},i,{color:Xe.color||"primary",disabled:Xe.disabled,endAdornment:p,error:Xe.error,focused:Xe.focused,formControl:_e,fullWidth:g,hiddenLabel:Xe.hiddenLabel,multiline:b,size:Xe.size,startAdornment:Y,type:ge}),W=Yce(H),Z=U.root||u.Root||x0,le=N.root||c.root||{},ve=U.input||u.Input||R0;return He=S({},He,(r=N.input)!=null?r:c.input),C.jsxs(E.Fragment,{children:[!f&&Xce,C.jsxs(Z,S({},le,!Xy(Z)&&{ownerState:S({},H,le.ownerState)},{ref:n,onClick:Gt},Ce,{className:de(W.root,le.className,l,V&&"MuiInputBase-readOnly"),children:[Y,C.jsx(fR.Provider,{value:null,children:C.jsx(ve,S({ownerState:H,"aria-invalid":Xe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Xe.disabled,id:_,onAnimationStart:A,name:T,placeholder:F,readOnly:V,required:Xe.required,rows:K,value:ce,onKeyDown:z,onKeyUp:M,type:ge},He,!Xy(ve)&&{as:st,ownerState:S({},H,He.ownerState)},{ref:Ue,className:de(W.input,He.className,V&&"MuiInputBase-readOnly"),onBlur:Zt,onChange:Pt,onFocus:wn}))}),p,B?B(S({},Xe,{startAdornment:Y})):null]}))]})}),pR=Jce;function Zce(t){return Pe("MuiInput",t)}const ede=S({},Pc,Se("MuiInput",["root","underline","input"])),Md=ede;function tde(t){return Pe("MuiOutlinedInput",t)}const nde=S({},Pc,Se("MuiOutlinedInput",["root","notchedOutline","input"])),Zs=nde;function rde(t){return Pe("MuiFilledInput",t)}const ide=S({},Pc,Se("MuiFilledInput",["root","underline","input"])),fa=ide,sde=nR(C.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ode=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ade={entering:{opacity:1},entered:{opacity:1}},lde=E.forwardRef(function(e,n){const r=td(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:g,style:_,timeout:m=i,TransitionComponent:y=ej}=e,v=re(e,ode),w=E.useRef(null),I=on(w,a.ref,n),b=F=>V=>{if(F){const B=w.current;V===void 0?F(B):F(B,V)}},T=b(h),R=b((F,V)=>{tj(F);const B=Yy({style:_,timeout:m,easing:l},{mode:"enter"});F.style.webkitTransition=r.transitions.create("opacity",B),F.style.transition=r.transitions.create("opacity",B),c&&c(F,V)}),O=b(d),x=b(g),D=b(F=>{const V=Yy({style:_,timeout:m,easing:l},{mode:"exit"});F.style.webkitTransition=r.transitions.create("opacity",V),F.style.transition=r.transitions.create("opacity",V),f&&f(F)}),z=b(p),M=F=>{s&&s(w.current,F)};return C.jsx(y,S({appear:o,in:u,nodeRef:w,onEnter:R,onEntered:O,onEntering:T,onExit:D,onExited:z,onExiting:x,addEndListener:M,timeout:m},v,{children:(F,V)=>E.cloneElement(a,S({style:S({opacity:0,visibility:F==="exited"&&!u?"hidden":void 0},ade[F],_,a.props.style),ref:I},V))}))}),pj=lde;function ude(t){return Pe("MuiBackdrop",t)}Se("MuiBackdrop",["root","invisible"]);const cde=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],dde=t=>{const{classes:e,invisible:n}=t;return Ne({root:["root",n&&"invisible"]},ude,e)},hde=ne("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>S({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),fde=E.forwardRef(function(e,n){var r,i,s;const o=Oe({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:p={},slots:g={},TransitionComponent:_=pj,transitionDuration:m}=o,y=re(o,cde),v=S({},o,{component:u,invisible:h}),w=dde(v),I=(r=p.root)!=null?r:d.root;return C.jsx(_,S({in:f,timeout:m},y,{children:C.jsx(hde,S({"aria-hidden":!0},I,{as:(i=(s=g.root)!=null?s:c.Root)!=null?i:u,className:de(w.root,l,I==null?void 0:I.className),ownerState:S({},v,I==null?void 0:I.ownerState),classes:w,ref:n,children:a}))}))}),mj=fde,pde=Se("MuiBox",["root"]),mde=pde,gde=J4(),yde=iae({themeId:zp,defaultTheme:gde,defaultClassName:mde.root,generateClassName:Qx.generate}),_de=yde;function vde(t){return Pe("MuiButton",t)}const wde=Se("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),jm=wde,Ede=E.createContext({}),Tde=Ede,Ide=E.createContext(void 0),bde=Ide,Sde=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Cde=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${oe(e)}`,`size${oe(i)}`,`${s}Size${oe(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${oe(i)}`],endIcon:["endIcon",`iconSize${oe(i)}`]},l=Ne(a,vde,o);return S({},o,l)},gj=t=>S({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),xde=ne(sR,{shouldForwardProp:t=>hi(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${oe(n.color)}`],e[`size${oe(n.size)}`],e[`${n.variant}Size${oe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return S({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":S({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":S({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${jm.focusVisible}`]:S({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${jm.disabled}`]:S({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${hr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${jm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${jm.disabled}`]:{boxShadow:"none"}}),Rde=ne("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${oe(n.size)}`]]}})(({ownerState:t})=>S({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},gj(t))),Pde=ne("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${oe(n.size)}`]]}})(({ownerState:t})=>S({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},gj(t))),Ade=E.forwardRef(function(e,n){const r=E.useContext(Tde),i=E.useContext(bde),s=Kx(r,e),o=Oe({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:g,fullWidth:_=!1,size:m="medium",startIcon:y,type:v,variant:w="text"}=o,I=re(o,Sde),b=S({},o,{color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:_,size:m,type:v,variant:w}),T=Cde(b),R=y&&C.jsx(Rde,{className:T.startIcon,ownerState:b,children:y}),O=p&&C.jsx(Pde,{className:T.endIcon,ownerState:b,children:p}),x=i||"";return C.jsxs(xde,S({ownerState:b,className:de(r.className,T.root,c,x),component:u,disabled:d,focusRipple:!f,focusVisibleClassName:de(T.focusVisible,g),ref:n,type:v},I,{classes:T,children:[R,a,O]}))}),ss=Ade;function kde(t){return Pe("MuiCard",t)}Se("MuiCard",["root"]);const Nde=["className","raised"],Ode=t=>{const{classes:e}=t;return Ne({root:["root"]},kde,e)},Dde=ne(Qp,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Mde=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=re(r,Nde),a=S({},r,{raised:s}),l=Ode(a);return C.jsx(Dde,S({className:de(l.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))}),Jp=Mde;function Lde(t){return Pe("MuiCardContent",t)}Se("MuiCardContent",["root"]);const $de=["className","component"],Fde=t=>{const{classes:e}=t;return Ne({root:["root"]},Lde,e)},Vde=ne("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Ude=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=re(r,$de),a=S({},r,{component:s}),l=Fde(a);return C.jsx(Vde,S({as:s,className:de(l.root,i),ownerState:a,ref:n},o))}),Zp=Ude;function Bde(t){return Pe("MuiCardMedia",t)}Se("MuiCardMedia",["root","media","img"]);const jde=["children","className","component","image","src","style"],zde=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Ne({root:["root",n&&"media",r&&"img"]},Bde,e)},Wde=ne("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>S({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),qde=["video","audio","picture","iframe","img"],Hde=["picture","img"],Gde=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:l,style:u}=r,c=re(r,jde),d=qde.indexOf(o)!==-1,h=!d&&a?S({backgroundImage:`url("${a}")`},u):u,f=S({},r,{component:o,isMediaComponent:d,isImageComponent:Hde.indexOf(o)!==-1}),p=zde(f);return C.jsx(Wde,S({className:de(p.root,s),as:o,role:!d&&a?"img":void 0,ref:n,style:h,ownerState:f,src:d?a||l:void 0},c,{children:i}))}),yj=Gde;function Kde(t){return Pe("MuiCircularProgress",t)}Se("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Qde=["className","color","disableShrink","size","style","thickness","value","variant"];let P0=t=>t,oO,aO,lO,uO;const eo=44,Yde=qp(oO||(oO=P0`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Xde=qp(aO||(aO=P0`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Jde=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${oe(r)}`],svg:["svg"],circle:["circle",`circle${oe(n)}`,i&&"circleDisableShrink"]};return Ne(s,Kde,e)},Zde=ne("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${oe(n.color)}`]]}})(({ownerState:t,theme:e})=>S({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&zx(lO||(lO=P0`
      animation: ${0} 1.4s linear infinite;
    `),Yde)),ehe=ne("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),the=ne("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${oe(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>S({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&zx(uO||(uO=P0`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Xde)),nhe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=re(r,Qde),f=S({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),p=Jde(f),g={},_={},m={};if(d==="determinate"){const y=2*Math.PI*((eo-u)/2);g.strokeDasharray=y.toFixed(3),m["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*y).toFixed(3)}px`,_.transform="rotate(-90deg)"}return C.jsx(Zde,S({className:de(p.root,i),style:S({width:a,height:a},_,l),ownerState:f,ref:n,role:"progressbar"},m,h,{children:C.jsx(ehe,{className:p.svg,ownerState:f,viewBox:`${eo/2} ${eo/2} ${eo} ${eo}`,children:C.jsx(the,{className:p.circle,style:g,ownerState:f,cx:eo,cy:eo,r:(eo-u)/2,fill:"none",strokeWidth:u})})}))}),rhe=nhe,ihe=xae({createStyledComponent:ne("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${oe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Oe({props:t,name:"MuiContainer"})}),she=ihe;function ohe(t){return Pe("MuiModal",t)}Se("MuiModal",["root","hidden","backdrop"]);const ahe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],lhe=t=>{const{open:e,exited:n,classes:r}=t;return Ne({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},ohe,r)},uhe=ne("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>S({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),che=ne(mj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),dhe=E.forwardRef(function(e,n){var r,i,s,o,a,l;const u=Oe({name:"MuiModal",props:e}),{BackdropComponent:c=che,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:g,component:_,components:m={},componentsProps:y={},disableAutoFocus:v=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:I=!1,disablePortal:b=!1,disableRestoreFocus:T=!1,disableScrollLock:R=!1,hideBackdrop:O=!1,keepMounted:x=!1,onBackdropClick:D,open:z,slotProps:M,slots:F}=u,V=re(u,ahe),B=S({},u,{closeAfterTransition:f,disableAutoFocus:v,disableEnforceFocus:w,disableEscapeKeyDown:I,disablePortal:b,disableRestoreFocus:T,disableScrollLock:R,hideBackdrop:O,keepMounted:x}),{getRootProps:K,getBackdropProps:N,getTransitionProps:U,portalRef:Y,isTopModal:ge,exited:he,hasTransition:Ce}=$ce(S({},B,{rootRef:n})),ce=S({},B,{exited:he}),ye=lhe(ce),Ee={};if(p.props.tabIndex===void 0&&(Ee.tabIndex="-1"),Ce){const{onEnter:Te,onExited:Ve}=U();Ee.onEnter=Te,Ee.onExited=Ve}const qe=(r=(i=F==null?void 0:F.root)!=null?i:m.Root)!=null?r:uhe,Ue=(s=(o=F==null?void 0:F.backdrop)!=null?o:m.Backdrop)!=null?s:c,De=(a=M==null?void 0:M.root)!=null?a:y.root,gt=(l=M==null?void 0:M.backdrop)!=null?l:y.backdrop,_e=bl({elementType:qe,externalSlotProps:De,externalForwardedProps:V,getSlotProps:K,additionalProps:{ref:n,as:_},ownerState:ce,className:de(h,De==null?void 0:De.className,ye==null?void 0:ye.root,!ce.open&&ce.exited&&(ye==null?void 0:ye.hidden))}),Xe=bl({elementType:Ue,externalSlotProps:gt,additionalProps:d,getSlotProps:Te=>N(S({},Te,{onClick:Ve=>{D&&D(Ve),Te!=null&&Te.onClick&&Te.onClick(Ve)}})),className:de(gt==null?void 0:gt.className,d==null?void 0:d.className,ye==null?void 0:ye.backdrop),ownerState:ce});return!x&&!z&&(!Ce||he)?null:C.jsx(hj,{ref:Y,container:g,disablePortal:b,children:C.jsxs(qe,S({},_e,{children:[!O&&c?C.jsx(Ue,S({},Xe)):null,C.jsx(hue,{disableEnforceFocus:w,disableAutoFocus:v,disableRestoreFocus:T,isEnabled:ge,open:z,children:E.cloneElement(p,Ee)})]}))})}),_j=dhe;function hhe(t){return Pe("MuiDialog",t)}const fhe=Se("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),nE=fhe,phe=E.createContext({}),vj=phe,mhe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],ghe=ne(mj,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),yhe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${oe(n)}`],paper:["paper",`paperScroll${oe(n)}`,`paperWidth${oe(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ne(o,hhe,e)},_he=ne(_j,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),vhe=ne("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${oe(n.scroll)}`]]}})(({ownerState:t})=>S({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),whe=ne(Qp,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${oe(n.scroll)}`],e[`paperWidth${oe(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>S({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${nE.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${nE.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${nE.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Ehe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiDialog"}),i=td(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:u,children:c,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:g="sm",onBackdropClick:_,onClose:m,open:y,PaperComponent:v=Qp,PaperProps:w={},scroll:I="paper",TransitionComponent:b=pj,transitionDuration:T=s,TransitionProps:R}=r,O=re(r,mhe),x=S({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:g,scroll:I}),D=yhe(x),z=E.useRef(),M=K=>{z.current=K.target===K.currentTarget},F=K=>{z.current&&(z.current=null,_&&_(K),m&&m(K,"backdropClick"))},V=Hp(a),B=E.useMemo(()=>({titleId:V}),[V]);return C.jsx(_he,S({className:de(D.root,d),closeAfterTransition:!0,components:{Backdrop:ghe},componentsProps:{backdrop:S({transitionDuration:T,as:l},u)},disableEscapeKeyDown:h,onClose:m,open:y,ref:n,onClick:F,ownerState:x},O,{children:C.jsx(b,S({appear:!0,in:y,timeout:T,role:"presentation"},R,{children:C.jsx(vhe,{className:de(D.container),onMouseDown:M,ownerState:x,children:C.jsx(whe,S({as:v,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":V},w,{className:de(D.paper,w.className),ownerState:x,children:C.jsx(vj.Provider,{value:B,children:c})}))})}))}))}),The=Ehe;function Ihe(t){return Pe("MuiDialogActions",t)}Se("MuiDialogActions",["root","spacing"]);const bhe=["className","disableSpacing"],She=t=>{const{classes:e,disableSpacing:n}=t;return Ne({root:["root",!n&&"spacing"]},Ihe,e)},Che=ne("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>S({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),xhe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,o=re(r,bhe),a=S({},r,{disableSpacing:s}),l=She(a);return C.jsx(Che,S({className:de(l.root,i),ownerState:a,ref:n},o))}),Rhe=xhe;function Phe(t){return Pe("MuiDialogContent",t)}Se("MuiDialogContent",["root","dividers"]);function Ahe(t){return Pe("MuiDialogTitle",t)}const khe=Se("MuiDialogTitle",["root"]),Nhe=khe,Ohe=["className","dividers"],Dhe=t=>{const{classes:e,dividers:n}=t;return Ne({root:["root",n&&"dividers"]},Phe,e)},Mhe=ne("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>S({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Nhe.root} + &`]:{paddingTop:0}})),Lhe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,o=re(r,Ohe),a=S({},r,{dividers:s}),l=Dhe(a);return C.jsx(Mhe,S({className:de(l.root,i),ownerState:a,ref:n},o))}),$he=Lhe,Fhe=["className","id"],Vhe=t=>{const{classes:e}=t;return Ne({root:["root"]},Ahe,e)},Uhe=ne(Dt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Bhe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=re(r,Fhe),a=r,l=Vhe(a),{titleId:u=s}=E.useContext(vj);return C.jsx(Uhe,S({component:"h2",className:de(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??u},o))}),jhe=Bhe,zhe=Se("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),cO=zhe,Whe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],qhe=t=>{const{classes:e,disableUnderline:n}=t,i=Ne({root:["root",!n&&"underline"],input:["input"]},rde,e);return S({},e,i)},Hhe=ne(x0,{shouldForwardProp:t=>hi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...S0(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return S({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${fa.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${fa.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fa.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fa.disabled}, .${fa.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${fa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&S({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Ghe=ne(R0,{name:"MuiFilledInput",slot:"Input",overridesResolver:C0})(({theme:t,ownerState:e})=>S({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),wj=E.forwardRef(function(e,n){var r,i,s,o;const a=Oe({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:g="text"}=a,_=re(a,Whe),m=S({},a,{fullWidth:c,inputComponent:d,multiline:h,type:g}),y=qhe(a),v={root:{ownerState:m},input:{ownerState:m}},w=f??u?yr(v,f??u):v,I=(r=(i=p.root)!=null?i:l.Root)!=null?r:Hhe,b=(s=(o=p.input)!=null?o:l.Input)!=null?s:Ghe;return C.jsx(pR,S({slots:{root:I,input:b},componentsProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:g},_,{classes:y}))});wj.muiName="Input";const Ej=wj;function Khe(t){return Pe("MuiFormControl",t)}Se("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Qhe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Yhe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${oe(n)}`,r&&"fullWidth"]};return Ne(i,Khe,e)},Xhe=ne("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>S({},e.root,e[`margin${oe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>S({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Jhe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:g="medium",variant:_="outlined"}=r,m=re(r,Qhe),y=S({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:g,variant:_}),v=Yhe(y),[w,I]=E.useState(()=>{let M=!1;return i&&E.Children.forEach(i,F=>{if(!Eg(F,["Input","Select"]))return;const V=Eg(F,["Select"])?F.props.input:F;V&&Hce(V.props)&&(M=!0)}),M}),[b,T]=E.useState(()=>{let M=!1;return i&&E.Children.forEach(i,F=>{Eg(F,["Input","Select"])&&(Zy(F.props,!0)||Zy(F.props.inputProps,!0))&&(M=!0)}),M}),[R,O]=E.useState(!1);l&&R&&O(!1);const x=c!==void 0&&!l?c:R;let D;const z=E.useMemo(()=>({adornedStart:w,setAdornedStart:I,color:o,disabled:l,error:u,filled:b,focused:x,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{O(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{O(!0)},registerEffect:D,required:p,variant:_}),[w,o,l,u,b,x,d,h,D,p,g,_]);return C.jsx(fR.Provider,{value:z,children:C.jsx(Xhe,S({as:a,ownerState:y,className:de(v.root,s),ref:n},m,{children:i}))})}),Zhe=Jhe;function efe(t){return Pe("MuiFormHelperText",t)}const tfe=Se("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),dO=tfe;var hO;const nfe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],rfe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${oe(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Ne(u,efe,e)},ife=ne("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${oe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>S({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${dO.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${dO.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),sfe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=re(r,nfe),l=rd(),u=nd({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=S({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=rfe(c);return C.jsx(ife,S({as:o,ownerState:c,className:de(d.root,s),ref:n},a,{children:i===" "?hO||(hO=C.jsx("span",{className:"notranslate",children:"​"})):i}))}),ofe=sfe;function afe(t){return Pe("MuiFormLabel",t)}const lfe=Se("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Oh=lfe,ufe=["children","className","color","component","disabled","error","filled","focused","required"],cfe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${oe(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Ne(l,afe,e)},dfe=ne("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>S({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>S({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Oh.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Oh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Oh.error}`]:{color:(t.vars||t).palette.error.main}})),hfe=ne("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Oh.error}`]:{color:(t.vars||t).palette.error.main}})),ffe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=re(r,ufe),l=rd(),u=nd({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=S({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=cfe(c);return C.jsxs(dfe,S({as:o,ownerState:c,className:de(d.root,s),ref:n},a,{children:[i,u.required&&C.jsxs(hfe,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),pfe=ffe,mfe=E.createContext(),fO=mfe;function gfe(t){return Pe("MuiGrid",t)}const yfe=[0,1,2,3,4,5,6,7,8,9,10],_fe=["column-reverse","column","row-reverse","row"],vfe=["nowrap","wrap-reverse","wrap"],Ld=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Zf=Se("MuiGrid",["root","container","item","zeroMinWidth",...yfe.map(t=>`spacing-xs-${t}`),..._fe.map(t=>`direction-xs-${t}`),...vfe.map(t=>`wrap-xs-${t}`),...Ld.map(t=>`grid-xs-${t}`),...Ld.map(t=>`grid-sm-${t}`),...Ld.map(t=>`grid-md-${t}`),...Ld.map(t=>`grid-lg-${t}`),...Ld.map(t=>`grid-xl-${t}`)]),wfe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Qu(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function Efe({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=c0({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const c=t.spacing(e.columnSpacing);if(c!=="0px"){const d=`calc(${l} + ${Qu(c)})`;u={flexBasis:d,maxWidth:d}}}s=S({flexBasis:l,flexGrow:0,maxWidth:l},u)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function Tfe({theme:t,ownerState:e}){const n=c0({values:e.direction,breakpoints:t.breakpoints.values});return ai({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Zf.item}`]={maxWidth:"none"}),i})}function Tj({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function Ife({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=c0({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=Tj({breakpoints:t.breakpoints.values,values:s})),i=ai({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{marginTop:`-${Qu(c)}`,[`& > .${Zf.item}`]:{paddingTop:Qu(c)}}:(u=o)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${Zf.item}`]:{paddingTop:0}}})}return i}function bfe({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=c0({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=Tj({breakpoints:t.breakpoints.values,values:s})),i=ai({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{width:`calc(100% + ${Qu(c)})`,marginLeft:`-${Qu(c)}`,[`& > .${Zf.item}`]:{paddingLeft:Qu(c)}}:(u=o)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Zf.item}`]:{paddingLeft:0}}})}return i}function Sfe(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const Cfe=ne("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=Sfe(o,u,e));const d=[];return u.forEach(h=>{const f=n[h];f&&d.push(e[`grid-${h}-${String(f)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...c,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>S({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),Tfe,Ife,bfe,Efe);function xfe(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const Rfe=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let u=[];n&&(u=xfe(s,l));const c=[];l.forEach(h=>{const f=t[h];f&&c.push(`grid-${h}-${String(f)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...c]};return Ne(d,gfe,e)},Pfe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiGrid"}),{breakpoints:i}=td(),s=eR(r),{className:o,columns:a,columnSpacing:l,component:u="div",container:c=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:g="wrap",zeroMinWidth:_=!1}=s,m=re(s,wfe),y=f||p,v=l||p,w=E.useContext(fO),I=c?a||12:w,b={},T=S({},m);i.keys.forEach(x=>{m[x]!=null&&(b[x]=m[x],delete T[x])});const R=S({},s,{columns:I,container:c,direction:d,item:h,rowSpacing:y,columnSpacing:v,wrap:g,zeroMinWidth:_,spacing:p},b,{breakpoints:i.keys}),O=Rfe(R);return C.jsx(fO.Provider,{value:I,children:C.jsx(Cfe,S({ownerState:R,className:de(O.root,o),as:u,ref:n},T))})}),e_=Pfe,Afe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function LI(t){return`scale(${t}, ${t**2})`}const kfe={entering:{opacity:1,transform:LI(1)},entered:{opacity:1,transform:"none"}},rE=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ij=E.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:g="auto",TransitionComponent:_=ej}=e,m=re(e,Afe),y=E.useRef(),v=E.useRef(),w=td(),I=E.useRef(null),b=on(I,s.ref,n),T=V=>B=>{if(V){const K=I.current;B===void 0?V(K):V(K,B)}},R=T(c),O=T((V,B)=>{tj(V);const{duration:K,delay:N,easing:U}=Yy({style:p,timeout:g,easing:o},{mode:"enter"});let Y;g==="auto"?(Y=w.transitions.getAutoHeightDuration(V.clientHeight),v.current=Y):Y=K,V.style.transition=[w.transitions.create("opacity",{duration:Y,delay:N}),w.transitions.create("transform",{duration:rE?Y:Y*.666,delay:N,easing:U})].join(","),l&&l(V,B)}),x=T(u),D=T(f),z=T(V=>{const{duration:B,delay:K,easing:N}=Yy({style:p,timeout:g,easing:o},{mode:"exit"});let U;g==="auto"?(U=w.transitions.getAutoHeightDuration(V.clientHeight),v.current=U):U=B,V.style.transition=[w.transitions.create("opacity",{duration:U,delay:K}),w.transitions.create("transform",{duration:rE?U:U*.666,delay:rE?K:K||U*.333,easing:N})].join(","),V.style.opacity=0,V.style.transform=LI(.75),d&&d(V)}),M=T(h),F=V=>{g==="auto"&&(y.current=setTimeout(V,v.current||0)),r&&r(I.current,V)};return E.useEffect(()=>()=>{clearTimeout(y.current)},[]),C.jsx(_,S({appear:i,in:a,nodeRef:I,onEnter:O,onEntered:x,onEntering:R,onExit:z,onExited:M,onExiting:D,addEndListener:F,timeout:g==="auto"?null:g},m,{children:(V,B)=>E.cloneElement(s,S({style:S({opacity:0,transform:LI(.75),visibility:V==="exited"&&!a?"hidden":void 0},kfe[V],p,s.props.style),ref:b},B))}))});Ij.muiSupportAuto=!0;const $I=Ij,Nfe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Ofe=t=>{const{classes:e,disableUnderline:n}=t,i=Ne({root:["root",!n&&"underline"],input:["input"]},Zce,e);return S({},e,i)},Dfe=ne(x0,{shouldForwardProp:t=>hi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...S0(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),S({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Md.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Md.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Md.disabled}, .${Md.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Md.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Mfe=ne(R0,{name:"MuiInput",slot:"Input",overridesResolver:C0})({}),bj=E.forwardRef(function(e,n){var r,i,s,o;const a=Oe({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:g={},type:_="text"}=a,m=re(a,Nfe),y=Ofe(a),w={root:{ownerState:{disableUnderline:l}}},I=p??c?yr(p??c,w):w,b=(r=(i=g.root)!=null?i:u.Root)!=null?r:Dfe,T=(s=(o=g.input)!=null?o:u.Input)!=null?s:Mfe;return C.jsx(pR,S({slots:{root:b,input:T},slotProps:I,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:_},m,{classes:y}))});bj.muiName="Input";const Sj=bj;function Lfe(t){return Pe("MuiInputLabel",t)}Se("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const $fe=["disableAnimation","margin","shrink","variant","className"],Ffe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${oe(r)}`,o],asterisk:[a&&"asterisk"]},u=Ne(l,Lfe,e);return S({},e,u)},Vfe=ne(pfe,{shouldForwardProp:t=>hi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Oh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>S({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&S({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&S({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&S({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Ufe=E.forwardRef(function(e,n){const r=Oe({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=re(r,$fe),l=rd();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=nd({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=S({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=Ffe(d);return C.jsx(Vfe,S({"data-shrink":u,ownerState:d,ref:n,className:de(h.root,o)},a,{classes:h}))}),Bfe=Ufe,jfe=E.createContext({}),FI=jfe;function zfe(t){return Pe("MuiList",t)}Se("MuiList",["root","padding","dense","subheader"]);const Wfe=["children","className","component","dense","disablePadding","subheader"],qfe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ne({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},zfe,e)},Hfe=ne("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>S({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Gfe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=re(r,Wfe),d=E.useMemo(()=>({dense:a}),[a]),h=S({},r,{component:o,dense:a,disablePadding:l}),f=qfe(h);return C.jsx(FI.Provider,{value:d,children:C.jsxs(Hfe,S({as:o,className:de(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),Kfe=Gfe,Qfe=Se("MuiListItemIcon",["root","alignItemsFlexStart"]),pO=Qfe,Yfe=Se("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),mO=Yfe,Xfe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function iE(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function gO(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Cj(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function $d(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Cj(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Jfe=E.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=re(e,Xfe),f=E.useRef(null),p=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Di(()=>{i&&f.current.focus()},[i]),E.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(v,w)=>{const I=!f.current.style.width;if(v.clientHeight<f.current.clientHeight&&I){const b=`${z4(jn(v))}px`;f.current.style[w.direction==="rtl"?"paddingLeft":"paddingRight"]=b,f.current.style.width=`calc(100% + ${b})`}return f.current}}),[]);const g=v=>{const w=f.current,I=v.key,b=jn(w).activeElement;if(I==="ArrowDown")v.preventDefault(),$d(w,b,u,l,iE);else if(I==="ArrowUp")v.preventDefault(),$d(w,b,u,l,gO);else if(I==="Home")v.preventDefault(),$d(w,null,u,l,iE);else if(I==="End")v.preventDefault(),$d(w,null,u,l,gO);else if(I.length===1){const T=p.current,R=I.toLowerCase(),O=performance.now();T.keys.length>0&&(O-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&R!==T.keys[0]&&(T.repeating=!1)),T.lastTime=O,T.keys.push(R);const x=b&&!T.repeating&&Cj(b,T);T.previousKeyMatched&&(x||$d(w,b,!1,l,iE,T))?v.preventDefault():T.previousKeyMatched=!1}c&&c(v)},_=on(f,n);let m=-1;E.Children.forEach(o,(v,w)=>{if(!E.isValidElement(v)){m===w&&(m+=1,m>=o.length&&(m=-1));return}v.props.disabled||(d==="selectedMenu"&&v.props.selected||m===-1)&&(m=w),m===w&&(v.props.disabled||v.props.muiSkipListHighlight||v.type.muiSkipListHighlight)&&(m+=1,m>=o.length&&(m=-1))});const y=E.Children.map(o,(v,w)=>{if(w===m){const I={};return s&&(I.autoFocus=!0),v.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),E.cloneElement(v,I)}return v});return C.jsx(Kfe,S({role:"menu",ref:_,className:a,onKeyDown:g,tabIndex:i?0:-1},h,{children:y}))}),Zfe=Jfe;function epe(t){return Pe("MuiPopover",t)}Se("MuiPopover",["root","paper"]);const tpe=["onEntering"],npe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],rpe=["slotProps"];function yO(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function _O(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function vO(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function sE(t){return typeof t=="function"?t():t}const ipe=t=>{const{classes:e}=t;return Ne({root:["root"],paper:["paper"]},epe,e)},spe=ne(_j,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),xj=ne(Qp,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ope=E.forwardRef(function(e,n){var r,i,s;const o=Oe({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:g=8,marginThreshold:_=16,open:m,PaperProps:y={},slots:v,slotProps:w,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:b=$I,transitionDuration:T="auto",TransitionProps:{onEntering:R}={},disableScrollLock:O=!1}=o,x=re(o.TransitionProps,tpe),D=re(o,npe),z=(r=w==null?void 0:w.paper)!=null?r:y,M=E.useRef(),F=on(M,z.ref),V=S({},o,{anchorOrigin:u,anchorReference:d,elevation:g,marginThreshold:_,externalPaperSlotProps:z,transformOrigin:I,TransitionComponent:b,transitionDuration:T,TransitionProps:x}),B=ipe(V),K=E.useCallback(()=>{if(d==="anchorPosition")return c;const Te=sE(l),Ae=(Te&&Te.nodeType===1?Te:jn(M.current).body).getBoundingClientRect();return{top:Ae.top+yO(Ae,u.vertical),left:Ae.left+_O(Ae,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),N=E.useCallback(Te=>({vertical:yO(Te,I.vertical),horizontal:_O(Te,I.horizontal)}),[I.horizontal,I.vertical]),U=E.useCallback(Te=>{const Ve={width:Te.offsetWidth,height:Te.offsetHeight},Ae=N(Ve);if(d==="none")return{top:null,left:null,transformOrigin:vO(Ae)};const wn=K();let Zt=wn.top-Ae.vertical,Pt=wn.left-Ae.horizontal;const Gt=Zt+Ve.height,st=Pt+Ve.width,He=Yo(sE(l)),A=He.innerHeight-_,H=He.innerWidth-_;if(_!==null&&Zt<_){const W=Zt-_;Zt-=W,Ae.vertical+=W}else if(_!==null&&Gt>A){const W=Gt-A;Zt-=W,Ae.vertical+=W}if(_!==null&&Pt<_){const W=Pt-_;Pt-=W,Ae.horizontal+=W}else if(st>H){const W=st-H;Pt-=W,Ae.horizontal+=W}return{top:`${Math.round(Zt)}px`,left:`${Math.round(Pt)}px`,transformOrigin:vO(Ae)}},[l,d,K,N,_]),[Y,ge]=E.useState(m),he=E.useCallback(()=>{const Te=M.current;if(!Te)return;const Ve=U(Te);Ve.top!==null&&(Te.style.top=Ve.top),Ve.left!==null&&(Te.style.left=Ve.left),Te.style.transformOrigin=Ve.transformOrigin,ge(!0)},[U]);E.useEffect(()=>(O&&window.addEventListener("scroll",he),()=>window.removeEventListener("scroll",he)),[l,O,he]);const Ce=(Te,Ve)=>{R&&R(Te,Ve),he()},ce=()=>{ge(!1)};E.useEffect(()=>{m&&he()}),E.useImperativeHandle(a,()=>m?{updatePosition:()=>{he()}}:null,[m,he]),E.useEffect(()=>{if(!m)return;const Te=Hx(()=>{he()}),Ve=Yo(l);return Ve.addEventListener("resize",Te),()=>{Te.clear(),Ve.removeEventListener("resize",Te)}},[l,m,he]);let ye=T;T==="auto"&&!b.muiSupportAuto&&(ye=void 0);const Ee=p||(l?jn(sE(l)).body:void 0),qe=(i=v==null?void 0:v.root)!=null?i:spe,Ue=(s=v==null?void 0:v.paper)!=null?s:xj,De=bl({elementType:Ue,externalSlotProps:S({},z,{style:Y?z.style:S({},z.style,{opacity:0})}),additionalProps:{elevation:g,ref:F},ownerState:V,className:de(B.paper,z==null?void 0:z.className)}),gt=bl({elementType:qe,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:D,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Ee,open:m},ownerState:V,className:de(B.root,f)}),{slotProps:_e}=gt,Xe=re(gt,rpe);return C.jsx(qe,S({},Xe,!Xy(qe)&&{slotProps:_e,disableScrollLock:O},{children:C.jsx(b,S({appear:!0,in:m,onEntering:Ce,onExited:ce,timeout:ye},x,{children:C.jsx(Ue,S({},De,{children:h}))}))}))}),ape=ope;function lpe(t){return Pe("MuiMenu",t)}Se("MuiMenu",["root","paper","list"]);const upe=["onEntering"],cpe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],dpe={vertical:"top",horizontal:"right"},hpe={vertical:"top",horizontal:"left"},fpe=t=>{const{classes:e}=t;return Ne({root:["root"],paper:["paper"],list:["list"]},lpe,e)},ppe=ne(ape,{shouldForwardProp:t=>hi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),mpe=ne(xj,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),gpe=ne(Zfe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),ype=E.forwardRef(function(e,n){var r,i;const s=Oe({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:_}={},variant:m="selectedMenu",slots:y={},slotProps:v={}}=s,w=re(s.TransitionProps,upe),I=re(s,cpe),b=td(),T=b.direction==="rtl",R=S({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:_,PaperProps:f,transitionDuration:g,TransitionProps:w,variant:m}),O=fpe(R),x=o&&!u&&h,D=E.useRef(null),z=(U,Y)=>{D.current&&D.current.adjustStyleForScrollbar(U,b),_&&_(U,Y)},M=U=>{U.key==="Tab"&&(U.preventDefault(),d&&d(U,"tabKeyDown"))};let F=-1;E.Children.map(a,(U,Y)=>{E.isValidElement(U)&&(U.props.disabled||(m==="selectedMenu"&&U.props.selected||F===-1)&&(F=Y))});const V=(r=y.paper)!=null?r:mpe,B=(i=v.paper)!=null?i:f,K=bl({elementType:y.root,externalSlotProps:v.root,ownerState:R,className:[O.root,l]}),N=bl({elementType:V,externalSlotProps:B,ownerState:R,className:O.paper});return C.jsx(ppe,S({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?dpe:hpe,slots:{paper:V,root:y.root},slotProps:{root:K,paper:N},open:h,ref:n,transitionDuration:g,TransitionProps:S({onEntering:z},w),ownerState:R},I,{classes:p,children:C.jsx(gpe,S({onKeyDown:M,actions:D,autoFocus:o&&(F===-1||u),autoFocusItem:x,variant:m},c,{className:de(O.list,c.className),children:a}))}))}),VI=ype;function _pe(t){return Pe("MuiMenuItem",t)}const vpe=Se("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Fd=vpe,wpe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Epe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Tpe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=Ne({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},_pe,o);return S({},o,l)},Ipe=ne(sR,{shouldForwardProp:t=>hi(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Epe})(({theme:t,ownerState:e})=>S({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fd.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Fd.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:hr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Fd.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:hr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Fd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Fd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${cO.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${cO.inset}`]:{marginLeft:52},[`& .${mO.root}`]:{marginTop:0,marginBottom:0},[`& .${mO.inset}`]:{paddingLeft:36},[`& .${pO.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&S({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${pO.root} svg`]:{fontSize:"1.25rem"}}))),bpe=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:h}=r,f=re(r,wpe),p=E.useContext(FI),g=E.useMemo(()=>({dense:o||p.dense||!1,disableGutters:l}),[p.dense,o,l]),_=E.useRef(null);Di(()=>{i&&_.current&&_.current.focus()},[i]);const m=S({},r,{dense:g.dense,divider:a,disableGutters:l}),y=Tpe(r),v=on(_,n);let w;return r.disabled||(w=d!==void 0?d:-1),C.jsx(FI.Provider,{value:g,children:C.jsx(Ipe,S({ref:v,role:c,tabIndex:w,component:s,focusVisibleClassName:de(y.focusVisible,u),className:de(y.root,h)},f,{ownerState:m,classes:y}))})}),au=bpe;function Spe(t){return Pe("MuiNativeSelect",t)}const Cpe=Se("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),mR=Cpe,xpe=["className","disabled","error","IconComponent","inputRef","variant"],Rpe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${oe(n)}`,s&&"iconOpen",r&&"disabled"]};return Ne(a,Spe,e)},Rj=({ownerState:t,theme:e})=>S({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":S({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${mR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Ppe=ne("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:hi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${mR.multiple}`]:e.multiple}]}})(Rj),Pj=({ownerState:t,theme:e})=>S({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${mR.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Ape=ne("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${oe(n.variant)}`],n.open&&e.iconOpen]}})(Pj),kpe=E.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=re(e,xpe),c=S({},e,{disabled:i,variant:l,error:s}),d=Rpe(c);return C.jsxs(E.Fragment,{children:[C.jsx(Ppe,S({ownerState:c,className:de(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:C.jsx(Ape,{as:o,ownerState:c,className:d.icon})]})}),Npe=kpe;var wO;const Ope=["children","classes","className","label","notched"],Dpe=ne("fieldset",{shouldForwardProp:hi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Mpe=ne("legend",{shouldForwardProp:hi})(({ownerState:t,theme:e})=>S({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&S({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Lpe(t){const{className:e,label:n,notched:r}=t,i=re(t,Ope),s=n!=null&&n!=="",o=S({},t,{notched:r,withLabel:s});return C.jsx(Dpe,S({"aria-hidden":!0,className:e,ownerState:o},i,{children:C.jsx(Mpe,{ownerState:o,children:s?C.jsx("span",{children:n}):wO||(wO=C.jsx("span",{className:"notranslate",children:"​"}))})}))}const $pe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Fpe=t=>{const{classes:e}=t,r=Ne({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},tde,e);return S({},e,r)},Vpe=ne(x0,{shouldForwardProp:t=>hi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:S0})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return S({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Zs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Zs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Zs.focused} .${Zs.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Zs.error} .${Zs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Zs.disabled} .${Zs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&S({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Upe=ne(Lpe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Bpe=ne(R0,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:C0})(({theme:t,ownerState:e})=>S({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Aj=E.forwardRef(function(e,n){var r,i,s,o,a;const l=Oe({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:g={},type:_="text"}=l,m=re(l,$pe),y=Fpe(l),v=rd(),w=nd({props:l,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=S({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:v,fullWidth:c,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:_}),b=(r=(i=g.root)!=null?i:u.Root)!=null?r:Vpe,T=(s=(o=g.input)!=null?o:u.Input)!=null?s:Bpe;return C.jsx(pR,S({slots:{root:b,input:T},renderSuffix:R=>C.jsx(Upe,{ownerState:I,className:y.notchedOutline,label:h!=null&&h!==""&&w.required?a||(a=C.jsxs(E.Fragment,{children:[h," ","*"]})):h,notched:typeof p<"u"?p:!!(R.startAdornment||R.filled||R.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:_},m,{classes:S({},y,{notchedOutline:null})}))});Aj.muiName="Input";const kj=Aj;function jpe(t){return Pe("MuiSelect",t)}const Vd=Se("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var EO;const zpe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Wpe=ne("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Vd.select}`]:e.select},{[`&.${Vd.select}`]:e[n.variant]},{[`&.${Vd.error}`]:e.error},{[`&.${Vd.multiple}`]:e.multiple}]}})(Rj,{[`&.${Vd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),qpe=ne("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${oe(n.variant)}`],n.open&&e.iconOpen]}})(Pj),Hpe=ne("input",{shouldForwardProp:t=>Zae(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function TO(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Gpe(t){return t==null||typeof t=="string"&&!t.trim()}const Kpe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${oe(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ne(a,jpe,e)},Qpe=E.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:_,labelId:m,MenuProps:y={},multiple:v,name:w,onBlur:I,onChange:b,onClose:T,onFocus:R,onOpen:O,open:x,readOnly:D,renderValue:z,SelectDisplayProps:M={},tabIndex:F,value:V,variant:B="standard"}=e,K=re(e,zpe),[N,U]=qy({controlled:V,default:d,name:"Select"}),[Y,ge]=qy({controlled:x,default:c,name:"Select"}),he=E.useRef(null),Ce=E.useRef(null),[ce,ye]=E.useState(null),{current:Ee}=E.useRef(x!=null),[qe,Ue]=E.useState(),De=on(n,_),gt=E.useCallback(fe=>{Ce.current=fe,fe&&ye(fe)},[]),_e=ce==null?void 0:ce.parentNode;E.useImperativeHandle(De,()=>({focus:()=>{Ce.current.focus()},node:he.current,value:N}),[N]),E.useEffect(()=>{c&&Y&&ce&&!Ee&&(Ue(a?null:_e.clientWidth),Ce.current.focus())},[ce,a]),E.useEffect(()=>{o&&Ce.current.focus()},[o]),E.useEffect(()=>{if(!m)return;const fe=jn(Ce.current).getElementById(m);if(fe){const Ke=()=>{getSelection().isCollapsed&&Ce.current.focus()};return fe.addEventListener("click",Ke),()=>{fe.removeEventListener("click",Ke)}}},[m]);const Xe=(fe,Ke)=>{fe?O&&O(Ke):T&&T(Ke),Ee||(Ue(a?null:_e.clientWidth),ge(fe))},Te=fe=>{fe.button===0&&(fe.preventDefault(),Ce.current.focus(),Xe(!0,fe))},Ve=fe=>{Xe(!1,fe)},Ae=E.Children.toArray(l),wn=fe=>{const Ke=Ae.find(yt=>yt.props.value===fe.target.value);Ke!==void 0&&(U(Ke.props.value),b&&b(fe,Ke))},Zt=fe=>Ke=>{let yt;if(Ke.currentTarget.hasAttribute("tabindex")){if(v){yt=Array.isArray(N)?N.slice():[];const Mi=N.indexOf(fe.props.value);Mi===-1?yt.push(fe.props.value):yt.splice(Mi,1)}else yt=fe.props.value;if(fe.props.onClick&&fe.props.onClick(Ke),N!==yt&&(U(yt),b)){const Mi=Ke.nativeEvent||Ke,sd=new Mi.constructor(Mi.type,Mi);Object.defineProperty(sd,"target",{writable:!0,value:{value:yt,name:w}}),b(sd,fe)}v||Xe(!1,Ke)}},Pt=fe=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(fe.key)!==-1&&(fe.preventDefault(),Xe(!0,fe))},Gt=ce!==null&&Y,st=fe=>{!Gt&&I&&(Object.defineProperty(fe,"target",{writable:!0,value:{value:N,name:w}}),I(fe))};delete K["aria-invalid"];let He,A;const H=[];let W=!1;(Zy({value:N})||f)&&(z?He=z(N):W=!0);const Z=Ae.map(fe=>{if(!E.isValidElement(fe))return null;let Ke;if(v){if(!Array.isArray(N))throw new Error(Qo(2));Ke=N.some(yt=>TO(yt,fe.props.value)),Ke&&W&&H.push(fe.props.children)}else Ke=TO(N,fe.props.value),Ke&&W&&(A=fe.props.children);return E.cloneElement(fe,{"aria-selected":Ke?"true":"false",onClick:Zt(fe),onKeyUp:yt=>{yt.key===" "&&yt.preventDefault(),fe.props.onKeyUp&&fe.props.onKeyUp(yt)},role:"option",selected:Ke,value:void 0,"data-value":fe.props.value})});W&&(v?H.length===0?He=null:He=H.reduce((fe,Ke,yt)=>(fe.push(Ke),yt<H.length-1&&fe.push(", "),fe),[]):He=A);let le=qe;!a&&Ee&&ce&&(le=_e.clientWidth);let ve;typeof F<"u"?ve=F:ve=h?null:0;const pe=M.id||(w?`mui-component-select-${w}`:void 0),se=S({},e,{variant:B,value:N,open:Gt,error:p}),It=Kpe(se),Tr=S({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),Ir=Hp();return C.jsxs(E.Fragment,{children:[C.jsx(Wpe,S({ref:gt,tabIndex:ve,role:"combobox","aria-controls":Ir,"aria-disabled":h?"true":void 0,"aria-expanded":Gt?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[m,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Pt,onMouseDown:h||D?null:Te,onBlur:st,onFocus:R},M,{ownerState:se,className:de(M.className,It.select,u),id:pe,children:Gpe(He)?EO||(EO=C.jsx("span",{className:"notranslate",children:"​"})):He})),C.jsx(Hpe,S({"aria-invalid":p,value:Array.isArray(N)?N.join(","):N,name:w,ref:he,"aria-hidden":!0,onChange:wn,tabIndex:-1,disabled:h,className:It.nativeInput,autoFocus:o,ownerState:se},K)),C.jsx(qpe,{as:g,className:It.icon,ownerState:se}),C.jsx(VI,S({id:`menu-${w||""}`,anchorEl:_e,open:Gt,onClose:Ve,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:S({"aria-labelledby":m,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:Ir},y.MenuListProps),slotProps:S({},y.slotProps,{paper:S({},Tr,{style:S({minWidth:le},Tr!=null?Tr.style:null)})}),children:Z}))]})}),Ype=Qpe,Xpe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Jpe=["root"],Zpe=t=>{const{classes:e}=t;return e},gR={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>hi(t)&&t!=="variant",slot:"Root"},eme=ne(Sj,gR)(""),tme=ne(kj,gR)(""),nme=ne(Ej,gR)(""),Nj=E.forwardRef(function(e,n){const r=Oe({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=sde,id:d,input:h,inputProps:f,label:p,labelId:g,MenuProps:_,multiple:m=!1,native:y=!1,onClose:v,onOpen:w,open:I,renderValue:b,SelectDisplayProps:T,variant:R="outlined"}=r,O=re(r,Xpe),x=y?Npe:Ype,D=rd(),z=nd({props:r,muiFormControl:D,states:["variant","error"]}),M=z.variant||R,F=S({},r,{variant:M,classes:o}),V=Zpe(F),B=re(V,Jpe),K=h||{standard:C.jsx(eme,{ownerState:F}),outlined:C.jsx(tme,{label:p,ownerState:F}),filled:C.jsx(nme,{ownerState:F})}[M],N=on(n,K.ref);return C.jsx(E.Fragment,{children:E.cloneElement(K,S({inputComponent:x,inputProps:S({children:s,error:z.error,IconComponent:c,variant:M,type:void 0,multiple:m},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:g,MenuProps:_,onClose:v,onOpen:w,open:I,renderValue:b,SelectDisplayProps:S({id:d},T)},f,{classes:f?yr(B,f.classes):B},h?h.props.inputProps:{})},m&&y&&M==="outlined"?{notched:!0}:{},{ref:N,className:de(K.props.className,a,V.root)},!h&&{variant:M},O))})});Nj.muiName="Select";const rme=Nj;function ime(t){return Pe("MuiTooltip",t)}const sme=Se("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),mo=sme,ome=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function ame(t){return Math.round(t*1e5)/1e5}const lme=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${oe(s.split("-")[0])}`],arrow:["arrow"]};return Ne(o,ime,e)},ume=ne(fj,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>S({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${mo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${mo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${mo.arrow}`]:S({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${mo.arrow}`]:S({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),cme=ne("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${oe(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>S({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:hr(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${ame(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${mo.popper}[data-popper-placement*="left"] &`]:S({transformOrigin:"right center"},e.isRtl?S({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):S({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${mo.popper}[data-popper-placement*="right"] &`]:S({transformOrigin:"left center"},e.isRtl?S({marginRight:"14px"},e.touch&&{marginRight:"24px"}):S({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${mo.popper}[data-popper-placement*="top"] &`]:S({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${mo.popper}[data-popper-placement*="bottom"] &`]:S({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),dme=ne("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:hr(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let zm=!1,oE=null,Ud={x:0,y:0};function Wm(t,e){return n=>{e&&e(n),t(n)}}const hme=E.forwardRef(function(e,n){var r,i,s,o,a,l,u,c,d,h,f,p,g,_,m,y,v,w,I;const b=Oe({props:e,name:"MuiTooltip"}),{arrow:T=!1,children:R,components:O={},componentsProps:x={},describeChild:D=!1,disableFocusListener:z=!1,disableHoverListener:M=!1,disableInteractive:F=!1,disableTouchListener:V=!1,enterDelay:B=100,enterNextDelay:K=0,enterTouchDelay:N=700,followCursor:U=!1,id:Y,leaveDelay:ge=0,leaveTouchDelay:he=1500,onClose:Ce,onOpen:ce,open:ye,placement:Ee="bottom",PopperComponent:qe,PopperProps:Ue={},slotProps:De={},slots:gt={},title:_e,TransitionComponent:Xe=$I,TransitionProps:Te}=b,Ve=re(b,ome),Ae=E.isValidElement(R)?R:C.jsx("span",{children:R}),wn=td(),Zt=wn.direction==="rtl",[Pt,Gt]=E.useState(),[st,He]=E.useState(null),A=E.useRef(!1),H=F||U,W=E.useRef(),Z=E.useRef(),le=E.useRef(),ve=E.useRef(),[pe,se]=qy({controlled:ye,default:!1,name:"Tooltip",state:"open"});let It=pe;const Tr=Hp(Y),Ir=E.useRef(),fe=E.useCallback(()=>{Ir.current!==void 0&&(document.body.style.WebkitUserSelect=Ir.current,Ir.current=void 0),clearTimeout(ve.current)},[]);E.useEffect(()=>()=>{clearTimeout(W.current),clearTimeout(Z.current),clearTimeout(le.current),fe()},[fe]);const Ke=Me=>{clearTimeout(oE),zm=!0,se(!0),ce&&!It&&ce(Me)},yt=po(Me=>{clearTimeout(oE),oE=setTimeout(()=>{zm=!1},800+ge),se(!1),Ce&&It&&Ce(Me),clearTimeout(W.current),W.current=setTimeout(()=>{A.current=!1},wn.transitions.duration.shortest)}),Mi=Me=>{A.current&&Me.type!=="touchstart"||(Pt&&Pt.removeAttribute("title"),clearTimeout(Z.current),clearTimeout(le.current),B||zm&&K?Z.current=setTimeout(()=>{Ke(Me)},zm?K:B):Ke(Me))},sd=Me=>{clearTimeout(Z.current),clearTimeout(le.current),le.current=setTimeout(()=>{yt(Me)},ge)},{isFocusVisibleRef:UR,onBlur:Cz,onFocus:xz,ref:Rz}=Gx(),[,BR]=E.useState(!1),jR=Me=>{Cz(Me),UR.current===!1&&(BR(!1),sd(Me))},zR=Me=>{Pt||Gt(Me.currentTarget),xz(Me),UR.current===!0&&(BR(!0),Mi(Me))},WR=Me=>{A.current=!0;const br=Ae.props;br.onTouchStart&&br.onTouchStart(Me)},qR=Mi,HR=sd,Pz=Me=>{WR(Me),clearTimeout(le.current),clearTimeout(W.current),fe(),Ir.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ve.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Ir.current,Mi(Me)},N)},Az=Me=>{Ae.props.onTouchEnd&&Ae.props.onTouchEnd(Me),fe(),clearTimeout(le.current),le.current=setTimeout(()=>{yt(Me)},he)};E.useEffect(()=>{if(!It)return;function Me(br){(br.key==="Escape"||br.key==="Esc")&&yt(br)}return document.addEventListener("keydown",Me),()=>{document.removeEventListener("keydown",Me)}},[yt,It]);const kz=on(Ae.ref,Rz,Gt,n);!_e&&_e!==0&&(It=!1);const F0=E.useRef(),Nz=Me=>{const br=Ae.props;br.onMouseMove&&br.onMouseMove(Me),Ud={x:Me.clientX,y:Me.clientY},F0.current&&F0.current.update()},od={},V0=typeof _e=="string";D?(od.title=!It&&V0&&!M?_e:null,od["aria-describedby"]=It?Tr:null):(od["aria-label"]=V0?_e:null,od["aria-labelledby"]=It&&!V0?Tr:null);const fi=S({},od,Ve,Ae.props,{className:de(Ve.className,Ae.props.className),onTouchStart:WR,ref:kz},U?{onMouseMove:Nz}:{}),ad={};V||(fi.onTouchStart=Pz,fi.onTouchEnd=Az),M||(fi.onMouseOver=Wm(qR,fi.onMouseOver),fi.onMouseLeave=Wm(HR,fi.onMouseLeave),H||(ad.onMouseOver=qR,ad.onMouseLeave=HR)),z||(fi.onFocus=Wm(zR,fi.onFocus),fi.onBlur=Wm(jR,fi.onBlur),H||(ad.onFocus=zR,ad.onBlur=jR));const Oz=E.useMemo(()=>{var Me;let br=[{name:"arrow",enabled:!!st,options:{element:st,padding:4}}];return(Me=Ue.popperOptions)!=null&&Me.modifiers&&(br=br.concat(Ue.popperOptions.modifiers)),S({},Ue.popperOptions,{modifiers:br})},[st,Ue]),ld=S({},b,{isRtl:Zt,arrow:T,disableInteractive:H,placement:Ee,PopperComponentProp:qe,touch:A.current}),U0=lme(ld),GR=(r=(i=gt.popper)!=null?i:O.Popper)!=null?r:ume,KR=(s=(o=(a=gt.transition)!=null?a:O.Transition)!=null?o:Xe)!=null?s:$I,QR=(l=(u=gt.tooltip)!=null?u:O.Tooltip)!=null?l:cme,YR=(c=(d=gt.arrow)!=null?d:O.Arrow)!=null?c:dme,Dz=rh(GR,S({},Ue,(h=De.popper)!=null?h:x.popper,{className:de(U0.popper,Ue==null?void 0:Ue.className,(f=(p=De.popper)!=null?p:x.popper)==null?void 0:f.className)}),ld),Mz=rh(KR,S({},Te,(g=De.transition)!=null?g:x.transition),ld),Lz=rh(QR,S({},(_=De.tooltip)!=null?_:x.tooltip,{className:de(U0.tooltip,(m=(y=De.tooltip)!=null?y:x.tooltip)==null?void 0:m.className)}),ld),$z=rh(YR,S({},(v=De.arrow)!=null?v:x.arrow,{className:de(U0.arrow,(w=(I=De.arrow)!=null?I:x.arrow)==null?void 0:w.className)}),ld);return C.jsxs(E.Fragment,{children:[E.cloneElement(Ae,fi),C.jsx(GR,S({as:qe??fj,placement:Ee,anchorEl:U?{getBoundingClientRect:()=>({top:Ud.y,left:Ud.x,right:Ud.x,bottom:Ud.y,width:0,height:0})}:Pt,popperRef:F0,open:Pt?It:!1,id:Tr,transition:!0},ad,Dz,{popperOptions:Oz,children:({TransitionProps:Me})=>C.jsx(KR,S({timeout:wn.transitions.duration.shorter},Me,Mz,{children:C.jsxs(QR,S({},Lz,{children:[_e,T?C.jsx(YR,S({},$z,{ref:He})):null]}))}))}))]})}),fme=hme;function pme(t){return Pe("MuiToolbar",t)}Se("MuiToolbar",["root","gutters","regular","dense"]);const mme=["className","component","disableGutters","variant"],gme=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Ne({root:["root",!n&&"gutters",r]},pme,e)},yme=ne("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>S({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),_me=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=re(r,mme),u=S({},r,{component:s,disableGutters:o,variant:a}),c=gme(u);return C.jsx(yme,S({as:s,className:de(c.root,i),ref:n,ownerState:u},l))}),vme=_me;function wme(t){return Pe("MuiTextField",t)}Se("MuiTextField",["root"]);const Eme=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Tme={standard:Sj,filled:Ej,outlined:kj},Ime=t=>{const{classes:e}=t;return Ne({root:["root"]},wme,e)},bme=ne(Zhe,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Sme=E.forwardRef(function(e,n){const r=Oe({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:g,InputLabelProps:_,inputProps:m,InputProps:y,inputRef:v,label:w,maxRows:I,minRows:b,multiline:T=!1,name:R,onBlur:O,onChange:x,onFocus:D,placeholder:z,required:M=!1,rows:F,select:V=!1,SelectProps:B,type:K,value:N,variant:U="outlined"}=r,Y=re(r,Eme),ge=S({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:T,required:M,select:V,variant:U}),he=Ime(ge),Ce={};U==="outlined"&&(_&&typeof _.shrink<"u"&&(Ce.notched=_.shrink),Ce.label=w),V&&((!B||!B.native)&&(Ce.id=void 0),Ce["aria-describedby"]=void 0);const ce=Hp(g),ye=p&&ce?`${ce}-helper-text`:void 0,Ee=w&&ce?`${ce}-label`:void 0,qe=Tme[U],Ue=C.jsx(qe,S({"aria-describedby":ye,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:T,name:R,rows:F,maxRows:I,minRows:b,type:K,value:N,id:ce,inputRef:v,onBlur:O,onChange:x,onFocus:D,placeholder:z,inputProps:m},Ce,y));return C.jsxs(bme,S({className:de(he.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:M,color:l,variant:U,ownerState:ge},Y,{children:[w!=null&&w!==""&&C.jsx(Bfe,S({htmlFor:ce,id:Ee},_,{children:w})),V?C.jsx(rme,S({"aria-describedby":ye,id:ce,labelId:Ee,value:N,input:Ue},B,{children:o})):Ue,p&&C.jsx(ofe,S({id:ye},h,{children:p}))]}))}),Ja=Sme,Cme=()=>{const t=HS(),[e,n]=E.useState(!1),r=i=>{i.target.files&&i.target.files.length>0&&(n(!0),t(Y7(i.target.files[0])).then(()=>n(!1)))};return C.jsxs(C.Fragment,{children:[C.jsx(Ja,{onChange:r,type:"file"}),e&&C.jsx(rhe,{})]})},xme=()=>{const t=Nc(f=>f.upload.uploadImg),[e,n]=E.useState(""),[r,i]=E.useState(""),[s,o]=E.useState(""),a=f=>{n(f.currentTarget.value)},l=f=>{i(f.currentTarget.value)},u=f=>{o(f.currentTarget.value)},c=HS(),d=qS(),h=()=>{const f={id:d,name:e,photo:t,price:+r,quantity:+s};c(FF(f))};return C.jsx(C.Fragment,{children:C.jsx(Jp,{children:C.jsxs(Zp,{children:[C.jsx(Dt,{component:"div",sx:{flexGrow:1},variant:"h6",children:"Add product"}),C.jsxs(Dt,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Name product: ",C.jsx(Ja,{onChange:a})]}),C.jsxs(Dt,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Price product: ",C.jsx(Ja,{onChange:l})]}),C.jsxs(Dt,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Quantity product: ",C.jsx(Ja,{onChange:u})]}),C.jsxs(Dt,{component:"div",sx:{flexGrow:1},variant:"h6",children:["Image product: ",C.jsx(Cme,{})]}),C.jsx(ss,{component:ef,onClick:h,to:"/",variant:"contained",children:"Add product"})]})})})};var Rme=function(e){return Pme(e)&&!Ame(e)};function Pme(t){return!!t&&typeof t=="object"}function Ame(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Ome(t)}var kme=typeof Symbol=="function"&&Symbol.for,Nme=kme?Symbol.for("react.element"):60103;function Ome(t){return t.$$typeof===Nme}function Dme(t){return Array.isArray(t)?[]:{}}function t_(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ep(Dme(t),t,e):t}function Mme(t,e,n){return t.concat(e).map(function(r){return t_(r,n)})}function Lme(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=t_(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=t_(e[i],n):r[i]=ep(t[i],e[i],n)}),r}function ep(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Mme,n.isMergeableObject=n.isMergeableObject||Rme;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Lme(t,e,n):t_(e,n)}ep.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return ep(r,i,n)},{})};var UI=ep,Oj=typeof global=="object"&&global&&global.Object===Object&&global,$me=typeof self=="object"&&self&&self.Object===Object&&self,ps=Oj||$me||Function("return this")(),Xo=ps.Symbol,Dj=Object.prototype,Fme=Dj.hasOwnProperty,Vme=Dj.toString,Bd=Xo?Xo.toStringTag:void 0;function Ume(t){var e=Fme.call(t,Bd),n=t[Bd];try{t[Bd]=void 0;var r=!0}catch{}var i=Vme.call(t);return r&&(e?t[Bd]=n:delete t[Bd]),i}var Bme=Object.prototype,jme=Bme.toString;function zme(t){return jme.call(t)}var Wme="[object Null]",qme="[object Undefined]",IO=Xo?Xo.toStringTag:void 0;function Bl(t){return t==null?t===void 0?qme:Wme:IO&&IO in Object(t)?Ume(t):zme(t)}function Mj(t,e){return function(n){return t(e(n))}}var yR=Mj(Object.getPrototypeOf,Object);function jl(t){return t!=null&&typeof t=="object"}var Hme="[object Object]",Gme=Function.prototype,Kme=Object.prototype,Lj=Gme.toString,Qme=Kme.hasOwnProperty,Yme=Lj.call(Object);function bO(t){if(!jl(t)||Bl(t)!=Hme)return!1;var e=yR(t);if(e===null)return!0;var n=Qme.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Lj.call(n)==Yme}var SO=Array.isArray,CO=Object.keys,Xme=Object.prototype.hasOwnProperty,Jme=typeof Element<"u";function BI(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=SO(t),r=SO(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!BI(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var d=CO(t);if(s=d.length,s!==CO(e).length)return!1;for(i=s;i--!==0;)if(!Xme.call(e,d[i]))return!1;if(Jme&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!BI(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var Zme=function(e,n){try{return BI(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const ba=i_(Zme);function ege(){this.__data__=[],this.size=0}function $j(t,e){return t===e||t!==t&&e!==e}function A0(t,e){for(var n=t.length;n--;)if($j(t[n][0],e))return n;return-1}var tge=Array.prototype,nge=tge.splice;function rge(t){var e=this.__data__,n=A0(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nge.call(e,n,1),--this.size,!0}function ige(t){var e=this.__data__,n=A0(e,t);return n<0?void 0:e[n][1]}function sge(t){return A0(this.__data__,t)>-1}function oge(t,e){var n=this.__data__,r=A0(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Gs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gs.prototype.clear=ege;Gs.prototype.delete=rge;Gs.prototype.get=ige;Gs.prototype.has=sge;Gs.prototype.set=oge;function age(){this.__data__=new Gs,this.size=0}function lge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function uge(t){return this.__data__.get(t)}function cge(t){return this.__data__.has(t)}function em(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dge="[object AsyncFunction]",hge="[object Function]",fge="[object GeneratorFunction]",pge="[object Proxy]";function Fj(t){if(!em(t))return!1;var e=Bl(t);return e==hge||e==fge||e==dge||e==pge}var aE=ps["__core-js_shared__"],xO=function(){var t=/[^.]+$/.exec(aE&&aE.keys&&aE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mge(t){return!!xO&&xO in t}var gge=Function.prototype,yge=gge.toString;function zl(t){if(t!=null){try{return yge.call(t)}catch{}try{return t+""}catch{}}return""}var _ge=/[\\^$.*+?()[\]{}|]/g,vge=/^\[object .+?Constructor\]$/,wge=Function.prototype,Ege=Object.prototype,Tge=wge.toString,Ige=Ege.hasOwnProperty,bge=RegExp("^"+Tge.call(Ige).replace(_ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sge(t){if(!em(t)||mge(t))return!1;var e=Fj(t)?bge:vge;return e.test(zl(t))}function Cge(t,e){return t==null?void 0:t[e]}function Wl(t,e){var n=Cge(t,e);return Sge(n)?n:void 0}var tp=Wl(ps,"Map"),np=Wl(Object,"create");function xge(){this.__data__=np?np(null):{},this.size=0}function Rge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pge="__lodash_hash_undefined__",Age=Object.prototype,kge=Age.hasOwnProperty;function Nge(t){var e=this.__data__;if(np){var n=e[t];return n===Pge?void 0:n}return kge.call(e,t)?e[t]:void 0}var Oge=Object.prototype,Dge=Oge.hasOwnProperty;function Mge(t){var e=this.__data__;return np?e[t]!==void 0:Dge.call(e,t)}var Lge="__lodash_hash_undefined__";function $ge(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=np&&e===void 0?Lge:e,this}function Cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cl.prototype.clear=xge;Cl.prototype.delete=Rge;Cl.prototype.get=Nge;Cl.prototype.has=Mge;Cl.prototype.set=$ge;function Fge(){this.size=0,this.__data__={hash:new Cl,map:new(tp||Gs),string:new Cl}}function Vge(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function k0(t,e){var n=t.__data__;return Vge(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Uge(t){var e=k0(this,t).delete(t);return this.size-=e?1:0,e}function Bge(t){return k0(this,t).get(t)}function jge(t){return k0(this,t).has(t)}function zge(t,e){var n=k0(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ua(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ua.prototype.clear=Fge;ua.prototype.delete=Uge;ua.prototype.get=Bge;ua.prototype.has=jge;ua.prototype.set=zge;var Wge=200;function qge(t,e){var n=this.__data__;if(n instanceof Gs){var r=n.__data__;if(!tp||r.length<Wge-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ua(r)}return n.set(t,e),this.size=n.size,this}function id(t){var e=this.__data__=new Gs(t);this.size=e.size}id.prototype.clear=age;id.prototype.delete=lge;id.prototype.get=uge;id.prototype.has=cge;id.prototype.set=qge;function Hge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var RO=function(){try{var t=Wl(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Vj(t,e,n){e=="__proto__"&&RO?RO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Gge=Object.prototype,Kge=Gge.hasOwnProperty;function Uj(t,e,n){var r=t[e];(!(Kge.call(t,e)&&$j(r,n))||n===void 0&&!(e in t))&&Vj(t,e,n)}function N0(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Vj(n,a,l):Uj(n,a,l)}return n}function Qge(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Yge="[object Arguments]";function PO(t){return jl(t)&&Bl(t)==Yge}var Bj=Object.prototype,Xge=Bj.hasOwnProperty,Jge=Bj.propertyIsEnumerable,Zge=PO(function(){return arguments}())?PO:function(t){return jl(t)&&Xge.call(t,"callee")&&!Jge.call(t,"callee")},tm=Array.isArray;function eye(){return!1}var jj=typeof Dr=="object"&&Dr&&!Dr.nodeType&&Dr,AO=jj&&typeof Mr=="object"&&Mr&&!Mr.nodeType&&Mr,tye=AO&&AO.exports===jj,kO=tye?ps.Buffer:void 0,nye=kO?kO.isBuffer:void 0,zj=nye||eye,rye=9007199254740991,iye=/^(?:0|[1-9]\d*)$/;function sye(t,e){var n=typeof t;return e=e??rye,!!e&&(n=="number"||n!="symbol"&&iye.test(t))&&t>-1&&t%1==0&&t<e}var oye=9007199254740991;function Wj(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=oye}var aye="[object Arguments]",lye="[object Array]",uye="[object Boolean]",cye="[object Date]",dye="[object Error]",hye="[object Function]",fye="[object Map]",pye="[object Number]",mye="[object Object]",gye="[object RegExp]",yye="[object Set]",_ye="[object String]",vye="[object WeakMap]",wye="[object ArrayBuffer]",Eye="[object DataView]",Tye="[object Float32Array]",Iye="[object Float64Array]",bye="[object Int8Array]",Sye="[object Int16Array]",Cye="[object Int32Array]",xye="[object Uint8Array]",Rye="[object Uint8ClampedArray]",Pye="[object Uint16Array]",Aye="[object Uint32Array]",dt={};dt[Tye]=dt[Iye]=dt[bye]=dt[Sye]=dt[Cye]=dt[xye]=dt[Rye]=dt[Pye]=dt[Aye]=!0;dt[aye]=dt[lye]=dt[wye]=dt[uye]=dt[Eye]=dt[cye]=dt[dye]=dt[hye]=dt[fye]=dt[pye]=dt[mye]=dt[gye]=dt[yye]=dt[_ye]=dt[vye]=!1;function kye(t){return jl(t)&&Wj(t.length)&&!!dt[Bl(t)]}function _R(t){return function(e){return t(e)}}var qj=typeof Dr=="object"&&Dr&&!Dr.nodeType&&Dr,Dh=qj&&typeof Mr=="object"&&Mr&&!Mr.nodeType&&Mr,Nye=Dh&&Dh.exports===qj,lE=Nye&&Oj.process,Ac=function(){try{var t=Dh&&Dh.require&&Dh.require("util").types;return t||lE&&lE.binding&&lE.binding("util")}catch{}}(),NO=Ac&&Ac.isTypedArray,Oye=NO?_R(NO):kye,Dye=Object.prototype,Mye=Dye.hasOwnProperty;function Hj(t,e){var n=tm(t),r=!n&&Zge(t),i=!n&&!r&&zj(t),s=!n&&!r&&!i&&Oye(t),o=n||r||i||s,a=o?Qge(t.length,String):[],l=a.length;for(var u in t)(e||Mye.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sye(u,l)))&&a.push(u);return a}var Lye=Object.prototype;function vR(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Lye;return t===n}var $ye=Mj(Object.keys,Object),Fye=Object.prototype,Vye=Fye.hasOwnProperty;function Uye(t){if(!vR(t))return $ye(t);var e=[];for(var n in Object(t))Vye.call(t,n)&&n!="constructor"&&e.push(n);return e}function Gj(t){return t!=null&&Wj(t.length)&&!Fj(t)}function wR(t){return Gj(t)?Hj(t):Uye(t)}function Bye(t,e){return t&&N0(e,wR(e),t)}function jye(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var zye=Object.prototype,Wye=zye.hasOwnProperty;function qye(t){if(!em(t))return jye(t);var e=vR(t),n=[];for(var r in t)r=="constructor"&&(e||!Wye.call(t,r))||n.push(r);return n}function ER(t){return Gj(t)?Hj(t,!0):qye(t)}function Hye(t,e){return t&&N0(e,ER(e),t)}var Kj=typeof Dr=="object"&&Dr&&!Dr.nodeType&&Dr,OO=Kj&&typeof Mr=="object"&&Mr&&!Mr.nodeType&&Mr,Gye=OO&&OO.exports===Kj,DO=Gye?ps.Buffer:void 0,MO=DO?DO.allocUnsafe:void 0;function Kye(t,e){if(e)return t.slice();var n=t.length,r=MO?MO(n):new t.constructor(n);return t.copy(r),r}function Qj(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Qye(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Yj(){return[]}var Yye=Object.prototype,Xye=Yye.propertyIsEnumerable,LO=Object.getOwnPropertySymbols,TR=LO?function(t){return t==null?[]:(t=Object(t),Qye(LO(t),function(e){return Xye.call(t,e)}))}:Yj;function Jye(t,e){return N0(t,TR(t),e)}function Xj(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Zye=Object.getOwnPropertySymbols,Jj=Zye?function(t){for(var e=[];t;)Xj(e,TR(t)),t=yR(t);return e}:Yj;function e_e(t,e){return N0(t,Jj(t),e)}function Zj(t,e,n){var r=e(t);return tm(t)?r:Xj(r,n(t))}function t_e(t){return Zj(t,wR,TR)}function n_e(t){return Zj(t,ER,Jj)}var jI=Wl(ps,"DataView"),zI=Wl(ps,"Promise"),WI=Wl(ps,"Set"),qI=Wl(ps,"WeakMap"),$O="[object Map]",r_e="[object Object]",FO="[object Promise]",VO="[object Set]",UO="[object WeakMap]",BO="[object DataView]",i_e=zl(jI),s_e=zl(tp),o_e=zl(zI),a_e=zl(WI),l_e=zl(qI),Sa=Bl;(jI&&Sa(new jI(new ArrayBuffer(1)))!=BO||tp&&Sa(new tp)!=$O||zI&&Sa(zI.resolve())!=FO||WI&&Sa(new WI)!=VO||qI&&Sa(new qI)!=UO)&&(Sa=function(t){var e=Bl(t),n=e==r_e?t.constructor:void 0,r=n?zl(n):"";if(r)switch(r){case i_e:return BO;case s_e:return $O;case o_e:return FO;case a_e:return VO;case l_e:return UO}return e});const IR=Sa;var u_e=Object.prototype,c_e=u_e.hasOwnProperty;function d_e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&c_e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var jO=ps.Uint8Array;function bR(t){var e=new t.constructor(t.byteLength);return new jO(e).set(new jO(t)),e}function h_e(t,e){var n=e?bR(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var f_e=/\w*$/;function p_e(t){var e=new t.constructor(t.source,f_e.exec(t));return e.lastIndex=t.lastIndex,e}var zO=Xo?Xo.prototype:void 0,WO=zO?zO.valueOf:void 0;function m_e(t){return WO?Object(WO.call(t)):{}}function g_e(t,e){var n=e?bR(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var y_e="[object Boolean]",__e="[object Date]",v_e="[object Map]",w_e="[object Number]",E_e="[object RegExp]",T_e="[object Set]",I_e="[object String]",b_e="[object Symbol]",S_e="[object ArrayBuffer]",C_e="[object DataView]",x_e="[object Float32Array]",R_e="[object Float64Array]",P_e="[object Int8Array]",A_e="[object Int16Array]",k_e="[object Int32Array]",N_e="[object Uint8Array]",O_e="[object Uint8ClampedArray]",D_e="[object Uint16Array]",M_e="[object Uint32Array]";function L_e(t,e,n){var r=t.constructor;switch(e){case S_e:return bR(t);case y_e:case __e:return new r(+t);case C_e:return h_e(t,n);case x_e:case R_e:case P_e:case A_e:case k_e:case N_e:case O_e:case D_e:case M_e:return g_e(t,n);case v_e:return new r;case w_e:case I_e:return new r(t);case E_e:return p_e(t);case T_e:return new r;case b_e:return m_e(t)}}var qO=Object.create,$_e=function(){function t(){}return function(e){if(!em(e))return{};if(qO)return qO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function F_e(t){return typeof t.constructor=="function"&&!vR(t)?$_e(yR(t)):{}}var V_e="[object Map]";function U_e(t){return jl(t)&&IR(t)==V_e}var HO=Ac&&Ac.isMap,B_e=HO?_R(HO):U_e,j_e="[object Set]";function z_e(t){return jl(t)&&IR(t)==j_e}var GO=Ac&&Ac.isSet,W_e=GO?_R(GO):z_e,q_e=1,H_e=2,G_e=4,ez="[object Arguments]",K_e="[object Array]",Q_e="[object Boolean]",Y_e="[object Date]",X_e="[object Error]",tz="[object Function]",J_e="[object GeneratorFunction]",Z_e="[object Map]",eve="[object Number]",nz="[object Object]",tve="[object RegExp]",nve="[object Set]",rve="[object String]",ive="[object Symbol]",sve="[object WeakMap]",ove="[object ArrayBuffer]",ave="[object DataView]",lve="[object Float32Array]",uve="[object Float64Array]",cve="[object Int8Array]",dve="[object Int16Array]",hve="[object Int32Array]",fve="[object Uint8Array]",pve="[object Uint8ClampedArray]",mve="[object Uint16Array]",gve="[object Uint32Array]",ot={};ot[ez]=ot[K_e]=ot[ove]=ot[ave]=ot[Q_e]=ot[Y_e]=ot[lve]=ot[uve]=ot[cve]=ot[dve]=ot[hve]=ot[Z_e]=ot[eve]=ot[nz]=ot[tve]=ot[nve]=ot[rve]=ot[ive]=ot[fve]=ot[pve]=ot[mve]=ot[gve]=!0;ot[X_e]=ot[tz]=ot[sve]=!1;function bg(t,e,n,r,i,s){var o,a=e&q_e,l=e&H_e,u=e&G_e;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!em(t))return t;var c=tm(t);if(c){if(o=d_e(t),!a)return Qj(t,o)}else{var d=IR(t),h=d==tz||d==J_e;if(zj(t))return Kye(t,a);if(d==nz||d==ez||h&&!i){if(o=l||h?{}:F_e(t),!a)return l?e_e(t,Hye(o,t)):Jye(t,Bye(o,t))}else{if(!ot[d])return i?t:{};o=L_e(t,d,a)}}s||(s=new id);var f=s.get(t);if(f)return f;s.set(t,o),W_e(t)?t.forEach(function(_){o.add(bg(_,e,n,_,t,s))}):B_e(t)&&t.forEach(function(_,m){o.set(m,bg(_,e,n,m,t,s))});var p=u?l?n_e:t_e:l?ER:wR,g=c?void 0:p(t);return Hge(g||t,function(_,m){g&&(m=_,_=t[m]),Uj(o,m,bg(_,e,n,m,t,s))}),o}var yve=4;function KO(t){return bg(t,yve)}function rz(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var _ve="[object Symbol]";function SR(t){return typeof t=="symbol"||jl(t)&&Bl(t)==_ve}var vve="Expected a function";function CR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vve);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(CR.Cache||ua),n}CR.Cache=ua;var wve=500;function Eve(t){var e=CR(t,function(r){return n.size===wve&&n.clear(),r}),n=e.cache;return e}var Tve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ive=/\\(\\)?/g,bve=Eve(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Tve,function(n,r,i,s){e.push(i?s.replace(Ive,"$1"):r||n)}),e});const Sve=bve;var Cve=1/0;function xve(t){if(typeof t=="string"||SR(t))return t;var e=t+"";return e=="0"&&1/t==-Cve?"-0":e}var Rve=1/0,QO=Xo?Xo.prototype:void 0,YO=QO?QO.toString:void 0;function iz(t){if(typeof t=="string")return t;if(tm(t))return rz(t,iz)+"";if(SR(t))return YO?YO.call(t):"";var e=t+"";return e=="0"&&1/t==-Rve?"-0":e}function Pve(t){return t==null?"":iz(t)}function sz(t){return tm(t)?rz(t,xve):SR(t)?[t]:Qj(Sve(Pve(t)))}function an(){return an=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},an.apply(this,arguments)}function oz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var O0=E.createContext(void 0);O0.displayName="FormikContext";O0.Provider;O0.Consumer;function Ave(){var t=E.useContext(O0);return t}var mi=function(e){return typeof e=="function"},D0=function(e){return e!==null&&typeof e=="object"},kve=function(e){return String(Math.floor(Number(e)))===e},uE=function(e){return Object.prototype.toString.call(e)==="[object String]"},cE=function(e){return D0(e)&&mi(e.then)};function Sr(t,e,n,r){r===void 0&&(r=0);for(var i=sz(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Za(t,e,n){for(var r=KO(t),i=r,s=0,o=sz(e);s<o.length-1;s++){var a=o[s],l=Sr(t,o.slice(0,s+1));if(l&&(D0(l)||Array.isArray(l)))i=i[a]=KO(l);else{var u=o[s+1];i=i[a]=kve(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function az(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];D0(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},az(a,e,n,r[o])):r[o]=e}return r}function Nve(t,e){switch(e.type){case"SET_VALUES":return an({},t,{values:e.payload});case"SET_TOUCHED":return an({},t,{touched:e.payload});case"SET_ERRORS":return ba(t.errors,e.payload)?t:an({},t,{errors:e.payload});case"SET_STATUS":return an({},t,{status:e.payload});case"SET_ISSUBMITTING":return an({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return an({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return an({},t,{values:Za(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return an({},t,{touched:Za(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return an({},t,{errors:Za(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return an({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return an({},t,{touched:az(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return an({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return an({},t,{isSubmitting:!1});default:return t}}var pa={},qm={};function Ove(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,d=oz(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=an({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},d),f=E.useRef(h.initialValues),p=E.useRef(h.initialErrors||pa),g=E.useRef(h.initialTouched||qm),_=E.useRef(h.initialStatus),m=E.useRef(!1),y=E.useRef({});E.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var v=E.useState(0),w=v[1],I=E.useRef({values:h.initialValues,errors:h.initialErrors||pa,touched:h.initialTouched||qm,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),b=I.current,T=E.useCallback(function(A){var H=I.current;I.current=Nve(H,A),H!==I.current&&w(function(W){return W+1})},[]),R=E.useCallback(function(A,H){return new Promise(function(W,Z){var le=h.validate(A,H);le==null?W(pa):cE(le)?le.then(function(ve){W(ve||pa)},function(ve){Z(ve)}):W(le)})},[h.validate]),O=E.useCallback(function(A,H){var W=h.validationSchema,Z=mi(W)?W(H):W,le=H&&Z.validateAt?Z.validateAt(H,A):Mve(A,Z);return new Promise(function(ve,pe){le.then(function(){ve(pa)},function(se){se.name==="ValidationError"?ve(Dve(se)):pe(se)})})},[h.validationSchema]),x=E.useCallback(function(A,H){return new Promise(function(W){return W(y.current[A].validate(H))})},[]),D=E.useCallback(function(A){var H=Object.keys(y.current).filter(function(Z){return mi(y.current[Z].validate)}),W=H.length>0?H.map(function(Z){return x(Z,Sr(A,Z))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(W).then(function(Z){return Z.reduce(function(le,ve,pe){return ve==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ve&&(le=Za(le,H[pe],ve)),le},{})})},[x]),z=E.useCallback(function(A){return Promise.all([D(A),h.validationSchema?O(A):{},h.validate?R(A):{}]).then(function(H){var W=H[0],Z=H[1],le=H[2],ve=UI.all([W,Z,le],{arrayMerge:Lve});return ve})},[h.validate,h.validationSchema,D,R,O]),M=Gr(function(A){return A===void 0&&(A=b.values),T({type:"SET_ISVALIDATING",payload:!0}),z(A).then(function(H){return m.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:H})),H})});E.useEffect(function(){o&&m.current===!0&&ba(f.current,h.initialValues)&&M(f.current)},[o,M]);var F=E.useCallback(function(A){var H=A&&A.values?A.values:f.current,W=A&&A.errors?A.errors:p.current?p.current:h.initialErrors||{},Z=A&&A.touched?A.touched:g.current?g.current:h.initialTouched||{},le=A&&A.status?A.status:_.current?_.current:h.initialStatus;f.current=H,p.current=W,g.current=Z,_.current=le;var ve=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!A&&!!A.isSubmitting,errors:W,touched:Z,status:le,values:H,isValidating:!!A&&!!A.isValidating,submitCount:A&&A.submitCount&&typeof A.submitCount=="number"?A.submitCount:0}})};if(h.onReset){var pe=h.onReset(b.values,Te);cE(pe)?pe.then(ve):ve()}else ve()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);E.useEffect(function(){m.current===!0&&!ba(f.current,h.initialValues)&&u&&(f.current=h.initialValues,F(),o&&M(f.current))},[u,h.initialValues,F,o,M]),E.useEffect(function(){u&&m.current===!0&&!ba(p.current,h.initialErrors)&&(p.current=h.initialErrors||pa,T({type:"SET_ERRORS",payload:h.initialErrors||pa}))},[u,h.initialErrors]),E.useEffect(function(){u&&m.current===!0&&!ba(g.current,h.initialTouched)&&(g.current=h.initialTouched||qm,T({type:"SET_TOUCHED",payload:h.initialTouched||qm}))},[u,h.initialTouched]),E.useEffect(function(){u&&m.current===!0&&!ba(_.current,h.initialStatus)&&(_.current=h.initialStatus,T({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var V=Gr(function(A){if(y.current[A]&&mi(y.current[A].validate)){var H=Sr(b.values,A),W=y.current[A].validate(H);return cE(W)?(T({type:"SET_ISVALIDATING",payload:!0}),W.then(function(Z){return Z}).then(function(Z){T({type:"SET_FIELD_ERROR",payload:{field:A,value:Z}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:A,value:W}}),Promise.resolve(W))}else if(h.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),O(b.values,A).then(function(Z){return Z}).then(function(Z){T({type:"SET_FIELD_ERROR",payload:{field:A,value:Sr(Z,A)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=E.useCallback(function(A,H){var W=H.validate;y.current[A]={validate:W}},[]),K=E.useCallback(function(A){delete y.current[A]},[]),N=Gr(function(A,H){T({type:"SET_TOUCHED",payload:A});var W=H===void 0?i:H;return W?M(b.values):Promise.resolve()}),U=E.useCallback(function(A){T({type:"SET_ERRORS",payload:A})},[]),Y=Gr(function(A,H){var W=mi(A)?A(b.values):A;T({type:"SET_VALUES",payload:W});var Z=H===void 0?n:H;return Z?M(W):Promise.resolve()}),ge=E.useCallback(function(A,H){T({type:"SET_FIELD_ERROR",payload:{field:A,value:H}})},[]),he=Gr(function(A,H,W){T({type:"SET_FIELD_VALUE",payload:{field:A,value:H}});var Z=W===void 0?n:W;return Z?M(Za(b.values,A,H)):Promise.resolve()}),Ce=E.useCallback(function(A,H){var W=H,Z=A,le;if(!uE(A)){A.persist&&A.persist();var ve=A.target?A.target:A.currentTarget,pe=ve.type,se=ve.name,It=ve.id,Tr=ve.value,Ir=ve.checked,fe=ve.outerHTML,Ke=ve.options,yt=ve.multiple;W=H||se||It,Z=/number|range/.test(pe)?(le=parseFloat(Tr),isNaN(le)?"":le):/checkbox/.test(pe)?Fve(Sr(b.values,W),Ir,Tr):Ke&&yt?$ve(Ke):Tr}W&&he(W,Z)},[he,b.values]),ce=Gr(function(A){if(uE(A))return function(H){return Ce(H,A)};Ce(A)}),ye=Gr(function(A,H,W){H===void 0&&(H=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:A,value:H}});var Z=W===void 0?i:W;return Z?M(b.values):Promise.resolve()}),Ee=E.useCallback(function(A,H){A.persist&&A.persist();var W=A.target,Z=W.name,le=W.id,ve=W.outerHTML,pe=H||Z||le;ye(pe,!0)},[ye]),qe=Gr(function(A){if(uE(A))return function(H){return Ee(H,A)};Ee(A)}),Ue=E.useCallback(function(A){mi(A)?T({type:"SET_FORMIK_STATE",payload:A}):T({type:"SET_FORMIK_STATE",payload:function(){return A}})},[]),De=E.useCallback(function(A){T({type:"SET_STATUS",payload:A})},[]),gt=E.useCallback(function(A){T({type:"SET_ISSUBMITTING",payload:A})},[]),_e=Gr(function(){return T({type:"SUBMIT_ATTEMPT"}),M().then(function(A){var H=A instanceof Error,W=!H&&Object.keys(A).length===0;if(W){var Z;try{if(Z=Ve(),Z===void 0)return}catch(le){throw le}return Promise.resolve(Z).then(function(le){return m.current&&T({type:"SUBMIT_SUCCESS"}),le}).catch(function(le){if(m.current)throw T({type:"SUBMIT_FAILURE"}),le})}else if(m.current&&(T({type:"SUBMIT_FAILURE"}),H))throw A})}),Xe=Gr(function(A){A&&A.preventDefault&&mi(A.preventDefault)&&A.preventDefault(),A&&A.stopPropagation&&mi(A.stopPropagation)&&A.stopPropagation(),_e().catch(function(H){console.warn("Warning: An unhandled error was caught from submitForm()",H)})}),Te={resetForm:F,validateForm:M,validateField:V,setErrors:U,setFieldError:ge,setFieldTouched:ye,setFieldValue:he,setStatus:De,setSubmitting:gt,setTouched:N,setValues:Y,setFormikState:Ue,submitForm:_e},Ve=Gr(function(){return c(b.values,Te)}),Ae=Gr(function(A){A&&A.preventDefault&&mi(A.preventDefault)&&A.preventDefault(),A&&A.stopPropagation&&mi(A.stopPropagation)&&A.stopPropagation(),F()}),wn=E.useCallback(function(A){return{value:Sr(b.values,A),error:Sr(b.errors,A),touched:!!Sr(b.touched,A),initialValue:Sr(f.current,A),initialTouched:!!Sr(g.current,A),initialError:Sr(p.current,A)}},[b.errors,b.touched,b.values]),Zt=E.useCallback(function(A){return{setValue:function(W,Z){return he(A,W,Z)},setTouched:function(W,Z){return ye(A,W,Z)},setError:function(W){return ge(A,W)}}},[he,ye,ge]),Pt=E.useCallback(function(A){var H=D0(A),W=H?A.name:A,Z=Sr(b.values,W),le={name:W,value:Z,onChange:ce,onBlur:qe};if(H){var ve=A.type,pe=A.value,se=A.as,It=A.multiple;ve==="checkbox"?pe===void 0?le.checked=!!Z:(le.checked=!!(Array.isArray(Z)&&~Z.indexOf(pe)),le.value=pe):ve==="radio"?(le.checked=Z===pe,le.value=pe):se==="select"&&It&&(le.value=le.value||[],le.multiple=!0)}return le},[qe,ce,b.values]),Gt=E.useMemo(function(){return!ba(f.current,b.values)},[f.current,b.values]),st=E.useMemo(function(){return typeof a<"u"?Gt?b.errors&&Object.keys(b.errors).length===0:a!==!1&&mi(a)?a(h):a:b.errors&&Object.keys(b.errors).length===0},[a,Gt,b.errors,h]),He=an({},b,{initialValues:f.current,initialErrors:p.current,initialTouched:g.current,initialStatus:_.current,handleBlur:qe,handleChange:ce,handleReset:Ae,handleSubmit:Xe,resetForm:F,setErrors:U,setFormikState:Ue,setFieldTouched:ye,setFieldValue:he,setFieldError:ge,setStatus:De,setSubmitting:gt,setTouched:N,setValues:Y,submitForm:_e,validateForm:M,validateField:V,isValid:st,dirty:Gt,unregisterField:K,registerField:B,getFieldProps:Pt,getFieldMeta:wn,getFieldHelpers:Zt,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return He}function Dve(t){var e={};if(t.inner){if(t.inner.length===0)return Za(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Sr(e,o.path)||(e=Za(e,o.path,o.message))}}return e}function Mve(t,e,n,r){n===void 0&&(n=!1);var i=HI(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function HI(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||bO(i)?HI(i):i!==""?i:void 0}):bO(t[r])?e[r]=HI(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function Lve(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?UI(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=UI(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function $ve(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function Fve(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var Vve=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function Gr(t){var e=E.useRef(t);return Vve(function(){e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var Uve=E.forwardRef(function(t,e){var n=t.action,r=oz(t,["action"]),i=n??"#",s=Ave(),o=s.handleReset,a=s.handleSubmit;return E.createElement("form",an({onSubmit:a,ref:e,onReset:o,action:i},r))});Uve.displayName="Form";function ql(t){this._maxSize=t,this.clear()}ql.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ql.prototype.get=function(t){return this._values[t]};ql.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Bve=/[^.^\]^[]+|(?=\[\]|\.\.)/g,lz=/^\d+$/,jve=/^\d/,zve=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Wve=/^\s*(['"]?)(.*?)(\1)\s*$/,xR=512,XO=new ql(xR),JO=new ql(xR),ZO=new ql(xR),el={Cache:ql,split:GI,normalizePath:dE,setter:function(t){var e=dE(t);return JO.get(t)||JO.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=dE(t);return ZO.get(t)||ZO.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(RR(n)||lz.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){qve(Array.isArray(t)?t:GI(t),e,n)}};function dE(t){return XO.get(t)||XO.set(t,GI(t).map(function(e){return e.replace(Wve,"$2")}))}function GI(t){return t.match(Bve)||[""]}function qve(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(Kve(i)&&(i='"'+i+'"'),a=RR(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function RR(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Hve(t){return t.match(jve)&&!t.match(lz)}function Gve(t){return zve.test(t)}function Kve(t){return!RR(t)&&(Hve(t)||Gve(t))}const Qve=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,M0=t=>t.match(Qve)||[],L0=t=>t[0].toUpperCase()+t.slice(1),PR=(t,e)=>M0(t).join(e).toLowerCase(),uz=t=>M0(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Yve=t=>L0(uz(t)),Xve=t=>PR(t,"_"),Jve=t=>PR(t,"-"),Zve=t=>L0(PR(t," ")),e0e=t=>M0(t).map(L0).join(" ");var hE={words:M0,upperFirst:L0,camelCase:uz,pascalCase:Yve,snakeCase:Xve,kebabCase:Jve,sentenceCase:Zve,titleCase:e0e},AR={exports:{}};AR.exports=function(t){return cz(t0e(t),t)};AR.exports.array=cz;function cz(t,e){var n=t.length,r=new Array(n),i={},s=n,o=n0e(e),a=r0e(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,d){if(d.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var f=o.get(u)||new Set;if(f=Array.from(f),c=f.length){d.add(u);do{var p=f[--c];l(p,a.get(p),d)}while(c);d.delete(u)}r[--n]=u}}}function t0e(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function n0e(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function r0e(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var i0e=AR.exports;const s0e=i_(i0e),o0e=Object.prototype.toString,a0e=Error.prototype.toString,l0e=RegExp.prototype.toString,u0e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",c0e=/^Symbol\((.*)\)(.*)$/;function d0e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function eD(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return d0e(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return u0e.call(t).replace(c0e,"Symbol($1)");const r=o0e.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+a0e.call(t)+"]":r==="RegExp"?l0e.call(t):null}function Ao(t,e){let n=eD(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=eD(this[r],e);return s!==null?s:i},2)}function dz(t){return t==null?[]:[].concat(t)}let hz,h0e=/\$\{\s*(\w+)\s*\}/g;hz=Symbol.toStringTag;class or extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(h0e,(i,s)=>Ao(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[hz]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],dz(e).forEach(o=>{if(or.isError(o)){this.errors.push(...o.errors);const a=o.inner.length?o.inner:[o];this.inner.push(...a)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,or)}}let Fi={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Ao(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ao(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Ao(n,!0)}\``+i}},gi={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},f0e={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},KI={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},p0e={isValue:"${path} field must be ${value}"},QI={noUnknown:"${path} field has unspecified keys: ${unknown}"},m0e={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},g0e={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Ao(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Ao(n,!0)}\``}return or.formatError(Fi.notType,t)}};Object.assign(Object.create(null),{mixed:Fi,string:gi,number:f0e,date:KI,object:QI,array:m0e,boolean:p0e,tuple:g0e});const kR=t=>t&&t.__isYupSchema__;class n_{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new n_(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!kR(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Hm={context:"$",value:"."};class Hl{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Hm.context,this.isValue=this.key[0]===Hm.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Hm.context:this.isValue?Hm.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&el.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Hl.prototype.__isYupRef=!0;const ja=t=>t==null;function lu(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:d,message:h,skipAbsent:f}=t;let{parent:p,context:g,abortEarly:_=o.spec.abortEarly,disableStackTrace:m=o.spec.disableStackTrace}=i;function y(D){return Hl.isRef(D)?D.getValue(n,p,g):D}function v(D={}){var z;const M=Object.assign({value:n,originalValue:s,label:o.spec.label,path:D.path||r,spec:o.spec},d,D.params);for(const V of Object.keys(M))M[V]=y(M[V]);const F=new or(or.formatError(D.message||h,M),n,M.path,D.type||u,(z=D.disableStackTrace)!=null?z:m);return F.params=M,F}const w=_?a:l;let I={path:r,parent:p,type:u,from:i.from,createError:v,resolve:y,options:i,originalValue:s,schema:o};const b=D=>{or.isError(D)?w(D):D?l(null):w(v())},T=D=>{or.isError(D)?w(D):a(D)};if(f&&ja(n))return b(!0);let O;try{var x;if(O=c.call(I,n,I),typeof((x=O)==null?void 0:x.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(O).then(b,T)}}catch(D){T(D);return}b(O)}return e.OPTIONS=t,e}function y0e(t,e,n,r=n){let i,s,o;return e?(el.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",h=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[h],t=d?t.spec.types[h]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class r_ extends Set{describe(){const e=[];for(const n of this.values())e.push(Hl.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new r_(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Au(t,e=new Map){if(kR(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Au(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Au(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Au(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Au(i,e)}else throw Error(`Unable to clone ${t}`);return n}class hs{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new r_,this._blacklist=new r_,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Fi.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Au(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&ja(s))return s;let o=Ao(e),a=Ao(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=g=>{i||(i=!0,n(g,o))},d=g=>{i||(i=!0,r(g,o))},h=s.length,f=[];if(!h)return d([]);let p={value:o,originalValue:a,path:l,options:u,schema:this};for(let g=0;g<s.length;g++){const _=s[g];_(p,c,function(y){y&&(Array.isArray(y)?f.push(...y):f.push(y)),--h<=0&&d(f)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,h,f)=>this.resolve(c)._validate(u,c,h,f)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{or.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new or(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw or.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new or(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(or.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(or.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Au(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=lu({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=lu({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Fi.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Fi.notNull){return this.nullability(!1,e)}required(e=Fi.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Fi.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=lu(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=dz(e).map(s=>new Hl(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new n_(i,n):n_.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=lu({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Fi.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=lu({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Fi.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=lu({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}hs.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])hs.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=y0e(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])hs.prototype[t]=hs.prototype.oneOf;for(const t of["not","nope"])hs.prototype[t]=hs.prototype.notOneOf;let _0e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,v0e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,w0e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,E0e=t=>ja(t)||t===t.trim(),T0e={}.toString();function Sg(){return new fz}class fz extends hs{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===T0e?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Fi.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=gi.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=gi.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=gi.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||gi.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=gi.email){return this.matches(_0e,{name:"email",message:e,excludeEmptyString:!0})}url(e=gi.url){return this.matches(v0e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=gi.uuid){return this.matches(w0e,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=gi.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:E0e})}lowercase(e=gi.lowercase){return this.transform(n=>ja(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ja(n)||n===n.toLowerCase()})}uppercase(e=gi.uppercase){return this.transform(n=>ja(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ja(n)||n===n.toUpperCase()})}}Sg.prototype=fz.prototype;const I0e=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ms(t,e=0){return Number(t)||e}function b0e(t){const e=I0e.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:ms(e[1]),month:ms(e[2],1)-1,day:ms(e[3],1),hour:ms(e[4]),minute:ms(e[5]),second:ms(e[6]),millisecond:e[7]?ms(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:ms(e[10]),minuteOffset:ms(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let S0e=new Date(""),C0e=t=>Object.prototype.toString.call(t)==="[object Date]";class $0 extends hs{constructor(){super({type:"date",check(e){return C0e(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=b0e(e),isNaN(e)?$0.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Hl.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=KI.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=KI.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}$0.INVALID_DATE=S0e;$0.prototype;function x0e(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=el.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Hl.isRef(a)&&a.isSibling?s(a.path,o):kR(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return s0e.array(Array.from(r),n).reverse()}function tD(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function pz(t){return(e,n)=>tD(t,e)-tD(t,n)}const R0e=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Cg(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Cg(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Cg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Cg)}):"optional"in t?t.optional():t}const P0e=(t,e)=>{const n=[...el.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=el.getter(el.join(n),!0)(t);return!!(i&&r in i)};let nD=t=>Object.prototype.toString.call(t)==="[object Object]";function A0e(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const k0e=pz([]);function mz(t){return new gz(t)}class gz extends hs{constructor(e){super({type:"object",check(n){return nD(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=k0e,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let h=s[d],f=d in i;if(h){let p,g=i[d];u.path=(n.path?`${n.path}.`:"")+d,h=h.resolve({value:g,context:n.context,parent:l});let _=h instanceof hs?h.spec:void 0,m=_==null?void 0:_.strict;if(_!=null&&_.strip){c=c||d in i;continue}p=!n.__validating||!m?h.cast(i[d],u):i[d],p!==void 0&&(l[d]=p)}else f&&!o&&(l[d]=i[d]);(f!==d in l||l[d]!==i[d])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!nD(u)){i(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let h=this.fields[d];!h||Hl.isRef(h)||c.push(h.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=x0e(e,n),r._sortErrors=pz(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Cg(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=el.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return P0e(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(R0e)}noUnknown(e=!0,n=QI.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=A0e(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=QI.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(hE.camelCase)}snakeCase(){return this.transformKeys(hE.snakeCase)}constantCase(){return this.transformKeys(e=>hE.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}mz.prototype=gz.prototype;const N0e="_container_1h04x_1",O0e="_dialogTitle_1h04x_23",fE={container:N0e,dialogTitle:O0e},D0e=({onSubmit:t})=>{const e=o_(),n={cardNumber:"",cvv:"",expirationDate:""},r=mz({cardNumber:Sg().matches(/^\d{16}$/,"enter any 16 digits").required("required field"),cvv:Sg().matches(/^\d{3}$/,"enter any 3 digits").required("required field"),expirationDate:Sg().matches(/^\d{2}\/\d{2}$/,`
enter the date in the format 01/01`).required("required field")}),i=Ove({initialValues:n,onSubmit:l=>{localStorage.clear(),e(U9()),o(!0),t(l)},validationSchema:r}),[s,o]=ar.useState(!1),a=()=>{o(!1)};return C.jsx(e_,{className:fE.form,container:!0,justifyContent:"center",children:C.jsx(e_,{item:!0,xs:8,children:C.jsxs("form",{onSubmit:i.handleSubmit,children:[C.jsxs(The,{onClose:a,open:s,children:[C.jsx(jhe,{className:fE.dialogTitle,children:"payment message"}),C.jsx($he,{children:C.jsx("div",{children:"Your order has been successfully paid"})}),C.jsx(Rhe,{children:C.jsx(ss,{autoFocus:!0,color:"primary",onClick:a,children:"CLOSE"})})]}),C.jsxs("div",{className:fE.container,children:[C.jsx(Ja,{error:i.touched.cardNumber&&!!i.errors.cardNumber,helperText:i.touched.cardNumber&&i.errors.cardNumber,label:"Card Number",name:"cardNumber",onChange:i.handleChange,value:i.values.cardNumber,variant:"outlined"}),C.jsx(Ja,{error:i.touched.expirationDate&&!!i.errors.expirationDate,helperText:i.touched.expirationDate&&i.errors.expirationDate,label:"Expiration Date",name:"expirationDate",onChange:i.handleChange,style:{margin:"20px 0 20px 0"},value:i.values.expirationDate,variant:"outlined"}),C.jsx(Ja,{error:i.touched.cvv&&!!i.errors.cvv,helperText:i.touched.cvv&&i.errors.cvv,label:"CVV",name:"cvv",onChange:i.handleChange,value:i.values.cvv,variant:"outlined"}),C.jsx(ss,{color:"primary",type:"submit",variant:"contained",children:"Pay"})]})]})})})},M0e="_error404_1lt3v_1",L0e="_wrapper_1lt3v_6",rD={error404:M0e,wrapper:L0e},$0e="/eShop/assets/404-kMbd88y6.svg",F0e=()=>C.jsx("div",{id:"hw5-page-404",children:C.jsx("div",{className:rD.wrapper,children:C.jsx("img",{alt:"404",className:rD.error404,src:$0e})})}),V0e=({id:t,name:e,photo:n,price:r,quantity:i})=>{const s=o_(),o=Nc(c=>c.cart.items.find(d=>d.id===t)),[a,l]=E.useState(!1);E.useEffect(()=>{i===0&&l(!0)},[i]);const u=()=>{s(o?YL(t):F9({id:t,name:e,photo:n,price:r,quantity:i}))};return C.jsx(Jp,{sx:{marginTop:2},children:C.jsxs(Zp,{children:[C.jsx(Dt,{component:"div",variant:"h5",children:e}),C.jsx(yj,{style:a?{opacity:.5}:{},alt:e,component:"img",height:"250",image:n}),a?C.jsx(Dt,{style:{position:"relative",bottom:"140px"},component:"div",variant:"h5",children:"Not available"}):C.jsx(Dt,{component:"div",variant:"h5"}),a?C.jsx(Dt,{variant:"body1"}):C.jsxs(Dt,{color:"text.secondary",variant:"body1",children:["Price: $",r]}),C.jsx(ss,{disabled:a,onClick:u,variant:"contained",children:"Add to Cart"})]})})},U0e=()=>{const t=Nc(n=>n.product.items),e=Object.values(t);return C.jsx(e_,{container:!0,spacing:2,children:e.map(n=>C.jsx(e_,{item:!0,children:C.jsx(V0e,{id:n.id,name:n.name,photo:n.photo,price:n.price,quantity:n.quantity},n.id)},n.id))})};var NR={},yz={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(yz);var ca=yz.exports,pE={};const B0e=jz(sle);var iD;function da(){return iD||(iD=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=B0e}(pE)),pE}var j0e=ca;Object.defineProperty(NR,"__esModule",{value:!0});var _z=NR.default=void 0,z0e=j0e(da()),sD=C,W0e=(0,z0e.default)([(0,sD.jsx)("path",{d:"M18 11c.7 0 1.37.1 2 .29V9l-8-6-8 6v12h7.68c-.43-.91-.68-1.92-.68-3 0-3.87 3.13-7 7-7z"},"0"),(0,sD.jsx)("path",{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm3 5.5h-2.5V21h-1v-2.5H15v-1h2.5V15h1v2.5H21v1z"},"1")],"AddHome");_z=NR.default=W0e;var OR={},q0e=ca;Object.defineProperty(OR,"__esModule",{value:!0});var vz=OR.default=void 0,H0e=q0e(da()),G0e=C,K0e=(0,H0e.default)((0,G0e.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");vz=OR.default=K0e;var DR={},Q0e=ca;Object.defineProperty(DR,"__esModule",{value:!0});var wz=DR.default=void 0,Y0e=Q0e(da()),X0e=C,J0e=(0,Y0e.default)((0,X0e.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"Payment");wz=DR.default=J0e;var MR={},Z0e=ca;Object.defineProperty(MR,"__esModule",{value:!0});var YI=MR.default=void 0,ewe=Z0e(da()),twe=C,nwe=(0,ewe.default)((0,twe.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");YI=MR.default=nwe;var LR={},rwe=ca;Object.defineProperty(LR,"__esModule",{value:!0});var Ez=LR.default=void 0,iwe=rwe(da()),swe=C,owe=(0,iwe.default)((0,swe.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");Ez=LR.default=owe;const awe="_container_1qpp8_1",lwe={container:awe};var $R={},uwe=ca;Object.defineProperty($R,"__esModule",{value:!0});var Tz=$R.default=void 0,cwe=uwe(da()),dwe=C,hwe=(0,cwe.default)((0,dwe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");Tz=$R.default=hwe;var FR={},fwe=ca;Object.defineProperty(FR,"__esModule",{value:!0});var Iz=FR.default=void 0,pwe=fwe(da()),mwe=C,gwe=(0,pwe.default)((0,mwe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");Iz=FR.default=gwe;var VR={},ywe=ca;Object.defineProperty(VR,"__esModule",{value:!0});var bz=VR.default=void 0,_we=ywe(da()),vwe=C,wwe=(0,_we.default)((0,vwe.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");bz=VR.default=wwe;const Ewe=({id:t,name:e,photo:n,price:r,quantity:i})=>{const s=o_(),o=()=>{s(xP(t))},a=()=>{i>1?s(V9(t)):s(xP(t))},l=()=>{s(YL(t))};return C.jsx(Jp,{children:C.jsxs(Zp,{children:[C.jsx(Dt,{component:"div",variant:"h5",children:e}),C.jsx(yj,{alt:e,component:"img",image:n,style:{height:100,width:100}}),C.jsxs(Dt,{color:"text.secondary",variant:"body1",children:["Price: $",r]}),C.jsxs(Dt,{color:"text.secondary",variant:"body1",children:[C.jsx(ss,{onClick:o,variant:"outlined",children:C.jsx(Iz,{})}),C.jsx(ss,{onClick:a,variant:"text",children:C.jsx(bz,{})}),i,C.jsx(ss,{onClick:l,variant:"text",children:C.jsx(Tz,{})})]})]})})},Twe=()=>{const t=Nc(n=>n.cart.items),e=t.reduce((n,r)=>n+r.price*r.quantity,0);return E.useEffect(()=>{t.length!==0&&localStorage.setItem("cartItems",JSON.stringify(t))},[t]),C.jsx(Jp,{children:C.jsxs(Zp,{children:[t.length>0?C.jsxs(Dt,{component:"div",variant:"h5",children:["Cart",C.jsx(ss,{component:ef,style:{margin:"10px"},to:"/checkout",variant:"contained",children:"Order"})]}):C.jsx(Dt,{component:"div",variant:"h5",children:"Cart is empty"}),t.map(n=>C.jsx(Ewe,{id:n.id,name:n.name,photo:n.photo,price:n.price,quantity:n.quantity},n.id)),C.jsxs(Dt,{color:"text.secondary",variant:"body1",children:["Total: $",e]})]})})},Iwe=()=>{const t=Nc(i=>i.cart.items),e=t.reduce((i,s)=>i+s.price*s.quantity,0),n=qS(),r=()=>{};return C.jsx(Jp,{children:C.jsxs(Zp,{children:[C.jsxs(Dt,{component:"div",variant:"h5",children:["Checkout # ",n]}),t.map(i=>C.jsx("div",{children:C.jsxs(Dt,{component:"div",variant:"body1",children:[i.name," - ",i.quantity,"pcs. - $",i.price]})},i.id)),C.jsxs(Dt,{color:"div",style:{margin:"20px 0"},variant:"h5",children:[C.jsx(ss,{component:ef,disabled:e===0,onClick:r,style:{margin:"0 10px 0 0"},to:"/payment",variant:"contained",children:"Place Order"}),"Total: $",e]})]})})},bwe=nR(C.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle"),Swe=()=>{const[t,e]=ar.useState(null),[n,r]=ar.useState(null),s=Nc(_=>_.cart.items).reduce((_,m)=>_+m.price*m.quantity,0),o=HS(),a=kL();E.useEffect(()=>{o($F())},[o]),E.useEffect(()=>{const _=localStorage.getItem("cartItems");_&&o(B9(JSON.parse(_)))},[o]);const l=_=>{e(_.currentTarget)},u=_=>{r(_.currentTarget)},c=()=>{e(null)},d=()=>{r(null)},h=()=>{a("/"),e(null)},f=()=>{a("/add"),r(null)},p=()=>{a("/cart"),r(null)},g=()=>{a("/checkout"),r(null)};return C.jsxs(_de,{sx:{flexGrow:1},children:[C.jsx(Zle,{position:"fixed",children:C.jsxs(vme,{style:{display:"flex",justifyContent:"space-between"},children:[C.jsxs("div",{children:[C.jsx(WN,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:l,color:"inherit",children:C.jsx(Ez,{})}),C.jsx(VI,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!t,onClose:c,children:C.jsxs(au,{onClick:h,children:[C.jsx(vz,{})," Home"]})}),C.jsx(Dt,{color:"inherit",style:{width:"0px",textDecoration:"none"},variant:"h6",component:ef,to:"/",sx:{flexGrow:1},children:"My Shop"})]}),C.jsxs("div",{children:[C.jsx(ss,{color:"inherit",component:ef,to:"/cart",children:C.jsx(fme,{title:"go to cart",children:C.jsx(YI,{})})}),s?C.jsxs(Dt,{color:"text.secondary",component:"span",variant:"h6",children:["Total: $",s]}):"",C.jsx(WN,{size:"large","aria-label":"account of current user","aria-controls":"user-appbar","aria-haspopup":"true",onClick:u,color:"inherit",children:C.jsx(bwe,{})}),C.jsxs(VI,{id:"user-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!n,onClose:d,children:[C.jsx(au,{onClick:d,children:"Profile"}),C.jsx(au,{onClick:d,children:"My account"}),C.jsxs(au,{onClick:f,children:[C.jsx(_z,{})," Add product"]}),C.jsxs(au,{onClick:p,children:[C.jsx(YI,{})," Cart"]}),C.jsxs(au,{onClick:g,children:[C.jsx(wz,{})," Pay for the order"]})]})]})]})}),C.jsx(she,{className:lwe.container,children:C.jsxs(bW,{children:[C.jsx(ya,{element:C.jsx(U0e,{}),path:"/"}),C.jsx(ya,{element:C.jsx(xme,{}),path:"/add"}),C.jsx(ya,{element:C.jsx(Twe,{}),path:"/cart"}),C.jsx(ya,{element:C.jsx(Iwe,{}),path:"/checkout"}),C.jsx(ya,{element:C.jsx(D0e,{}),path:"/payment"}),C.jsx(ya,{element:C.jsx(F0e,{}),path:"*"})]})})]})},Cwe={apiKey:"AIzaSyD1u4VDvhbnOQvIlTsJd88GrMb0TTyvo7M",appId:"1:1004589233541:web:0185c11193e27aa053c0ec",authDomain:"eshop2-7a876.firebaseapp.com",databaseURL:"https://eshop2-7a876-default-rtdb.firebaseio.com",messagingSenderId:"1004589233541",projectId:"eshop2-7a876",storageBucket:"eshop2-7a876.appspot.com"},Sz=D_(Cwe),XI=CK(Sz),xwe=B7(Sz);i2(document.getElementById("root")).render(C.jsx(P5,{store:Z7,children:C.jsx(AW,{basename:"/eShop/",children:C.jsx(Swe,{})})}))});export default Rwe();
