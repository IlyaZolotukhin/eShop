var Tj=Object.defineProperty;var Ij=(t,e,n)=>e in t?Tj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bj=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var I0=(t,e,n)=>(Ij(t,typeof e!="symbol"?e+"":e,n),n);var g_e=bj((Rr,Pr)=>{function Sj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function zy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Cj(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var aO={exports:{}},Wy={},lO={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=Symbol.for("react.element"),xj=Symbol.for("react.portal"),Rj=Symbol.for("react.fragment"),Pj=Symbol.for("react.strict_mode"),Aj=Symbol.for("react.profiler"),kj=Symbol.for("react.provider"),Nj=Symbol.for("react.context"),Oj=Symbol.for("react.forward_ref"),Dj=Symbol.for("react.suspense"),Mj=Symbol.for("react.memo"),Lj=Symbol.for("react.lazy"),dx=Symbol.iterator;function Fj(t){return t===null||typeof t!="object"?null:(t=dx&&t[dx]||t["@@iterator"],typeof t=="function"?t:null)}var uO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cO=Object.assign,dO={};function Tc(t,e,n){this.props=t,this.context=e,this.refs=dO,this.updater=n||uO}Tc.prototype.isReactComponent={};Tc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hO(){}hO.prototype=Tc.prototype;function CI(t,e,n){this.props=t,this.context=e,this.refs=dO,this.updater=n||uO}var xI=CI.prototype=new hO;xI.constructor=CI;cO(xI,Tc.prototype);xI.isPureReactComponent=!0;var hx=Array.isArray,fO=Object.prototype.hasOwnProperty,RI={current:null},pO={key:!0,ref:!0,__self:!0,__source:!0};function mO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fO.call(e,r)&&!pO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wf,type:t,key:s,ref:o,props:i,_owner:RI.current}}function $j(t,e){return{$$typeof:Wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function PI(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wf}function Vj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fx=/\/+/g;function b0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vj(""+t.key):e.toString(36)}function Nm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wf:case xj:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+b0(o,0):r,hx(i)?(n="",t!=null&&(n=t.replace(fx,"$&/")+"/"),Nm(i,e,n,"",function(u){return u})):i!=null&&(PI(i)&&(i=$j(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hx(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+b0(s,a);o+=Nm(s,e,n,l,i)}else if(l=Fj(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+b0(s,a++),o+=Nm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jp(t,e,n){if(t==null)return t;var r=[],i=0;return Nm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Uj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},Om={transition:null},Bj={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Om,ReactCurrentOwner:RI};De.Children={map:jp,forEach:function(t,e,n){jp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jp(t,function(){e++}),e},toArray:function(t){return jp(t,function(e){return e})||[]},only:function(t){if(!PI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Tc;De.Fragment=Rj;De.Profiler=Aj;De.PureComponent=CI;De.StrictMode=Pj;De.Suspense=Dj;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bj;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=RI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fO.call(e,l)&&!pO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wf,type:t.type,key:i,ref:s,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:Nj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kj,_context:t},t.Consumer=t};De.createElement=mO;De.createFactory=function(t){var e=mO.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:Oj,render:t}};De.isValidElement=PI;De.lazy=function(t){return{$$typeof:Lj,_payload:{_status:-1,_result:t},_init:Uj}};De.memo=function(t,e){return{$$typeof:Mj,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Om.transition;Om.transition={};try{t()}finally{Om.transition=e}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(t,e){return Xn.current.useCallback(t,e)};De.useContext=function(t){return Xn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};De.useEffect=function(t,e){return Xn.current.useEffect(t,e)};De.useId=function(){return Xn.current.useId()};De.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Xn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};De.useRef=function(t){return Xn.current.useRef(t)};De.useState=function(t){return Xn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Xn.current.useTransition()};De.version="18.2.0";lO.exports=De;var E=lO.exports;const Kr=zy(E),Bu=Sj({__proto__:null,default:Kr},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj=E,zj=Symbol.for("react.element"),Wj=Symbol.for("react.fragment"),qj=Object.prototype.hasOwnProperty,Hj=jj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gj={key:!0,ref:!0,__self:!0,__source:!0};function gO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qj.call(e,r)&&!Gj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zj,type:t,key:s,ref:o,props:i,_owner:Hj.current}}Wy.Fragment=Wj;Wy.jsx=gO;Wy.jsxs=gO;aO.exports=Wy;var C=aO.exports,yO={exports:{}},_O={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=E;function Kj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qj=typeof Object.is=="function"?Object.is:Kj,Yj=qf.useSyncExternalStore,Xj=qf.useRef,Jj=qf.useEffect,Zj=qf.useMemo,ez=qf.useDebugValue;_O.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Xj(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Zj(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,Qj(c,f))return p;var g=r(f);return i!==void 0&&i(p,g)?p:(c=f,d=g)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=Yj(t,s[0],s[1]);return Jj(function(){o.hasValue=!0,o.value=a},[a]),ez(a),a};yO.exports=_O;var tz=yO.exports,br="default"in Bu?Kr:Bu,px=Symbol.for("react-redux-context"),mx=typeof globalThis<"u"?globalThis:{};function nz(){if(!br.createContext)return{};const t=mx[px]??(mx[px]=new Map);let e=t.get(br.createContext);return e||(e=br.createContext(null),t.set(br.createContext,e)),e}var bo=nz(),rz=()=>{throw new Error("uSES not initialized!")};function AI(t=bo){return function(){return br.useContext(t)}}var vO=AI(),wO=rz,iz=t=>{wO=t},sz=(t,e)=>t===e;function oz(t=bo){const e=t===bo?vO:AI(t);return function(r,i={}){const{equalityFn:s=sz,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e();br.useRef(!0);const h=br.useCallback({[r.name](p){return r(p)}}[r.name],[r,c,o.stabilityCheck]),f=wO(l.addNestedSub,a.getState,u||a.getState,h,s);return br.useDebugValue(f),f}}var Hf=oz();function az(t){t()}function lz(){let t=null,e=null;return{clear(){t=null,e=null},notify(){az(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var gx={notify(){},get:()=>[]};function uz(t,e){let n,r=gx,i=0,s=!1;function o(g){c();const v=r.subscribe(g);let m=!1;return()=>{m||(m=!0,v(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=lz())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gx)}function h(){s||(s=!0,c())}function f(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>r};return p}var cz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dz=cz?br.useLayoutEffect:br.useEffect;function hz({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=br.useMemo(()=>{const u=uz(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=br.useMemo(()=>t.getState(),[t]);dz(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||bo;return br.createElement(l.Provider,{value:o},n)}var fz=hz;function EO(t=bo){const e=t===bo?vO:AI(t);return function(){const{store:r}=e();return r}}var pz=EO();function mz(t=bo){const e=t===bo?pz:EO(t);return function(){return e().dispatch}}var qy=mz();iz(tz.useSyncExternalStoreWithSelector);var TO={exports:{}},Vr={},IO={exports:{}},bO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,U){var Y=N.length;N.push(U);e:for(;0<Y;){var ge=Y-1>>>1,ce=N[ge];if(0<i(ce,U))N[ge]=U,N[Y]=ce,Y=ge;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var U=N[0],Y=N.pop();if(Y!==U){N[0]=Y;e:for(var ge=0,ce=N.length,Se=ce>>>1;ge<Se;){var ue=2*(ge+1)-1,ye=N[ue],Ee=ue+1,qe=N[Ee];if(0>i(ye,Y))Ee<ce&&0>i(qe,ye)?(N[ge]=qe,N[Ee]=Y,ge=Ee):(N[ge]=ye,N[ue]=Y,ge=ue);else if(Ee<ce&&0>i(qe,Y))N[ge]=qe,N[Ee]=Y,ge=Ee;else break e}}return U}function i(N,U){var Y=N.sortIndex-U.sortIndex;return Y!==0?Y:N.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=N)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function w(N){if(g=!1,_(N),!p)if(n(l)!==null)p=!0,B(I);else{var U=n(u);U!==null&&K(w,U.startTime-N)}}function I(N,U){p=!1,g&&(g=!1,m(R),R=-1),f=!0;var Y=h;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||N&&!D());){var ge=d.callback;if(typeof ge=="function"){d.callback=null,h=d.priorityLevel;var ce=ge(d.expirationTime<=U);U=t.unstable_now(),typeof ce=="function"?d.callback=ce:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var Se=!0;else{var ue=n(u);ue!==null&&K(w,ue.startTime-U),Se=!1}return Se}finally{d=null,h=Y,f=!1}}var b=!1,T=null,R=-1,O=5,x=-1;function D(){return!(t.unstable_now()-x<O)}function z(){if(T!==null){var N=t.unstable_now();x=N;var U=!0;try{U=T(!0,N)}finally{U?M():(b=!1,T=null)}}else b=!1}var M;if(typeof y=="function")M=function(){y(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,V=$.port2;$.port1.onmessage=z,M=function(){V.postMessage(null)}}else M=function(){v(z,0)};function B(N){T=N,b||(b=!0,M())}function K(N,U){R=v(function(){N(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,B(I))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var Y=h;h=U;try{return N()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,U){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=h;h=N;try{return U()}finally{h=Y}},t.unstable_scheduleCallback=function(N,U,Y){var ge=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,N){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Y+ce,N={id:c++,callback:U,priorityLevel:N,startTime:Y,expirationTime:ce,sortIndex:-1},Y>ge?(N.sortIndex=Y,e(u,N),n(l)===null&&N===n(u)&&(g?(m(R),R=-1):g=!0,K(w,Y-ge))):(N.sortIndex=ce,e(l,N),p||f||(p=!0,B(I))),N},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(N){var U=h;return function(){var Y=h;h=U;try{return N.apply(this,arguments)}finally{h=Y}}}})(bO);IO.exports=bO;var gz=IO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO=E,Or=gz;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CO=new Set,Th={};function yl(t,e){ju(t,e),ju(t+"Capture",e)}function ju(t,e){for(Th[t]=e,t=0;t<e.length;t++)CO.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qw=Object.prototype.hasOwnProperty,yz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yx={},_x={};function _z(t){return Qw.call(_x,t)?!0:Qw.call(yx,t)?!1:yz.test(t)?_x[t]=!0:(yx[t]=!0,!1)}function vz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wz(t,e,n,r){if(e===null||typeof e>"u"||vz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new Jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new Jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new Jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new Jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new Jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new Jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new Jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new Jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new Jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kI=/[\-:]([a-z])/g;function NI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kI,NI);Rn[e]=new Jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kI,NI);Rn[e]=new Jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kI,NI);Rn[e]=new Jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function OI(t,e,n,r){var i=Rn.hasOwnProperty(e)?Rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wz(e,n,i,r)&&(n=null),r||i===null?_z(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ns=SO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zp=Symbol.for("react.element"),ou=Symbol.for("react.portal"),au=Symbol.for("react.fragment"),DI=Symbol.for("react.strict_mode"),Yw=Symbol.for("react.profiler"),xO=Symbol.for("react.provider"),RO=Symbol.for("react.context"),MI=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Jw=Symbol.for("react.suspense_list"),LI=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),PO=Symbol.for("react.offscreen"),vx=Symbol.iterator;function Zc(t){return t===null||typeof t!="object"?null:(t=vx&&t[vx]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,S0;function Ad(t){if(S0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);S0=e&&e[1]||""}return`
`+S0+t}var C0=!1;function x0(t,e){if(!t||C0)return"";C0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{C0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ad(t):""}function Ez(t){switch(t.tag){case 5:return Ad(t.type);case 16:return Ad("Lazy");case 13:return Ad("Suspense");case 19:return Ad("SuspenseList");case 0:case 2:case 15:return t=x0(t.type,!1),t;case 11:return t=x0(t.type.render,!1),t;case 1:return t=x0(t.type,!0),t;default:return""}}function Zw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case au:return"Fragment";case ou:return"Portal";case Yw:return"Profiler";case DI:return"StrictMode";case Xw:return"Suspense";case Jw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RO:return(t.displayName||"Context")+".Consumer";case xO:return(t._context.displayName||"Context")+".Provider";case MI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case LI:return e=t.displayName||null,e!==null?e:Zw(t.type)||"Memo";case Ks:e=t._payload,t=t._init;try{return Zw(t(e))}catch{}}return null}function Tz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zw(e);case 8:return e===DI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function So(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Iz(t){var e=AO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wp(t){t._valueTracker||(t._valueTracker=Iz(t))}function kO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eE(t,e){var n=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=So(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NO(t,e){e=e.checked,e!=null&&OI(t,"checked",e,!1)}function tE(t,e){NO(t,e);var n=So(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nE(t,e.type,n):e.hasOwnProperty("defaultValue")&&nE(t,e.type,So(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ex(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nE(t,e,n){(e!=="number"||hg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kd=Array.isArray;function Tu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+So(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(kd(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:So(n)}}function OO(t,e){var n=So(e.value),r=So(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ix(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function DO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?DO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qp,MO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qp=qp||document.createElement("div"),qp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ih(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bz=["Webkit","ms","Moz","O"];Object.keys(Hd).forEach(function(t){bz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hd[e]=Hd[t]})});function LO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hd.hasOwnProperty(t)&&Hd[t]?(""+e).trim():e+"px"}function FO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=LO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Sz=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sE(t,e){if(e){if(Sz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function oE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aE=null;function FI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lE=null,Iu=null,bu=null;function bx(t){if(t=Qf(t)){if(typeof lE!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Yy(e),lE(t.stateNode,t.type,e))}}function $O(t){Iu?bu?bu.push(t):bu=[t]:Iu=t}function VO(){if(Iu){var t=Iu,e=bu;if(bu=Iu=null,bx(t),e)for(t=0;t<e.length;t++)bx(e[t])}}function UO(t,e){return t(e)}function BO(){}var R0=!1;function jO(t,e,n){if(R0)return t(e,n);R0=!0;try{return UO(t,e,n)}finally{R0=!1,(Iu!==null||bu!==null)&&(BO(),VO())}}function bh(t,e){var n=t.stateNode;if(n===null)return null;var r=Yy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var uE=!1;if(Es)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){uE=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{uE=!1}function Cz(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Gd=!1,fg=null,pg=!1,cE=null,xz={onError:function(t){Gd=!0,fg=t}};function Rz(t,e,n,r,i,s,o,a,l){Gd=!1,fg=null,Cz.apply(xz,arguments)}function Pz(t,e,n,r,i,s,o,a,l){if(Rz.apply(this,arguments),Gd){if(Gd){var u=fg;Gd=!1,fg=null}else throw Error(j(198));pg||(pg=!0,cE=u)}}function _l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sx(t){if(_l(t)!==t)throw Error(j(188))}function Az(t){var e=t.alternate;if(!e){if(e=_l(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sx(i),t;if(s===r)return Sx(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function WO(t){return t=Az(t),t!==null?qO(t):null}function qO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qO(t);if(e!==null)return e;t=t.sibling}return null}var HO=Or.unstable_scheduleCallback,Cx=Or.unstable_cancelCallback,kz=Or.unstable_shouldYield,Nz=Or.unstable_requestPaint,Ut=Or.unstable_now,Oz=Or.unstable_getCurrentPriorityLevel,$I=Or.unstable_ImmediatePriority,GO=Or.unstable_UserBlockingPriority,mg=Or.unstable_NormalPriority,Dz=Or.unstable_LowPriority,KO=Or.unstable_IdlePriority,Hy=null,Ki=null;function Mz(t){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(Hy,t,void 0,(t.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:$z,Lz=Math.log,Fz=Math.LN2;function $z(t){return t>>>=0,t===0?32:31-(Lz(t)/Fz|0)|0}var Hp=64,Gp=4194304;function Nd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Nd(a):(s&=o,s!==0&&(r=Nd(s)))}else o=n&~i,o!==0?r=Nd(o):s!==0&&(r=Nd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vi(e),i=1<<n,r|=t[n],e&=~i;return r}function Vz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Vz(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function dE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QO(){var t=Hp;return Hp<<=1,!(Hp&4194240)&&(Hp=64),t}function P0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vi(e),t[e]=n}function Bz(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function VI(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ze=0;function YO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XO,UI,JO,ZO,eD,hE=!1,Kp=[],lo=null,uo=null,co=null,Sh=new Map,Ch=new Map,Ys=[],jz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xx(t,e){switch(t){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Sh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(e.pointerId)}}function td(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qf(e),e!==null&&UI(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zz(t,e,n,r,i){switch(e){case"focusin":return lo=td(lo,t,e,n,r,i),!0;case"dragenter":return uo=td(uo,t,e,n,r,i),!0;case"mouseover":return co=td(co,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sh.set(s,td(Sh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ch.set(s,td(Ch.get(s)||null,t,e,n,r,i)),!0}return!1}function tD(t){var e=Ta(t.target);if(e!==null){var n=_l(e);if(n!==null){if(e=n.tag,e===13){if(e=zO(n),e!==null){t.blockedOn=e,eD(t.priority,function(){JO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);aE=r,n.target.dispatchEvent(r),aE=null}else return e=Qf(n),e!==null&&UI(e),t.blockedOn=n,!1;e.shift()}return!0}function Rx(t,e,n){Dm(t)&&n.delete(e)}function Wz(){hE=!1,lo!==null&&Dm(lo)&&(lo=null),uo!==null&&Dm(uo)&&(uo=null),co!==null&&Dm(co)&&(co=null),Sh.forEach(Rx),Ch.forEach(Rx)}function nd(t,e){t.blockedOn===e&&(t.blockedOn=null,hE||(hE=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,Wz)))}function xh(t){function e(i){return nd(i,t)}if(0<Kp.length){nd(Kp[0],t);for(var n=1;n<Kp.length;n++){var r=Kp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lo!==null&&nd(lo,t),uo!==null&&nd(uo,t),co!==null&&nd(co,t),Sh.forEach(e),Ch.forEach(e),n=0;n<Ys.length;n++)r=Ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)tD(n),n.blockedOn===null&&Ys.shift()}var Su=Ns.ReactCurrentBatchConfig,yg=!0;function qz(t,e,n,r){var i=Ze,s=Su.transition;Su.transition=null;try{Ze=1,BI(t,e,n,r)}finally{Ze=i,Su.transition=s}}function Hz(t,e,n,r){var i=Ze,s=Su.transition;Su.transition=null;try{Ze=4,BI(t,e,n,r)}finally{Ze=i,Su.transition=s}}function BI(t,e,n,r){if(yg){var i=fE(t,e,n,r);if(i===null)V0(t,e,r,_g,n),xx(t,r);else if(zz(i,t,e,n,r))r.stopPropagation();else if(xx(t,r),e&4&&-1<jz.indexOf(t)){for(;i!==null;){var s=Qf(i);if(s!==null&&XO(s),s=fE(t,e,n,r),s===null&&V0(t,e,r,_g,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else V0(t,e,r,null,n)}}var _g=null;function fE(t,e,n,r){if(_g=null,t=FI(r),t=Ta(t),t!==null)if(e=_l(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _g=t,null}function nD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oz()){case $I:return 1;case GO:return 4;case mg:case Dz:return 16;case KO:return 536870912;default:return 16}default:return 16}}var eo=null,jI=null,Mm=null;function rD(){if(Mm)return Mm;var t,e=jI,n=e.length,r,i="value"in eo?eo.value:eo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Mm=i.slice(t,1<r?1-r:void 0)}function Lm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qp(){return!0}function Px(){return!1}function Ur(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qp:Px,this.isPropagationStopped=Px,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qp)},persist:function(){},isPersistent:Qp}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zI=Ur(Ic),Kf=xt({},Ic,{view:0,detail:0}),Gz=Ur(Kf),A0,k0,rd,Gy=xt({},Kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rd&&(rd&&t.type==="mousemove"?(A0=t.screenX-rd.screenX,k0=t.screenY-rd.screenY):k0=A0=0,rd=t),A0)},movementY:function(t){return"movementY"in t?t.movementY:k0}}),Ax=Ur(Gy),Kz=xt({},Gy,{dataTransfer:0}),Qz=Ur(Kz),Yz=xt({},Kf,{relatedTarget:0}),N0=Ur(Yz),Xz=xt({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),Jz=Ur(Xz),Zz=xt({},Ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e5=Ur(Zz),t5=xt({},Ic,{data:0}),kx=Ur(t5),n5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=i5[t])?!!e[t]:!1}function WI(){return s5}var o5=xt({},Kf,{key:function(t){if(t.key){var e=n5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WI,charCode:function(t){return t.type==="keypress"?Lm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a5=Ur(o5),l5=xt({},Gy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nx=Ur(l5),u5=xt({},Kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WI}),c5=Ur(u5),d5=xt({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),h5=Ur(d5),f5=xt({},Gy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p5=Ur(f5),m5=[9,13,27,32],qI=Es&&"CompositionEvent"in window,Kd=null;Es&&"documentMode"in document&&(Kd=document.documentMode);var g5=Es&&"TextEvent"in window&&!Kd,iD=Es&&(!qI||Kd&&8<Kd&&11>=Kd),Ox=" ",Dx=!1;function sD(t,e){switch(t){case"keyup":return m5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lu=!1;function y5(t,e){switch(t){case"compositionend":return oD(e);case"keypress":return e.which!==32?null:(Dx=!0,Ox);case"textInput":return t=e.data,t===Ox&&Dx?null:t;default:return null}}function _5(t,e){if(lu)return t==="compositionend"||!qI&&sD(t,e)?(t=rD(),Mm=jI=eo=null,lu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iD&&e.locale!=="ko"?null:e.data;default:return null}}var v5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v5[t.type]:e==="textarea"}function aD(t,e,n,r){$O(r),e=vg(e,"onChange"),0<e.length&&(n=new zI("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qd=null,Rh=null;function w5(t){_D(t,0)}function Ky(t){var e=du(t);if(kO(e))return t}function E5(t,e){if(t==="change")return e}var lD=!1;if(Es){var O0;if(Es){var D0="oninput"in document;if(!D0){var Lx=document.createElement("div");Lx.setAttribute("oninput","return;"),D0=typeof Lx.oninput=="function"}O0=D0}else O0=!1;lD=O0&&(!document.documentMode||9<document.documentMode)}function Fx(){Qd&&(Qd.detachEvent("onpropertychange",uD),Rh=Qd=null)}function uD(t){if(t.propertyName==="value"&&Ky(Rh)){var e=[];aD(e,Rh,t,FI(t)),jO(w5,e)}}function T5(t,e,n){t==="focusin"?(Fx(),Qd=e,Rh=n,Qd.attachEvent("onpropertychange",uD)):t==="focusout"&&Fx()}function I5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ky(Rh)}function b5(t,e){if(t==="click")return Ky(e)}function S5(t,e){if(t==="input"||t==="change")return Ky(e)}function C5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ii=typeof Object.is=="function"?Object.is:C5;function Ph(t,e){if(Ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qw.call(e,i)||!Ii(t[i],e[i]))return!1}return!0}function $x(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vx(t,e){var n=$x(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$x(n)}}function cD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dD(){for(var t=window,e=hg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hg(t.document)}return e}function HI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x5(t){var e=dD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cD(n.ownerDocument.documentElement,n)){if(r!==null&&HI(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Vx(n,s);var o=Vx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R5=Es&&"documentMode"in document&&11>=document.documentMode,uu=null,pE=null,Yd=null,mE=!1;function Ux(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mE||uu==null||uu!==hg(r)||(r=uu,"selectionStart"in r&&HI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yd&&Ph(Yd,r)||(Yd=r,r=vg(pE,"onSelect"),0<r.length&&(e=new zI("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=uu)))}function Yp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cu={animationend:Yp("Animation","AnimationEnd"),animationiteration:Yp("Animation","AnimationIteration"),animationstart:Yp("Animation","AnimationStart"),transitionend:Yp("Transition","TransitionEnd")},M0={},hD={};Es&&(hD=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function Qy(t){if(M0[t])return M0[t];if(!cu[t])return t;var e=cu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hD)return M0[t]=e[n];return t}var fD=Qy("animationend"),pD=Qy("animationiteration"),mD=Qy("animationstart"),gD=Qy("transitionend"),yD=new Map,Bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(t,e){yD.set(t,e),yl(e,[t])}for(var L0=0;L0<Bx.length;L0++){var F0=Bx[L0],P5=F0.toLowerCase(),A5=F0[0].toUpperCase()+F0.slice(1);qo(P5,"on"+A5)}qo(fD,"onAnimationEnd");qo(pD,"onAnimationIteration");qo(mD,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(gD,"onTransitionEnd");ju("onMouseEnter",["mouseout","mouseover"]);ju("onMouseLeave",["mouseout","mouseover"]);ju("onPointerEnter",["pointerout","pointerover"]);ju("onPointerLeave",["pointerout","pointerover"]);yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Od));function jx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pz(r,e,void 0,t),t.currentTarget=null}function _D(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jx(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jx(i,a,u),s=l}}}if(pg)throw t=cE,pg=!1,cE=null,t}function ct(t,e){var n=e[wE];n===void 0&&(n=e[wE]=new Set);var r=t+"__bubble";n.has(r)||(vD(e,t,2,!1),n.add(r))}function $0(t,e,n){var r=0;e&&(r|=4),vD(n,t,r,e)}var Xp="_reactListening"+Math.random().toString(36).slice(2);function Ah(t){if(!t[Xp]){t[Xp]=!0,CO.forEach(function(n){n!=="selectionchange"&&(k5.has(n)||$0(n,!1,t),$0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xp]||(e[Xp]=!0,$0("selectionchange",!1,e))}}function vD(t,e,n,r){switch(nD(e)){case 1:var i=qz;break;case 4:i=Hz;break;default:i=BI}n=i.bind(null,e,n,t),i=void 0,!uE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function V0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ta(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}jO(function(){var u=s,c=FI(n),d=[];e:{var h=yD.get(t);if(h!==void 0){var f=zI,p=t;switch(t){case"keypress":if(Lm(n)===0)break e;case"keydown":case"keyup":f=a5;break;case"focusin":p="focus",f=N0;break;case"focusout":p="blur",f=N0;break;case"beforeblur":case"afterblur":f=N0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Qz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=c5;break;case fD:case pD:case mD:f=Jz;break;case gD:f=h5;break;case"scroll":f=Gz;break;case"wheel":f=p5;break;case"copy":case"cut":case"paste":f=e5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Nx}var g=(e&4)!==0,v=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,_;y!==null;){_=y;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,m!==null&&(w=bh(y,m),w!=null&&g.push(kh(y,w,_)))),v)break;y=y.return}0<g.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==aE&&(p=n.relatedTarget||n.fromElement)&&(Ta(p)||p[Ts]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Ta(p):null,p!==null&&(v=_l(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=Ax,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Nx,w="onPointerLeave",m="onPointerEnter",y="pointer"),v=f==null?h:du(f),_=p==null?h:du(p),h=new g(w,y+"leave",f,n,c),h.target=v,h.relatedTarget=_,w=null,Ta(c)===u&&(g=new g(m,y+"enter",p,n,c),g.target=_,g.relatedTarget=v,w=g),v=w,f&&p)t:{for(g=f,m=p,y=0,_=g;_;_=Vl(_))y++;for(_=0,w=m;w;w=Vl(w))_++;for(;0<y-_;)g=Vl(g),y--;for(;0<_-y;)m=Vl(m),_--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Vl(g),m=Vl(m)}g=null}else g=null;f!==null&&zx(d,h,f,g,!1),p!==null&&v!==null&&zx(d,v,p,g,!0)}}e:{if(h=u?du(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=E5;else if(Mx(h))if(lD)I=S5;else{I=I5;var b=T5}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=b5);if(I&&(I=I(t,u))){aD(d,I,n,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&nE(h,"number",h.value)}switch(b=u?du(u):window,t){case"focusin":(Mx(b)||b.contentEditable==="true")&&(uu=b,pE=u,Yd=null);break;case"focusout":Yd=pE=uu=null;break;case"mousedown":mE=!0;break;case"contextmenu":case"mouseup":case"dragend":mE=!1,Ux(d,n,c);break;case"selectionchange":if(R5)break;case"keydown":case"keyup":Ux(d,n,c)}var T;if(qI)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else lu?sD(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(iD&&n.locale!=="ko"&&(lu||R!=="onCompositionStart"?R==="onCompositionEnd"&&lu&&(T=rD()):(eo=c,jI="value"in eo?eo.value:eo.textContent,lu=!0)),b=vg(u,R),0<b.length&&(R=new kx(R,t,null,n,c),d.push({event:R,listeners:b}),T?R.data=T:(T=oD(n),T!==null&&(R.data=T)))),(T=g5?y5(t,n):_5(t,n))&&(u=vg(u,"onBeforeInput"),0<u.length&&(c=new kx("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}_D(d,e)})}function kh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bh(t,n),s!=null&&r.unshift(kh(t,s,i)),s=bh(t,e),s!=null&&r.push(kh(t,s,i))),t=t.return}return r}function Vl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=bh(n,s),l!=null&&o.unshift(kh(n,l,a))):i||(l=bh(n,s),l!=null&&o.push(kh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var N5=/\r\n?/g,O5=/\u0000|\uFFFD/g;function Wx(t){return(typeof t=="string"?t:""+t).replace(N5,`
`).replace(O5,"")}function Jp(t,e,n){if(e=Wx(e),Wx(t)!==e&&n)throw Error(j(425))}function wg(){}var gE=null,yE=null;function _E(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vE=typeof setTimeout=="function"?setTimeout:void 0,D5=typeof clearTimeout=="function"?clearTimeout:void 0,qx=typeof Promise=="function"?Promise:void 0,M5=typeof queueMicrotask=="function"?queueMicrotask:typeof qx<"u"?function(t){return qx.resolve(null).then(t).catch(L5)}:vE;function L5(t){setTimeout(function(){throw t})}function U0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xh(e)}function ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bc=Math.random().toString(36).slice(2),Li="__reactFiber$"+bc,Nh="__reactProps$"+bc,Ts="__reactContainer$"+bc,wE="__reactEvents$"+bc,F5="__reactListeners$"+bc,$5="__reactHandles$"+bc;function Ta(t){var e=t[Li];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ts]||n[Li]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hx(t);t!==null;){if(n=t[Li])return n;t=Hx(t)}return e}t=n,n=t.parentNode}return null}function Qf(t){return t=t[Li]||t[Ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function du(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Yy(t){return t[Nh]||null}var EE=[],hu=-1;function Ho(t){return{current:t}}function mt(t){0>hu||(t.current=EE[hu],EE[hu]=null,hu--)}function lt(t,e){hu++,EE[hu]=t.current,t.current=e}var Co={},Vn=Ho(Co),ar=Ho(!1),qa=Co;function zu(t,e){var n=t.type.contextTypes;if(!n)return Co;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lr(t){return t=t.childContextTypes,t!=null}function Eg(){mt(ar),mt(Vn)}function Gx(t,e,n){if(Vn.current!==Co)throw Error(j(168));lt(Vn,e),lt(ar,n)}function wD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,Tz(t)||"Unknown",i));return xt({},n,r)}function Tg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Co,qa=Vn.current,lt(Vn,t),lt(ar,ar.current),!0}function Kx(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=wD(t,e,qa),r.__reactInternalMemoizedMergedChildContext=t,mt(ar),mt(Vn),lt(Vn,t)):mt(ar),lt(ar,n)}var us=null,Xy=!1,B0=!1;function ED(t){us===null?us=[t]:us.push(t)}function V5(t){Xy=!0,ED(t)}function Go(){if(!B0&&us!==null){B0=!0;var t=0,e=Ze;try{var n=us;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}us=null,Xy=!1}catch(i){throw us!==null&&(us=us.slice(t+1)),HO($I,Go),i}finally{Ze=e,B0=!1}}return null}var fu=[],pu=0,Ig=null,bg=0,Wr=[],qr=0,Ha=null,ds=1,hs="";function oa(t,e){fu[pu++]=bg,fu[pu++]=Ig,Ig=t,bg=e}function TD(t,e,n){Wr[qr++]=ds,Wr[qr++]=hs,Wr[qr++]=Ha,Ha=t;var r=ds;t=hs;var i=32-vi(r)-1;r&=~(1<<i),n+=1;var s=32-vi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ds=1<<32-vi(e)+i|n<<i|r,hs=s+t}else ds=1<<s|n<<i|r,hs=t}function GI(t){t.return!==null&&(oa(t,1),TD(t,1,0))}function KI(t){for(;t===Ig;)Ig=fu[--pu],fu[pu]=null,bg=fu[--pu],fu[pu]=null;for(;t===Ha;)Ha=Wr[--qr],Wr[qr]=null,hs=Wr[--qr],Wr[qr]=null,ds=Wr[--qr],Wr[qr]=null}var Ar=null,Sr=null,vt=!1,fi=null;function ID(t,e){var n=Qr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ar=t,Sr=ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ar=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ha!==null?{id:ds,overflow:hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ar=t,Sr=null,!0):!1;default:return!1}}function TE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function IE(t){if(vt){var e=Sr;if(e){var n=e;if(!Qx(t,e)){if(TE(t))throw Error(j(418));e=ho(n.nextSibling);var r=Ar;e&&Qx(t,e)?ID(r,n):(t.flags=t.flags&-4097|2,vt=!1,Ar=t)}}else{if(TE(t))throw Error(j(418));t.flags=t.flags&-4097|2,vt=!1,Ar=t}}}function Yx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ar=t}function Zp(t){if(t!==Ar)return!1;if(!vt)return Yx(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_E(t.type,t.memoizedProps)),e&&(e=Sr)){if(TE(t))throw bD(),Error(j(418));for(;e;)ID(t,e),e=ho(e.nextSibling)}if(Yx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=ho(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Ar?ho(t.stateNode.nextSibling):null;return!0}function bD(){for(var t=Sr;t;)t=ho(t.nextSibling)}function Wu(){Sr=Ar=null,vt=!1}function QI(t){fi===null?fi=[t]:fi.push(t)}var U5=Ns.ReactCurrentBatchConfig;function di(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Sg=Ho(null),Cg=null,mu=null,YI=null;function XI(){YI=mu=Cg=null}function JI(t){var e=Sg.current;mt(Sg),t._currentValue=e}function bE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cu(t,e){Cg=t,YI=mu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rr=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(YI!==t)if(t={context:t,memoizedValue:e,next:null},mu===null){if(Cg===null)throw Error(j(308));mu=t,Cg.dependencies={lanes:0,firstContext:t}}else mu=mu.next=t;return e}var Ia=null;function ZI(t){Ia===null?Ia=[t]:Ia.push(t)}function SD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ZI(e)):(n.next=i.next,i.next=n),e.interleaved=n,Is(t,r)}function Is(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qs=!1;function eb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Is(t,n)}return i=r.interleaved,i===null?(e.next=e,ZI(r)):(e.next=i.next,i.next=e),r.interleaved=e,Is(t,n)}function Fm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VI(t,n)}}function Xx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xg(t,e,n,r){var i=t.updateQueue;Qs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=xt({},d,h);break e;case 2:Qs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ka|=o,t.lanes=o,t.memoizedState=d}}function Jx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var xD=new SO.Component().refs;function SE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jy={isMounted:function(t){return(t=t._reactInternals)?_l(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qn(),i=mo(t),s=ys(r,i);s.payload=e,n!=null&&(s.callback=n),e=fo(t,s,i),e!==null&&(wi(e,t,i,r),Fm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qn(),i=mo(t),s=ys(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=fo(t,s,i),e!==null&&(wi(e,t,i,r),Fm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qn(),r=mo(t),i=ys(n,r);i.tag=2,e!=null&&(i.callback=e),e=fo(t,i,r),e!==null&&(wi(e,t,r,n),Fm(e,t,r))}};function Zx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ph(n,r)||!Ph(i,s):!0}function RD(t,e,n){var r=!1,i=Co,s=e.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(i=lr(e)?qa:Vn.current,r=e.contextTypes,s=(r=r!=null)?zu(t,i):Co),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function eR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jy.enqueueReplaceState(e,e.state,null)}function CE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=xD,eb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zr(s):(s=lr(e)?qa:Vn.current,i.context=zu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(SE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jy.enqueueReplaceState(i,i.state,null),xg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function id(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===xD&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function em(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tR(t){var e=t._init;return e(t._payload)}function PD(t){function e(m,y){if(t){var _=m.deletions;_===null?(m.deletions=[y],m.flags|=16):_.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=go(m,y),m.index=0,m.sibling=null,m}function s(m,y,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<y?(m.flags|=2,y):_):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,_,w){return y===null||y.tag!==6?(y=K0(_,m.mode,w),y.return=m,y):(y=i(y,_),y.return=m,y)}function l(m,y,_,w){var I=_.type;return I===au?c(m,y,_.props.children,w,_.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ks&&tR(I)===y.type)?(w=i(y,_.props),w.ref=id(m,y,_),w.return=m,w):(w=zm(_.type,_.key,_.props,null,m.mode,w),w.ref=id(m,y,_),w.return=m,w)}function u(m,y,_,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Q0(_,m.mode,w),y.return=m,y):(y=i(y,_.children||[]),y.return=m,y)}function c(m,y,_,w,I){return y===null||y.tag!==7?(y=La(_,m.mode,w,I),y.return=m,y):(y=i(y,_),y.return=m,y)}function d(m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=K0(""+y,m.mode,_),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zp:return _=zm(y.type,y.key,y.props,null,m.mode,_),_.ref=id(m,null,y),_.return=m,_;case ou:return y=Q0(y,m.mode,_),y.return=m,y;case Ks:var w=y._init;return d(m,w(y._payload),_)}if(kd(y)||Zc(y))return y=La(y,m.mode,_,null),y.return=m,y;em(m,y)}return null}function h(m,y,_,w){var I=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(m,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zp:return _.key===I?l(m,y,_,w):null;case ou:return _.key===I?u(m,y,_,w):null;case Ks:return I=_._init,h(m,y,I(_._payload),w)}if(kd(_)||Zc(_))return I!==null?null:c(m,y,_,w,null);em(m,_)}return null}function f(m,y,_,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(_)||null,a(y,m,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zp:return m=m.get(w.key===null?_:w.key)||null,l(y,m,w,I);case ou:return m=m.get(w.key===null?_:w.key)||null,u(y,m,w,I);case Ks:var b=w._init;return f(m,y,_,b(w._payload),I)}if(kd(w)||Zc(w))return m=m.get(_)||null,c(y,m,w,I,null);em(y,w)}return null}function p(m,y,_,w){for(var I=null,b=null,T=y,R=y=0,O=null;T!==null&&R<_.length;R++){T.index>R?(O=T,T=null):O=T.sibling;var x=h(m,T,_[R],w);if(x===null){T===null&&(T=O);break}t&&T&&x.alternate===null&&e(m,T),y=s(x,y,R),b===null?I=x:b.sibling=x,b=x,T=O}if(R===_.length)return n(m,T),vt&&oa(m,R),I;if(T===null){for(;R<_.length;R++)T=d(m,_[R],w),T!==null&&(y=s(T,y,R),b===null?I=T:b.sibling=T,b=T);return vt&&oa(m,R),I}for(T=r(m,T);R<_.length;R++)O=f(T,m,R,_[R],w),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?R:O.key),y=s(O,y,R),b===null?I=O:b.sibling=O,b=O);return t&&T.forEach(function(D){return e(m,D)}),vt&&oa(m,R),I}function g(m,y,_,w){var I=Zc(_);if(typeof I!="function")throw Error(j(150));if(_=I.call(_),_==null)throw Error(j(151));for(var b=I=null,T=y,R=y=0,O=null,x=_.next();T!==null&&!x.done;R++,x=_.next()){T.index>R?(O=T,T=null):O=T.sibling;var D=h(m,T,x.value,w);if(D===null){T===null&&(T=O);break}t&&T&&D.alternate===null&&e(m,T),y=s(D,y,R),b===null?I=D:b.sibling=D,b=D,T=O}if(x.done)return n(m,T),vt&&oa(m,R),I;if(T===null){for(;!x.done;R++,x=_.next())x=d(m,x.value,w),x!==null&&(y=s(x,y,R),b===null?I=x:b.sibling=x,b=x);return vt&&oa(m,R),I}for(T=r(m,T);!x.done;R++,x=_.next())x=f(T,m,R,x.value,w),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?R:x.key),y=s(x,y,R),b===null?I=x:b.sibling=x,b=x);return t&&T.forEach(function(z){return e(m,z)}),vt&&oa(m,R),I}function v(m,y,_,w){if(typeof _=="object"&&_!==null&&_.type===au&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case zp:e:{for(var I=_.key,b=y;b!==null;){if(b.key===I){if(I=_.type,I===au){if(b.tag===7){n(m,b.sibling),y=i(b,_.props.children),y.return=m,m=y;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ks&&tR(I)===b.type){n(m,b.sibling),y=i(b,_.props),y.ref=id(m,b,_),y.return=m,m=y;break e}n(m,b);break}else e(m,b);b=b.sibling}_.type===au?(y=La(_.props.children,m.mode,w,_.key),y.return=m,m=y):(w=zm(_.type,_.key,_.props,null,m.mode,w),w.ref=id(m,y,_),w.return=m,m=w)}return o(m);case ou:e:{for(b=_.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(m,y.sibling),y=i(y,_.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=Q0(_,m.mode,w),y.return=m,m=y}return o(m);case Ks:return b=_._init,v(m,y,b(_._payload),w)}if(kd(_))return p(m,y,_,w);if(Zc(_))return g(m,y,_,w);em(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,_),y.return=m,m=y):(n(m,y),y=K0(_,m.mode,w),y.return=m,m=y),o(m)):n(m,y)}return v}var qu=PD(!0),AD=PD(!1),Yf={},Qi=Ho(Yf),Oh=Ho(Yf),Dh=Ho(Yf);function ba(t){if(t===Yf)throw Error(j(174));return t}function tb(t,e){switch(lt(Dh,e),lt(Oh,t),lt(Qi,Yf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iE(e,t)}mt(Qi),lt(Qi,e)}function Hu(){mt(Qi),mt(Oh),mt(Dh)}function kD(t){ba(Dh.current);var e=ba(Qi.current),n=iE(e,t.type);e!==n&&(lt(Oh,t),lt(Qi,n))}function nb(t){Oh.current===t&&(mt(Qi),mt(Oh))}var bt=Ho(0);function Rg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var j0=[];function rb(){for(var t=0;t<j0.length;t++)j0[t]._workInProgressVersionPrimary=null;j0.length=0}var $m=Ns.ReactCurrentDispatcher,z0=Ns.ReactCurrentBatchConfig,Ga=0,St=null,Xt=null,on=null,Pg=!1,Xd=!1,Mh=0,B5=0;function An(){throw Error(j(321))}function ib(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ii(t[n],e[n]))return!1;return!0}function sb(t,e,n,r,i,s){if(Ga=s,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$m.current=t===null||t.memoizedState===null?q5:H5,t=n(r,i),Xd){s=0;do{if(Xd=!1,Mh=0,25<=s)throw Error(j(301));s+=1,on=Xt=null,e.updateQueue=null,$m.current=G5,t=n(r,i)}while(Xd)}if($m.current=Ag,e=Xt!==null&&Xt.next!==null,Ga=0,on=Xt=St=null,Pg=!1,e)throw Error(j(300));return t}function ob(){var t=Mh!==0;return Mh=0,t}function Ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?St.memoizedState=on=t:on=on.next=t,on}function ei(){if(Xt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=on===null?St.memoizedState:on.next;if(e!==null)on=e,Xt=t;else{if(t===null)throw Error(j(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},on===null?St.memoizedState=on=t:on=on.next=t}return on}function Lh(t,e){return typeof e=="function"?e(t):e}function W0(t){var e=ei(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ga&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,St.lanes|=c,Ka|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ii(r,e.memoizedState)||(rr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,St.lanes|=s,Ka|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function q0(t){var e=ei(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ii(s,e.memoizedState)||(rr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ND(){}function OD(t,e){var n=St,r=ei(),i=e(),s=!Ii(r.memoizedState,i);if(s&&(r.memoizedState=i,rr=!0),r=r.queue,ab(LD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||on!==null&&on.memoizedState.tag&1){if(n.flags|=2048,Fh(9,MD.bind(null,n,r,i,e),void 0,null),un===null)throw Error(j(349));Ga&30||DD(n,e,i)}return i}function DD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MD(t,e,n,r){e.value=n,e.getSnapshot=r,FD(e)&&$D(t)}function LD(t,e,n){return n(function(){FD(e)&&$D(t)})}function FD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ii(t,n)}catch{return!0}}function $D(t){var e=Is(t,1);e!==null&&wi(e,t,1,-1)}function nR(t){var e=Ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lh,lastRenderedState:t},e.queue=t,t=t.dispatch=W5.bind(null,St,t),[e.memoizedState,t]}function Fh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VD(){return ei().memoizedState}function Vm(t,e,n,r){var i=Ni();St.flags|=t,i.memoizedState=Fh(1|e,n,void 0,r===void 0?null:r)}function Zy(t,e,n,r){var i=ei();r=r===void 0?null:r;var s=void 0;if(Xt!==null){var o=Xt.memoizedState;if(s=o.destroy,r!==null&&ib(r,o.deps)){i.memoizedState=Fh(e,n,s,r);return}}St.flags|=t,i.memoizedState=Fh(1|e,n,s,r)}function rR(t,e){return Vm(8390656,8,t,e)}function ab(t,e){return Zy(2048,8,t,e)}function UD(t,e){return Zy(4,2,t,e)}function BD(t,e){return Zy(4,4,t,e)}function jD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zD(t,e,n){return n=n!=null?n.concat([t]):null,Zy(4,4,jD.bind(null,e,t),n)}function lb(){}function WD(t,e){var n=ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ib(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qD(t,e){var n=ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ib(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function HD(t,e,n){return Ga&21?(Ii(n,e)||(n=QO(),St.lanes|=n,Ka|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rr=!0),t.memoizedState=n)}function j5(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=z0.transition;z0.transition={};try{t(!1),e()}finally{Ze=n,z0.transition=r}}function GD(){return ei().memoizedState}function z5(t,e,n){var r=mo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KD(t))QD(e,n);else if(n=SD(t,e,n,r),n!==null){var i=qn();wi(n,t,r,i),YD(n,e,r)}}function W5(t,e,n){var r=mo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KD(t))QD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ii(a,o)){var l=e.interleaved;l===null?(i.next=i,ZI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=SD(t,e,i,r),n!==null&&(i=qn(),wi(n,t,r,i),YD(n,e,r))}}function KD(t){var e=t.alternate;return t===St||e!==null&&e===St}function QD(t,e){Xd=Pg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VI(t,n)}}var Ag={readContext:Zr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},q5={readContext:Zr,useCallback:function(t,e){return Ni().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:rR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vm(4194308,4,jD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vm(4,2,t,e)},useMemo:function(t,e){var n=Ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ni();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z5.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var e=Ni();return t={current:t},e.memoizedState=t},useState:nR,useDebugValue:lb,useDeferredValue:function(t){return Ni().memoizedState=t},useTransition:function(){var t=nR(!1),e=t[0];return t=j5.bind(null,t[1]),Ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=St,i=Ni();if(vt){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),un===null)throw Error(j(349));Ga&30||DD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,rR(LD.bind(null,r,s,t),[t]),r.flags|=2048,Fh(9,MD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ni(),e=un.identifierPrefix;if(vt){var n=hs,r=ds;n=(r&~(1<<32-vi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=B5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},H5={readContext:Zr,useCallback:WD,useContext:Zr,useEffect:ab,useImperativeHandle:zD,useInsertionEffect:UD,useLayoutEffect:BD,useMemo:qD,useReducer:W0,useRef:VD,useState:function(){return W0(Lh)},useDebugValue:lb,useDeferredValue:function(t){var e=ei();return HD(e,Xt.memoizedState,t)},useTransition:function(){var t=W0(Lh)[0],e=ei().memoizedState;return[t,e]},useMutableSource:ND,useSyncExternalStore:OD,useId:GD,unstable_isNewReconciler:!1},G5={readContext:Zr,useCallback:WD,useContext:Zr,useEffect:ab,useImperativeHandle:zD,useInsertionEffect:UD,useLayoutEffect:BD,useMemo:qD,useReducer:q0,useRef:VD,useState:function(){return q0(Lh)},useDebugValue:lb,useDeferredValue:function(t){var e=ei();return Xt===null?e.memoizedState=t:HD(e,Xt.memoizedState,t)},useTransition:function(){var t=q0(Lh)[0],e=ei().memoizedState;return[t,e]},useMutableSource:ND,useSyncExternalStore:OD,useId:GD,unstable_isNewReconciler:!1};function Gu(t,e){try{var n="",r=e;do n+=Ez(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function H0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K5=typeof WeakMap=="function"?WeakMap:Map;function XD(t,e,n){n=ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ng||(Ng=!0,FE=r),xE(t,e)},n}function JD(t,e,n){n=ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xE(t,e),typeof r!="function"&&(po===null?po=new Set([this]):po.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=l3.bind(null,t,e,n),e.then(t,t))}function sR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ys(-1,1),e.tag=2,fo(n,e,1))),n.lanes|=1),t)}var Q5=Ns.ReactCurrentOwner,rr=!1;function Un(t,e,n,r){e.child=t===null?AD(e,null,n,r):qu(e,t.child,n,r)}function aR(t,e,n,r,i){n=n.render;var s=e.ref;return Cu(e,i),r=sb(t,e,n,r,s,i),n=ob(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(vt&&n&&GI(e),e.flags|=1,Un(t,e,r,i),e.child)}function lR(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!gb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ZD(t,e,s,r,i)):(t=zm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ph,n(o,r)&&t.ref===e.ref)return bs(t,e,i)}return e.flags|=1,t=go(s,r),t.ref=e.ref,t.return=e,e.child=t}function ZD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ph(s,r)&&t.ref===e.ref)if(rr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rr=!0);else return e.lanes=t.lanes,bs(t,e,i)}return RE(t,e,n,r,i)}function eM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(yu,wr),wr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(yu,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,lt(yu,wr),wr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,lt(yu,wr),wr|=r;return Un(t,e,i,n),e.child}function tM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function RE(t,e,n,r,i){var s=lr(n)?qa:Vn.current;return s=zu(e,s),Cu(e,i),n=sb(t,e,n,r,s,i),r=ob(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(vt&&r&&GI(e),e.flags|=1,Un(t,e,n,i),e.child)}function uR(t,e,n,r,i){if(lr(n)){var s=!0;Tg(e)}else s=!1;if(Cu(e,i),e.stateNode===null)Um(t,e),RD(e,n,r),CE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zr(u):(u=lr(n)?qa:Vn.current,u=zu(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&eR(e,o,r,u),Qs=!1;var h=e.memoizedState;o.state=h,xg(e,r,o,i),l=e.memoizedState,a!==r||h!==l||ar.current||Qs?(typeof c=="function"&&(SE(e,n,c,r),l=e.memoizedState),(a=Qs||Zx(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:di(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zr(l):(l=lr(n)?qa:Vn.current,l=zu(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&eR(e,o,r,l),Qs=!1,h=e.memoizedState,o.state=h,xg(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||ar.current||Qs?(typeof f=="function"&&(SE(e,n,f,r),p=e.memoizedState),(u=Qs||Zx(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return PE(t,e,n,r,s,i)}function PE(t,e,n,r,i,s){tM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Kx(e,n,!1),bs(t,e,s);r=e.stateNode,Q5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qu(e,t.child,null,s),e.child=qu(e,null,a,s)):Un(t,e,a,s),e.memoizedState=r.state,i&&Kx(e,n,!0),e.child}function nM(t){var e=t.stateNode;e.pendingContext?Gx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Gx(t,e.context,!1),tb(t,e.containerInfo)}function cR(t,e,n,r,i){return Wu(),QI(i),e.flags|=256,Un(t,e,n,r),e.child}var AE={dehydrated:null,treeContext:null,retryLane:0};function kE(t){return{baseLanes:t,cachePool:null,transitions:null}}function rM(t,e,n){var r=e.pendingProps,i=bt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(bt,i&1),t===null)return IE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=n_(o,r,0,null),t=La(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kE(n),e.memoizedState=AE,t):ub(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Y5(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=go(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=go(a,s):(s=La(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?kE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=AE,r}return s=t.child,t=s.sibling,r=go(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ub(t,e){return e=n_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tm(t,e,n,r){return r!==null&&QI(r),qu(e,t.child,null,n),t=ub(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y5(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=H0(Error(j(422))),tm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=n_({mode:"visible",children:r.children},i,0,null),s=La(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qu(e,t.child,null,o),e.child.memoizedState=kE(o),e.memoizedState=AE,s);if(!(e.mode&1))return tm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=H0(s,r,void 0),tm(t,e,o,r)}if(a=(o&t.childLanes)!==0,rr||a){if(r=un,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Is(t,i),wi(r,t,i,-1))}return mb(),r=H0(Error(j(421))),tm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=u3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Sr=ho(i.nextSibling),Ar=e,vt=!0,fi=null,t!==null&&(Wr[qr++]=ds,Wr[qr++]=hs,Wr[qr++]=Ha,ds=t.id,hs=t.overflow,Ha=e),e=ub(e,r.children),e.flags|=4096,e)}function dR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bE(t.return,e,n)}function G0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function iM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Un(t,e,r.children,n),r=bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dR(t,n,e);else if(t.tag===19)dR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(bt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),G0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}G0(e,!0,n,null,s);break;case"together":G0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Um(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ka|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function X5(t,e,n){switch(e.tag){case 3:nM(e),Wu();break;case 5:kD(e);break;case 1:lr(e.type)&&Tg(e);break;case 4:tb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(Sg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?rM(t,e,n):(lt(bt,bt.current&1),t=bs(t,e,n),t!==null?t.sibling:null);lt(bt,bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(bt,bt.current),r)break;return null;case 22:case 23:return e.lanes=0,eM(t,e,n)}return bs(t,e,n)}var sM,NE,oM,aM;sM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};NE=function(){};oM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ba(Qi.current);var s=null;switch(n){case"input":i=eE(t,i),r=eE(t,r),s=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),s=[];break;case"textarea":i=rE(t,i),r=rE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wg)}sE(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Th.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Th.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ct("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};aM=function(t,e,n,r){n!==r&&(e.flags|=4)};function sd(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function J5(t,e,n){var r=e.pendingProps;switch(KI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return lr(e.type)&&Eg(),kn(e),null;case 3:return r=e.stateNode,Hu(),mt(ar),mt(Vn),rb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fi!==null&&(UE(fi),fi=null))),NE(t,e),kn(e),null;case 5:nb(e);var i=ba(Dh.current);if(n=e.type,t!==null&&e.stateNode!=null)oM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return kn(e),null}if(t=ba(Qi.current),Zp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Li]=e,r[Nh]=s,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<Od.length;i++)ct(Od[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":wx(r,s),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ct("invalid",r);break;case"textarea":Tx(r,s),ct("invalid",r)}sE(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Jp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Jp(r.textContent,a,t),i=["children",""+a]):Th.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":Wp(r),Ex(r,s,!0);break;case"textarea":Wp(r),Ix(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=DO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Li]=e,t[Nh]=r,sM(t,e,!1,!1),e.stateNode=t;e:{switch(o=oE(n,r),n){case"dialog":ct("cancel",t),ct("close",t),i=r;break;case"iframe":case"object":case"embed":ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<Od.length;i++)ct(Od[i],t);i=r;break;case"source":ct("error",t),i=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=r;break;case"details":ct("toggle",t),i=r;break;case"input":wx(t,r),i=eE(t,r),ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":Tx(t,r),i=rE(t,r),ct("invalid",t);break;default:i=r}sE(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?FO(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MO(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ih(t,l):typeof l=="number"&&Ih(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Th.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ct("scroll",t):l!=null&&OI(t,s,l,o))}switch(n){case"input":Wp(t),Ex(t,r,!1);break;case"textarea":Wp(t),Ix(t);break;case"option":r.value!=null&&t.setAttribute("value",""+So(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Tu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Tu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)aM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=ba(Dh.current),ba(Qi.current),Zp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Li]=e,(s=r.nodeValue!==n)&&(t=Ar,t!==null))switch(t.tag){case 3:Jp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Li]=e,e.stateNode=r}return kn(e),null;case 13:if(mt(bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Sr!==null&&e.mode&1&&!(e.flags&128))bD(),Wu(),e.flags|=98560,s=!1;else if(s=Zp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Li]=e}else Wu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),s=!1}else fi!==null&&(UE(fi),fi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?en===0&&(en=3):mb())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return Hu(),NE(t,e),t===null&&Ah(e.stateNode.containerInfo),kn(e),null;case 10:return JI(e.type._context),kn(e),null;case 17:return lr(e.type)&&Eg(),kn(e),null;case 19:if(mt(bt),s=e.memoizedState,s===null)return kn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sd(s,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rg(t),o!==null){for(e.flags|=128,sd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(bt,bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ut()>Ku&&(e.flags|=128,r=!0,sd(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!vt)return kn(e),null}else 2*Ut()-s.renderingStartTime>Ku&&n!==1073741824&&(e.flags|=128,r=!0,sd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ut(),e.sibling=null,n=bt.current,lt(bt,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return pb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wr&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Z5(t,e){switch(KI(e),e.tag){case 1:return lr(e.type)&&Eg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hu(),mt(ar),mt(Vn),rb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nb(e),null;case 13:if(mt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Wu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(bt),null;case 4:return Hu(),null;case 10:return JI(e.type._context),null;case 22:case 23:return pb(),null;case 24:return null;default:return null}}var nm=!1,Dn=!1,e3=typeof WeakSet=="function"?WeakSet:Set,te=null;function gu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(t,e,r)}else n.current=null}function OE(t,e,n){try{n()}catch(r){Nt(t,e,r)}}var hR=!1;function t3(t,e){if(gE=yg,t=dD(),HI(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yE={focusedElem:t,selectionRange:n},yg=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:di(e.type,g),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(w){Nt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return p=hR,hR=!1,p}function Jd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&OE(e,n,s)}i=i.next}while(i!==r)}}function e_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function DE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lM(t){var e=t.alternate;e!==null&&(t.alternate=null,lM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Li],delete e[Nh],delete e[wE],delete e[F5],delete e[$5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uM(t){return t.tag===5||t.tag===3||t.tag===4}function fR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ME(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wg));else if(r!==4&&(t=t.child,t!==null))for(ME(t,e,n),t=t.sibling;t!==null;)ME(t,e,n),t=t.sibling}function LE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(LE(t,e,n),t=t.sibling;t!==null;)LE(t,e,n),t=t.sibling}var wn=null,hi=!1;function js(t,e,n){for(n=n.child;n!==null;)cM(t,e,n),n=n.sibling}function cM(t,e,n){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(Hy,n)}catch{}switch(n.tag){case 5:Dn||gu(n,e);case 6:var r=wn,i=hi;wn=null,js(t,e,n),wn=r,hi=i,wn!==null&&(hi?(t=wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(hi?(t=wn,n=n.stateNode,t.nodeType===8?U0(t.parentNode,n):t.nodeType===1&&U0(t,n),xh(t)):U0(wn,n.stateNode));break;case 4:r=wn,i=hi,wn=n.stateNode.containerInfo,hi=!0,js(t,e,n),wn=r,hi=i;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&OE(n,e,o),i=i.next}while(i!==r)}js(t,e,n);break;case 1:if(!Dn&&(gu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nt(n,e,a)}js(t,e,n);break;case 21:js(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,js(t,e,n),Dn=r):js(t,e,n);break;default:js(t,e,n)}}function pR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new e3),e.forEach(function(r){var i=c3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function li(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wn=a.stateNode,hi=!1;break e;case 3:wn=a.stateNode.containerInfo,hi=!0;break e;case 4:wn=a.stateNode.containerInfo,hi=!0;break e}a=a.return}if(wn===null)throw Error(j(160));cM(s,o,i),wn=null,hi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Nt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dM(e,t),e=e.sibling}function dM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(li(e,t),ki(t),r&4){try{Jd(3,t,t.return),e_(3,t)}catch(g){Nt(t,t.return,g)}try{Jd(5,t,t.return)}catch(g){Nt(t,t.return,g)}}break;case 1:li(e,t),ki(t),r&512&&n!==null&&gu(n,n.return);break;case 5:if(li(e,t),ki(t),r&512&&n!==null&&gu(n,n.return),t.flags&32){var i=t.stateNode;try{Ih(i,"")}catch(g){Nt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&NO(i,s),oE(a,o);var u=oE(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?FO(i,d):c==="dangerouslySetInnerHTML"?MO(i,d):c==="children"?Ih(i,d):OI(i,c,d,u)}switch(a){case"input":tE(i,s);break;case"textarea":OO(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Tu(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Tu(i,!!s.multiple,s.defaultValue,!0):Tu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nh]=s}catch(g){Nt(t,t.return,g)}}break;case 6:if(li(e,t),ki(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Nt(t,t.return,g)}}break;case 3:if(li(e,t),ki(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xh(e.containerInfo)}catch(g){Nt(t,t.return,g)}break;case 4:li(e,t),ki(t);break;case 13:li(e,t),ki(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hb=Ut())),r&4&&pR(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(u=Dn)||c,li(e,t),Dn=u):li(e,t),ki(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(te=t,c=t.child;c!==null;){for(d=te=c;te!==null;){switch(h=te,f=h.child,h.tag){case 0:case 11:case 14:case 15:Jd(4,h,h.return);break;case 1:gu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Nt(r,n,g)}}break;case 5:gu(h,h.return);break;case 22:if(h.memoizedState!==null){gR(d);continue}}f!==null?(f.return=h,te=f):gR(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=LO("display",o))}catch(g){Nt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Nt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:li(e,t),ki(t),r&4&&pR(t);break;case 21:break;default:li(e,t),ki(t)}}function ki(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uM(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ih(i,""),r.flags&=-33);var s=fR(t);LE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fR(t);ME(t,a,o);break;default:throw Error(j(161))}}catch(l){Nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n3(t,e,n){te=t,hM(t)}function hM(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dn;a=nm;var u=Dn;if(nm=o,(Dn=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?yR(i):l!==null?(l.return=o,te=l):yR(i);for(;s!==null;)te=s,hM(s),s=s.sibling;te=i,nm=a,Dn=u}mR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):mR(t)}}function mR(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||e_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:di(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Jx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&xh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Dn||e.flags&512&&DE(e)}catch(h){Nt(e,e.return,h)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function gR(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function yR(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{e_(4,e)}catch(l){Nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nt(e,i,l)}}var s=e.return;try{DE(e)}catch(l){Nt(e,s,l)}break;case 5:var o=e.return;try{DE(e)}catch(l){Nt(e,o,l)}}}catch(l){Nt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var r3=Math.ceil,kg=Ns.ReactCurrentDispatcher,cb=Ns.ReactCurrentOwner,Xr=Ns.ReactCurrentBatchConfig,ze=0,un=null,Kt=null,Sn=0,wr=0,yu=Ho(0),en=0,$h=null,Ka=0,t_=0,db=0,Zd=null,tr=null,hb=0,Ku=1/0,ls=null,Ng=!1,FE=null,po=null,rm=!1,to=null,Og=0,eh=0,$E=null,Bm=-1,jm=0;function qn(){return ze&6?Ut():Bm!==-1?Bm:Bm=Ut()}function mo(t){return t.mode&1?ze&2&&Sn!==0?Sn&-Sn:U5.transition!==null?(jm===0&&(jm=QO()),jm):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:nD(t.type)),t):1}function wi(t,e,n,r){if(50<eh)throw eh=0,$E=null,Error(j(185));Gf(t,n,r),(!(ze&2)||t!==un)&&(t===un&&(!(ze&2)&&(t_|=n),en===4&&Xs(t,Sn)),ur(t,r),n===1&&ze===0&&!(e.mode&1)&&(Ku=Ut()+500,Xy&&Go()))}function ur(t,e){var n=t.callbackNode;Uz(t,e);var r=gg(t,t===un?Sn:0);if(r===0)n!==null&&Cx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cx(n),e===1)t.tag===0?V5(_R.bind(null,t)):ED(_R.bind(null,t)),M5(function(){!(ze&6)&&Go()}),n=null;else{switch(YO(r)){case 1:n=$I;break;case 4:n=GO;break;case 16:n=mg;break;case 536870912:n=KO;break;default:n=mg}n=wM(n,fM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fM(t,e){if(Bm=-1,jm=0,ze&6)throw Error(j(327));var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var r=gg(t,t===un?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dg(t,r);else{e=r;var i=ze;ze|=2;var s=mM();(un!==t||Sn!==e)&&(ls=null,Ku=Ut()+500,Ma(t,e));do try{o3();break}catch(a){pM(t,a)}while(!0);XI(),kg.current=s,ze=i,Kt!==null?e=0:(un=null,Sn=0,e=en)}if(e!==0){if(e===2&&(i=dE(t),i!==0&&(r=i,e=VE(t,i))),e===1)throw n=$h,Ma(t,0),Xs(t,r),ur(t,Ut()),n;if(e===6)Xs(t,r);else{if(i=t.current.alternate,!(r&30)&&!i3(i)&&(e=Dg(t,r),e===2&&(s=dE(t),s!==0&&(r=s,e=VE(t,s))),e===1))throw n=$h,Ma(t,0),Xs(t,r),ur(t,Ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:aa(t,tr,ls);break;case 3:if(Xs(t,r),(r&130023424)===r&&(e=hb+500-Ut(),10<e)){if(gg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vE(aa.bind(null,t,tr,ls),e);break}aa(t,tr,ls);break;case 4:if(Xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*r3(r/1960))-r,10<r){t.timeoutHandle=vE(aa.bind(null,t,tr,ls),r);break}aa(t,tr,ls);break;case 5:aa(t,tr,ls);break;default:throw Error(j(329))}}}return ur(t,Ut()),t.callbackNode===n?fM.bind(null,t):null}function VE(t,e){var n=Zd;return t.current.memoizedState.isDehydrated&&(Ma(t,e).flags|=256),t=Dg(t,e),t!==2&&(e=tr,tr=n,e!==null&&UE(e)),t}function UE(t){tr===null?tr=t:tr.push.apply(tr,t)}function i3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ii(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e){for(e&=~db,e&=~t_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vi(e),r=1<<n;t[n]=-1,e&=~r}}function _R(t){if(ze&6)throw Error(j(327));xu();var e=gg(t,0);if(!(e&1))return ur(t,Ut()),null;var n=Dg(t,e);if(t.tag!==0&&n===2){var r=dE(t);r!==0&&(e=r,n=VE(t,r))}if(n===1)throw n=$h,Ma(t,0),Xs(t,e),ur(t,Ut()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,aa(t,tr,ls),ur(t,Ut()),null}function fb(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Ku=Ut()+500,Xy&&Go())}}function Qa(t){to!==null&&to.tag===0&&!(ze&6)&&xu();var e=ze;ze|=1;var n=Xr.transition,r=Ze;try{if(Xr.transition=null,Ze=1,t)return t()}finally{Ze=r,Xr.transition=n,ze=e,!(ze&6)&&Go()}}function pb(){wr=yu.current,mt(yu)}function Ma(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D5(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(KI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eg();break;case 3:Hu(),mt(ar),mt(Vn),rb();break;case 5:nb(r);break;case 4:Hu();break;case 13:mt(bt);break;case 19:mt(bt);break;case 10:JI(r.type._context);break;case 22:case 23:pb()}n=n.return}if(un=t,Kt=t=go(t.current,null),Sn=wr=e,en=0,$h=null,db=t_=Ka=0,tr=Zd=null,Ia!==null){for(e=0;e<Ia.length;e++)if(n=Ia[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ia=null}return t}function pM(t,e){do{var n=Kt;try{if(XI(),$m.current=Ag,Pg){for(var r=St.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pg=!1}if(Ga=0,on=Xt=St=null,Xd=!1,Mh=0,cb.current=null,n===null||n.return===null){en=1,$h=e,Kt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=sR(o);if(f!==null){f.flags&=-257,oR(f,o,a,s,e),f.mode&1&&iR(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){iR(s,u,e),mb();break e}l=Error(j(426))}}else if(vt&&a.mode&1){var v=sR(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),oR(v,o,a,s,e),QI(Gu(l,a));break e}}s=l=Gu(l,a),en!==4&&(en=2),Zd===null?Zd=[s]:Zd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=XD(s,l,e);Xx(s,m);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(po===null||!po.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=JD(s,a,e);Xx(s,w);break e}}s=s.return}while(s!==null)}yM(n)}catch(I){e=I,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function mM(){var t=kg.current;return kg.current=Ag,t===null?Ag:t}function mb(){(en===0||en===3||en===2)&&(en=4),un===null||!(Ka&268435455)&&!(t_&268435455)||Xs(un,Sn)}function Dg(t,e){var n=ze;ze|=2;var r=mM();(un!==t||Sn!==e)&&(ls=null,Ma(t,e));do try{s3();break}catch(i){pM(t,i)}while(!0);if(XI(),ze=n,kg.current=r,Kt!==null)throw Error(j(261));return un=null,Sn=0,en}function s3(){for(;Kt!==null;)gM(Kt)}function o3(){for(;Kt!==null&&!kz();)gM(Kt)}function gM(t){var e=vM(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?yM(t):Kt=e,cb.current=null}function yM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Z5(n,e),n!==null){n.flags&=32767,Kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Kt=null;return}}else if(n=J5(n,e,wr),n!==null){Kt=n;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);en===0&&(en=5)}function aa(t,e,n){var r=Ze,i=Xr.transition;try{Xr.transition=null,Ze=1,a3(t,e,n,r)}finally{Xr.transition=i,Ze=r}return null}function a3(t,e,n,r){do xu();while(to!==null);if(ze&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Bz(t,s),t===un&&(Kt=un=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rm||(rm=!0,wM(mg,function(){return xu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xr.transition,Xr.transition=null;var o=Ze;Ze=1;var a=ze;ze|=4,cb.current=null,t3(t,n),dM(n,t),x5(yE),yg=!!gE,yE=gE=null,t.current=n,n3(n),Nz(),ze=a,Ze=o,Xr.transition=s}else t.current=n;if(rm&&(rm=!1,to=t,Og=i),s=t.pendingLanes,s===0&&(po=null),Mz(n.stateNode),ur(t,Ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ng)throw Ng=!1,t=FE,FE=null,t;return Og&1&&t.tag!==0&&xu(),s=t.pendingLanes,s&1?t===$E?eh++:(eh=0,$E=t):eh=0,Go(),null}function xu(){if(to!==null){var t=YO(Og),e=Xr.transition,n=Ze;try{if(Xr.transition=null,Ze=16>t?16:t,to===null)var r=!1;else{if(t=to,to=null,Og=0,ze&6)throw Error(j(331));var i=ze;for(ze|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:Jd(8,c,s)}var d=c.child;if(d!==null)d.return=c,te=d;else for(;te!==null;){c=te;var h=c.sibling,f=c.return;if(lM(c),c===u){te=null;break}if(h!==null){h.return=f,te=h;break}te=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Jd(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,te=m;break e}te=s.return}}var y=t.current;for(te=y;te!==null;){o=te;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,te=_;else e:for(o=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:e_(9,a)}}catch(I){Nt(a,a.return,I)}if(a===o){te=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,te=w;break e}te=a.return}}if(ze=i,Go(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(Hy,t)}catch{}r=!0}return r}finally{Ze=n,Xr.transition=e}}return!1}function vR(t,e,n){e=Gu(n,e),e=XD(t,e,1),t=fo(t,e,1),e=qn(),t!==null&&(Gf(t,1,e),ur(t,e))}function Nt(t,e,n){if(t.tag===3)vR(t,t,n);else for(;e!==null;){if(e.tag===3){vR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(po===null||!po.has(r))){t=Gu(n,t),t=JD(e,t,1),e=fo(e,t,1),t=qn(),e!==null&&(Gf(e,1,t),ur(e,t));break}}e=e.return}}function l3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qn(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(Sn&n)===n&&(en===4||en===3&&(Sn&130023424)===Sn&&500>Ut()-hb?Ma(t,0):db|=n),ur(t,e)}function _M(t,e){e===0&&(t.mode&1?(e=Gp,Gp<<=1,!(Gp&130023424)&&(Gp=4194304)):e=1);var n=qn();t=Is(t,e),t!==null&&(Gf(t,e,n),ur(t,n))}function u3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_M(t,n)}function c3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),_M(t,n)}var vM;vM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ar.current)rr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rr=!1,X5(t,e,n);rr=!!(t.flags&131072)}else rr=!1,vt&&e.flags&1048576&&TD(e,bg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Um(t,e),t=e.pendingProps;var i=zu(e,Vn.current);Cu(e,n),i=sb(null,e,r,t,i,n);var s=ob();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lr(r)?(s=!0,Tg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eb(e),i.updater=Jy,e.stateNode=i,i._reactInternals=e,CE(e,r,t,n),e=PE(null,e,r,!0,s,n)):(e.tag=0,vt&&s&&GI(e),Un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Um(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=h3(r),t=di(r,t),i){case 0:e=RE(null,e,r,t,n);break e;case 1:e=uR(null,e,r,t,n);break e;case 11:e=aR(null,e,r,t,n);break e;case 14:e=lR(null,e,r,di(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:di(r,i),RE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:di(r,i),uR(t,e,r,i,n);case 3:e:{if(nM(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CD(t,e),xg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gu(Error(j(423)),e),e=cR(t,e,r,n,i);break e}else if(r!==i){i=Gu(Error(j(424)),e),e=cR(t,e,r,n,i);break e}else for(Sr=ho(e.stateNode.containerInfo.firstChild),Ar=e,vt=!0,fi=null,n=AD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wu(),r===i){e=bs(t,e,n);break e}Un(t,e,r,n)}e=e.child}return e;case 5:return kD(e),t===null&&IE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,_E(r,i)?o=null:s!==null&&_E(r,s)&&(e.flags|=32),tM(t,e),Un(t,e,o,n),e.child;case 6:return t===null&&IE(e),null;case 13:return rM(t,e,n);case 4:return tb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qu(e,null,r,n):Un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:di(r,i),aR(t,e,r,i,n);case 7:return Un(t,e,e.pendingProps,n),e.child;case 8:return Un(t,e,e.pendingProps.children,n),e.child;case 12:return Un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lt(Sg,r._currentValue),r._currentValue=o,s!==null)if(Ii(s.value,o)){if(s.children===i.children&&!ar.current){e=bs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ys(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bE(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Cu(e,n),i=Zr(i),r=r(i),e.flags|=1,Un(t,e,r,n),e.child;case 14:return r=e.type,i=di(r,e.pendingProps),i=di(r.type,i),lR(t,e,r,i,n);case 15:return ZD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:di(r,i),Um(t,e),e.tag=1,lr(r)?(t=!0,Tg(e)):t=!1,Cu(e,n),RD(e,r,i),CE(e,r,i,n),PE(null,e,r,!0,t,n);case 19:return iM(t,e,n);case 22:return eM(t,e,n)}throw Error(j(156,e.tag))};function wM(t,e){return HO(t,e)}function d3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(t,e,n,r){return new d3(t,e,n,r)}function gb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function h3(t){if(typeof t=="function")return gb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===MI)return 11;if(t===LI)return 14}return 2}function go(t,e){var n=t.alternate;return n===null?(n=Qr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")gb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case au:return La(n.children,i,s,e);case DI:o=8,i|=8;break;case Yw:return t=Qr(12,n,e,i|2),t.elementType=Yw,t.lanes=s,t;case Xw:return t=Qr(13,n,e,i),t.elementType=Xw,t.lanes=s,t;case Jw:return t=Qr(19,n,e,i),t.elementType=Jw,t.lanes=s,t;case PO:return n_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xO:o=10;break e;case RO:o=9;break e;case MI:o=11;break e;case LI:o=14;break e;case Ks:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Qr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function La(t,e,n,r){return t=Qr(7,t,r,e),t.lanes=n,t}function n_(t,e,n,r){return t=Qr(22,t,r,e),t.elementType=PO,t.lanes=n,t.stateNode={isHidden:!1},t}function K0(t,e,n){return t=Qr(6,t,null,e),t.lanes=n,t}function Q0(t,e,n){return e=Qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P0(0),this.expirationTimes=P0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yb(t,e,n,r,i,s,o,a,l){return t=new f3(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eb(s),t}function p3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ou,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EM(t){if(!t)return Co;t=t._reactInternals;e:{if(_l(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(lr(n))return wD(t,n,e)}return e}function TM(t,e,n,r,i,s,o,a,l){return t=yb(n,r,!0,t,i,s,o,a,l),t.context=EM(null),n=t.current,r=qn(),i=mo(n),s=ys(r,i),s.callback=e??null,fo(n,s,i),t.current.lanes=i,Gf(t,i,r),ur(t,r),t}function r_(t,e,n,r){var i=e.current,s=qn(),o=mo(i);return n=EM(n),e.context===null?e.context=n:e.pendingContext=n,e=ys(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fo(i,e,o),t!==null&&(wi(t,i,o,s),Fm(t,i,o)),o}function Mg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _b(t,e){wR(t,e),(t=t.alternate)&&wR(t,e)}function m3(){return null}var IM=typeof reportError=="function"?reportError:function(t){console.error(t)};function vb(t){this._internalRoot=t}i_.prototype.render=vb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));r_(t,e,null,null)};i_.prototype.unmount=vb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qa(function(){r_(null,t,null,null)}),e[Ts]=null}};function i_(t){this._internalRoot=t}i_.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ys.length&&e!==0&&e<Ys[n].priority;n++);Ys.splice(n,0,t),n===0&&tD(t)}};function wb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ER(){}function g3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Mg(o);s.call(u)}}var o=TM(e,r,t,0,null,!1,!1,"",ER);return t._reactRootContainer=o,t[Ts]=o.current,Ah(t.nodeType===8?t.parentNode:t),Qa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Mg(l);a.call(u)}}var l=yb(t,0,!1,null,null,!1,!1,"",ER);return t._reactRootContainer=l,t[Ts]=l.current,Ah(t.nodeType===8?t.parentNode:t),Qa(function(){r_(e,l,n,r)}),l}function o_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Mg(o);a.call(l)}}r_(e,o,t,i)}else o=g3(n,e,t,i,r);return Mg(o)}XO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nd(e.pendingLanes);n!==0&&(VI(e,n|1),ur(e,Ut()),!(ze&6)&&(Ku=Ut()+500,Go()))}break;case 13:Qa(function(){var r=Is(t,1);if(r!==null){var i=qn();wi(r,t,1,i)}}),_b(t,1)}};UI=function(t){if(t.tag===13){var e=Is(t,134217728);if(e!==null){var n=qn();wi(e,t,134217728,n)}_b(t,134217728)}};JO=function(t){if(t.tag===13){var e=mo(t),n=Is(t,e);if(n!==null){var r=qn();wi(n,t,e,r)}_b(t,e)}};ZO=function(){return Ze};eD=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};lE=function(t,e,n){switch(e){case"input":if(tE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yy(r);if(!i)throw Error(j(90));kO(r),tE(r,i)}}}break;case"textarea":OO(t,n);break;case"select":e=n.value,e!=null&&Tu(t,!!n.multiple,e,!1)}};UO=fb;BO=Qa;var y3={usingClientEntryPoint:!1,Events:[Qf,du,Yy,$O,VO,fb]},od={findFiberByHostInstance:Ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_3={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WO(t),t===null?null:t.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||m3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{Hy=im.inject(_3),Ki=im}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y3;Vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wb(e))throw Error(j(200));return p3(t,e,null,n)};Vr.createRoot=function(t,e){if(!wb(t))throw Error(j(299));var n=!1,r="",i=IM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yb(t,1,!1,null,null,n,!1,r,i),t[Ts]=e.current,Ah(t.nodeType===8?t.parentNode:t),new vb(e)};Vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=WO(e),t=t===null?null:t.stateNode,t};Vr.flushSync=function(t){return Qa(t)};Vr.hydrate=function(t,e,n){if(!s_(e))throw Error(j(200));return o_(null,t,e,!0,n)};Vr.hydrateRoot=function(t,e,n){if(!wb(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=IM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TM(e,null,t,1,n??null,i,!1,s,o),t[Ts]=e.current,Ah(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new i_(e)};Vr.render=function(t,e,n){if(!s_(e))throw Error(j(200));return o_(null,t,e,!1,n)};Vr.unmountComponentAtNode=function(t){if(!s_(t))throw Error(j(40));return t._reactRootContainer?(Qa(function(){o_(null,null,t,!1,function(){t._reactRootContainer=null,t[Ts]=null})}),!0):!1};Vr.unstable_batchedUpdates=fb;Vr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!s_(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return o_(t,e,n,!1,r)};Vr.version="18.2.0-next-9e3b772b8-20220608";function bM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bM)}catch(t){console.error(t)}}bM(),TO.exports=Vr;var a_=TO.exports;const sm=zy(a_);/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}var no;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(no||(no={}));const TR="popstate";function v3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return BE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Lg(i)}return E3(e,n,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Eb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w3(){return Math.random().toString(36).substr(2,8)}function IR(t,e){return{usr:t.state,key:t.key,idx:e}}function BE(t,e,n,r){return n===void 0&&(n=null),Vh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sc(e):e,{state:n,key:e&&e.key||r||w3()})}function Lg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function E3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=no.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Vh({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=no.Pop;let v=c(),m=v==null?null:v-u;u=v,l&&l({action:a,location:g.location,delta:m})}function h(v,m){a=no.Push;let y=BE(g.location,v,m);n&&n(y,v),u=c()+1;let _=IR(y,u),w=g.createHref(y);try{o.pushState(_,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(w)}s&&l&&l({action:a,location:g.location,delta:1})}function f(v,m){a=no.Replace;let y=BE(g.location,v,m);n&&n(y,v),u=c();let _=IR(y,u),w=g.createHref(y);o.replaceState(_,"",w),s&&l&&l({action:a,location:g.location,delta:0})}function p(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Lg(v);return Qt(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(TR,d),l=v,()=>{i.removeEventListener(TR,d),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(v){return o.go(v)}};return g}var bR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bR||(bR={}));function T3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Sc(e):e,i=Tb(r.pathname||"/",n);if(i==null)return null;let s=SM(t);I3(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=N3(s[a],M3(i));return o}function SM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yo([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Qt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),SM(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:A3(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of CM(s.path))i(s,o,l)}),e}function CM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=CM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function I3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b3=/^:\w+$/,S3=3,C3=2,x3=1,R3=10,P3=-2,SR=t=>t==="*";function A3(t,e){let n=t.split("/"),r=n.length;return n.some(SR)&&(r+=P3),e&&(r+=C3),n.filter(i=>!SR(i)).reduce((i,s)=>i+(b3.test(s)?S3:s===""?x3:R3),r)}function k3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function N3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=O3({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:yo([i,c.pathname]),pathnameBase:U3(yo([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=yo([i,c.pathnameBase]))}return s}function O3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=D3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=L3(p||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function D3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Eb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function M3(t){try{return decodeURI(t)}catch(e){return Eb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function L3(t,e){try{return decodeURIComponent(t)}catch(n){return Eb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Tb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function F3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Sc(t):t;return{pathname:n?n.startsWith("/")?n:$3(n,e):e,search:B3(r),hash:j3(i)}}function $3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Y0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xM(t,e){let n=V3(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Sc(t):(i=Vh({},t),Qt(!i.pathname||!i.pathname.includes("?"),Y0("?","pathname","search",i)),Qt(!i.pathname||!i.pathname.includes("#"),Y0("#","pathname","hash",i)),Qt(!i.search||!i.search.includes("#"),Y0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=F3(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yo=t=>t.join("/").replace(/\/\/+/g,"/"),U3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function z3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PM=["post","put","patch","delete"];new Set(PM);const W3=["get",...PM];new Set(W3);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}const Ib=E.createContext(null),q3=E.createContext(null),vl=E.createContext(null),l_=E.createContext(null),wl=E.createContext({outlet:null,matches:[],isDataRoute:!1}),AM=E.createContext(null);function H3(t,e){let{relative:n}=e===void 0?{}:e;Xf()||Qt(!1);let{basename:r,navigator:i}=E.useContext(vl),{hash:s,pathname:o,search:a}=NM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:yo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Xf(){return E.useContext(l_)!=null}function u_(){return Xf()||Qt(!1),E.useContext(l_).location}function kM(t){E.useContext(vl).static||E.useLayoutEffect(t)}function G3(){let{isDataRoute:t}=E.useContext(wl);return t?o6():K3()}function K3(){Xf()||Qt(!1);let t=E.useContext(Ib),{basename:e,future:n,navigator:r}=E.useContext(vl),{matches:i}=E.useContext(wl),{pathname:s}=u_(),o=JSON.stringify(xM(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return kM(()=>{a.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=RM(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:yo([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function NM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(vl),{matches:i}=E.useContext(wl),{pathname:s}=u_(),o=JSON.stringify(xM(i,r.v7_relativeSplatPath));return E.useMemo(()=>RM(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Q3(t,e){return Y3(t,e)}function Y3(t,e,n,r){Xf()||Qt(!1);let{navigator:i}=E.useContext(vl),{matches:s}=E.useContext(wl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=u_(),c;if(e){var d;let v=typeof e=="string"?Sc(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Qt(!1),c=v}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",p=T3(t,{pathname:f}),g=t6(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:yo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:yo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&g?E.createElement(l_.Provider,{value:{location:Uh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:no.Pop}},g):g}function X3(){let t=s6(),e=z3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const J3=E.createElement(X3,null);class Z3 extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(wl.Provider,{value:this.props.routeContext},E.createElement(AM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e6(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Ib);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(wl.Provider,{value:e},r)}function t6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Qt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,g=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||J3,l&&(u<0&&h===0?(a6("route-fallback",!1),p=!0,v=null):u===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),y=()=>{let _;return f?_=g:p?_=v:d.route.Component?_=E.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,E.createElement(e6,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(Z3,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var OM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OM||{}),Fg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fg||{});function n6(t){let e=E.useContext(Ib);return e||Qt(!1),e}function r6(t){let e=E.useContext(q3);return e||Qt(!1),e}function i6(t){let e=E.useContext(wl);return e||Qt(!1),e}function DM(t){let e=i6(),n=e.matches[e.matches.length-1];return n.route.id||Qt(!1),n.route.id}function s6(){var t;let e=E.useContext(AM),n=r6(Fg.UseRouteError),r=DM(Fg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function o6(){let{router:t}=n6(OM.UseNavigateStable),e=DM(Fg.UseNavigateStable),n=E.useRef(!1);return kM(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Uh({fromRouteId:e},s)))},[t,e])}const CR={};function a6(t,e,n){!e&&!CR[t]&&(CR[t]=!0)}function la(t){Qt(!1)}function l6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=no.Pop,navigator:s,static:o=!1,future:a}=t;Xf()&&Qt(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Uh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Sc(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=E.useMemo(()=>{let v=Tb(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return g==null?null:E.createElement(vl.Provider,{value:u},E.createElement(l_.Provider,{children:n,value:g}))}function u6(t){let{children:e,location:n}=t;return Q3(jE(e),n)}new Promise(()=>{});function jE(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,jE(r.props.children,s));return}r.type!==la&&Qt(!1),!r.props.index||!r.props.children||Qt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jE(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(this,arguments)}function c6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function d6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h6(t,e){return t.button===0&&(!e||e==="_self")&&!d6(t)}const f6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],p6="startTransition",xR=Bu[p6];function m6(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=v3({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=E.useCallback(d=>{u&&xR?xR(()=>l(d)):l(d)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(l6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const g6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=c6(e,f6),{basename:f}=E.useContext(vl),p,g=!1;if(typeof u=="string"&&y6.test(u)&&(p=u,g6))try{let _=new URL(window.location.href),w=u.startsWith("//")?new URL(_.protocol+u):new URL(u),I=Tb(w.pathname,f);w.origin===_.origin&&I!=null?u=I+w.search+w.hash:g=!0}catch{}let v=H3(u,{relative:i}),m=_6(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function y(_){r&&r(_),_.defaultPrevented||m(_)}return E.createElement("a",zE({},h,{href:p||v,onClick:g||s?r:y,ref:n,target:l}))});var RR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(RR||(RR={}));var PR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(PR||(PR={}));function _6(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=G3(),u=u_(),c=NM(t,{relative:o});return E.useCallback(d=>{if(h6(d,n)){d.preventDefault();let h=r!==void 0?r:Lg(u)===Lg(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function vn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var v6=typeof Symbol=="function"&&Symbol.observable||"@@observable",AR=v6,X0=()=>Math.random().toString(36).substring(7).split("").join("."),w6={INIT:`@@redux/INIT${X0()}`,REPLACE:`@@redux/REPLACE${X0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${X0()}`},$g=w6;function bb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function MM(t,e,n){if(typeof t!="function")throw new Error(vn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vn(1));return n(MM)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((v,m)=>{o.set(m,v)}))}function c(){if(l)throw new Error(vn(3));return i}function d(v){if(typeof v!="function")throw new Error(vn(4));if(l)throw new Error(vn(5));let m=!0;u();const y=a++;return o.set(y,v),function(){if(m){if(l)throw new Error(vn(6));m=!1,u(),o.delete(y),s=null}}}function h(v){if(!bb(v))throw new Error(vn(7));if(typeof v.type>"u")throw new Error(vn(8));if(typeof v.type!="string")throw new Error(vn(17));if(l)throw new Error(vn(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=o).forEach(y=>{y()}),v}function f(v){if(typeof v!="function")throw new Error(vn(10));r=v,h({type:$g.REPLACE})}function p(){const v=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(vn(11));function y(){const w=m;w.next&&w.next(c())}return y(),{unsubscribe:v(y)}},[AR](){return this}}}return h({type:$g.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:f,[AR]:p}}function E6(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:$g.INIT})>"u")throw new Error(vn(12));if(typeof n(void 0,{type:$g.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vn(13))})}function T6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{E6(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],f=o[d],p=h(f,a);if(typeof p>"u")throw a&&a.type,new Error(vn(14));u[d]=p,l=l||p!==f}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Vg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function I6(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(vn(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=Vg(...a)(i.dispatch),{...i,dispatch:s}}}function b6(t){return bb(t)&&"type"in t&&typeof t.type=="string"}var LM=Symbol.for("immer-nothing"),kR=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function pi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Qu=Object.getPrototypeOf;function xo(t){return!!t&&!!t[Dr]}function Ss(t){var e;return t?FM(t)||Array.isArray(t)||!!t[kR]||!!((e=t.constructor)!=null&&e[kR])||d_(t)||h_(t):!1}var S6=Object.prototype.constructor.toString();function FM(t){if(!t||typeof t!="object")return!1;const e=Qu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===S6}function Bh(t,e){c_(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function c_(t){const e=t[Dr];return e?e.type_:Array.isArray(t)?1:d_(t)?2:h_(t)?3:0}function WE(t,e){return c_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $M(t,e,n){const r=c_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function C6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function d_(t){return t instanceof Map}function h_(t){return t instanceof Set}function ua(t){return t.copy_||t.base_}function qE(t,e){if(d_(t))return new Map(t);if(h_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&FM(t))return Qu(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Dr];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Qu(t),n)}function Sb(t,e=!1){return f_(t)||xo(t)||!Ss(t)||(c_(t)>1&&(t.set=t.add=t.clear=t.delete=x6),Object.freeze(t),e&&Bh(t,(n,r)=>Sb(r,!0))),t}function x6(){pi(2)}function f_(t){return Object.isFrozen(t)}var R6={};function Ya(t){const e=R6[t];return e||pi(0,t),e}var jh;function VM(){return jh}function P6(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NR(t,e){e&&(Ya("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function HE(t){GE(t),t.drafts_.forEach(A6),t.drafts_=null}function GE(t){t===jh&&(jh=t.parent_)}function OR(t){return jh=P6(jh,t)}function A6(t){const e=t[Dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Dr].modified_&&(HE(e),pi(4)),Ss(t)&&(t=Ug(e,t),e.parent_||Bg(e,t)),e.patches_&&Ya("Patches").generateReplacementPatches_(n[Dr].base_,t,e.patches_,e.inversePatches_)):t=Ug(e,n,[]),HE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==LM?t:void 0}function Ug(t,e,n){if(f_(e))return e;const r=e[Dr];if(!r)return Bh(e,(i,s)=>MR(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Bg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Bh(s,(a,l)=>MR(t,r,i,a,l,n,o)),Bg(t,i,!1),n&&t.patches_&&Ya("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function MR(t,e,n,r,i,s,o){if(xo(i)){const a=s&&e&&e.type_!==3&&!WE(e.assigned_,r)?s.concat(r):void 0,l=Ug(t,i,a);if($M(n,r,l),xo(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Ss(i)&&!f_(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ug(t,i),(!e||!e.scope_.parent_)&&Bg(t,i)}}function Bg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Sb(e,n)}function k6(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:VM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Cb;n&&(i=[r],s=zh);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Cb={get(t,e){if(e===Dr)return t;const n=ua(t);if(!WE(n,e))return N6(t,n,e);const r=n[e];return t.finalized_||!Ss(r)?r:r===J0(t.base_,e)?(Z0(t),t.copy_[e]=QE(r,t)):r},has(t,e){return e in ua(t)},ownKeys(t){return Reflect.ownKeys(ua(t))},set(t,e,n){const r=UM(ua(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=J0(ua(t),e),s=i==null?void 0:i[Dr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(C6(n,i)&&(n!==void 0||WE(t.base_,e)))return!0;Z0(t),KE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return J0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Z0(t),KE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ua(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){pi(11)},getPrototypeOf(t){return Qu(t.base_)},setPrototypeOf(){pi(12)}},zh={};Bh(Cb,(t,e)=>{zh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zh.deleteProperty=function(t,e){return zh.set.call(this,t,e,void 0)};zh.set=function(t,e,n){return Cb.set.call(this,t[0],e,n,t[0])};function J0(t,e){const n=t[Dr];return(n?ua(n):t)[e]}function N6(t,e,n){var i;const r=UM(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function UM(t,e){if(!(e in t))return;let n=Qu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Qu(n)}}function KE(t){t.modified_||(t.modified_=!0,t.parent_&&KE(t.parent_))}function Z0(t){t.copy_||(t.copy_=qE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var O6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&pi(6),r!==void 0&&typeof r!="function"&&pi(7);let i;if(Ss(e)){const s=OR(this),o=QE(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?HE(s):GE(s)}return NR(s,r),DR(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===LM&&(i=void 0),this.autoFreeze_&&Sb(i,!0),r){const s=[],o=[];Ya("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else pi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ss(t)||pi(8),xo(t)&&(t=BM(t));const e=OR(this),n=QE(t,void 0);return n[Dr].isManual_=!0,GE(e),n}finishDraft(t,e){const n=t&&t[Dr];(!n||!n.isManual_)&&pi(9);const{scope_:r}=n;return NR(r,e),DR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ya("Patches").applyPatches_;return xo(t)?r(t,e):this.produce(t,i=>r(i,e))}};function QE(t,e){const n=d_(t)?Ya("MapSet").proxyMap_(t,e):h_(t)?Ya("MapSet").proxySet_(t,e):k6(t,e);return(e?e.scope_:VM()).drafts_.push(n),n}function BM(t){return xo(t)||pi(10,t),jM(t)}function jM(t){if(!Ss(t)||f_(t))return t;const e=t[Dr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=qE(t,e.scope_.immer_.useStrictShallowCopy_)}else n=qE(t,!0);return Bh(n,(r,i)=>{$M(n,r,jM(i))}),e&&(e.finalized_=!1),n}var Mr=new O6,zM=Mr.produce;Mr.produceWithPatches.bind(Mr);Mr.setAutoFreeze.bind(Mr);Mr.setUseStrictShallowCopy.bind(Mr);Mr.applyPatches.bind(Mr);Mr.createDraft.bind(Mr);Mr.finishDraft.bind(Mr);function D6(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function M6(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function L6(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var LR=t=>Array.isArray(t)?t:[t];function F6(t){const e=Array.isArray(t[0])?t[0]:t;return L6(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function $6(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var V6=class{constructor(t){this.value=t}deref(){return this.value}},U6=typeof WeakRef<"u"?WeakRef:V6,B6=0,FR=1;function om(){return{s:B6,v:void 0,o:null,p:null}}function xb(t,e={}){let n=om();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=a.o;g===null&&(a.o=g=new WeakMap);const v=g.get(p);v===void 0?(a=om(),g.set(p,a)):a=v}else{let g=a.p;g===null&&(a.p=g=new Map);const v=g.get(p);v===void 0?(a=om(),g.set(p,a)):a=v}}const u=a;let c;if(a.s===FR?c=a.v:(c=t.apply(null,arguments),s++),u.s=FR,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new U6(c):c}return u.v=c,c}return o.clearCache=()=>{n=om(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function WM(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),D6(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:f=xb,argsMemoizeOptions:p=[],devModeChecks:g={}}=c,v=LR(h),m=LR(p),y=F6(i),_=d(function(){return s++,u.apply(null,arguments)},...v),w=f(function(){o++;const b=$6(y,arguments);return a=_.apply(null,b),a},...m);return Object.assign(w,{resultFunc:u,memoizedResultFunc:_,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var j6=WM(xb),z6=Object.assign((t,e=j6)=>{M6(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>z6});function qM(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var W6=qM(),q6=qM,H6=(...t)=>{const e=WM(...t);return(...n)=>{const r=e(...n),i=(s,...o)=>r(xo(s)?BM(s):s,...o);return Object.assign(i,r),i}};H6(xb);var G6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vg:Vg.apply(null,arguments)},K6=t=>t&&typeof t.match=="function";function _o(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ei(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>b6(r)&&r.type===t,n}var HM=class Dd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Dd.prototype)}static get[Symbol.species](){return Dd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Dd(...e[0].concat(this)):new Dd(...e.concat(this))}};function $R(t){return Ss(t)?zM(t,()=>{}):t}function VR(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Ei(10));const r=n.insert(e,t);return t.set(e,r),r}function Q6(t){return typeof t=="boolean"}var Y6=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new HM;return n&&(Q6(n)?o.push(W6):o.push(q6(n.extraArgument))),o},X6="RTK_autoBatch",GM=t=>e=>{setTimeout(e,t)},J6=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:GM(10),Z6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?J6:t.type==="callback"?t.queueNotification:GM(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[X6]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},eW=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new HM(t);return r&&i.push(Z6(typeof r=="object"?r:void 0)),i},tW=!0;function nW(t){const e=Y6(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(bb(n))a=T6(n);else throw new Error(Ei(1));let l;typeof r=="function"?l=r(e):l=e();let u=Vg;i&&(u=G6({trace:!tW,...typeof i=="object"&&i}));const c=I6(...l),d=eW(c);let h=typeof o=="function"?o(d):d();const f=u(...h);return MM(a,s,f)}function KM(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Ei(28));if(a in e)throw new Error(Ei(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function rW(t){return typeof t=="function"}function iW(t,e){let[n,r,i]=KM(e),s;if(rW(t))s=()=>$R(t());else{const a=$R(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(xo(c)){const f=d(c,l);return f===void 0?c:f}else{if(Ss(c))return zM(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw new Error(Ei(9))}return h}}return c},a)}return o.getInitialState=s,o}var sW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oW=(t=21)=>{let e="",n=t;for(;n--;)e+=sW[Math.random()*64|0];return e},aW=(t,e)=>K6(t)?t.match(e):t(e);function lW(...t){return e=>t.some(n=>aW(n,e))}var uW=["name","message","stack","code"],ew=class{constructor(t,e){I0(this,"_type");this.payload=t,this.meta=e}},UR=class{constructor(t,e){I0(this,"_type");this.payload=t,this.meta=e}},cW=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of uW)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},QM=(()=>{function t(e,n,r){const i=_o(e+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),s=_o(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),o=_o(e+"/rejected",(l,u,c,d,h)=>({payload:d,error:(r&&r.serializeError||cW)(l||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(u,c,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):oW(),f=new AbortController;let p;function g(m){p=m,f.abort()}const v=async function(){var _,w;let m;try{let I=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:c,extra:d});if(hW(I)&&(I=await I),I===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const b=new Promise((T,R)=>f.signal.addEventListener("abort",()=>R({name:"AbortError",message:p||"Aborted"})));u(s(h,l,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:l},{getState:c,extra:d}))),m=await Promise.race([b,Promise.resolve(n(l,{dispatch:u,getState:c,extra:d,requestId:h,signal:f.signal,abort:g,rejectWithValue:(T,R)=>new ew(T,R),fulfillWithValue:(T,R)=>new UR(T,R)})).then(T=>{if(T instanceof ew)throw T;return T instanceof UR?i(T.payload,h,l,T.meta):i(T,h,l)})])}catch(I){m=I instanceof ew?o(null,h,l,I.payload,I.meta):o(I,h,l)}return r&&!r.dispatchConditionRejection&&o.match(m)&&m.meta.condition||u(m),m}();return Object.assign(v,{abort:g,requestId:h,arg:l,unwrap(){return v.then(dW)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:lW(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function dW(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function hW(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var fW=Symbol.for("rtk-slice-createasyncthunk");function pW(t,e){return`${t}/${e}`}function mW({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[fW];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Ei(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(yW()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(v,m){const y=typeof v=="string"?v:v.type;if(!y)throw new Error(Ei(12));if(y in u.sliceCaseReducersByType)throw new Error(Ei(13));return u.sliceCaseReducersByType[y]=m,c},addMatcher(v,m){return u.sliceMatchers.push({matcher:v,reducer:m}),c},exposeAction(v,m){return u.actionCreators[v]=m,c},exposeCaseReducer(v,m){return u.sliceCaseReducersByName[v]=m,c}};l.forEach(v=>{const m=a[v],y={reducerName:v,type:pW(s,v),createNotation:typeof i.reducers=="function"};vW(m)?EW(y,m,c,e):_W(y,m,c)});function d(){const[v={},m=[],y=void 0]=typeof i.extraReducers=="function"?KM(i.extraReducers):[i.extraReducers],_={...v,...u.sliceCaseReducersByType};return iW(i.initialState,w=>{for(let I in _)w.addCase(I,_[I]);for(let I of u.sliceMatchers)w.addMatcher(I.matcher,I.reducer);for(let I of m)w.addMatcher(I.matcher,I.reducer);y&&w.addDefaultCase(y)})}const h=v=>v,f=new WeakMap;let p;const g={name:s,reducerPath:o,reducer(v,m){return p||(p=d()),p(v,m)},actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState(){return p||(p=d()),p.getInitialState()},getSelectors(v=h){const m=VR(f,this,{insert:()=>new WeakMap});return VR(m,v,{insert:()=>{const y={};for(const[_,w]of Object.entries(i.selectors??{}))y[_]=gW(this,w,v,this!==g);return y}})},selectSlice(v){let m=v[this.reducerPath];return typeof m>"u"&&this!==g&&(m=this.getInitialState()),m},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(v,{reducerPath:m,...y}={}){const _=m??this.reducerPath;return v.inject({reducerPath:_,reducer:this.reducer},y),{...this,reducerPath:_}}};return g}}function gW(t,e,n,r){function i(s,...o){let a=n.call(t,s);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var YM=mW();function yW(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function _W({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!wW(r))throw new Error(Ei(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?_o(t,o):_o(t))}function vW(t){return t._reducerDefinitionType==="asyncThunk"}function wW(t){return t._reducerDefinitionType==="reducerWithPrepare"}function EW({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ei(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(t,s,c);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:o||am,pending:a||am,rejected:l||am,settled:u||am})}function am(){}var Rb="listenerMiddleware";_o(`${Rb}/add`);_o(`${Rb}/removeAll`);_o(`${Rb}/remove`);function Ei(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const TW={items:[]},XM=YM({initialState:TW,name:"cart",reducers:{addItem:(t,e)=>{t.items.push(e.payload)},decreaseItem:(t,e)=>{const n=t.items.find(r=>r.id===e.payload);n&&(n.quantity-=1)},deleteCart:t=>{t.items=[]},increaseItem:(t,e)=>{const n=t.items.find(r=>r.id===e.payload);n&&(n.quantity+=1)},removeItem:(t,e)=>{t.items=t.items.filter(n=>n.id!==e.payload)},setCart:(t,e)=>{t.items=e.payload}}}),{addItem:IW,decreaseItem:bW,deleteCart:SW,increaseItem:JM,removeItem:BR,setCart:CW}=XM.actions,xW=XM.reducer,RW=QM.withTypes();var jR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw Cc(e)},Cc=function(t){return new Error("Firebase Database ("+ZM.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new AW;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tL=function(t){const e=eL(t);return Pb.encodeByteArray(e,!0)},jg=function(t){return tL(t).replace(/\./g,"")},zg=function(t){try{return Pb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(t){return Wh(void 0,t)}function Wh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!NW(n)||(t[n]=Wh(t[n],e[n]));return t}function NW(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=()=>OW().__FIREBASE_DEFAULTS__,MW=()=>{if(typeof process>"u"||typeof jR>"u")return;const t=jR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zg(t[1]);return e&&JSON.parse(e)},p_=()=>{try{return DW()||MW()||LW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FW=t=>{var e,n;return(n=(e=p_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$W=t=>{const e=FW(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nL=()=>{var t;return(t=p_())===null||t===void 0?void 0:t.config},VW=t=>{var e;return(e=p_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jg(JSON.stringify(n)),jg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ab(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function kb(){var t;const e=(t=p_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UW(){return typeof self=="object"&&self.self===self}function iL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sL(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oL(){return ZM.NODE_ADMIN===!0}function BW(){return!kb()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qh(){try{return typeof indexedDB=="object"}catch{return!1}}function jW(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW="FirebaseError";class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zW,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?WW(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hn(i,a,r)}}function WW(t,e){return t.replace(qW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return JSON.parse(t)}function Jt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Hh(zg(s[0])||""),n=Hh(zg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},HW=function(t){const e=aL(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},GW=function(t){const e=aL(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function YE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function XE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(zR(s)&&zR(o)){if(!XE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Md(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function lL(t,e){const n=new QW(t,e);return n.subscribe.bind(n)}class QW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tw),i.error===void 0&&(i.error=tw),i.complete===void 0&&(i.complete=tw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tw(){}function Nb(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},y_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t){return t&&t._delegate?t._delegate:t}class Si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e9(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZW(t){return t===ca?void 0:t}function e9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=[];var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const uL={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},n9=Ce.INFO,r9={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},i9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=r9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jf{constructor(e){this.name=e,this._logLevel=n9,this._logHandler=i9,this._userLogHandler=null,Ob.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}function s9(t){Ob.forEach(e=>{e.setLogLevel(t)})}function o9(t,e){for(const n of Ob){let r=null;e&&e.level&&(r=uL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Ce[s].toLowerCase(),message:a,args:o,type:i.name})}}}const a9=(t,e)=>e.some(n=>t instanceof n);let WR,qR;function l9(){return WR||(WR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u9(){return qR||(qR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cL=new WeakMap,JE=new WeakMap,dL=new WeakMap,nw=new WeakMap,Db=new WeakMap;function c9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cL.set(n,t)}).catch(()=>{}),Db.set(e,t),e}function d9(t){if(JE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});JE.set(t,e)}let ZE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return JE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h9(t){ZE=t(ZE)}function f9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rw(this),e,...n);return dL.set(r,e.sort?e.sort():[e]),vo(r)}:u9().includes(t)?function(...e){return t.apply(rw(this),e),vo(cL.get(this))}:function(...e){return vo(t.apply(rw(this),e))}}function p9(t){return typeof t=="function"?f9(t):(t instanceof IDBTransaction&&d9(t),a9(t,l9())?new Proxy(t,ZE):t)}function vo(t){if(t instanceof IDBRequest)return c9(t);if(nw.has(t))return nw.get(t);const e=p9(t);return e!==t&&(nw.set(t,e),Db.set(e,t)),e}const rw=t=>Db.get(t);function m9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vo(o.result),l.oldVersion,l.newVersion,vo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const g9=["get","getKey","getAll","getAllKeys","count"],y9=["put","add","delete","clear"],iw=new Map;function HR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iw.get(e))return iw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=y9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return iw.set(e,s),s}h9(t=>({...t,get:(e,n,r)=>HR(e,n)||t.get(e,n,r),has:(e,n)=>!!HR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function v9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eT="@firebase/app",GR="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Jf("@firebase/app"),w9="@firebase/app-compat",E9="@firebase/analytics-compat",T9="@firebase/analytics",I9="@firebase/app-check-compat",b9="@firebase/app-check",S9="@firebase/auth",C9="@firebase/auth-compat",x9="@firebase/database",R9="@firebase/database-compat",P9="@firebase/functions",A9="@firebase/functions-compat",k9="@firebase/installations",N9="@firebase/installations-compat",O9="@firebase/messaging",D9="@firebase/messaging-compat",M9="@firebase/performance",L9="@firebase/performance-compat",F9="@firebase/remote-config",$9="@firebase/remote-config-compat",V9="@firebase/storage",U9="@firebase/storage-compat",B9="@firebase/firestore",j9="@firebase/firestore-compat",z9="firebase",W9="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]",q9={[eT]:"fire-core",[w9]:"fire-core-compat",[T9]:"fire-analytics",[E9]:"fire-analytics-compat",[b9]:"fire-app-check",[I9]:"fire-app-check-compat",[S9]:"fire-auth",[C9]:"fire-auth-compat",[x9]:"fire-rtdb",[R9]:"fire-rtdb-compat",[P9]:"fire-fn",[A9]:"fire-fn-compat",[k9]:"fire-iid",[N9]:"fire-iid-compat",[O9]:"fire-fcm",[D9]:"fire-fcm-compat",[M9]:"fire-perf",[L9]:"fire-perf-compat",[F9]:"fire-rc",[$9]:"fire-rc-compat",[V9]:"fire-gcs",[U9]:"fire-gcs-compat",[B9]:"fire-fst",[j9]:"fire-fst-compat","fire-js":"fire-js",[z9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,Gh=new Map;function qg(t,e){try{t.container.addComponent(e)}catch(n){Xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hL(t,e){t.container.addOrOverwriteComponent(e)}function Cs(t){const e=t.name;if(Gh.has(e))return Xa.debug(`There were multiple attempts to register component ${e}.`),!1;Gh.set(e,t);for(const n of Po.values())qg(n,t);return!0}function Mb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function H9(t,e,n=Ro){Mb(t,e).clearInstance(n)}function G9(){Gh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_s=new El("app","Firebase",K9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q9=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=W9;function __(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ro,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _s.create("bad-app-name",{appName:String(i)});if(n||(n=nL()),!n)throw _s.create("no-options");const s=Po.get(i);if(s){if(XE(n,s.options)&&XE(r,s.config))return s;throw _s.create("duplicate-app",{appName:i})}const o=new t9(i);for(const l of Gh.values())o.addComponent(l);const a=new Q9(n,r,o);return Po.set(i,a),a}function fL(t=Ro){const e=Po.get(t);if(!e&&t===Ro&&nL())return __();if(!e)throw _s.create("no-app",{appName:t});return e}function Y9(){return Array.from(Po.values())}async function pL(t){const e=t.name;Po.has(e)&&(Po.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function kr(t,e,n){var r;let i=(r=q9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xa.warn(a.join(" "));return}Cs(new Si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function mL(t,e){if(t!==null&&typeof t!="function")throw _s.create("invalid-log-argument");o9(t,e)}function gL(t){s9(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="firebase-heartbeat-database",J9=1,Kh="firebase-heartbeat-store";let sw=null;function yL(){return sw||(sw=m9(X9,J9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Kh)}}}).catch(t=>{throw _s.create("idb-open",{originalErrorMessage:t.message})})),sw}async function Z9(t){try{return await(await yL()).transaction(Kh).objectStore(Kh).get(_L(t))}catch(e){if(e instanceof Hn)Xa.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xa.warn(n.message)}}}async function KR(t,e){try{const r=(await yL()).transaction(Kh,"readwrite");await r.objectStore(Kh).put(e,_L(t)),await r.done}catch(n){if(n instanceof Hn)Xa.warn(n.message);else{const r=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xa.warn(r.message)}}}function _L(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=1024,tq=30*24*60*60*1e3;class nq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QR();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=tq}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QR(),{heartbeatsToSend:r,unsentEntries:i}=rq(this._heartbeatsCache.heartbeats),s=jg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function QR(){return new Date().toISOString().substring(0,10)}function rq(t,e=eq){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qh()?jW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return KR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return KR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YR(t){return jg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(t){Cs(new Si("platform-logger",e=>new _9(e),"PRIVATE")),Cs(new Si("heartbeat",e=>new nq(e),"PRIVATE")),kr(eT,GR,t),kr(eT,GR,"esm2017"),kr("fire-js","")}sq("");const oq=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Hn,SDK_VERSION:Os,_DEFAULT_ENTRY_NAME:Ro,_addComponent:qg,_addOrOverwriteComponent:hL,_apps:Po,_clearComponents:G9,_components:Gh,_getProvider:Mb,_registerComponent:Cs,_removeServiceInstance:H9,deleteApp:pL,getApp:fL,getApps:Y9,initializeApp:__,onLog:mL,registerVersion:kr,setLogLevel:gL},Symbol.toStringTag,{value:"Module"}));var XR={};const JR="@firebase/database",ZR="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vL="";function aq(t){vL=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Hh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return bi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lq(e)}}catch{}return new uq},Ca=wL("localStorage"),tT=wL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Jf("@firebase/database"),cq=function(){let t=1;return function(){return t++}}(),EL=function(t){const e=XW(t),n=new KW;n.update(e);const r=n.digest();return Pb.encodeByteArray(r)},Zf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Zf.apply(null,r):typeof r=="object"?e+=Jt(r):e+=r,e+=" "}return e};let Fa=null,eP=!0;const dq=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ru.logLevel=Ce.VERBOSE,Fa=Ru.log.bind(Ru),e&&tT.set("logging_enabled",!0)):typeof t=="function"?Fa=t:(Fa=null,tT.remove("logging_enabled"))},Mn=function(...t){if(eP===!0&&(eP=!1,Fa===null&&tT.get("logging_enabled")===!0&&dq(!0)),Fa){const e=Zf.apply(null,t);Fa(e)}},ep=function(t){return function(...e){Mn(t,...e)}},nT=function(...t){const e="FIREBASE INTERNAL ERROR: "+Zf(...t);Ru.error(e)},xs=function(...t){const e=`FIREBASE FATAL ERROR: ${Zf(...t)}`;throw Ru.error(e),new Error(e)},cr=function(...t){const e="FIREBASE WARNING: "+Zf(...t);Ru.warn(e)},hq=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},TL=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fq=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xu="[MIN_NAME]",Ja="[MAX_NAME]",xc=function(t,e){if(t===e)return 0;if(t===Xu||e===Ja)return-1;if(e===Xu||t===Ja)return 1;{const n=tP(t),r=tP(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},pq=function(t,e){return t===e?0:t<e?-1:1},ad=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Jt(e))},Lb=function(t){if(typeof t!="object"||t===null)return Jt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Jt(e[r]),n+=":",n+=Lb(t[e[r]]);return n+="}",n},IL=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function pr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const bL=function(t){G(!TL(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},mq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yq(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const _q=new RegExp("^-?(0*)\\d{1,10}$"),vq=-2147483648,wq=2147483647,tP=function(t){if(_q.test(t)){const e=Number(t);if(e>=vq&&e<=wq)return e}return null},Rc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw cr("Exception was thrown by user callback.",n),e},Math.floor(0))}},Eq=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},th=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){cr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cr(e)}}class Pu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="5",SL="v",CL="s",xL="r",RL="f",PL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AL="ls",kL="p",rT="ac",NL="websocket",OL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ca.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ca.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function bq(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ML(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===NL)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===OL)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bq(t)&&(n.ns=t.namespace);const i=[];return pr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(){this.counters_={}}incrementCounter(e,n=1){bi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return kW(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={},aw={};function $b(t){const e=t.toString();return ow[e]||(ow[e]=new Sq),ow[e]}function Cq(t,e){const n=t.toString();return aw[n]||(aw[n]=e()),aw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Rc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="start",Rq="close",Pq="pLPCommand",Aq="pRTLPCB",LL="id",FL="pw",$L="ser",kq="cb",Nq="seg",Oq="ts",Dq="d",Mq="dframe",VL=1870,UL=30,Lq=VL-UL,Fq=25e3,$q=3e4;class vu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ep(e),this.stats_=$b(n),this.urlFn=l=>(this.appCheckToken&&(l[rT]=this.appCheckToken),ML(n,OL,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($q)),fq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vb((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nP)this.id=a,this.password=l;else if(o===Rq)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[nP]="t",r[$L]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[kq]=this.scriptTagHolder.uniqueCallbackIdentifier),r[SL]=Fb,this.transportSessionId&&(r[CL]=this.transportSessionId),this.lastSessionId&&(r[AL]=this.lastSessionId),this.applicationId&&(r[kL]=this.applicationId),this.appCheckToken&&(r[rT]=this.appCheckToken),typeof location<"u"&&location.hostname&&PL.test(location.hostname)&&(r[xL]=RL);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vu.forceAllow_=!0}static forceDisallow(){vu.forceDisallow_=!0}static isAvailable(){return vu.forceAllow_?!0:!vu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mq()&&!gq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=tL(n),i=IL(r,Lq);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Mq]="t",r[LL]=e,r[FL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Jt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Vb{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cq(),window[Pq+this.uniqueCallbackIdentifier]=e,window[Aq+this.uniqueCallbackIdentifier]=n,this.myIFrame=Vb.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Mn("frame writing exception"),a.stack&&Mn(a.stack),Mn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Mn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[LL]=this.myID,e[FL]=this.myPW,e[$L]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+UL+r.length<=VL;){const o=this.pendingSegs.shift();r=r+"&"+Nq+i+"="+o.seg+"&"+Oq+i+"="+o.ts+"&"+Dq+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Fq)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=16384,Uq=45e3;let Hg=null;typeof MozWebSocket<"u"?Hg=MozWebSocket:typeof WebSocket<"u"&&(Hg=WebSocket);class mi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ep(this.connId),this.stats_=$b(n),this.connURL=mi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[SL]=Fb,typeof location<"u"&&location.hostname&&PL.test(location.hostname)&&(o[xL]=RL),n&&(o[CL]=n),r&&(o[AL]=r),i&&(o[rT]=i),s&&(o[kL]=s),ML(e,NL,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ca.set("previous_websocket_failure",!0);try{let r;oL(),this.mySock=new Hg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){mi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Hg!==null&&!mi.forceDisallow_}static previouslyFailed(){return Ca.isInMemoryStorage||Ca.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ca.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Hh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=IL(n,Vq);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Uq))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mi.responsesRequiredToBeHealthy=2;mi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[vu,mi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=mi&&mi.isAvailable();let r=n&&!mi.previouslyFailed();if(e.webSocketOnly&&(n||cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[mi];else{const i=this.transports_=[];for(const s of Qh.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Qh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=6e4,jq=5e3,zq=10*1024,Wq=100*1024,lw="t",rP="d",qq="s",iP="r",Hq="e",sP="o",oP="a",aP="n",lP="p",Gq="h";class Kq{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ep("c:"+this.id+":"),this.transportManager_=new Qh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=th(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Wq?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zq?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(lw in e){const n=e[lw];n===oP?this.upgradeIfSecondaryHealthy_():n===iP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ad("t",e),r=ad("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:oP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:aP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ad("t",e),r=ad("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ad(lw,e);if(rP in e){const r=e[rP];if(n===Gq){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===aP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qq?this.onConnectionShutdown_(r):n===iP?this.onReset_(r):n===Hq?nT("Server Error: "+r):n===sP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nT("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Fb!==r&&cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),th(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Bq))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):th(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jq))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lP,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ca.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends jL{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ab()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gg}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=32,cP=768;class it{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ge(){return new it("")}function Ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ao(t){return t.pieces_.length-t.pieceNum_}function at(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new it(t.pieces_,e)}function zL(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Qq(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function WL(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function qL(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new it(e,0)}function Zt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof it)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new it(n,0)}function Pe(t){return t.pieceNum_>=t.pieces_.length}function zn(t,e){const n=Ne(t),r=Ne(e);if(n===null)return e;if(n===r)return zn(at(t),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function HL(t,e){if(Ao(t)!==Ao(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ao(t)>Ao(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Yq{constructor(e,n){this.errorPrefix_=n,this.parts_=WL(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=y_(this.parts_[r]);GL(this)}}function Xq(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=y_(e),GL(t)}function Jq(t){const e=t.parts_.pop();t.byteLength_-=y_(e),t.parts_.length>0&&(t.byteLength_-=1)}function GL(t){if(t.byteLength_>cP)throw new Error(t.errorPrefix_+"has a key path longer than "+cP+" bytes ("+t.byteLength_+").");if(t.parts_.length>uP)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uP+") or object contains a cycle "+da(t))}function da(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends jL{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ub}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=1e3,Zq=60*5*1e3,dP=30*1e3,e8=1.3,t8=3e4,n8="server_kill",hP=3;class vs extends BL{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=vs.nextPersistentConnectionId_++,this.log_=ep("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ld,this.maxReconnectDelay_=Zq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!oL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ub.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Gg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Jt(s)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new m_,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;vs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&bi(e,"w")){const r=Yu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();cr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||GW(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dP)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=HW(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Jt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):nT("Unrecognized action received from server: "+Jt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ld,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ld,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>t8&&(this.reconnectDelay_=ld),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*e8)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+vs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Mn("getToken() completed but was canceled"):(Mn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Kq(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{cr(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(n8)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&cr(d),l())}}}interrupt(e){Mn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],YE(this.interruptReasons_)&&(this.reconnectDelay_=ld,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Lb(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new it(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Mn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hP&&(this.reconnectDelay_=dP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Mn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+vL.replace(/\./g,"-")]=1,Ab()?e["framework.cordova"]=1:g_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Gg.getInstance().currentlyOnline();return YE(this.interruptReasons_)&&e}}vs.nextPersistentConnectionId_=0;vs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new xe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new xe(Xu,e),i=new xe(Xu,n);return this.compare(r,i)!==0}minPost(){return xe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm;class KL extends v_{static get __EMPTY_NODE(){return lm}static set __EMPTY_NODE(e){lm=e}compare(e,n){return xc(e.name,n.name)}isDefinedOn(e){throw Cc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return xe.MIN}maxPost(){return new xe(Ja,lm)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new xe(e,lm)}toString(){return".key"}}const Au=new KL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Er=class Ld{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ld.RED,this.left=i??ji.EMPTY_NODE,this.right=s??ji.EMPTY_NODE}copy(e,n,r,i,s){return new Ld(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ji.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ji.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ld.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ld.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Er.RED=!0;Er.BLACK=!1;class r8{copy(e,n,r,i,s){return this}insert(e,n,r){return new Er(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ji=class Wm{constructor(e,n=Wm.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Wm(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Er.BLACK,null,null))}remove(e){return new Wm(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Er.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new um(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new um(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new um(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new um(this.root_,null,this.comparator_,!0,e)}};ji.EMPTY_NODE=new r8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(t,e){return xc(t.name,e.name)}function Bb(t,e){return xc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iT;function s8(t){iT=t}const QL=function(t){return typeof t=="number"?"number:"+bL(t):"string:"+t},YL=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bi(e,".sv"),"Priority must be a string or number.")}else G(t===iT||t.isEmpty(),"priority of unexpected type.");G(t===iT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fP;class rn{constructor(e,n=rn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YL(this.priorityNode_)}static set __childrenNodeConstructor(e){fP=e}static get __childrenNodeConstructor(){return fP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pe(e)?this:Ne(e)===".priority"?this.priorityNode_:rn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:rn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||Ao(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,rn.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+QL(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=bL(this.value_):e+=this.value_,this.lazyHash_=EL(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rn.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=rn.VALUE_TYPE_ORDER.indexOf(n),s=rn.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}rn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XL,JL;function o8(t){XL=t}function a8(t){JL=t}class l8 extends v_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?xc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe(Ja,new rn("[PRIORITY-POST]",JL))}makePost(e,n){const r=XL(e);return new xe(n,new rn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Dt=new l8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=Math.log(2);class c8{constructor(e){const n=s=>parseInt(Math.log(s)/u8,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Kg=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Er(h,d.node,Er.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new Er(h,d.node,Er.BLACK,p,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const v=d-p,m=d;d-=p;const y=i(v+1,m),_=t[v],w=n?n(_):_;f(new Er(w,_.node,g,null,y))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));g?h(v,Er.BLACK):(h(v,Er.BLACK),h(v,Er.RED))}return c},o=new c8(t.length),a=s(o);return new ji(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uw;const Ul={};class fs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Ul&&Dt,"ChildrenNode.ts has not been loaded"),uw=uw||new fs({".priority":Ul},{".priority":Dt}),uw}get(e){const n=Yu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ji?n:null}hasIndex(e){return bi(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Au,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(xe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Kg(r,e.getCompare()):a=Ul;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new fs(c,u)}addToIndexes(e,n){const r=Wg(this.indexes_,(i,s)=>{const o=Yu(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===Ul)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(xe.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Kg(a,o.getCompare())}else return Ul;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new xe(e.name,a))),l.insert(e,e.node)}});return new fs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Wg(this.indexes_,i=>{if(i===Ul)return i;{const s=n.get(e.name);return s?i.remove(new xe(e.name,s)):i}});return new fs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud;class me{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&YL(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ud||(ud=new me(new ji(Bb),null,fs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ud}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ud:n}}getChild(e){const n=Ne(e);return n===null?this:this.getImmediateChild(n).getChild(at(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new xe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ud:this.priorityNode_;return new me(i,o,s)}}updateChild(e,n){const r=Ne(e);if(r===null)return n;{G(Ne(e)!==".priority"||Ao(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(at(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Dt,(o,a)=>{n[o]=a.val(e),r++,s&&me.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+QL(this.getPriority().val())+":"),this.forEachChild(Dt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":EL(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new xe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new xe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new xe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,xe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,xe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tp?-1:0}withIndex(e){if(e===Au||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Au||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Dt),i=n.getIterator(Dt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Au?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class d8 extends me{constructor(){super(new ji(Bb),me.EMPTY_NODE,fs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const tp=new d8;Object.defineProperties(xe,{MIN:{value:new xe(Xu,me.EMPTY_NODE)},MAX:{value:new xe(Ja,tp)}});KL.__EMPTY_NODE=me.EMPTY_NODE;rn.__childrenNodeConstructor=me;s8(tp);a8(tp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=!0;function ln(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new rn(n,ln(e))}if(!(t instanceof Array)&&h8){const n=[];let r=!1;if(pr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ln(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new xe(o,l)))}}),n.length===0)return me.EMPTY_NODE;const s=Kg(n,i8,o=>o.name,Bb);if(r){const o=Kg(n,Dt.getCompare());return new me(s,ln(e),new fs({".priority":o},{".priority":Dt}))}else return new me(s,ln(e),fs.Default)}else{let n=me.EMPTY_NODE;return pr(t,(r,i)=>{if(bi(t,r)&&r.substring(0,1)!=="."){const s=ln(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ln(e))}}o8(ln);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8 extends v_{constructor(e){super(),this.indexPath_=e,G(!Pe(e)&&Ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?xc(e.name,n.name):s}makePost(e,n){const r=ln(e),i=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new xe(n,i)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,tp);return new xe(Ja,e)}toString(){return WL(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8 extends v_{compare(e,n){const r=e.node.compareTo(n.node);return r===0?xc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(e,n){const r=ln(e);return new xe(n,r)}toString(){return".value"}}const m8=new p8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){return{type:"value",snapshotNode:t}}function Ju(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function g8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Yh(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ju(n,r)):o.trackChildChange(Xh(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Dt,(i,s)=>{n.hasChild(i)||r.trackChildChange(Yh(i,s))}),n.isLeafNode()||n.forEachChild(Dt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Xh(i,s,o))}else r.trackChildChange(Ju(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.indexedFilter_=new jb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Jh.getStartPost_(e),this.endPost_=Jh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new xe(n,r))||(r=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=me.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(me.EMPTY_NODE);const s=this;return n.forEachChild(Dt,(o,a)=>{s.matches(new xe(o,a))||(i=i.updateImmediateChild(o,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Jh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new xe(n,r))||(r=me.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=me.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(me.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new xe(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(Xh(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Yh(n,d));const g=a.updateImmediateChild(n,me.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Ju(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Yh(u.name,u.node)),s.trackChildChange(Ju(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,me.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xu}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ja}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dt}copy(){const e=new zb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _8(t){return t.loadsAllData()?new jb(t.getIndex()):t.hasLimit()?new y8(t):new Jh(t)}function pP(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Dt?n="$priority":t.index_===m8?n="$value":t.index_===Au?n="$key":(G(t.index_ instanceof f8,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Jt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Jt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Jt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Jt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Jt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function mP(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Dt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends BL{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ep("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Qg.getListenId_(e,r),a={};this.listens_[o]=a;const l=pP(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Yu(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Qg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=pP(e._queryParams),r=e._path.toString(),i=new m_;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Tl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Hh(a.responseText)}catch{cr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&cr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(){return{value:null,children:new Map}}function eF(t,e,n){if(Pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ne(e);t.children.has(r)||t.children.set(r,Yg());const i=t.children.get(r);e=at(e),eF(i,e,n)}}function sT(t,e,n){t.value!==null?n(e,t.value):w8(t,(r,i)=>{const s=new it(e.toString()+"/"+r);sT(i,s,n)})}function w8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&pr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=10*1e3,T8=30*1e3,I8=5*60*1e3;class b8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new E8(e);const r=gP+(T8-gP)*Math.random();th(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;pr(e,(i,s)=>{s>0&&bi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),th(this.reportStats_.bind(this),Math.floor(Math.random()*2*I8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yi||(yi={}));function tF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=yi.ACK_USER_WRITE,this.source=tF()}operationForChild(e){if(Pe(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new it(e));return new Xg(Ge(),n,this.revert)}}else return G(Ne(this.path)===e,"operationForChild called for unrelated child."),new Xg(at(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.source=e,this.path=n,this.type=yi.LISTEN_COMPLETE}operationForChild(e){return Pe(this.path)?new Zh(this.source,Ge()):new Zh(this.source,at(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=yi.OVERWRITE}operationForChild(e){return Pe(this.path)?new Za(this.source,Ge(),this.snap.getImmediateChild(e)):new Za(this.source,at(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=yi.MERGE}operationForChild(e){if(Pe(this.path)){const n=this.children.subtree(new it(e));return n.isEmpty()?null:n.value?new Za(this.source,Ge(),n.value):new ef(this.source,Ge(),n)}else return G(Ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ef(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function C8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(g8(o.childName,o.snapshotNode))}),cd(t,i,"child_removed",e,r,n),cd(t,i,"child_added",e,r,n),cd(t,i,"child_moved",s,r,n),cd(t,i,"child_changed",e,r,n),cd(t,i,"value",e,r,n),i}function cd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>R8(t,a,l)),o.forEach(a=>{const l=x8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function x8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function R8(t,e,n){if(e.childName==null||n.childName==null)throw Cc("Should only compare child_ events.");const r=new xe(e.childName,e.snapshotNode),i=new xe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e){return{eventCache:t,serverCache:e}}function nh(t,e,n,r){return w_(new ko(e,n,r),t.serverCache)}function nF(t,e,n,r){return w_(t.eventCache,new ko(e,n,r))}function Jg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function el(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cw;const P8=()=>(cw||(cw=new ji(pq)),cw);class ht{constructor(e,n=P8()){this.value=e,this.children=n}static fromObject(e){let n=new ht(null);return pr(e,(r,i)=>{n=n.set(new it(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ge(),value:this.value};if(Pe(e))return null;{const r=Ne(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(at(e),n);return s!=null?{path:Zt(new it(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pe(e))return this;{const n=Ne(e),r=this.children.get(n);return r!==null?r.subtree(at(e)):new ht(null)}}set(e,n){if(Pe(e))return new ht(n,this.children);{const r=Ne(e),s=(this.children.get(r)||new ht(null)).set(at(e),n),o=this.children.insert(r,s);return new ht(this.value,o)}}remove(e){if(Pe(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const n=Ne(e),r=this.children.get(n);if(r){const i=r.remove(at(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ht(null):new ht(this.value,s)}else return this}}get(e){if(Pe(e))return this.value;{const n=Ne(e),r=this.children.get(n);return r?r.get(at(e)):null}}setTree(e,n){if(Pe(e))return n;{const r=Ne(e),s=(this.children.get(r)||new ht(null)).setTree(at(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ht(this.value,o)}}fold(e){return this.fold_(Ge(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Zt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ge(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Pe(e))return null;{const s=Ne(e),o=this.children.get(s);return o?o.findOnPath_(at(e),Zt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ge(),n)}foreachOnPath_(e,n,r){if(Pe(e))return this;{this.value&&r(n,this.value);const i=Ne(e),s=this.children.get(i);return s?s.foreachOnPath_(at(e),Zt(n,i),r):new ht(null)}}foreach(e){this.foreach_(Ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Zt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.writeTree_=e}static empty(){return new Ti(new ht(null))}}function rh(t,e,n){if(Pe(e))return new Ti(new ht(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=zn(i,e);return s=s.updateChild(o,n),new Ti(t.writeTree_.set(i,s))}else{const i=new ht(n),s=t.writeTree_.setTree(e,i);return new Ti(s)}}}function yP(t,e,n){let r=t;return pr(n,(i,s)=>{r=rh(r,Zt(e,i),s)}),r}function _P(t,e){if(Pe(e))return Ti.empty();{const n=t.writeTree_.setTree(e,new ht(null));return new Ti(n)}}function oT(t,e){return Il(t,e)!=null}function Il(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(zn(n.path,e)):null}function vP(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Dt,(r,i)=>{e.push(new xe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new xe(r,i.value))}),e}function wo(t,e){if(Pe(e))return t;{const n=Il(t,e);return n!=null?new Ti(new ht(n)):new Ti(t.writeTree_.subtree(e))}}function aT(t){return t.writeTree_.isEmpty()}function Zu(t,e){return rF(Ge(),t.writeTree_,e)}function rF(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=rF(Zt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Zt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t,e){return aF(e,t)}function A8(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=rh(t.visibleWrites,e,n)),t.lastWriteId=r}function k8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function N8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&O8(a,r.path)?i=!1:gi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return D8(t),!0;if(r.snap)t.visibleWrites=_P(t.visibleWrites,r.path);else{const a=r.children;pr(a,l=>{t.visibleWrites=_P(t.visibleWrites,Zt(r.path,l))})}return!0}else return!1}function O8(t,e){if(t.snap)return gi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gi(Zt(t.path,n),e))return!0;return!1}function D8(t){t.visibleWrites=iF(t.allWrites,M8,Ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function M8(t){return t.visible}function iF(t,e,n){let r=Ti.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)gi(n,o)?(a=zn(n,o),r=rh(r,a,s.snap)):gi(o,n)&&(a=zn(o,n),r=rh(r,Ge(),s.snap.getChild(a)));else if(s.children){if(gi(n,o))a=zn(n,o),r=yP(r,a,s.children);else if(gi(o,n))if(a=zn(o,n),Pe(a))r=yP(r,Ge(),s.children);else{const l=Yu(s.children,Ne(a));if(l){const u=l.getChild(at(a));r=rh(r,Ge(),u)}}}else throw Cc("WriteRecord should have .snap or .children")}}return r}function sF(t,e,n,r,i){if(!r&&!i){const s=Il(t.visibleWrites,e);if(s!=null)return s;{const o=wo(t.visibleWrites,e);if(aT(o))return n;if(n==null&&!oT(o,Ge()))return null;{const a=n||me.EMPTY_NODE;return Zu(o,a)}}}else{const s=wo(t.visibleWrites,e);if(!i&&aT(s))return n;if(!i&&n==null&&!oT(s,Ge()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(gi(u.path,e)||gi(e,u.path))},a=iF(t.allWrites,o,e),l=n||me.EMPTY_NODE;return Zu(a,l)}}}function L8(t,e,n){let r=me.EMPTY_NODE;const i=Il(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Dt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=wo(t.visibleWrites,e);return n.forEachChild(Dt,(o,a)=>{const l=Zu(wo(s,new it(o)),a);r=r.updateImmediateChild(o,l)}),vP(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=wo(t.visibleWrites,e);return vP(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function F8(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Zt(e,n);if(oT(t.visibleWrites,s))return null;{const o=wo(t.visibleWrites,s);return aT(o)?i.getChild(n):Zu(o,i.getChild(n))}}function $8(t,e,n,r){const i=Zt(e,n),s=Il(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=wo(t.visibleWrites,i);return Zu(o,r.getNode().getImmediateChild(n))}else return null}function V8(t,e){return Il(t.visibleWrites,e)}function U8(t,e,n,r,i,s,o){let a;const l=wo(t.visibleWrites,e),u=Il(l,Ge());if(u!=null)a=u;else if(n!=null)a=Zu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function B8(){return{visibleWrites:Ti.empty(),allWrites:[],lastWriteId:-1}}function Zg(t,e,n,r){return sF(t.writeTree,t.treePath,e,n,r)}function Hb(t,e){return L8(t.writeTree,t.treePath,e)}function wP(t,e,n,r){return F8(t.writeTree,t.treePath,e,n,r)}function ey(t,e){return V8(t.writeTree,Zt(t.treePath,e))}function j8(t,e,n,r,i,s){return U8(t.writeTree,t.treePath,e,n,r,i,s)}function Gb(t,e,n){return $8(t.writeTree,t.treePath,e,n)}function oF(t,e){return aF(Zt(t.treePath,e),t.writeTree)}function aF(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Xh(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Yh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ju(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Xh(r,e.snapshotNode,i.oldSnap));else throw Cc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const lF=new W8;class Kb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ko(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:el(this.viewCache_),s=j8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){return{filter:t}}function H8(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function G8(t,e,n,r,i){const s=new z8;let o,a;if(n.type===yi.OVERWRITE){const u=n;u.source.fromUser?o=lT(t,e,u.path,u.snap,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Pe(u.path),o=ty(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===yi.MERGE){const u=n;u.source.fromUser?o=Q8(t,e,u.path,u.children,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=uT(t,e,u.path,u.children,r,i,a,s))}else if(n.type===yi.ACK_USER_WRITE){const u=n;u.revert?o=J8(t,e,u.path,r,i,s):o=Y8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===yi.LISTEN_COMPLETE)o=X8(t,e,n.path,r,s);else throw Cc("Unknown operation type: "+n.type);const l=s.getChanges();return K8(e,o,l),{viewCache:o,changes:l}}function K8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Jg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ZL(Jg(e)))}}function uF(t,e,n,r,i,s){const o=e.eventCache;if(ey(r,n)!=null)return e;{let a,l;if(Pe(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=el(e),c=u instanceof me?u:me.EMPTY_NODE,d=Hb(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Zg(r,el(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Ne(n);if(u===".priority"){G(Ao(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=wP(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=at(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=wP(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=Gb(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return nh(e,a,o.isFullyInitialized()||Pe(n),t.filter.filtersNodes())}}function ty(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Pe(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Ne(n);if(!l.isCompleteForPath(n)&&Ao(n)>1)return e;const p=at(n),v=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),v):u=c.updateChild(l.getNode(),f,v,p,lF,null)}const d=nF(e,u,l.isFullyInitialized()||Pe(n),c.filtersNodes()),h=new Kb(i,d,s);return uF(t,d,n,i,h,a)}function lT(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Kb(i,e,s);if(Pe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=nh(e,u,!0,t.filter.filtersNodes());else{const d=Ne(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=nh(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=at(n),f=a.getNode().getImmediateChild(d);let p;if(Pe(h))p=r;else{const g=c.getCompleteChild(d);g!=null?zL(h)===".priority"&&g.getChild(qL(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=me.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=nh(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function EP(t,e){return t.eventCache.isCompleteForChild(e)}function Q8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Zt(n,l);EP(e,Ne(c))&&(a=lT(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Zt(n,l);EP(e,Ne(c))||(a=lT(t,a,c,u,i,s,o))}),a}function TP(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function uT(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Pe(n)?u=r:u=new ht(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=TP(t,f,h);l=ty(t,l,new it(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=TP(t,p,h);l=ty(t,l,new it(d),g,i,s,o,a)}}),l}function Y8(t,e,n,r,i,s,o){if(ey(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Pe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ty(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Pe(n)){let u=new ht(null);return l.getNode().forEachChild(Au,(c,d)=>{u=u.set(new it(c),d)}),uT(t,e,n,u,i,s,a,o)}else return e}else{let u=new ht(null);return r.foreach((c,d)=>{const h=Zt(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),uT(t,e,n,u,i,s,a,o)}}function X8(t,e,n,r,i){const s=e.serverCache,o=nF(e,s.getNode(),s.isFullyInitialized()||Pe(n),s.isFiltered());return uF(t,o,n,r,lF,i)}function J8(t,e,n,r,i,s){let o;if(ey(r,n)!=null)return e;{const a=new Kb(r,e,i),l=e.eventCache.getNode();let u;if(Pe(n)||Ne(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Zg(r,el(e));else{const d=e.serverCache.getNode();G(d instanceof me,"serverChildren would be complete if leaf node"),c=Hb(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Ne(n);let d=Gb(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,at(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,me.EMPTY_NODE,at(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Zg(r,el(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||ey(r,Ge())!=null,nh(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new jb(r.getIndex()),s=_8(r);this.processor_=q8(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(me.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(me.EMPTY_NODE,a.getNode(),null),c=new ko(l,o.isFullyInitialized(),i.filtersNodes()),d=new ko(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=w_(d,c),this.eventGenerator_=new S8(this.query_)}get query(){return this.query_}}function eH(t){return t.viewCache_.serverCache.getNode()}function tH(t){return Jg(t.viewCache_)}function nH(t,e){const n=el(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Pe(e)&&!n.getImmediateChild(Ne(e)).isEmpty())?n.getChild(e):null}function IP(t){return t.eventRegistrations_.length===0}function rH(t,e){t.eventRegistrations_.push(e)}function bP(t,e,n){const r=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function SP(t,e,n,r){e.type===yi.MERGE&&e.source.queryId!==null&&(G(el(t.viewCache_),"We should always have a full cache before handling merges"),G(Jg(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=G8(t.processor_,i,e,n,r);return H8(t.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,cF(t,s.changes,s.viewCache.eventCache.getNode(),null)}function iH(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Dt,(s,o)=>{r.push(Ju(s,o))}),n.isFullyInitialized()&&r.push(ZL(n.getNode())),cF(t,r,n.getNode(),e)}function cF(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return C8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny;class dF{constructor(){this.views=new Map}}function sH(t){G(!ny,"__referenceConstructor has already been defined"),ny=t}function oH(){return G(ny,"Reference.ts has not been loaded"),ny}function aH(t){return t.views.size===0}function Qb(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return G(s!=null,"SyncTree gave us an op for an invalid query."),SP(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(SP(o,e,n,r));return s}}function hF(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Zg(n,i?r:null),l=!1;a?l=!0:r instanceof me?(a=Hb(n,r),l=!1):(a=me.EMPTY_NODE,l=!1);const u=w_(new ko(a,l,!1),new ko(r,i,!1));return new Z8(e,u)}return o}function lH(t,e,n,r,i,s){const o=hF(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),rH(o,n),iH(o,n)}function uH(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=No(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(bP(u,n,r)),IP(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(bP(l,n,r)),IP(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!No(t)&&s.push(new(oH())(e._repo,e._path)),{removed:s,events:o}}function fF(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Eo(t,e){let n=null;for(const r of t.views.values())n=n||nH(r,e);return n}function pF(t,e){if(e._queryParams.loadsAllData())return T_(t);{const r=e._queryIdentifier;return t.views.get(r)}}function mF(t,e){return pF(t,e)!=null}function No(t){return T_(t)!=null}function T_(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry;function cH(t){G(!ry,"__referenceConstructor has already been defined"),ry=t}function dH(){return G(ry,"Reference.ts has not been loaded"),ry}let hH=1;class CP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=B8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gF(t,e,n,r,i){return A8(t.pendingWriteTree_,e,n,r,i),i?rp(t,new Za(tF(),e,n)):[]}function xa(t,e,n=!1){const r=k8(t.pendingWriteTree_,e);if(N8(t.pendingWriteTree_,e)){let s=new ht(null);return r.snap!=null?s=s.set(Ge(),!0):pr(r.children,o=>{s=s.set(new it(o),!0)}),rp(t,new Xg(r.path,s,n))}else return[]}function np(t,e,n){return rp(t,new Za(Wb(),e,n))}function fH(t,e,n){const r=ht.fromObject(n);return rp(t,new ef(Wb(),e,r))}function pH(t,e){return rp(t,new Zh(Wb(),e))}function mH(t,e,n){const r=Xb(t,n);if(r){const i=Jb(r),s=i.path,o=i.queryId,a=zn(s,e),l=new Zh(qb(o),a);return Zb(t,s,l)}else return[]}function yF(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||mF(o,e))){const l=uH(o,e,n,r);aH(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>No(f));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=vH(h);for(let p=0;p<f.length;++p){const g=f[p],v=g.query,m=EF(t,g);t.listenProvider_.startListening(ih(v),tf(t,v),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(ih(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(I_(h));t.listenProvider_.stopListening(ih(h),f)}))}wH(t,u)}return a}function _F(t,e,n,r){const i=Xb(t,r);if(i!=null){const s=Jb(i),o=s.path,a=s.queryId,l=zn(o,e),u=new Za(qb(a),l,n);return Zb(t,o,u)}else return[]}function gH(t,e,n,r){const i=Xb(t,r);if(i){const s=Jb(i),o=s.path,a=s.queryId,l=zn(o,e),u=ht.fromObject(n),c=new ef(qb(a),l,u);return Zb(t,o,c)}else return[]}function yH(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=zn(h,i);s=s||Eo(f,p),o=o||No(f)});let a=t.syncPointTree_.get(i);a?(o=o||No(a),s=s||Eo(a,Ge())):(a=new dF,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=me.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=Eo(p,Ge());g&&(s=s.updateImmediateChild(f,g))}));const u=mF(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=I_(e);G(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=EH();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const c=E_(t.pendingWriteTree_,i);let d=lH(a,e,n,c,s,l);if(!u&&!o&&!r){const h=pF(a,e);d=d.concat(TH(t,e,h))}return d}function Yb(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=zn(o,e),u=Eo(a,l);if(u)return u});return sF(i,e,s,n,!0)}function _H(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=zn(u,n);r=r||Eo(c,d)});let i=t.syncPointTree_.get(n);i?r=r||Eo(i,Ge()):(i=new dF,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new ko(r,!0,!1):null,a=E_(t.pendingWriteTree_,e._path),l=hF(i,e,a,s?o.getNode():me.EMPTY_NODE,s);return tH(l)}function rp(t,e){return vF(e,t.syncPointTree_,null,E_(t.pendingWriteTree_,Ge()))}function vF(t,e,n,r){if(Pe(t.path))return wF(t,e,n,r);{const i=e.get(Ge());n==null&&i!=null&&(n=Eo(i,Ge()));let s=[];const o=Ne(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=oF(r,o);s=s.concat(vF(a,l,u,c))}return i&&(s=s.concat(Qb(i,t,r,n))),s}}function wF(t,e,n,r){const i=e.get(Ge());n==null&&i!=null&&(n=Eo(i,Ge()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=oF(r,o),c=t.operationForChild(o);c&&(s=s.concat(wF(c,a,l,u)))}),i&&(s=s.concat(Qb(i,t,r,n))),s}function EF(t,e){const n=e.query,r=tf(t,n);return{hashFn:()=>(eH(e)||me.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?mH(t,n._path,r):pH(t,n._path);{const s=yq(i,n);return yF(t,n,null,s)}}}}function tf(t,e){const n=I_(e);return t.queryToTagMap.get(n)}function I_(t){return t._path.toString()+"$"+t._queryIdentifier}function Xb(t,e){return t.tagToQueryMap.get(e)}function Jb(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new it(t.substr(0,e))}}function Zb(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=E_(t.pendingWriteTree_,e);return Qb(r,n,i,null)}function vH(t){return t.fold((e,n,r)=>{if(n&&No(n))return[T_(n)];{let i=[];return n&&(i=fF(n)),pr(r,(s,o)=>{i=i.concat(o)}),i}})}function ih(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(dH())(t._repo,t._path):t}function wH(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=I_(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function EH(){return hH++}function TH(t,e,n){const r=e._path,i=tf(t,e),s=EF(t,n),o=t.listenProvider_.startListening(ih(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)G(!No(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!Pe(u)&&c&&No(c))return[T_(c).query];{let h=[];return c&&(h=h.concat(fF(c).map(f=>f.query))),pr(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(ih(c),tf(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new eS(n)}node(){return this.node_}}class tS{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Zt(this.path_,e);return new tS(this.syncTree_,n)}node(){return Yb(this.syncTree_,this.path_)}}const IH=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},xP=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bH(t[".sv"],e,n);if(typeof t[".sv"]=="object")return SH(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bH=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},SH=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},CH=function(t,e,n,r){return nS(e,new tS(n,t),r)},TF=function(t,e,n){return nS(t,new eS(e),n)};function nS(t,e,n){const r=t.getPriority().val(),i=xP(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=xP(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new rn(a,ln(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new rn(i))),o.forEachChild(Dt,(a,l)=>{const u=nS(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function iS(t,e){let n=e instanceof it?e:new it(e),r=t,i=Ne(n);for(;i!==null;){const s=Yu(r.node.children,i)||{children:{},childCount:0};r=new rS(i,r,s),n=at(n),i=Ne(n)}return r}function Pc(t){return t.node.value}function IF(t,e){t.node.value=e,cT(t)}function bF(t){return t.node.childCount>0}function xH(t){return Pc(t)===void 0&&!bF(t)}function b_(t,e){pr(t.node.children,(n,r)=>{e(new rS(n,t,r))})}function SF(t,e,n,r){n&&!r&&e(t),b_(t,i=>{SF(i,e,!0,r)}),n&&r&&e(t)}function RH(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ip(t){return new it(t.parent===null?t.name:ip(t.parent)+"/"+t.name)}function cT(t){t.parent!==null&&PH(t.parent,t.name,t)}function PH(t,e,n){const r=xH(n),i=bi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,cT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,cT(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=/[\[\].#$\/\u0000-\u001F\u007F]/,kH=/[\[\].#$\u0000-\u001F\u007F]/,dw=10*1024*1024,CF=function(t){return typeof t=="string"&&t.length!==0&&!AH.test(t)},xF=function(t){return typeof t=="string"&&t.length!==0&&!kH.test(t)},NH=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xF(t)},RF=function(t,e,n,r){r&&e===void 0||sS(Nb(t,"value"),e,n)},sS=function(t,e,n){const r=n instanceof it?new Yq(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+da(r));if(typeof e=="function")throw new Error(t+"contains a function "+da(r)+" with contents = "+e.toString());if(TL(e))throw new Error(t+"contains "+e.toString()+" "+da(r));if(typeof e=="string"&&e.length>dw/3&&y_(e)>dw)throw new Error(t+"contains a string greater than "+dw+" utf8 bytes "+da(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(pr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!CF(o)))throw new Error(t+" contains an invalid key ("+o+") "+da(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Xq(r,o),sS(t,a,r),Jq(r)}),i&&s)throw new Error(t+' contains ".value" child '+da(r)+" in addition to actual children.")}},PF=function(t,e,n,r){if(!(r&&n===void 0)&&!xF(n))throw new Error(Nb(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},OH=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),PF(t,e,n,r)},AF=function(t,e){if(Ne(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},DH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!CF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!NH(n))throw new Error(Nb(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kF(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!HL(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Zi(t,e,n){kF(t,n),LH(t,r=>gi(r,e)||gi(e,r))}function LH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(FH(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function FH(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Fa&&Mn("event: "+n.toString()),Rc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H="repo_interrupt",VH=25;class UH{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yg(),this.transactionQueueTree_=new rS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BH(t,e,n){if(t.stats_=$b(t.repoInfo_),t.forceRestClient_||Eq())t.server_=new Qg(t.repoInfo_,(r,i,s,o)=>{RP(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>PP(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new vs(t.repoInfo_,e,(r,i,s,o)=>{RP(t,r,i,s,o)},r=>{PP(t,r)},r=>{jH(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Cq(t.repoInfo_,()=>new b8(t.stats_,t.server_)),t.infoData_=new v8,t.infoSyncTree_=new CP({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=np(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),aS(t,"connected",!1),t.serverSyncTree_=new CP({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Zi(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function NF(t){const n=t.infoData_.getNode(new it(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function oS(t){return IH({timestamp:NF(t)})}function RP(t,e,n,r,i){t.dataUpdateCount++;const s=new it(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Wg(n,u=>ln(u));o=gH(t.serverSyncTree_,s,l,i)}else{const l=ln(n);o=_F(t.serverSyncTree_,s,l,i)}else if(r){const l=Wg(n,u=>ln(u));o=fH(t.serverSyncTree_,s,l)}else{const l=ln(n);o=np(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=C_(t,s)),Zi(t.eventQueue_,a,o)}function PP(t,e){aS(t,"connected",e),e===!1&&qH(t)}function jH(t,e){pr(e,(n,r)=>{aS(t,n,r)})}function aS(t,e,n){const r=new it("/.info/"+e),i=ln(n);t.infoData_.updateSnapshot(r,i);const s=np(t.infoSyncTree_,r,i);Zi(t.eventQueue_,r,s)}function OF(t){return t.nextWriteId_++}function zH(t,e,n){const r=_H(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=ln(i).withIndex(e._queryParams.getIndex());yH(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=np(t.serverSyncTree_,e._path,s);else{const a=tf(t.serverSyncTree_,e);o=_F(t.serverSyncTree_,e._path,s,a)}return Zi(t.eventQueue_,e._path,o),yF(t.serverSyncTree_,e,n,null,!0),s},i=>(S_(t,"get for query "+Jt(e)+" failed: "+i),Promise.reject(new Error(i))))}function WH(t,e,n,r,i){S_(t,"set",{path:e.toString(),value:n,priority:r});const s=oS(t),o=ln(n,r),a=Yb(t.serverSyncTree_,e),l=TF(o,a,s),u=OF(t),c=gF(t.serverSyncTree_,e,l,u,!0);kF(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const p=h==="ok";p||cr("set at "+e+" failed: "+h);const g=xa(t.serverSyncTree_,u,!p);Zi(t.eventQueue_,e,g),GH(t,i,h,f)});const d=$F(t,e);C_(t,d),Zi(t.eventQueue_,d,[])}function qH(t){S_(t,"onDisconnectEvents");const e=oS(t),n=Yg();sT(t.onDisconnect_,Ge(),(i,s)=>{const o=CH(i,s,t.serverSyncTree_,e);eF(n,i,o)});let r=[];sT(n,Ge(),(i,s)=>{r=r.concat(np(t.serverSyncTree_,i,s));const o=$F(t,i);C_(t,o)}),t.onDisconnect_=Yg(),Zi(t.eventQueue_,Ge(),r)}function HH(t){t.persistentConnection_&&t.persistentConnection_.interrupt($H)}function S_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Mn(n,...e)}function GH(t,e,n,r){e&&Rc(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function DF(t,e,n){return Yb(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function lS(t,e=t.transactionQueueTree_){if(e||x_(t,e),Pc(e)){const n=LF(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&KH(t,ip(e),n)}else bF(e)&&b_(e,n=>{lS(t,n)})}function KH(t,e,n){const r=n.map(u=>u.currentWriteId),i=DF(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];G(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=zn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{S_(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(xa(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();x_(t,iS(t.transactionQueueTree_,e)),lS(t,t.transactionQueueTree_),Zi(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Rc(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{cr("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}C_(t,e)}},o)}function C_(t,e){const n=MF(t,e),r=ip(n),i=LF(t,n);return QH(t,i,r),r}function QH(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=zn(n,l.path);let c=!1,d;if(G(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(xa(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=VH)c=!0,d="maxretry",i=i.concat(xa(t.serverSyncTree_,l.currentWriteId,!0));else{const h=DF(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){sS("transaction failed: Data returned ",f,l.path);let p=ln(f);typeof f=="object"&&f!=null&&bi(f,".priority")||(p=p.updatePriority(h.getPriority()));const v=l.currentWriteId,m=oS(t),y=TF(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=OF(t),o.splice(o.indexOf(v),1),i=i.concat(gF(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(xa(t.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(xa(t.serverSyncTree_,l.currentWriteId,!0))}Zi(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}x_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Rc(r[a]);lS(t,t.transactionQueueTree_)}function MF(t,e){let n,r=t.transactionQueueTree_;for(n=Ne(e);n!==null&&Pc(r)===void 0;)r=iS(r,n),e=at(e),n=Ne(e);return r}function LF(t,e){const n=[];return FF(t,e,n),n.sort((r,i)=>r.order-i.order),n}function FF(t,e,n){const r=Pc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);b_(e,i=>{FF(t,i,n)})}function x_(t,e){const n=Pc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,IF(e,n.length>0?n:void 0)}b_(e,r=>{x_(t,r)})}function $F(t,e){const n=ip(MF(t,e)),r=iS(t.transactionQueueTree_,e);return RH(r,i=>{hw(t,i)}),hw(t,r),SF(r,i=>{hw(t,i)}),n}function hw(t,e){const n=Pc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(xa(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?IF(e,void 0):n.length=s+1,Zi(t.eventQueue_,ip(e),i);for(let o=0;o<r.length;o++)Rc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function XH(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):cr(`Invalid query segment '${n}' in query '${t}'`)}return e}const AP=function(t,e){const n=JH(t),r=n.namespace;n.domain==="firebase.com"&&xs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hq();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new DL(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new it(n.pathString)}},JH=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=YH(t.substring(c,d)));const h=XH(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ZH=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=kP.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=kP.charAt(e[i]);return G(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Jt(this.snapshot.exportVal())}}class tG{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Pe(this._path)?null:zL(this._path)}get ref(){return new Ds(this._repo,this._path)}get _queryIdentifier(){const e=mP(this._queryParams),n=Lb(e);return n==="{}"?"default":n}get _queryObject(){return mP(this._queryParams)}isEqual(e){if(e=oe(e),!(e instanceof uS))return!1;const n=this._repo===e._repo,r=HL(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Qq(this._path)}}class Ds extends uS{constructor(e,n){super(e,n,new zb,!1)}get parent(){const e=qL(this._path);return e===null?null:new Ds(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class nf{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new it(e),r=rf(this.ref,e);return new nf(this._node.getChild(n),r,Dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new nf(i,rf(this.ref,r),Dt)))}hasChild(e){const n=new it(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dT(t,e){return t=oe(t),t._checkNotDeleted("ref"),e!==void 0?rf(t._root,e):t._root}function rf(t,e){return t=oe(t),Ne(t._path)===null?OH("child","path",e,!1):PF("child","path",e,!1),new Ds(t._repo,Zt(t._path,e))}function rG(t,e){t=oe(t),AF("push",t._path),RF("push",e,t._path,!0);const n=NF(t._repo),r=ZH(n),i=rf(t,r),s=rf(t,r);let o;return e!=null?o=iG(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function iG(t,e){t=oe(t),AF("set",t._path),RF("set",e,t._path,!1);const n=new m_;return WH(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function VF(t){t=oe(t);const e=new nG(()=>{}),n=new cS(e);return zH(t._repo,t,n).then(r=>new nf(r,new Ds(t._repo,t._path),t._queryParams.getIndex()))}class cS{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new eG("value",this,new nf(e.snapshotNode,new Ds(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tG(this,e,n):null}matches(e){return e instanceof cS?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}sH(Ds);cH(Ds);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG="FIREBASE_DATABASE_EMULATOR_HOST",hT={};let oG=!1;function aG(t,e,n,r){t.repoInfo_=new DL(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function lG(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=AP(s,i),a=o.repoInfo,l,u;typeof process<"u"&&XR&&(u=XR[sG]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=AP(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Pu(Pu.OWNER):new Iq(t.name,t.options,e);DH("Invalid Firebase Database URL",o),Pe(o.path)||xs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=cG(a,t,c,new Tq(t.name,n));return new dG(d,t)}function uG(t,e){const n=hT[e];(!n||n[t.key]!==t)&&xs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),HH(t),delete n[t.key]}function cG(t,e,n,r){let i=hT[e.name];i||(i={},hT[e.name]=i);let s=i[t.toURLString()];return s&&xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new UH(t,oG,n,r),i[t.toURLString()]=s,s}class dG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BH(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ds(this._repo,Ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xs("Cannot call "+e+" on a deleted database.")}}function hG(t=fL(),e){const n=Mb(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=$W("database");r&&fG(n,...r)}return n}function fG(t,e,n,r={}){t=oe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&xs("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Pu(Pu.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:rL(r.mockUserToken,t.app.options.projectId);s=new Pu(o)}aG(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t){aq(Os),Cs(new Si("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return lG(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),kr(JR,ZR,t),kr(JR,ZR,"esm2017")}vs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};vs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};pG();const mG={items:[]},UF=QM("product/fetchProducts",async()=>{const t=dT(SI,"items"),e=await VF(t);return e.exists()?e.val():[]}),BF=RW("product/addProduct",async t=>{try{await rG(dT(SI,"items"),t),console.log("Data sent successfully");const e=dT(SI,"items"),n=await VF(e);return n.exists()?n.val():[]}catch(e){return console.error("Error sending data:",e),[]}}),jF=YM({extraReducers:t=>{t.addCase(UF.fulfilled,(e,n)=>{e.items=n.payload}).addCase(BF.fulfilled,(e,n)=>{e.items=n.payload})},initialState:mG,name:"product",reducers:{addItem:(t,e)=>{t.items.push(e.payload)},setItems:(t,e)=>{t.items=e.payload}}});jF.actions;const gG=jF.reducer,yG=nW({reducer:{cart:xW,product:gG}}),zF=()=>qy();var _G="firebase",vG="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(_G,vG,"app");var WF,NP=a_;WF=NP.createRoot,NP.hydrateRoot;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,n){this._delegate=e,this.firebase=n,qg(e,new Si("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),pL(this._delegate)))}_getService(e,n=Ro){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ro){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){qg(this._delegate,e)}_addOrOverwriteComponent(e){hL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},OP=new El("app-compat","Firebase",EG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:kr,setLogLevel:gL,onLog:mL,apps:null,SDK_VERSION:Os,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:oq}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Ro,!bi(e,u))throw OP.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=__(u,c);if(bi(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(Cs(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw OP.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&Wh(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(){const t=TG(wG);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:qF,extendNamespace:e,createSubscribe:lL,ErrorFactory:El,deepExtend:Wh});function e(n){Wh(t,n)}return t}const IG=qF();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new Jf("@firebase/app-compat"),bG="@firebase/app-compat",SG="0.2.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(t){kr(bG,SG,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(UW()&&self.firebase!==void 0){DP.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&DP.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const R_=IG;CG();function dS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const dd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Bl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function HF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RG=xG,PG=HF,GF=new El("auth","Firebase",HF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Jf("@firebase/auth");function AG(t,...e){iy.logLevel<=Ce.WARN&&iy.warn(`Auth (${Os}): ${t}`,...e)}function qm(t,...e){iy.logLevel<=Ce.ERROR&&iy.error(`Auth (${Os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw hS(t,...e)}function Cn(t,...e){return hS(t,...e)}function KF(t,e,n){const r=Object.assign(Object.assign({},PG()),{[e]:n});return new El("auth","Firebase",r).create(e,{appName:t.name})}function Ac(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pn(t,"argument-error"),KF(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GF.create(t,...e)}function q(t,e,...n){if(!t)throw hS(e,...n)}function zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qm(e),new Error(e)}function Ci(t,e){t||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fS(){return MP()==="http:"||MP()==="https:"}function MP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fS()||iL()||"connection"in navigator)?navigator.onLine:!0}function NG(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=Ab()||g_()}get(){return kG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=new sp(3e4,6e4);function $t(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vt(t,e,n,r,i={}){return YF(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Tl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),QF.fetch()(XF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function YF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OG),e);try{const i=new LG(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KF(t,c,u);Pn(t,c)}}catch(i){if(i instanceof Hn)throw i;Pn(t,"network-request-failed",{message:String(i)})}}async function Ms(t,e,n,r,i={}){const s=await Vt(t,e,n,r,i);return"mfaPendingCredential"in s&&Pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function XF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?pS(t.config,i):`${t.config.apiScheme}://${i}`}function MG(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LG{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),DG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){return t!==void 0&&t.getResponse!==void 0}function FP(t){return t!==void 0&&t.enterprise!==void 0}class FG{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MG(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $G(t){return(await Vt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function VG(t,e){return Vt(t,"GET","/v2/recaptchaConfig",$t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UG(t,e){return Vt(t,"POST","/v1/accounts:delete",e)}async function BG(t,e){return Vt(t,"POST","/v1/accounts:update",e)}async function jG(t,e){return Vt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zG(t,e=!1){const n=oe(t),r=await n.getIdToken(e),i=P_(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sh(fw(i.auth_time)),issuedAtTime:sh(fw(i.iat)),expirationTime:sh(fw(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fw(t){return Number(t)*1e3}function P_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qm("JWT malformed, contained fewer than 3 sections"),null;try{const i=zg(n);return i?JSON.parse(i):(qm("Failed to decode base64 JWT payload"),null)}catch(i){return qm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WG(t){const e=P_(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hn&&qG(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sh(this.lastLoginAt),this.creationTime=sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Rs(t,jG(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?QG(s.providerUserInfo):[],a=KG(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new JF(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function GG(t){const e=oe(t);await of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QG(t){return t.map(e=>{var{providerId:n}=e,r=dS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YG(t,e){const n=await YF(t,{},async()=>{const r=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=XF(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QF.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XG(t,e){return Vt(t,"POST","/v2/accounts:revokeToken",$t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WG(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await YG(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new af;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new af,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $a{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new JF(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Rs(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zG(this,e)}reload(){return GG(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $a(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await of(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Rs(this,UG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:w,isAnonymous:I,providerData:b,stsTokenManager:T}=n;q(_&&T,e,"internal-error");const R=af.fromJSON(this.name,T);q(typeof _=="string",e,"internal-error"),zs(d,e.name),zs(h,e.name),q(typeof w=="boolean",e,"internal-error"),q(typeof I=="boolean",e,"internal-error"),zs(f,e.name),zs(p,e.name),zs(g,e.name),zs(v,e.name),zs(m,e.name),zs(y,e.name);const O=new $a({uid:_,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:I,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:R,createdAt:m,lastLoginAt:y});return b&&Array.isArray(b)&&(O.providerData=b.map(x=>Object.assign({},x))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new af;i.updateFromServerResponse(n);const s=new $a({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await of(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new Map;function Cr(t){Ci(t instanceof Function,"Expected a class definition");let e=$P.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$P.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZF.type="NONE";const ec=ZF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t,e,n){return`firebase:${t}:${e}:${n}`}class ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Va(this.userKey,i.apiKey,s),this.fullPersistenceKey=Va("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$a._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ku(Cr(ec),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Cr(ec);const o=Va(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=$a._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ku(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ku(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r$(e))return"Blackberry";if(i$(e))return"Webos";if(mS(e))return"Safari";if((e.includes("chrome/")||t$(e))&&!e.includes("edge/"))return"Chrome";if(op(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function e$(t=Rt()){return/firefox\//i.test(t)}function mS(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t$(t=Rt()){return/crios\//i.test(t)}function n$(t=Rt()){return/iemobile/i.test(t)}function op(t=Rt()){return/android/i.test(t)}function r$(t=Rt()){return/blackberry/i.test(t)}function i$(t=Rt()){return/webos/i.test(t)}function kc(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JG(t=Rt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function ZG(t=Rt()){var e;return kc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eK(){return sL()&&document.documentMode===10}function s$(t=Rt()){return kc(t)||op(t)||i$(t)||r$(t)||/windows phone/i.test(t)||n$(t)}function tK(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e=[]){let n;switch(t){case"Browser":n=VP(Rt());break;case"Worker":n=`${VP(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rK(t,e={}){return Vt(t,"GET","/v2/passwordPolicy",$t(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=6;class sK{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:iK,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UP(this),this.idTokenSubscription=new UP(this),this.beforeStateQueue=new nK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await of(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?oe(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rK(this),n=new sK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await XG(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AG(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mt(t){return oe(t)}class UP{constructor(e){this.auth=e,this.observer=null,this.addObserver=lL(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function gS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aK().appendChild(r)})}function a$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const lK="https://www.google.com/recaptcha/enterprise.js?render=",uK="recaptcha-enterprise",cK="NO_RECAPTCHA";class dK{constructor(e){this.type=uK,this.auth=Mt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{VG(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new FG(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;FP(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(cK)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&FP(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}gS(lK+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function BP(t,e,n,r=!1){const i=new dK(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function lf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await BP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await BP(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function hK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fK(t,e,n){const r=Mt(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=l$(e),{host:o,port:a}=pK(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||mK()}function l$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pK(t){const e=l$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:jP(o)}}}function jP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,n){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u$(t,e){return Vt(t,"POST","/v1/accounts:resetPassword",$t(t,e))}async function gK(t,e){return Vt(t,"POST","/v1/accounts:update",e)}async function yK(t,e){return Vt(t,"POST","/v1/accounts:signUp",e)}async function _K(t,e){return Vt(t,"POST","/v1/accounts:update",$t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vK(t,e){return Ms(t,"POST","/v1/accounts:signInWithPassword",$t(t,e))}async function A_(t,e){return Vt(t,"POST","/v1/accounts:sendOobCode",$t(t,e))}async function wK(t,e){return A_(t,e)}async function EK(t,e){return A_(t,e)}async function TK(t,e){return A_(t,e)}async function IK(t,e){return A_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bK(t,e){return Ms(t,"POST","/v1/accounts:signInWithEmailLink",$t(t,e))}async function SK(t,e){return Ms(t,"POST","/v1/accounts:signInWithEmailLink",$t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends Nc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new uf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lf(e,n,"signInWithPassword",vK);case"emailLink":return bK(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lf(e,r,"signUpPassword",yK);case"emailLink":return SK(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(t,e){return Ms(t,"POST","/v1/accounts:signInWithIdp",$t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK="http://localhost";class es extends Nc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=dS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new es(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ws(e,n)}buildRequest(){const e={requestUri:CK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xK(t,e){return Vt(t,"POST","/v1/accounts:sendVerificationCode",$t(t,e))}async function RK(t,e){return Ms(t,"POST","/v1/accounts:signInWithPhoneNumber",$t(t,e))}async function PK(t,e){const n=await Ms(t,"POST","/v1/accounts:signInWithPhoneNumber",$t(t,e));if(n.temporaryProof)throw Fd(t,"account-exists-with-different-credential",n);return n}const AK={USER_NOT_FOUND:"user-not-found"};async function kK(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ms(t,"POST","/v1/accounts:signInWithPhoneNumber",$t(t,n),AK)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Nc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ua({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ua({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return RK(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return PK(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return kK(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Ua({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OK(t){const e=_u(Md(t)).link,n=e?_u(Md(e)).deep_link_id:null,r=_u(Md(t)).deep_link_id;return(r?_u(Md(r)).link:null)||r||n||e||t}class k_{constructor(e){var n,r,i,s,o,a;const l=_u(Md(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=NK((i=l.mode)!==null&&i!==void 0?i:null);q(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=OK(e);try{return new k_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,n){return uf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=k_.parseLink(n);return q(r,"argument-error"),uf._fromEmailAndCode(e,r.code,r.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Nu extends Oc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return q("providerId"in n&&"signInMethod"in n,"argument-error"),es._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return q(e.idToken||e.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Nu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Nu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Nu(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Oc{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Oc{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK="http://localhost";class tc extends Nc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ws(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new tc(r,s)}static _create(e,n){return new tc(e,n)}buildRequest(){return{requestUri:DK,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK="saml.";class sy extends Ls{constructor(e){q(e.startsWith(MK),"argument-error"),super(e)}static credentialFromResult(e){return sy.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return sy.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=tc.fromJSON(e);return q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return tc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Oc{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e){return Ms(t,"POST","/v1/accounts:signUp",$t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $a._fromIdTokenResponse(e,r,i),o=zP(r);return new ti({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zP(r);return new ti({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LK(t){var e;const n=Mt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ti({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await c$(n,{returnSecureToken:!0}),i=await ti._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends Hn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oy.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new oy(e,n,r,i)}}function d$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?oy._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FK(t,e){const n=oe(t);await N_(!0,n,e);const{providerUserInfo:r}=await BG(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=h$(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function yS(t,e,n=!1){const r=await Rs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ti._forOperation(t,"link",r)}async function N_(t,e,n){await of(e);const r=h$(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";q(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Rs(t,d$(r,i,e,t),n);q(s.idToken,r,"internal-error");const o=P_(s.idToken);q(o,r,"internal-error");const{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),ti._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p$(t,e,n=!1){const r="signIn",i=await d$(t,r,e),s=await ti._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function O_(t,e){return p$(Mt(t),e)}async function m$(t,e){const n=oe(t);return await N_(!1,n,e.providerId),yS(n,e)}async function g$(t,e){return f$(oe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $K(t,e){return Ms(t,"POST","/v1/accounts:signInWithCustomToken",$t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VK(t,e){const n=Mt(t),r=await $K(n,{token:e,returnSecureToken:!0}),i=await ti._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?_S._fromServerResponse(e,n):"totpInfo"in n?vS._fromServerResponse(e,n):Pn(e,"internal-error")}}class _S extends ap{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new _S(n)}}class vS extends ap{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new vS(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e,n){var r;q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(t){const e=Mt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UK(t,e,n){const r=Mt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&D_(r,i,n),await lf(r,i,"getOobCode",EK)}async function BK(t,e,n){await u$(oe(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wS(t),r})}async function jK(t,e){await _K(oe(t),{oobCode:e})}async function y$(t,e){const n=oe(t),r=await u$(n,{oobCode:e}),i=r.requestType;switch(q(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(r.mfaInfo,n,"internal-error");default:q(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=ap._fromServerResponse(Mt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function zK(t,e){const{data:n}=await y$(oe(t),e);return n.email}async function WK(t,e,n){const r=Mt(t),o=await lf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c$).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&wS(t),l}),a=await ti._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function qK(t,e,n){return O_(oe(t),Ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e,n){const r=Mt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){q(a.handleCodeInApp,r,"argument-error"),a&&D_(r,o,a)}s(i,n),await lf(r,i,"getOobCode",TK)}function GK(t,e){const n=k_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function KK(t,e,n){const r=oe(t),i=Ko.credentialWithLink(e,n||sf());return q(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),O_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QK(t,e){return Vt(t,"POST","/v1/accounts:createAuthUri",$t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YK(t,e){const n=fS()?sf():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await QK(oe(t),r);return i||[]}async function XK(t,e){const n=oe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&D_(n.auth,i,e);const{email:s}=await wK(n.auth,i);s!==t.email&&await t.reload()}async function JK(t,e,n){const r=oe(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&D_(r.auth,s,n);const{email:o}=await IK(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZK(t,e){return Vt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=oe(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Rs(r,ZK(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function t7(t,e){return _$(oe(t),e,null)}function n7(t,e){return _$(oe(t),null,e)}async function _$(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Rs(t,gK(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=P_(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Ou(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new i7(s,i);case"github.com":return new s7(s,i);case"google.com":return new o7(s,i);case"twitter.com":return new a7(s,i,t.screenName||null);case"custom":case"anonymous":return new Ou(s,null);default:return new Ou(s,r,i)}}class Ou{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class v$ extends Ou{constructor(e,n,r,i){super(e,n,r),this.username=i}}class i7 extends Ou{constructor(e,n){super(e,"facebook.com",n)}}class s7 extends v${constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class o7 extends Ou{constructor(e,n){super(e,"google.com",n)}}class a7 extends v${constructor(e,n,r){super(e,"twitter.com",n,r)}}function l7(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:r7(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Ra("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ra("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ra._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ra._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Mt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>ap._fromServerResponse(r,a));q(i.mfaPendingCredential,r,"internal-error");const o=Ra._fromMfaPendingCredential(i.mfaPendingCredential);return new ES(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await ti._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return q(n.user,r,"internal-error"),ti._forOperation(n.user,n.operationType,u);default:Pn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function u7(t,e){var n;const r=oe(t),i=e;return q(e.customData.operationType,r,"argument-error"),q((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),ES._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t,e){return Vt(t,"POST","/v2/accounts/mfaEnrollment:start",$t(t,e))}function d7(t,e){return Vt(t,"POST","/v2/accounts/mfaEnrollment:finalize",$t(t,e))}function h7(t,e){return Vt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(t,e))}class TS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>ap._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new TS(e)}async getSession(){return Ra._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Rs(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Rs(this.user,h7(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const pw=new WeakMap;function f7(t){const e=oe(t);return pw.has(e)||pw.set(e,TS._fromUser(e)),pw.get(e)}const ay="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ay,"1"),this.storage.removeItem(ay),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){const t=Rt();return mS(t)||kc(t)}const m7=1e3,g7=10;class E$ extends w${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=p7()&&tK(),this.fallbackToPolling=s$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);eK()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,g7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},m7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}E$.type="LOCAL";const IS=E$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T$ extends w${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}T$.type="SESSION";const tl=T$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new M_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await y7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}M_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=lp("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return window}function v7(t){Ht().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof Ht().WorkerGlobalScope<"u"&&typeof Ht().importScripts=="function"}async function w7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function T7(){return bS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="firebaseLocalStorageDb",I7=1,ly="firebaseLocalStorage",b$="fbase_key";class up{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function L_(t,e){return t.transaction([ly],e?"readwrite":"readonly").objectStore(ly)}function b7(){const t=indexedDB.deleteDatabase(I$);return new up(t).toPromise()}function fT(){const t=indexedDB.open(I$,I7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ly,{keyPath:b$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ly)?e(r):(r.close(),await b7(),e(await fT()))})})}async function WP(t,e,n){const r=L_(t,!0).put({[b$]:e,value:n});return new up(r).toPromise()}async function S7(t,e){const n=L_(t,!1).get(e),r=await new up(n).toPromise();return r===void 0?null:r.value}function qP(t,e){const n=L_(t,!0).delete(e);return new up(n).toPromise()}const C7=800,x7=3;class S${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=M_._getInstance(T7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w7(),!this.activeServiceWorker)return;this.sender=new _7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fT();return await WP(e,ay,"1"),await qP(e,ay),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=L_(i,!1).getAll();return new up(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S$.type="LOCAL";const cf=S$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t,e){return Vt(t,"POST","/v2/accounts/mfaSignIn:start",$t(t,e))}function P7(t,e){return Vt(t,"POST","/v2/accounts/mfaSignIn:finalize",$t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=500,k7=6e4,cm=1e12;class N7{constructor(e){this.auth=e,this.counter=cm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new O7(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||cm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||cm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||cm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class O7{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;q(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=D7(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},k7)},A7))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function D7(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=a$("rcb"),M7=new sp(3e4,6e4),L7="https://www.google.com/recaptcha/api.js?";class F7{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Ht().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return q($7(n),e,"argument-error"),this.shouldResolveImmediately(n)&&LP(Ht().grecaptcha)?Promise.resolve(Ht().grecaptcha):new Promise((r,i)=>{const s=Ht().setTimeout(()=>{i(Cn(e,"network-request-failed"))},M7.get());Ht()[mw]=()=>{Ht().clearTimeout(s),delete Ht()[mw];const a=Ht().grecaptcha;if(!a||!LP(a)){i(Cn(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${L7}?${Tl({onload:mw,render:"explicit",hl:n})}`;gS(o).catch(()=>{clearTimeout(s),i(Cn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Ht().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function $7(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class V7{async load(e){return new N7(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$="recaptcha",U7={theme:"light",type:"image"};let B7=class{constructor(e,n,r=Object.assign({},U7)){this.parameters=r,this.type=C$,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(e),this.isInvisible=this.parameters.size==="invisible",q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;q(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new V7:new F7,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Ht()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){q(fS()&&!bS(),this.auth,"internal-error"),await j7(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await $G(this.auth);q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function j7(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ua._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function z7(t,e,n){const r=Mt(t),i=await F_(r,e,oe(n));return new SS(i,s=>O_(r,s))}async function W7(t,e,n){const r=oe(t);await N_(!1,r,"phone");const i=await F_(r.auth,e,oe(n));return new SS(i,s=>m$(r,s))}async function q7(t,e,n){const r=oe(t),i=await F_(r.auth,e,oe(n));return new SS(i,s=>g$(r,s))}async function F_(t,e,n){var r;const i=await n.verify();try{q(typeof i=="string",t,"argument-error"),q(n.type===C$,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return q(o.type==="enroll",t,"internal-error"),(await c7(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{q(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return q(a,t,"missing-multi-factor-info"),(await R7(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await xK(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function H7(t,e){await yS(oe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl=class Hm{constructor(e){this.providerId=Hm.PROVIDER_ID,this.auth=Mt(e)}verifyPhoneNumber(e,n){return F_(this.auth,e,oe(n))}static credential(e,n){return Ua._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Hm.credentialFromTaggedObject(n)}static credentialFromError(e){return Hm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ua._fromTokenResponse(n,r):null}};nl.PROVIDER_ID="phone";nl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e){return e?Cr(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends Nc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G7(t){return p$(t.auth,new CS(t),t.bypassAuthState)}function K7(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),f$(n,new CS(t),t.bypassAuthState)}async function Q7(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),yS(n,new CS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G7;case"linkViaPopup":case"linkViaRedirect":return Q7;case"reauthViaPopup":case"reauthViaRedirect":return K7;default:Pn(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=new sp(2e3,1e4);async function X7(t,e,n){const r=Mt(t);Ac(t,e,Ls);const i=bl(r,n);return new ps(r,"signInViaPopup",e,i).executeNotNull()}async function J7(t,e,n){const r=oe(t);Ac(r.auth,e,Ls);const i=bl(r.auth,n);return new ps(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Z7(t,e,n){const r=oe(t);Ac(r.auth,e,Ls);const i=bl(r.auth,n);return new ps(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ps extends x${constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y7.get())};e()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ="pendingRedirect",oh=new Map;class tQ extends x${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await nQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nQ(t,e){const n=P$(e),r=R$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function xS(t,e){return R$(t)._set(P$(e),"true")}function rQ(){oh.clear()}function RS(t,e){oh.set(t._key(),e)}function R$(t){return Cr(t._redirectPersistence)}function P$(t){return Va(eQ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(t,e,n){return sQ(t,e,n)}async function sQ(t,e,n){const r=Mt(t);Ac(t,e,Ls),await r._initializationPromise;const i=bl(r,n);return await xS(i,r),i._openRedirect(r,e,"signInViaRedirect")}function oQ(t,e,n){return aQ(t,e,n)}async function aQ(t,e,n){const r=oe(t);Ac(r.auth,e,Ls),await r.auth._initializationPromise;const i=bl(r.auth,n);await xS(i,r.auth);const s=await A$(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function lQ(t,e,n){return uQ(t,e,n)}async function uQ(t,e,n){const r=oe(t);Ac(r.auth,e,Ls),await r.auth._initializationPromise;const i=bl(r.auth,n);await N_(!1,r,e.providerId),await xS(i,r.auth);const s=await A$(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function cQ(t,e){return await Mt(t)._initializationPromise,$_(t,e,!1)}async function $_(t,e,n=!1){const r=Mt(t),i=bl(r,e),o=await new tQ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function A$(t){const e=lp(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ=10*60*1e3;class k${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!N$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(HP(e))}saveEventToCache(e){this.cachedEventUids.add(HP(e)),this.lastProcessedEventTime=Date.now()}}function HP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e={}){return Vt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pQ=/^https?/;async function mQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O$(t);for(const n of e)try{if(gQ(n))return}catch{}Pn(t,"unauthorized-domain")}function gQ(t){const e=sf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pQ.test(n))return!1;if(fQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ=new sp(3e4,6e4);function GP(){const t=Ht().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _Q(t){return new Promise((e,n)=>{var r,i,s;function o(){GP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GP(),n(Cn(t,"network-request-failed"))},timeout:yQ.get()})}if(!((i=(r=Ht().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ht().gapi)===null||s===void 0)&&s.load)o();else{const a=a$("iframefcb");return Ht()[a]=()=>{gapi.load?o():n(Cn(t,"network-request-failed"))},gS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gm=null,e})}let Gm=null;function vQ(t){return Gm=Gm||_Q(t),Gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=new sp(5e3,15e3),EQ="__/auth/iframe",TQ="emulator/auth/iframe",IQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SQ(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pS(e,TQ):`https://${t.config.authDomain}/${EQ}`,r={apiKey:e.apiKey,appName:t.name,v:Os},i=bQ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tl(r).slice(1)}`}async function CQ(t){const e=await vQ(t),n=Ht().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:SQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IQ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cn(t,"network-request-failed"),a=Ht().setTimeout(()=>{s(o)},wQ.get());function l(){Ht().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RQ=500,PQ=600,AQ="_blank",kQ="http://localhost";class KP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NQ(t,e,n,r=RQ,i=PQ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xQ),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Rt().toLowerCase();n&&(a=t$(u)?AQ:n),e$(u)&&(e=e||kQ,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(ZG(u)&&a!=="_self")return OQ(e||"",a),new KP(null);const d=window.open(e||"",a,c);q(d,t,"popup-blocked");try{d.focus()}catch{}return new KP(d)}function OQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ="__/auth/handler",MQ="emulator/auth/handler",LQ=encodeURIComponent("fac");async function pT(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Os,eventId:i};if(e instanceof Ls){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Oc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${LQ}=${encodeURIComponent(l)}`:"";return`${FQ(t)}?${Tl(a).slice(1)}${u}`}function FQ({config:t}){return t.emulator?pS(t,MQ):`https://${t.authDomain}/${DQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="webStorageSupport";class $Q{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tl,this._completeRedirectFn=$_,this._overrideRedirectResult=RS}async _openPopup(e,n,r,i){var s;Ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await pT(e,n,r,sf(),i);return NQ(e,o,lp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await pT(e,n,r,sf(),i);return v7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CQ(e),r=new k$(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gw,{type:gw},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gw];o!==void 0&&n(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return s$()||mS()||kc()}}const VQ=$Q;class UQ{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return zi("unexpected MultiFactorSessionType")}}}class PS extends UQ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new PS(e)}_finalizeEnroll(e,n,r){return d7(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return P7(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class D${constructor(){}static assertion(e){return PS._fromCredential(e)}}D$.FACTOR_ID="phone";var QP="@firebase/auth",YP="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function zQ(t){Cs(new Si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o$(t)},u=new oK(r,i,s,l);return hK(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cs(new Si("auth-internal",e=>{const n=Mt(e.getProvider("auth").getImmediate());return(r=>new BQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(QP,YP,jQ(t)),kr(QP,YP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=5*60;VW("authIdTokenMaxAge");zQ("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ=2e3;async function HQ(t,e,n){var r;const{BuildInfo:i}=rl();Ci(e.sessionId,"AuthEvent did not contain a session ID");const s=await XQ(e.sessionId),o={};return kc()?o.ibi=i.packageName:op()?o.apn=i.packageName:Pn(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,pT(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function GQ(t){const{BuildInfo:e}=rl(),n={};kc()?n.iosBundleId=e.packageName:op()?n.androidPackageName=e.packageName:Pn(t,"operation-not-supported-in-this-environment"),await O$(t,n)}function KQ(t){const{cordova:e}=rl();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,JG()?"_blank":"_system","location=yes"),n(i)})})}async function QQ(t,e,n){const{cordova:r}=rl();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Cn(t,"redirect-cancelled-by-user"))},qQ))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),op()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function YQ(t){var e,n,r,i,s,o,a,l,u,c;const d=rl();q(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function XQ(t){const e=JQ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function JQ(t){if(Ci(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ=20;class eY extends k${constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function tY(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:iY(),postBody:null,tenantId:t.tenantId,error:Cn(t,"no-auth-event")}}function nY(t,e){return mT()._set(gT(t),e)}async function XP(t){const e=await mT()._get(gT(t));return e&&await mT()._remove(gT(t)),e}function rY(t,e){var n,r;const i=oY(e);if(i.includes("/__/auth/callback")){const s=Km(i),o=s.firebaseError?sY(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Cn(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function iY(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ZQ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function mT(){return Cr(IS)}function gT(t){return Va("authEvent",t.config.apiKey,t.name)}function sY(t){try{return JSON.parse(t)}catch{return null}}function oY(t){const e=Km(t),n=e.link?decodeURIComponent(e.link):void 0,r=Km(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Km(i).link||i||r||n||t}function Km(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return _u(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY=500;class lY{constructor(){this._redirectPersistence=tl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$_,this._overrideRedirectResult=RS}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new eY(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Pn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){YQ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),rQ(),await this._originValidation(e);const o=tY(e,r,i);await nY(e,o);const a=await HQ(e,o,n),l=await KQ(a);return QQ(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GQ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=rl(),o=setTimeout(async()=>{await XP(e),n.onEvent(JP())},aY),a=async c=>{clearTimeout(o);const d=await XP(e);let h=null;d&&(c!=null&&c.url)&&(h=rY(d,c.url)),n.onEvent(h||JP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;rl().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const uY=lY;function JP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Cn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(t,e){Mt(t)._logFramework(e)}var dY="@firebase/auth-compat",hY="0.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY=1e3;function ah(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function pY(){return ah()==="http:"||ah()==="https:"}function M$(t=Rt()){return!!((ah()==="file:"||ah()==="ionic:"||ah()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mY(){return g_()||kb()}function gY(){return sL()&&(document==null?void 0:document.documentMode)===11}function yY(t=Rt()){return/Edge\/\d+/.test(t)}function _Y(t=Rt()){return gY()||yY(t)}function L$(){try{const t=self.localStorage,e=lp();if(t)return t.setItem(e,"1"),t.removeItem(e),_Y()?qh():!0}catch{return AS()&&qh()}return!1}function AS(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yw(){return(pY()||iL()||M$())&&!mY()&&L$()&&!AS()}function F$(){return M$()&&typeof document<"u"}async function vY(){return F$()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},fY);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function wY(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},hd=q,$$="persistence";function EY(t,e){if(hd(Object.values(Tr).includes(e),t,"invalid-persistence-type"),g_()){hd(e!==Tr.SESSION,t,"unsupported-persistence-type");return}if(kb()){hd(e===Tr.NONE,t,"unsupported-persistence-type");return}if(AS()){hd(e===Tr.NONE||e===Tr.LOCAL&&qh(),t,"unsupported-persistence-type");return}hd(e===Tr.NONE||L$(),t,"unsupported-persistence-type")}async function yT(t){await t._initializationPromise;const e=V$(),n=Va($$,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function TY(t,e){const n=V$();if(!n)return[];const r=Va($$,t,e);switch(n.getItem(r)){case Tr.NONE:return[ec];case Tr.LOCAL:return[cf,tl];case Tr.SESSION:return[tl];default:return[]}}function V$(){var t;try{return((t=wY())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=q;class ro{constructor(){this.browserResolver=Cr(VQ),this.cordovaResolver=Cr(uY),this.underlyingResolver=null,this._redirectPersistence=tl,this._completeRedirectFn=$_,this._overrideRedirectResult=RS}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return F$()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return IY(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await vY();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t){return t.unwrap()}function bY(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t){return B$(t)}function CY(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new xY(t,u7(t,e))}else if(r){const i=B$(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function B$(t){const{_tokenResponse:e}=t instanceof Hn?t.customData:t;if(!e)return null;if(!(t instanceof Hn)&&"temporaryProof"in e&&"phoneNumber"in e)return nl.credentialFromResult(t);const n=e.providerId;if(!n||n===dd.PASSWORD)return null;let r;switch(n){case dd.GOOGLE:r=$i;break;case dd.FACEBOOK:r=Fi;break;case dd.GITHUB:r=Vi;break;case dd.TWITTER:r=Ui;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?tc._create(n,a):es._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Nu(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Hn?r.credentialFromError(t):r.credentialFromResult(t)}function Zn(t,e){return e.catch(n=>{throw n instanceof Hn&&CY(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:SY(n),additionalUserInfo:l7(n),user:V_.getOrCreate(i)}})}async function _T(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Zn(t,n.confirm(r))}}class xY{constructor(e,n){this.resolver=n,this.auth=bY(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Zn(U$(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V_=class $d{constructor(e){this._delegate=e,this.multiFactor=f7(e)}static getOrCreate(e){return $d.USER_MAP.has(e)||$d.USER_MAP.set(e,new $d(e)),$d.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Zn(this.auth,m$(this._delegate,e))}async linkWithPhoneNumber(e,n){return _T(this.auth,W7(this._delegate,e,n))}async linkWithPopup(e){return Zn(this.auth,Z7(this._delegate,e,ro))}async linkWithRedirect(e){return await yT(Mt(this.auth)),lQ(this._delegate,e,ro)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Zn(this.auth,g$(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return _T(this.auth,q7(this._delegate,e,n))}reauthenticateWithPopup(e){return Zn(this.auth,J7(this._delegate,e,ro))}async reauthenticateWithRedirect(e){return await yT(Mt(this.auth)),oQ(this._delegate,e,ro)}sendEmailVerification(e){return XK(this._delegate,e)}async unlink(e){return await FK(this._delegate,e),this}updateEmail(e){return t7(this._delegate,e)}updatePassword(e){return n7(this._delegate,e)}updatePhoneNumber(e){return H7(this._delegate,e)}updateProfile(e){return e7(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return JK(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};V_.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=q;class vT{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;fd(r,"invalid-api-key",{appName:e.name}),fd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ro:void 0;this._delegate=n.initialize({options:{persistence:RY(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(RG),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?V_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){fK(this._delegate,e,n)}applyActionCode(e){return jK(this._delegate,e)}checkActionCode(e){return y$(this._delegate,e)}confirmPasswordReset(e,n){return BK(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Zn(this._delegate,WK(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return YK(this._delegate,e)}isSignInWithEmailLink(e){return GK(this._delegate,e)}async getRedirectResult(){fd(yw(),this._delegate,"operation-not-supported-in-this-environment");const e=await cQ(this._delegate,ro);return e?Zn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){cY(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=ZP(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=ZP(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return HK(this._delegate,e,n)}sendPasswordResetEmail(e,n){return UK(this._delegate,e,n||void 0)}async setPersistence(e){EY(this._delegate,e);let n;switch(e){case Tr.SESSION:n=tl;break;case Tr.LOCAL:n=await Cr(cf)._isAvailable()?cf:IS;break;case Tr.NONE:n=ec;break;default:return Pn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Zn(this._delegate,LK(this._delegate))}signInWithCredential(e){return Zn(this._delegate,O_(this._delegate,e))}signInWithCustomToken(e){return Zn(this._delegate,VK(this._delegate,e))}signInWithEmailAndPassword(e,n){return Zn(this._delegate,qK(this._delegate,e,n))}signInWithEmailLink(e,n){return Zn(this._delegate,KK(this._delegate,e,n))}signInWithPhoneNumber(e,n){return _T(this._delegate,z7(this._delegate,e,n))}async signInWithPopup(e){return fd(yw(),this._delegate,"operation-not-supported-in-this-environment"),Zn(this._delegate,X7(this._delegate,e,ro))}async signInWithRedirect(e){return fd(yw(),this._delegate,"operation-not-supported-in-this-environment"),await yT(this._delegate),iQ(this._delegate,e,ro)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return zK(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}vT.Persistence=Tr;function ZP(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&V_.getOrCreate(o)),error:e,complete:n}}function RY(t,e){const n=TY(t,e);if(typeof self<"u"&&!n.includes(cf)&&n.push(cf),typeof window<"u")for(const r of[IS,tl])n.includes(r)||n.push(r);return n.includes(ec)||n.push(ec),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.providerId="phone",this._delegate=new nl(U$(R_.auth()))}static credential(e,n){return nl.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}kS.PHONE_SIGN_IN_METHOD=nl.PHONE_SIGN_IN_METHOD;kS.PROVIDER_ID=nl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=q;class AY{constructor(e,n,r=R_.app()){var i;PY((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new B7(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="auth-compat";function NY(t){t.INTERNAL.registerComponent(new Si(kY,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new vT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Bl.EMAIL_SIGNIN,PASSWORD_RESET:Bl.PASSWORD_RESET,RECOVER_EMAIL:Bl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Bl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Bl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Bl.VERIFY_EMAIL}},EmailAuthProvider:Ko,FacebookAuthProvider:Fi,GithubAuthProvider:Vi,GoogleAuthProvider:$i,OAuthProvider:Nu,SAMLAuthProvider:sy,PhoneAuthProvider:kS,PhoneMultiFactorGenerator:D$,RecaptchaVerifier:AY,TwitterAuthProvider:Ui,Auth:vT,AuthCredential:Nc,Error:Hn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(dY,hY)}NY(R_);var OY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,NS=NS||{},we=OY||self;function U_(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function cp(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function DY(t){return Object.prototype.hasOwnProperty.call(t,_w)&&t[_w]||(t[_w]=++MY)}var _w="closure_uid_"+(1e9*Math.random()>>>0),MY=0;function LY(t,e,n){return t.call.apply(t.bind,arguments)}function FY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ln(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ln=LY:Ln=FY,Ln.apply(null,arguments)}function dm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function fn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Qo(){this.s=this.s,this.o=this.o}var $Y=0;Qo.prototype.s=!1;Qo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$Y!=0)&&DY(this)};Qo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const j$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function OS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function eA(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(U_(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Fn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Fn.prototype.h=function(){this.defaultPrevented=!0};var VY=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};we.addEventListener("test",n,e),we.removeEventListener("test",n,e)}catch{}return t}();function df(t){return/^[\s\xa0]*$/.test(t)}function B_(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function Bi(t){return B_().indexOf(t)!=-1}function DS(t){return DS[" "](t),t}DS[" "]=function(){};function UY(t,e){var n=NX;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var BY=Bi("Opera"),nc=Bi("Trident")||Bi("MSIE"),z$=Bi("Edge"),wT=z$||nc,W$=Bi("Gecko")&&!(B_().toLowerCase().indexOf("webkit")!=-1&&!Bi("Edge"))&&!(Bi("Trident")||Bi("MSIE"))&&!Bi("Edge"),jY=B_().toLowerCase().indexOf("webkit")!=-1&&!Bi("Edge");function q$(){var t=we.document;return t?t.documentMode:void 0}var ET;e:{var vw="",ww=function(){var t=B_();if(W$)return/rv:([^\);]+)(\)|;)/.exec(t);if(z$)return/Edge\/([\d\.]+)/.exec(t);if(nc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(jY)return/WebKit\/(\S+)/.exec(t);if(BY)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ww&&(vw=ww?ww[1]:""),nc){var Ew=q$();if(Ew!=null&&Ew>parseFloat(vw)){ET=String(Ew);break e}}ET=vw}var TT;if(we.document&&nc){var tA=q$();TT=tA||parseInt(ET,10)||void 0}else TT=void 0;var zY=TT;function hf(t,e){if(Fn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(W$){e:{try{DS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:WY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&hf.$.h.call(this)}}fn(hf,Fn);var WY={2:"touch",3:"pen",4:"mouse"};hf.prototype.h=function(){hf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var dp="closure_listenable_"+(1e6*Math.random()|0),qY=0;function HY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++qY,this.fa=this.ia=!1}function j_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function MS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GY(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function H$(t){const e={};for(const n in t)e[n]=t[n];return e}const nA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G$(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<nA.length;s++)n=nA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function z_(t){this.src=t,this.g={},this.h=0}z_.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=bT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new HY(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function IT(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=j$(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(j_(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function bT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var LS="closure_lm_"+(1e6*Math.random()|0),Tw={};function K$(t,e,n,r,i){if(r&&r.once)return Y$(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)K$(t,e[s],n,r,i);return null}return n=VS(n),t&&t[dp]?t.O(e,n,cp(r)?!!r.capture:!!r,i):Q$(t,e,n,!1,r,i)}function Q$(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=cp(i)?!!i.capture:!!i,a=$S(t);if(a||(t[LS]=a=new z_(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=KY(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)VY||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(J$(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function KY(){function t(n){return e.call(t.src,t.listener,n)}const e=QY;return t}function Y$(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y$(t,e[s],n,r,i);return null}return n=VS(n),t&&t[dp]?t.P(e,n,cp(r)?!!r.capture:!!r,i):Q$(t,e,n,!0,r,i)}function X$(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X$(t,e[s],n,r,i);else r=cp(r)?!!r.capture:!!r,n=VS(n),t&&t[dp]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=bT(s,n,r,i),-1<n&&(j_(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$S(t))&&(e=t.g[e.toString()],t=-1,e&&(t=bT(e,n,r,i)),(n=-1<t?e[t]:null)&&FS(n))}function FS(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[dp])IT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(J$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$S(e))?(IT(n,t),n.h==0&&(n.src=null,e[LS]=null)):j_(t)}}}function J$(t){return t in Tw?Tw[t]:Tw[t]="on"+t}function QY(t,e){if(t.fa)t=!0;else{e=new hf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&FS(t),t=n.call(r,e)}return t}function $S(t){return t=t[LS],t instanceof z_?t:null}var Iw="__closure_events_fn_"+(1e9*Math.random()>>>0);function VS(t){return typeof t=="function"?t:(t[Iw]||(t[Iw]=function(e){return t.handleEvent(e)}),t[Iw])}function dn(){Qo.call(this),this.i=new z_(this),this.S=this,this.J=null}fn(dn,Qo);dn.prototype[dp]=!0;dn.prototype.removeEventListener=function(t,e,n,r){X$(this,t,e,n,r)};function xn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Fn(e,t);else if(e instanceof Fn)e.target=e.target||t;else{var i=e;e=new Fn(r,t),G$(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=hm(o,r,!0,e)&&i}if(o=e.g=t,i=hm(o,r,!0,e)&&i,i=hm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=hm(o,r,!1,e)&&i}dn.prototype.N=function(){if(dn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)j_(n[r]);delete t.g[e],t.h--}}this.J=null};dn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};dn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function hm(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&IT(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var US=we.JSON.stringify;class YY{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function XY(){var t=BS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class JY{constructor(){this.h=this.g=null}add(e,n){const r=Z$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Z$=new YY(()=>new ZY,t=>t.reset());class ZY{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function eX(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tX(t){we.setTimeout(()=>{throw t},0)}let ff,pf=!1,BS=new JY,e2=()=>{const t=we.Promise.resolve(void 0);ff=()=>{t.then(nX)}};var nX=()=>{for(var t;t=XY();){try{t.h.call(t.g)}catch(n){tX(n)}var e=Z$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}pf=!1};function W_(t,e){dn.call(this),this.h=t||1,this.g=e||we,this.j=Ln(this.qb,this),this.l=Date.now()}fn(W_,dn);J=W_.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xn(this,"tick"),this.ga&&(jS(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){W_.$.N.call(this),jS(this),delete this.g};function zS(t,e,n){if(typeof t=="function")n&&(t=Ln(t,n));else if(t&&typeof t.handleEvent=="function")t=Ln(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function t2(t){t.g=zS(()=>{t.g=null,t.i&&(t.i=!1,t2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class rX extends Qo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:t2(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mf(t){Qo.call(this),this.h=t,this.g={}}fn(mf,Qo);var rA=[];function n2(t,e,n,r){Array.isArray(n)||(n&&(rA[0]=n.toString()),n=rA);for(var i=0;i<n.length;i++){var s=K$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function r2(t){MS(t.g,function(e,n){this.g.hasOwnProperty(n)&&FS(e)},t),t.g={}}mf.prototype.N=function(){mf.$.N.call(this),r2(this)};mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function q_(){this.g=!0}q_.prototype.Ea=function(){this.g=!1};function iX(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function sX(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function wu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+aX(t,n)+(r?" "+r:"")})}function oX(t,e){t.info(function(){return"TIMEOUT: "+e})}q_.prototype.info=function(){};function aX(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return US(n)}catch{return e}}var Sl={},iA=null;function H_(){return iA=iA||new dn}Sl.Ta="serverreachability";function i2(t){Fn.call(this,Sl.Ta,t)}fn(i2,Fn);function gf(t){const e=H_();xn(e,new i2(e))}Sl.STAT_EVENT="statevent";function s2(t,e){Fn.call(this,Sl.STAT_EVENT,t),this.stat=e}fn(s2,Fn);function Wn(t){const e=H_();xn(e,new s2(e,t))}Sl.Ua="timingevent";function o2(t,e){Fn.call(this,Sl.Ua,t),this.size=e}fn(o2,Fn);function hp(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var G_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},a2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function WS(){}WS.prototype.h=null;function sA(t){return t.h||(t.h=t.i())}function l2(){}var fp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qS(){Fn.call(this,"d")}fn(qS,Fn);function HS(){Fn.call(this,"c")}fn(HS,Fn);var ST;function K_(){}fn(K_,WS);K_.prototype.g=function(){return new XMLHttpRequest};K_.prototype.i=function(){return{}};ST=new K_;function pp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new mf(this),this.P=lX,t=wT?125:void 0,this.V=new W_(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new u2}function u2(){this.i=null,this.g="",this.h=!1}var lX=45e3,c2={},CT={};J=pp.prototype;J.setTimeout=function(t){this.P=t};function xT(t,e,n){t.L=1,t.A=Y_(Ps(e)),t.u=n,t.S=!0,d2(t,null)}function d2(t,e){t.G=Date.now(),mp(t),t.B=Ps(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),v2(n.i,"t",r),t.o=0,n=t.l.J,t.h=new u2,t.g=U2(t.l,n?e:null,!t.u),0<t.O&&(t.M=new rX(Ln(t.Pa,t,t.g),t.O)),n2(t.U,t.g,"readystatechange",t.nb),e=t.I?H$(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),gf(),iX(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&Wi(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const c=Wi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||wT||this.g&&(this.h.h||this.g.ja()||uA(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?gf(3):gf(2)),Q_(this);var n=this.g.da();this.ca=n;t:if(h2(this)){var r=uA(this.g);t="";var i=r.length,s=Wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pa(this),lh(this);var o="";break t}this.h.i=new we.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,sX(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!df(a)){var u=a;break t}}u=null}if(n=u)wu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RT(this,n);else{this.i=!1,this.s=3,Wn(12),Pa(this),lh(this);break e}}this.S?(f2(this,c,o),wT&&this.i&&c==3&&(n2(this.U,this.V,"tick",this.mb),this.V.start())):(wu(this.j,this.m,o,null),RT(this,o)),c==4&&Pa(this),this.i&&!this.J&&(c==4?L2(this.l,this):(this.i=!1,mp(this)))}else PX(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Wn(12)):(this.s=0,Wn(13)),Pa(this),lh(this)}}}catch{}finally{}};function h2(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function f2(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=uX(t,n),i==CT){e==4&&(t.s=4,Wn(14),r=!1),wu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==c2){t.s=4,Wn(15),wu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else wu(t.j,t.m,i,null),RT(t,i);h2(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),JS(e),e.M=!0,Wn(11))):(wu(t.j,t.m,n,"[Invalid Chunked Response]"),Pa(t),lh(t))}J.mb=function(){if(this.g){var t=Wi(this.g),e=this.g.ja();this.o<e.length&&(Q_(this),f2(this,t,e),this.i&&t!=4&&mp(this))}};function uX(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?CT:(n=Number(e.substring(n,r)),isNaN(n)?c2:(r+=1,r+n>e.length?CT:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,Pa(this)};function mp(t){t.Y=Date.now()+t.P,p2(t,t.P)}function p2(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=hp(Ln(t.lb,t),e)}function Q_(t){t.C&&(we.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(oX(this.j,this.B),this.L!=2&&(gf(),Wn(17)),Pa(this),this.s=2,lh(this)):p2(this,this.Y-t)};function lh(t){t.l.H==0||t.J||L2(t.l,t)}function Pa(t){Q_(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,jS(t.V),r2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function RT(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||PT(n.i,t))){if(!t.K&&PT(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)dy(n),ev(n);else break e;XS(n),Wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=hp(Ln(n.ib,n),6e3));if(1>=T2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Aa(n,11)}else if((t.K||n.g==t)&&dy(n),!df(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(GS(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ft(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=V2(r,r.J?r.pa:null,r.Y),o.K){I2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Q_(a),mp(a)),r.g=o}else D2(r);0<n.j.length&&tv(n)}else u[0]!="stop"&&u[0]!="close"||Aa(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Aa(n,7):YS(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}gf(4)}catch{}}function cX(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(U_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function dX(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(U_(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function m2(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(U_(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=dX(t),r=cX(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var g2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ba(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ba){this.h=t.h,uy(this,t.j),this.s=t.s,this.g=t.g,cy(this,t.m),this.l=t.l;var e=t.i,n=new yf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),oA(this,n),this.o=t.o}else t&&(e=String(t).match(g2))?(this.h=!1,uy(this,e[1]||"",!0),this.s=Vd(e[2]||""),this.g=Vd(e[3]||"",!0),cy(this,e[4]),this.l=Vd(e[5]||"",!0),oA(this,e[6]||"",!0),this.o=Vd(e[7]||"")):(this.h=!1,this.i=new yf(null,this.h))}Ba.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ud(e,aA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ud(e,aA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ud(n,n.charAt(0)=="/"?mX:pX,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ud(n,yX)),t.join("")};function Ps(t){return new Ba(t)}function uy(t,e,n){t.j=n?Vd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function oA(t,e,n){e instanceof yf?(t.i=e,_X(t.i,t.h)):(n||(e=Ud(e,gX)),t.i=new yf(e,t.h))}function ft(t,e,n){t.i.set(e,n)}function Y_(t){return ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ud(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,fX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fX(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var aA=/[#\/\?@]/g,pX=/[#\?:]/g,mX=/[#\?]/g,gX=/[#\?@]/g,yX=/#/g;function yf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yo(t){t.g||(t.g=new Map,t.h=0,t.i&&hX(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=yf.prototype;J.add=function(t,e){Yo(this),this.i=null,t=Dc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function y2(t,e){Yo(t),e=Dc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function _2(t,e){return Yo(t),e=Dc(t,e),t.g.has(e)}J.forEach=function(t,e){Yo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.ta=function(){Yo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.Z=function(t){Yo(this);let e=[];if(typeof t=="string")_2(this,t)&&(e=e.concat(this.g.get(Dc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return Yo(this),this.i=null,t=Dc(this,t),_2(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function v2(t,e,n){y2(t,e),0<n.length&&(t.i=null,t.g.set(Dc(t,e),OS(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Dc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _X(t,e){e&&!t.j&&(Yo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(y2(this,r),v2(this,i,n))},t)),t.j=e}var vX=class{constructor(t,e){this.g=t,this.map=e}};function w2(t){this.l=t||wX,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wX=10;function E2(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function T2(t){return t.h?1:t.g?t.g.size:0}function PT(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function GS(t,e){t.g?t.g.add(e):t.h=e}function I2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}w2.prototype.cancel=function(){if(this.i=b2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function b2(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return OS(t.i)}var EX=class{stringify(t){return we.JSON.stringify(t,void 0)}parse(t){return we.JSON.parse(t,void 0)}};function TX(){this.g=new EX}function IX(t,e,n){const r=n||"";try{m2(t,function(i,s){let o=i;cp(i)&&(o=US(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function bX(t,e){const n=new q_;if(we.Image){const r=new Image;r.onload=dm(fm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=dm(fm,n,r,"TestLoadImage: error",!1,e),r.onabort=dm(fm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=dm(fm,n,r,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function fm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function X_(t){this.l=t.ec||null,this.j=t.ob||!1}fn(X_,WS);X_.prototype.g=function(){return new J_(this.l,this.j)};X_.prototype.i=function(t){return function(){return t}}({});function J_(t,e){dn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=KS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn(J_,dn);var KS=0;J=J_.prototype;J.open=function(t,e){if(this.readyState!=KS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_f(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gp(this)),this.readyState=KS};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_f(this)),this.g&&(this.readyState=3,_f(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;S2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function S2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gp(this):_f(this),this.readyState==3&&S2(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,gp(this))};J.Ya=function(t){this.g&&(this.response=t,gp(this))};J.ka=function(){this.g&&gp(this)};function gp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_f(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function _f(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(J_.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var SX=we.JSON.parse;function Lt(t){dn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=C2,this.L=this.M=!1}fn(Lt,dn);var C2="",CX=/^https?$/i,xX=["POST","PUT"];J=Lt.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ST.g(),this.C=this.u?sA(this.u):sA(ST),this.g.onreadystatechange=Ln(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){lA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=we.FormData&&t instanceof we.FormData,!(0<=j$(xX,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{P2(this),0<this.B&&((this.L=RX(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ln(this.ua,this)):this.A=zS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lA(this,s)}};function RX(t){return nc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof NS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xn(this,"timeout"),this.abort(8))};function lA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,x2(t),Z_(t)}function x2(t){t.F||(t.F=!0,xn(t,"complete"),xn(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xn(this,"complete"),xn(this,"abort"),Z_(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Z_(this,!0)),Lt.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?R2(this):this.kb())};J.kb=function(){R2(this)};function R2(t){if(t.h&&typeof NS<"u"&&(!t.C[1]||Wi(t)!=4||t.da()!=2)){if(t.v&&Wi(t)==4)zS(t.La,0,t);else if(xn(t,"readystatechange"),Wi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(g2)[1]||null;!i&&we.self&&we.self.location&&(i=we.self.location.protocol.slice(0,-1)),r=!CX.test(i?i.toLowerCase():"")}n=r}if(n)xn(t,"complete"),xn(t,"success");else{t.m=6;try{var s=2<Wi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",x2(t)}}finally{Z_(t)}}}}function Z_(t,e){if(t.g){P2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xn(t,"ready");try{n.onreadystatechange=r}catch{}}}function P2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function Wi(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<Wi(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),SX(e)}};function uA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case C2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function PX(t){const e={};t=(t.g&&2<=Wi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(df(t[r]))continue;var n=eX(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}GY(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function A2(t){let e="";return MS(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function QS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=A2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ft(t,e,n))}function pd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function k2(t){this.Ga=0,this.j=[],this.l=new q_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pd("baseRetryDelayMs",5e3,t),this.hb=pd("retryDelaySeedMs",1e4,t),this.eb=pd("forwardChannelMaxRetries",2,t),this.xa=pd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new w2(t&&t.concurrentRequestLimit),this.Ja=new TX,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=k2.prototype;J.ra=8;J.H=1;function YS(t){if(N2(t),t.H==3){var e=t.W++,n=Ps(t.I);if(ft(n,"SID",t.K),ft(n,"RID",e),ft(n,"TYPE","terminate"),yp(t,n),e=new pp(t,t.l,e),e.L=2,e.A=Y_(Ps(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&we.Image&&(new Image().src=e.A,n=!0),n||(e.g=U2(e.l,null),e.g.ha(e.A)),e.G=Date.now(),mp(e)}$2(t)}function ev(t){t.g&&(JS(t),t.g.cancel(),t.g=null)}function N2(t){ev(t),t.u&&(we.clearTimeout(t.u),t.u=null),dy(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function tv(t){if(!E2(t.i)&&!t.m){t.m=!0;var e=t.Na;ff||e2(),pf||(ff(),pf=!0),BS.add(e,t),t.C=0}}function AX(t,e){return T2(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=hp(Ln(t.Na,t,e),F2(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new pp(this,this.l,t);let s=this.s;if(this.U&&(s?(s=H$(s),G$(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=O2(this,i,e),n=Ps(this.I),ft(n,"RID",t),ft(n,"CVER",22),this.F&&ft(n,"X-HTTP-Session-Id",this.F),yp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(A2(s)))+"&"+e:this.o&&QS(n,this.o,s)),GS(this.i,i),this.bb&&ft(n,"TYPE","init"),this.P?(ft(n,"$req",e),ft(n,"SID","null"),i.aa=!0,xT(i,n,null)):xT(i,n,e),this.H=2}}else this.H==3&&(t?cA(this,t):this.j.length==0||E2(this.i)||cA(this))};function cA(t,e){var n;e?n=e.m:n=t.W++;const r=Ps(t.I);ft(r,"SID",t.K),ft(r,"RID",n),ft(r,"AID",t.V),yp(t,r),t.o&&t.s&&QS(r,t.o,t.s),n=new pp(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=O2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),GS(t.i,n),xT(n,r,e)}function yp(t,e){t.na&&MS(t.na,function(n,r){ft(e,r,n)}),t.h&&m2({},function(n,r){ft(e,r,n)})}function O2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ln(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{IX(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function D2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ff||e2(),pf||(ff(),pf=!0),BS.add(e,t),t.A=0}}function XS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=hp(Ln(t.Ma,t),F2(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,M2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=hp(Ln(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wn(10),ev(this),M2(this))};function JS(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function M2(t){t.g=new pp(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ps(t.wa);ft(e,"RID","rpc"),ft(e,"SID",t.K),ft(e,"AID",t.V),ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ft(e,"TO",t.qa),ft(e,"TYPE","xmlhttp"),yp(t,e),t.o&&t.s&&QS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Y_(Ps(e)),n.u=null,n.S=!0,d2(n,t)}J.ib=function(){this.v!=null&&(this.v=null,ev(this),XS(this),Wn(19))};function dy(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function L2(t,e){var n=null;if(t.g==e){dy(t),JS(t),t.g=null;var r=2}else if(PT(t.i,e))n=e.F,I2(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=H_(),xn(r,new o2(r,n)),tv(t)}else D2(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&AX(t,e)||r==2&&XS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Aa(t,5);break;case 4:Aa(t,10);break;case 3:Aa(t,6);break;default:Aa(t,2)}}}function F2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Aa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ln(t.pb,t);n||(n=new Ba("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||uy(n,"https"),Y_(n)),bX(n.toString(),r)}else Wn(2);t.H=0,t.h&&t.h.za(e),$2(t),N2(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wn(2)):(this.l.info("Failed to ping google.com"),Wn(1))};function $2(t){if(t.H=0,t.ma=[],t.h){const e=b2(t.i);(e.length!=0||t.j.length!=0)&&(eA(t.ma,e),eA(t.ma,t.j),t.i.i.length=0,OS(t.j),t.j.length=0),t.h.ya()}}function V2(t,e,n){var r=n instanceof Ba?Ps(n):new Ba(n);if(r.g!="")e&&(r.g=e+"."+r.g),cy(r,r.m);else{var i=we.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ba(null);r&&uy(s,r),e&&(s.g=e),i&&cy(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ft(r,n,e),ft(r,"VER",t.ra),yp(t,r),r}function U2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Lt(new X_({ob:n})):new Lt(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function B2(){}J=B2.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function hy(){if(nc&&!(10<=Number(zY)))throw Error("Environmental error: no available transport.")}hy.prototype.g=function(t,e){return new Lr(t,e)};function Lr(t,e){dn.call(this),this.g=new k2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!df(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!df(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Mc(this)}fn(Lr,dn);Lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=V2(t,null,t.Y),tv(t)};Lr.prototype.close=function(){YS(this.g)};Lr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=US(t),t=n);e.j.push(new vX(e.fb++,t)),e.H==3&&tv(e)};Lr.prototype.N=function(){this.g.h=null,delete this.j,YS(this.g),delete this.g,Lr.$.N.call(this)};function j2(t){qS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}fn(j2,qS);function z2(){HS.call(this),this.status=1}fn(z2,HS);function Mc(t){this.g=t}fn(Mc,B2);Mc.prototype.Ba=function(){xn(this.g,"a")};Mc.prototype.Aa=function(t){xn(this.g,new j2(t))};Mc.prototype.za=function(t){xn(this.g,new z2)};Mc.prototype.ya=function(){xn(this.g,"b")};function kX(){this.blockSize=-1}function xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}fn(xi,kX);xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}xi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)bw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){bw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){bw(this,r),i=0;break}}this.h=i,this.i+=e};xi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var NX={};function ZS(t){return-128<=t&&128>t?UY(t,function(e){return new et([e|0],0>e?-1:0)}):new et([t|0],0>t?-1:0)}function qi(t){if(isNaN(t)||!isFinite(t))return Du;if(0>t)return In(qi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=AT;return new et(e,0)}function W2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return In(W2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qi(Math.pow(e,8)),r=Du,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=qi(Math.pow(e,s)),r=r.R(s).add(qi(o))):(r=r.R(n),r=r.add(qi(o)))}return r}var AT=4294967296,Du=ZS(0),kT=ZS(1),dA=ZS(16777216);J=et.prototype;J.ea=function(){if(Gr(this))return-In(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:AT+r)*e,e*=AT}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ms(this))return"0";if(Gr(this))return"-"+In(this).toString(t);for(var e=qi(Math.pow(t,6)),n=this,r="";;){var i=py(n,e).g;n=fy(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ms(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ms(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gr(t){return t.h==-1}J.X=function(t){return t=fy(this,t),Gr(t)?-1:ms(t)?0:1};function In(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new et(n,~t.h).add(kT)}J.abs=function(){return Gr(this)?In(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new et(n,n[n.length-1]&-2147483648?-1:0)};function fy(t,e){return t.add(In(e))}J.R=function(t){if(ms(this)||ms(t))return Du;if(Gr(this))return Gr(t)?In(this).R(In(t)):In(In(this).R(t));if(Gr(t))return In(this.R(In(t)));if(0>this.X(dA)&&0>t.X(dA))return qi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,pm(n,2*r+2*i),n[2*r+2*i+1]+=s*l,pm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new et(n,0)};function pm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function md(t,e){this.g=t,this.h=e}function py(t,e){if(ms(e))throw Error("division by zero");if(ms(t))return new md(Du,Du);if(Gr(t))return e=py(In(t),e),new md(In(e.g),In(e.h));if(Gr(e))return e=py(t,In(e)),new md(In(e.g),e.h);if(30<t.g.length){if(Gr(t)||Gr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=kT,r=e;0>=r.X(t);)n=hA(n),r=hA(r);var i=jl(n,1),s=jl(r,1);for(r=jl(r,2),n=jl(n,2);!ms(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=jl(r,1),n=jl(n,1)}return e=fy(t,i.R(e)),new md(i,e)}for(i=Du;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=qi(n),o=s.R(e);Gr(o)||0<o.X(t);)n-=r,s=qi(n),o=s.R(e);ms(s)&&(s=kT),i=i.add(s),t=fy(t,o)}return new md(i,t)}J.gb=function(t){return py(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new et(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new et(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new et(n,this.h^t.h)};function hA(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new et(n,t.h)}function jl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new et(i,t.h)}hy.prototype.createWebChannel=hy.prototype.g;Lr.prototype.send=Lr.prototype.u;Lr.prototype.open=Lr.prototype.m;Lr.prototype.close=Lr.prototype.close;G_.NO_ERROR=0;G_.TIMEOUT=8;G_.HTTP_ERROR=6;a2.COMPLETE="complete";l2.EventType=fp;fp.OPEN="a";fp.CLOSE="b";fp.ERROR="c";fp.MESSAGE="d";dn.prototype.listen=dn.prototype.O;Lt.prototype.listenOnce=Lt.prototype.P;Lt.prototype.getLastError=Lt.prototype.Sa;Lt.prototype.getLastErrorCode=Lt.prototype.Ia;Lt.prototype.getStatus=Lt.prototype.da;Lt.prototype.getResponseJson=Lt.prototype.Wa;Lt.prototype.getResponseText=Lt.prototype.ja;Lt.prototype.send=Lt.prototype.ha;Lt.prototype.setWithCredentials=Lt.prototype.Oa;xi.prototype.digest=xi.prototype.l;xi.prototype.reset=xi.prototype.reset;xi.prototype.update=xi.prototype.j;et.prototype.add=et.prototype.add;et.prototype.multiply=et.prototype.R;et.prototype.modulo=et.prototype.gb;et.prototype.compare=et.prototype.X;et.prototype.toNumber=et.prototype.ea;et.prototype.toString=et.prototype.toString;et.prototype.getBits=et.prototype.D;et.fromNumber=qi;et.fromString=W2;var OX=function(){return new hy},DX=function(){return H_()},Sw=G_,MX=a2,LX=Sl,fA={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mm=l2,FX=Lt,$X=xi,Mu=et,VX={};const pA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Jf("@firebase/firestore");function eu(){return Oo.logLevel}function UX(t){Oo.setLogLevel(t)}function F(t,...e){if(Oo.logLevel<=Ce.DEBUG){const n=e.map(eC);Oo.debug(`Firestore (${Lc}): ${t}`,...n)}}function Bt(t,...e){if(Oo.logLevel<=Ce.ERROR){const n=e.map(eC);Oo.error(`Firestore (${Lc}): ${t}`,...n)}}function Ri(t,...e){if(Oo.logLevel<=Ce.WARN){const n=e.map(eC);Oo.warn(`Firestore (${Lc}): ${t}`,...n)}}function eC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: `+t;throw Bt(e),new Error(e)}function ie(t,e){t||ee()}function BX(t,e){t||ee()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class zX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WX{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie(typeof r.accessToken=="string"),new q2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string"),new an(e)}}class qX{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HX{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ie(typeof n.token=="string"),this.R=n.token,new GX(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function rc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function G2(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new Tt(0,0))}static max(){return new le(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends vf{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const YX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends vf{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return YX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ve.fromString(e))}static fromName(e){return new Q(Ve.fromString(e).popFirst(5))}static empty(){return new Q(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function NT(t){return t.fields.find(e=>e.kind===2)}function ha(t){return t.fields.filter(e=>e.kind!==2)}my.UNKNOWN_ID=-1;class Qm{constructor(e,n){this.fieldPath=e,this.kind=n}}class wf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new wf(0,Fr.min())}}function K2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new Fr(i,Q.empty(),e)}function Q2(t){return new Fr(t.readTime,t.key,-1)}class Fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fr(le.min(),Q.empty(),-1)}static max(){return new Fr(le.max(),Q.empty(),-1)}}function tC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==Y2)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new cn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new uh(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=nC(r.target.error);this.V.reject(new uh(e,i))}}static open(e,n,r,i){try{return new nv(n,e.transaction(i,r))}catch(s){throw new uh(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new JX(n)}}class _i{constructor(e,n,r){this.name=e,this.version=n,this.p=r,_i.S(Rt())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),ya(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!qh())return!1;if(_i.C())return!0;const e=Rt(),n=_i.S(e),r=0<n&&n<10,i=_i.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=VX)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new uh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new L(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new uh(e,o))},i.onupgradeneeded=s=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=nv.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),P.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(F("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class XX{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ya(this.k.delete())}}class uh extends L{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Jo(t){return t.name==="IndexedDbTransactionError"}class JX{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(F("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ya(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),ya(this.store.add(e))}get(e){return ya(this.store.get(e)).next(n=>(n===void 0&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),ya(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),ya(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new P((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new P((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){F("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new P((r,i)=>{n.onerror=s=>{const o=nC(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new P((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new XX(a),u=n(a.primaryKey,a.value,l);if(u instanceof P){const c=u.catch(d=>(l.done(),P.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>P.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ya(t){return new P((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=nC(r.target.error);n(i)}})}let mA=!1;function nC(t){const e=_i.S(Rt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mA||(mA=!0,setTimeout(()=>{throw r},0)),r}}return t}class ZX{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){F("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{F("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){Jo(n)?F("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Xo(n)}await this.ee(6e4)})}}class eJ{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return P.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return F("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(F("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=Q2(s);tC(o,r)>0&&(r=o)}),new Fr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}ir._e=-1;function _p(t){return t==null}function Ef(t){return t===0&&1/t==-1/0}function J2(t){return typeof t=="number"&&Number.isInteger(t)&&!Ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gA(e)),e=tJ(t.get(n),e);return gA(e)}function tJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function gA(t){return t+""}function Hi(t){const e=t.length;if(ie(e>=2),e===2)return ie(t.charAt(0)===""&&t.charAt(1)===""),Ve.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&ee(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ee()}s=o+2}return new Ve(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){return[t,Gn(e)]}function Z2(t,e,n){return[t,Gn(e),n]}const nJ={},rJ=["prefixPath","collectionGroup","readTime","documentId"],iJ=["prefixPath","collectionGroup","documentId"],sJ=["collectionGroup","readTime","prefixPath","documentId"],oJ=["canonicalId","targetId"],aJ=["targetId","path"],lJ=["path","targetId"],uJ=["collectionId","parent"],cJ=["indexId","uid"],dJ=["uid","sequenceNumber"],hJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fJ=["indexId","uid","orderedDocumentKey"],pJ=["userId","collectionPath","documentId"],mJ=["userId","collectionPath","largestBatchId"],gJ=["userId","collectionGroup","largestBatchId"],eV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yJ=[...eV,"documentOverlays"],tV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nV=tV,_J=[...nV,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends X2{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function pn(t,e){const n=X(t);return _i.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gm(this.root,e,this.comparator,!0)}}class gm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??En.RED,this.left=i??En.EMPTY,this.right=s??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new En(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return En.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vA(this.data.getIterator())}getIteratorFrom(e){return new vA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class vA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new sr([])}unionWith(e){let n=new nt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iV("Invalid base64 string: "+s):s}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const wJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(ie(!!t),typeof t=="string"){let e=0;const n=wJ.exec(t);if(ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mo(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rC(t){const e=t.mapValue.fields.__previous_value__;return rv(e)?rC(e):e}function Tf(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Lo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xm={nullValue:"NULL_VALUE"};function il(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rv(t)?4:sV(t)?9007199254740991:10:ee()}function ts(t,e){if(t===e)return!0;const n=il(t);if(n!==il(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tf(t).isEqual(Tf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Do(i.timestampValue),a=Do(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mo(i.bytesValue).isEqual(Mo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ot(i.geoPointValue.latitude)===Ot(s.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ot(i.integerValue)===Ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ot(i.doubleValue),a=Ot(s.doubleValue);return o===a?Ef(o)===Ef(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_A(o)!==_A(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ts(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function If(t,e){return(t.values||[]).find(n=>ts(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=il(t),r=il(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ot(s.integerValue||s.doubleValue),l=Ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return wA(t.timestampValue,e.timestampValue);case 4:return wA(Tf(t),Tf(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Mo(s),l=Mo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ie(a[u],l[u]);if(c!==0)return c}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ie(Ot(s.latitude),Ot(o.latitude));return a!==0?a:Ie(Ot(s.longitude),Ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Fo(a[u],l[u]);if(c)return c}return Ie(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===io.mapValue&&o===io.mapValue)return 0;if(s===io.mapValue)return 1;if(o===io.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ie(l[d],c[d]);if(h!==0)return h;const f=Fo(a[l[d]],u[c[d]]);if(f!==0)return f}return Ie(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ee()}}function wA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Do(t),r=Do(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function ic(t){return DT(t)}function DT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=DT(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${DT(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function sl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function MT(t){return!!t&&"integerValue"in t}function bf(t){return!!t&&"arrayValue"in t}function EA(t){return!!t&&"nullValue"in t}function TA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jm(t){return!!t&&"mapValue"in t}function ch(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ch(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ch(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function TJ(t){return"nullValue"in t?Xm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?sl(Lo.empty(),Q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ee()}function IJ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?sl(Lo.empty(),Q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?io:ee()}function IA(t,e){const n=Fo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function bA(t,e){const n=Fo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ch(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bn(ch(this.value))}}function oV(t){const e=[];return Cl(t.fields,(n,r)=>{const i=new wt([n]);if(Jm(r)){const s=oV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,le.min(),le.min(),le.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new pt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new pt(e,2,n,le.min(),le.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,le.min(),le.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.position=e,this.inclusive=n}}function SA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function CA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n="asc"){this.field=e,this.dir=n}}function bJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{}class Oe extends aV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SJ(e,n,r):n==="array-contains"?new RJ(e,r):n==="in"?new fV(e,r):n==="not-in"?new PJ(e,r):n==="array-contains-any"?new AJ(e,r):new Oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CJ(e,r):new xJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&il(this.value)===il(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Je extends aV{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Je(e,n)}matches(e){return sc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sc(t){return t.op==="and"}function LT(t){return t.op==="or"}function iC(t){return lV(t)&&sc(t)}function lV(t){for(const e of t.filters)if(e instanceof Je)return!1;return!0}function FT(t){if(t instanceof Oe)return t.field.canonicalString()+t.op.toString()+ic(t.value);if(iC(t))return t.filters.map(e=>FT(e)).join(",");{const e=t.filters.map(n=>FT(n)).join(",");return`${t.op}(${e})`}}function uV(t,e){return t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.field.isEqual(i.field)&&ts(r.value,i.value)}(t,e):t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&uV(o,i.filters[a]),!0):!1}(t,e):void ee()}function cV(t,e){const n=t.filters.concat(e);return Je.create(n,t.op)}function dV(t){return t instanceof Oe?function(n){return`${n.field.canonicalString()} ${n.op} ${ic(n.value)}`}(t):t instanceof Je?function(n){return n.op.toString()+" {"+n.getFilters().map(dV).join(" ,")+"}"}(t):"Filter"}class SJ extends Oe{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class CJ extends Oe{constructor(e,n){super(e,"in",n),this.keys=hV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xJ extends Oe{constructor(e,n){super(e,"not-in",n),this.keys=hV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class RJ extends Oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bf(n)&&If(n.arrayValue,this.value)}}class fV extends Oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&If(this.value.arrayValue,n)}}class PJ extends Oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!If(this.value.arrayValue,n)}}class AJ extends Oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>If(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function $T(t,e=null,n=[],r=[],i=null,s=null,o=null){return new kJ(t,e,n,r,i,s,o)}function ol(t){const e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>FT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_p(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ic(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ic(r)).join(",")),e.ce=n}return e.ce}function vp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CA(t.startAt,e.startAt)&&CA(t.endAt,e.endAt)}function gy(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yy(t,e){return t.filters.filter(n=>n instanceof Oe&&n.field.isEqual(e))}function xA(t,e,n){let r=Xm,i=!0;for(const s of yy(t,e)){let o=Xm,a=!0;switch(s.op){case"<":case"<=":o=TJ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Xm}IA({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];IA({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function RA(t,e,n){let r=io,i=!0;for(const s of yy(t,e)){let o=io,a=!0;switch(s.op){case">=":case">":o=IJ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=io}bA({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];bA({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function pV(t,e,n,r,i,s,o,a){return new Fs(t,e,n,r,i,s,o,a)}function Fc(t){return new Fs(t)}function PA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sC(t){return t.collectionGroup!==null}function Lu(t){const e=X(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Sf(s,r))}),n.has(wt.keyField().canonicalString())||e.le.push(new Sf(wt.keyField(),r))}return e.le}function Kn(t){const e=X(t);return e.he||(e.he=NJ(e,Lu(t))),e.he}function NJ(t,e){if(t.limitType==="F")return $T(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Sf(i.field,s)});const n=t.endAt?new $o(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $o(t.startAt.position,t.startAt.inclusive):null;return $T(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function VT(t,e){const n=t.filters.concat([e]);return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _y(t,e,n){return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wp(t,e){return vp(Kn(t),Kn(e))&&t.limitType===e.limitType}function mV(t){return`${ol(Kn(t))}|lt:${t.limitType}`}function tu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dV(i)).join(", ")}]`),_p(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ic(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ic(i)).join(",")),`Target(${r})`}(Kn(t))}; limitType=${t.limitType})`}function Ep(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Lu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=SA(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Lu(r),i)||r.endAt&&!function(o,a,l){const u=SA(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Lu(r),i))}(t,e)}function gV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yV(t){return(e,n)=>{let r=!1;for(const i of Lu(t)){const s=OJ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function OJ(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Fo(l,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ=new ut(Q.comparator);function or(){return DJ}const _V=new ut(Q.comparator);function Bd(...t){let e=_V;for(const n of t)e=e.insert(n.key,n);return e}function vV(t){let e=_V;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return dh()}function wV(){return dh()}function dh(){return new Zo(t=>t.toString(),(t,e)=>t.isEqual(e))}const MJ=new ut(Q.comparator),LJ=new nt(Q.comparator);function be(...t){let e=LJ;for(const n of t)e=e.add(n);return e}const FJ=new nt(Ie);function oC(){return FJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function TV(t){return{integerValue:""+t}}function IV(t,e){return J2(e)?TV(e):EV(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this._=void 0}}function $J(t,e,n){return t instanceof oc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rv(s)&&(s=rC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof al?SV(t,e):t instanceof ll?CV(t,e):function(i,s){const o=bV(i,s),a=AA(o)+AA(i.Ie);return MT(o)&&MT(i.Ie)?TV(a):EV(i.serializer,a)}(t,e)}function VJ(t,e,n){return t instanceof al?SV(t,e):t instanceof ll?CV(t,e):n}function bV(t,e){return t instanceof ac?function(r){return MT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class oc extends iv{}class al extends iv{constructor(e){super(),this.elements=e}}function SV(t,e){const n=xV(e);for(const r of t.elements)n.some(i=>ts(i,r))||n.push(r);return{arrayValue:{values:n}}}class ll extends iv{constructor(e){super(),this.elements=e}}function CV(t,e){let n=xV(e);for(const r of t.elements)n=n.filter(i=>!ts(i,r));return{arrayValue:{values:n}}}class ac extends iv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function AA(t){return Ot(t.integerValue||t.doubleValue)}function xV(t){return bf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.field=e,this.transform=n}}function UJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof al&&i instanceof al||r instanceof ll&&i instanceof ll?rc(r.elements,i.elements,ts):r instanceof ac&&i instanceof ac?ts(r.Ie,i.Ie):r instanceof oc&&i instanceof oc}(t.transform,e.transform)}class BJ{constructor(e,n){this.version=e,this.transformResults=n}}class Et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Et}static exists(e){return new Et(void 0,e)}static updateTime(e){return new Et(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sv{}function RV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vc(t.key,Et.none()):new $c(t.key,t.data,Et.none());{const n=t.data,r=bn.empty();let i=new nt(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $s(t.key,r,new sr(i.toArray()),Et.none())}}function jJ(t,e,n){t instanceof $c?function(i,s,o){const a=i.value.clone(),l=NA(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(i,s,o){if(!Zm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=NA(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(PV(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hh(t,e,n,r){return t instanceof $c?function(s,o,a,l){if(!Zm(s.precondition,o))return a;const u=s.value.clone(),c=OA(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof $s?function(s,o,a,l){if(!Zm(s.precondition,o))return a;const u=OA(s.fieldTransforms,l,o),c=o.data;return c.setAll(PV(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Zm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bV(r.transform,i||null);s!=null&&(n===null&&(n=bn.empty()),n.set(r.field,s))}return n||null}function kA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rc(r,i,(s,o)=>UJ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends sv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends sv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NA(t,e,n){const r=new Map;ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,VJ(o,a,n[i]))}return r}function OA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$J(s,o,e))}return r}class Vc extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aC extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jJ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=RV(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,(n,r)=>kA(n,r))&&rc(this.baseMutations,e.baseMutations,(n,r)=>kA(n,r))}}class uC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ie(e.mutations.length===r.length);let i=function(){return MJ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,$e;function AV(t){switch(t){default:return ee();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function kV(t){if(t===void 0)return Bt("GRPC error has no .code"),k.UNKNOWN;switch(t){case qt.OK:return k.OK;case qt.CANCELLED:return k.CANCELLED;case qt.UNKNOWN:return k.UNKNOWN;case qt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case qt.INTERNAL:return k.INTERNAL;case qt.UNAVAILABLE:return k.UNAVAILABLE;case qt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case qt.NOT_FOUND:return k.NOT_FOUND;case qt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case qt.ABORTED:return k.ABORTED;case qt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case qt.DATA_LOSS:return k.DATA_LOSS;default:return ee()}}($e=qt||(qt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qJ=new Mu([4294967295,4294967295],0);function DA(t){const e=NV().encode(t),n=new $X;return n.update(e),new Uint8Array(n.digest())}function MA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mu([n,r],0),new Mu([i,s],0)]}class dC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jd(`Invalid padding: ${n}`);if(r<0)throw new jd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Mu.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Mu.fromNumber(r)));return i.compare(qJ)===1&&(i=new Mu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=DA(e),[r,i]=MA(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=DA(e),[r,i]=MA(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ip(le.min(),i,new ut(Ie),or(),be())}}class bp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bp(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class OV{constructor(e,n){this.targetId=e,this.fe=n}}class DV{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class LA{constructor(){this.ge=0,this.pe=$A(),this.ye=tn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=be(),n=be(),r=be();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new bp(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=$A()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ie(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class HJ{constructor(e){this.Le=e,this.ke=new Map,this.qe=or(),this.Qe=FA(),this.Ke=new ut(Ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(gy(s))if(r===0){const o=new Q(s.path);this.We(n,o,pt.newNoDocument(o,le.min()))}else ie(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Mo(r).toUint8Array()}catch(l){if(l instanceof iV)return Ri("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dC(o,i,s)}catch(l){return Ri(l instanceof jd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&gy(a.target)){const l=new Q(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,pt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=be();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ip(e,n,this.Ke,this.qe,r);return this.qe=or(),this.Qe=FA(),this.Ke=new ut(Ie),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new LA,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new nt(Ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new LA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function FA(){return new ut(Q.comparator)}function $A(){return new ut(Q.comparator)}const GJ={asc:"ASCENDING",desc:"DESCENDING"},KJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QJ={and:"AND",or:"OR"};class YJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function UT(t,e){return t.useProto3Json||_p(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XJ(t,e){return lc(t,e.toTimestamp())}function jt(t){return ie(!!t),le.fromTimestamp(function(n){const r=Do(n);return new Tt(r.seconds,r.nanos)}(t))}function hC(t,e){return function(r){return new Ve(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function LV(t){const e=Ve.fromString(t);return ie(qV(e)),e}function Cf(t,e){return hC(t.databaseId,e.path)}function Yi(t,e){const n=LV(e);if(n.get(1)!==t.databaseId.projectId)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q($V(n))}function BT(t,e){return hC(t.databaseId,e)}function FV(t){const e=LV(t);return e.length===4?Ve.emptyPath():$V(e)}function xf(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $V(t){return ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VA(t,e,n){return{name:Cf(t,e),fields:n.value.mapValue.fields}}function VV(t,e,n){const r=Yi(t,e.name),i=jt(e.updateTime),s=e.createTime?jt(e.createTime):le.min(),o=new bn({mapValue:{fields:e.fields}}),a=pt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function JJ(t,e){return"found"in e?function(r,i){ie(!!i.found),i.found.name,i.found.updateTime;const s=Yi(r,i.found.name),o=jt(i.found.updateTime),a=i.found.createTime?jt(i.found.createTime):le.min(),l=new bn({mapValue:{fields:i.found.fields}});return pt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ie(!!i.missing),ie(!!i.readTime);const s=Yi(r,i.missing),o=jt(i.readTime);return pt.newNoDocument(s,o)}(t,e):ee()}function ZJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ie(c===void 0||typeof c=="string"),tn.fromBase64String(c||"")):(ie(c===void 0||c instanceof Uint8Array),tn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?k.UNKNOWN:kV(u.code);return new L(c,u.message||"")}(o);n=new DV(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yi(t,r.document.name),s=jt(r.document.updateTime),o=r.document.createTime?jt(r.document.createTime):le.min(),a=new bn({mapValue:{fields:r.document.fields}}),l=pt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new eg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yi(t,r.document),s=r.readTime?jt(r.readTime):le.min(),o=pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new eg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yi(t,r.document),s=r.removedTargetIds||[];n=new eg([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new WJ(i,s),a=r.targetId;n=new OV(a,o)}}return n}function Rf(t,e){let n;if(e instanceof $c)n={update:VA(t,e.key,e.value)};else if(e instanceof Vc)n={delete:Cf(t,e.key)};else if(e instanceof $s)n={update:VA(t,e.key,e.data),updateMask:sZ(e.fieldMask)};else{if(!(e instanceof aC))return ee();n={verify:Cf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:XJ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function jT(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Et.updateTime(jt(s.updateTime)):s.exists!==void 0?Et.exists(s.exists):Et.none()}(e.currentDocument):Et.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ie(a.setToServerValue==="REQUEST_TIME"),l=new oc;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new al(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new ll(c)}else"increment"in a?l=new ac(o,a.increment):ee();const u=wt.fromServerFormat(a.fieldPath);return new Tp(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Yi(t,e.update.name),s=new bn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new sr(u.map(c=>wt.fromServerFormat(c)))}(e.updateMask);return new $s(i,s,o,n,r)}return new $c(i,s,n,r)}if(e.delete){const i=Yi(t,e.delete);return new Vc(i,n)}if(e.verify){const i=Yi(t,e.verify);return new aC(i,n)}return ee()}function eZ(t,e){return t&&t.length>0?(ie(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?jt(i.updateTime):jt(s);return o.isEqual(le.min())&&(o=jt(s)),new BJ(o,i.transformResults||[])}(n,e))):[]}function UV(t,e){return{documents:[BT(t,e.path)]}}function BV(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=BT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=BT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return WV(Je.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:nu(d.field),direction:nZ(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=UT(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function jV(t){let e=FV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ie(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=zV(d);return h instanceof Je&&iC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new Sf(ru(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,_p(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new $o(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new $o(f,h)}(n.endAt)),pV(e,i,o,s,a,"F",l,u)}function tZ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zV(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ru(n.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ru(n.unaryFilter.field);return Oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ru(n.unaryFilter.field);return Oe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ru(n.unaryFilter.field);return Oe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Oe.create(ru(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Je.create(n.compositeFilter.filters.map(r=>zV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function nZ(t){return GJ[t]}function rZ(t){return KJ[t]}function iZ(t){return QJ[t]}function nu(t){return{fieldPath:t.canonicalString()}}function ru(t){return wt.fromServerFormat(t.fieldPath)}function WV(t){return t instanceof Oe?function(n){if(n.op==="=="){if(TA(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NAN"}};if(EA(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TA(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NOT_NAN"}};if(EA(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(n.field),op:rZ(n.op),value:n.value}}}(t):t instanceof Je?function(n){const r=n.getFilters().map(i=>WV(i));return r.length===1?r[0]:{compositeFilter:{op:iZ(n.op),filters:r}}}(t):ee()}function sZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,r,i,s=le.min(),o=le.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.ut=e}}function oZ(t,e){let n;if(e.document)n=VV(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Q.fromSegments(e.noDocument.path),i=cl(e.noDocument.readTime);n=pt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee();{const r=Q.fromSegments(e.unknownDocument.path),i=cl(e.unknownDocument.version);n=pt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Tt(i[0],i[1]);return le.fromTimestamp(s)}(e.readTime)),n}function UA(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Cf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:lc(s,o.version.toTimestamp()),createTime:lc(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ul(e.version)};else{if(!e.isUnknownDocument())return ee();r.unknownDocument={path:n.path.toArray(),version:ul(e.version)}}return r}function vy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ul(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cl(t){const e=new Tt(t.seconds,t.nanoseconds);return le.fromTimestamp(e)}function _a(t,e){const n=(e.baseMutations||[]).map(s=>jT(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>jT(t.ut,s)),i=Tt.fromMillis(e.localWriteTimeMs);return new lC(e.batchId,i,n,r)}function zd(t){const e=cl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?cl(t.lastLimboFreeSnapshotVersion):le.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ie(s.documents.length===1),Kn(Fc(FV(s.documents[0])))}(t.query):function(s){return Kn(jV(s))}(t.query),new gs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,tn.fromBase64String(t.resumeToken))}function GV(t,e){const n=ul(e.snapshotVersion),r=ul(e.lastLimboFreeSnapshotVersion);let i;i=gy(e.target)?UV(t.ut,e.target):BV(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ol(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function fC(t){const e=jV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_y(e,e.limit,"L"):e}function Cw(t,e){return new cC(e.largestBatchId,jT(t.ut,e.overlayMutation))}function BA(t,e){const n=e.path.lastSegment();return[t,Gn(e.path.popLast()),n]}function jA(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:ul(r.readTime),documentKey:Gn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{getBundleMetadata(e,n){return zA(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:cl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return zA(e).put(function(i){return{bundleId:i.id,createTime:ul(jt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return WA(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:fC(s.bundledQuery),readTime:cl(s.readTime)}}(r)})}saveNamedQuery(e,n){return WA(e).put(function(i){return{name:i.name,readTime:ul(jt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function zA(t){return pn(t,"bundles")}function WA(t){return pn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new ov(e,r)}getOverlay(e,n){return gd(e).get(BA(this.userId,n)).next(r=>r?Cw(this.serializer,r):null)}getOverlays(e,n){const r=Gi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new cC(n,o);i.push(this.lt(e,a))}),P.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Gn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(gd(e).H("collectionPathOverlayIndex",a))}),P.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Gi(),s=Gn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return gd(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Cw(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Gi();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return gd(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=Cw(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}lt(e,n){return gd(e).put(function(i,s,o){const[a,l,u]=BA(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Rf(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function gd(t){return pn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ot(e.integerValue));else if("doubleValue"in e){const r=Ot(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Ef(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Mo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?sV(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):ee()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),Q.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}va.St=new va;function lZ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function qA(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=lZ(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class uZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=qA(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=qA(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class cZ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class dZ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class yd{constructor(){this.Wt=new uZ,this.Gt=new cZ(this.Wt),this.zt=new dZ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new wa(this.indexId,this.documentKey,this.arrayValue,r)}}function Ws(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=HA(t.arrayValue,e.arrayValue),n!==0?n:(n=HA(t.directionalValue,e.directionalValue),n!==0?n:Q.comparator(t.documentKey,e.documentKey)))}function HA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.Jt=new nt((n,r)=>wt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ie(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=NT(e);if(n!==void 0&&!this.tn(n))return!1;const r=ha(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new nt(wt.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Qm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Qm(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Qm(r.field,r.dir==="asc"?0:1)));return new my(my.UNKNOWN_ID,this.collectionId,n,wf.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){var e,n;if(ie(t instanceof Oe||t instanceof Je),t instanceof Oe){if(t instanceof fV){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Oe.create(t.field,"==",s)))||[];return Je.create(i,"or")}return t}const r=t.filters.map(i=>KV(i));return Je.create(r,t.op)}function hZ(t){if(t.getFilters().length===0)return[];const e=qT(KV(t));return ie(QV(e)),zT(e)||WT(e)?[e]:e.getFilters()}function zT(t){return t instanceof Oe}function WT(t){return t instanceof Je&&iC(t)}function QV(t){return zT(t)||WT(t)||function(n){if(n instanceof Je&&LT(n)){for(const r of n.getFilters())if(!zT(r)&&!WT(r))return!1;return!0}return!1}(t)}function qT(t){if(ie(t instanceof Oe||t instanceof Je),t instanceof Oe)return t;if(t.filters.length===1)return qT(t.filters[0]);const e=t.filters.map(r=>qT(r));let n=Je.create(e,t.op);return n=wy(n),QV(n)?n:(ie(n instanceof Je),ie(sc(n)),ie(n.filters.length>1),n.filters.reduce((r,i)=>pC(r,i)))}function pC(t,e){let n;return ie(t instanceof Oe||t instanceof Je),ie(e instanceof Oe||e instanceof Je),n=t instanceof Oe?e instanceof Oe?function(i,s){return Je.create([i,s],"and")}(t,e):KA(t,e):e instanceof Oe?KA(e,t):function(i,s){if(ie(i.filters.length>0&&s.filters.length>0),sc(i)&&sc(s))return cV(i,s.getFilters());const o=LT(i)?i:s,a=LT(i)?s:i,l=o.filters.map(u=>pC(u,a));return Je.create(l,"or")}(t,e),wy(n)}function KA(t,e){if(sc(e))return cV(e,t.getFilters());{const n=e.filters.map(r=>pC(t,r));return Je.create(n,"or")}}function wy(t){if(ie(t instanceof Oe||t instanceof Je),t instanceof Oe)return t;const e=t.getFilters();if(e.length===1)return wy(e[0]);if(lV(t))return t;const n=e.map(i=>wy(i)),r=[];return n.forEach(i=>{i instanceof Oe?r.push(i):i instanceof Je&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Je.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(){this.on=new mC}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Fr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class mC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new Uint8Array(0);class pZ{constructor(e,n){this.user=e,this.databaseId=n,this._n=new mC,this.an=new Zo(r=>ol(r),(r,i)=>vp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:Gn(i)};return QA(e).put(s)}return P.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[G2(n),""],!1,!0);return QA(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Hi(o.parent))}return r})}addFieldIndex(e,n){const r=_d(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=ql(e);return s.next(a=>{o.put(jA(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=_d(e),i=ql(e),s=Wl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=_d(e),r=Wl(e),i=ql(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return P.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new GA(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Wl(e);let i=!0;const s=new Map;return P.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=be();const a=[];return P.forEach(s,(l,u)=>{F("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(l)} to execute ${ol(n)}`);const c=function(_,w){const I=NT(w);if(I===void 0)return null;for(const b of yy(_,I.fieldPath))switch(b.op){case"array-contains-any":return b.value.arrayValue.values||[];case"array-contains":return[b.value]}return null}(u,l),d=function(_,w){const I=new Map;for(const b of ha(w))for(const T of yy(_,b.fieldPath))switch(T.op){case"==":case"in":I.set(b.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return I.set(b.fieldPath.canonicalString(),T.value),Array.from(I.values())}return null}(u,l),h=function(_,w){const I=[];let b=!0;for(const T of ha(w)){const R=T.kind===0?xA(_,T.fieldPath,_.startAt):RA(_,T.fieldPath,_.startAt);I.push(R.value),b&&(b=R.inclusive)}return new $o(I,b)}(u,l),f=function(_,w){const I=[];let b=!0;for(const T of ha(w)){const R=T.kind===0?RA(_,T.fieldPath,_.endAt):xA(_,T.fieldPath,_.endAt);I.push(R.value),b&&(b=R.inclusive)}return new $o(I,b)}(u,l),p=this.ln(l,u,h),g=this.ln(l,u,f),v=this.hn(l,u,d),m=this.Pn(l.indexId,c,p,h.inclusive,g,f.inclusive,v);return P.forEach(m,y=>r.j(y,n.limit).next(_=>{_.forEach(w=>{const I=Q.fromSegments(w.documentKey);o.has(I)||(o=o.add(I),a.push(I))})}))}).next(()=>a)}return P.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=hZ(Je.create(e.filters,"and")).map(r=>$T(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.In(n[d/u]):ym,f=this.Tn(e,h,r[d%u],i),p=this.En(e,h,s[d%u],o),g=a.map(v=>this.Tn(e,h,v,!0));c.push(...this.createRange(f,p,g))}return c}Tn(e,n,r,i){const s=new wa(e,Q.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new wa(e,Q.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new GA(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return P.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new nt(wt.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new yd;for(const i of ha(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);va.St.ht(s,o)}return r.Ut()}In(e){const n=new yd;return va.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new yd;return va.St.ht(sl(this.databaseId,n),r.jt(function(s){const o=ha(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new yd);let s=0;for(const o of ha(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&bf(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);va.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new yd;l.seed(a.Ut()),va.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof Oe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=_d(e),i=ql(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return P.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new wf(d.sequenceNumber,new Fr(cl(d.readTime),new Q(Hi(d.documentKey)),d.largestBatchId)):wf.empty(),f=c.fields.map(([p,g])=>new Qm(wt.fromServerFormat(p),g));return new my(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ie(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=_d(e),s=ql(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>P.forEach(a,l=>s.put(jA(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return P.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?P.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),P.forEach(a,l=>this.gn(e,i,l).next(u=>{const c=this.pn(s,l);return u.isEqual(c)?P.resolve():this.yn(e,s,l,u,c)}))))})}wn(e,n,r,i){return Wl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Wl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Wl(e);let s=new nt(Ws);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new wa(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new nt(Ws);const i=this.dn(n,e);if(i==null)return r;const s=NT(n);if(s!=null){const o=e.data.field(s.fieldPath);if(bf(o))for(const a of o.arrayValue.values||[])r=r.add(new wa(n.indexId,e.key,this.In(a),i))}else r=r.add(new wa(n.indexId,e.key,ym,i));return r}yn(e,n,r,i,s){F("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),p=u.getIterator();let g=zl(f),v=zl(p);for(;g||v;){let m=!1,y=!1;if(g&&v){const _=c(g,v);_<0?y=!0:_>0&&(m=!0)}else g!=null?y=!0:m=!0;m?(d(v),v=zl(p)):y?(h(g),g=zl(f)):(g=zl(f),v=zl(p))}}(i,s,Ws,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),P.waitFor(o)}fn(e){let n=1;return ql(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ws(o,a)).filter((o,a,l)=>!a||Ws(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ws(o,e),l=Ws(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,ym,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,ym,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return Ws(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(YA)}getMinOffset(e,n){return P.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||ee())).next(YA)}}function QA(t){return pn(t,"collectionParents")}function Wl(t){return pn(t,"indexEntries")}function _d(t){return pn(t,"indexConfiguration")}function ql(t){return pn(t,"indexState")}function YA(t){ie(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;tC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Fr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class er{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{ie(a===1)}));const u=[];for(const c of n.mutations){const d=Z2(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return P.waitFor(s).next(()=>u)}function Ey(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ee();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(41943040,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);class av{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){ie(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new av(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=iu(e),o=qs(e);return o.add({}).next(a=>{ie(typeof a=="number");const l=new lC(a,n,r,i),u=function(f,p,g){const v=g.baseMutations.map(y=>Rf(f.ut,y)),m=g.mutations.map(y=>Rf(f.ut,y));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:m}}(this.serializer,this.userId,l),c=[];let d=new nt((h,f)=>Ie(h.canonicalString(),f.canonicalString()));for(const h of i){const f=Z2(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,nJ))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),P.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return qs(e).get(n).next(r=>r?(ie(r.userId===this.userId),_a(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?P.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return qs(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ie(a.batchId>=r),s=_a(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return qs(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).W("userMutationsIndex",n).next(r=>r.map(i=>_a(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ym(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return iu(e).Y({range:i},(o,a,l)=>{const[u,c,d]=o,h=Hi(c);if(u===this.userId&&n.path.isEqual(h))return qs(e).get(d).next(f=>{if(!f)throw ee();ie(f.userId===this.userId),s.push(_a(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(Ie);const i=[];return n.forEach(s=>{const o=Ym(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=iu(e).Y({range:a},(u,c,d)=>{const[h,f,p]=u,g=Hi(f);h===this.userId&&s.path.isEqual(g)?r=r.add(p):d.done()});i.push(l)}),P.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Ym(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new nt(Ie);return iu(e).Y({range:o},(l,u,c)=>{const[d,h,f]=l,p=Hi(h);d===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):c.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(qs(e).get(s).next(o=>{if(o===null)throw ee();ie(o.userId===this.userId),r.push(_a(this.serializer,o))}))}),P.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return YV(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),P.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return P.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return iu(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Hi(s[1]);i.push(l)}else a.done()}).next(()=>{ie(i.length===0)})})}containsKey(e,n){return XV(e,this.userId,n)}Mn(e){return JV(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function XV(t,e,n){const r=Ym(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return iu(t).Y({range:s,J:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function qs(t){return pn(t,"mutations")}function iu(t){return pn(t,"documentMutations")}function JV(t){return pn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new dl(0)}static Nn(){return new dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new dl(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>le.fromTimestamp(new Tt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Hl(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ie(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Hl(e).Y((o,a)=>{const l=zd(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>P.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Hl(e).Y((r,i)=>{const s=zd(i);n(s)})}Bn(e){return JA(e).get("targetGlobalKey").next(n=>(ie(n!==null),n))}Ln(e,n){return JA(e).put("targetGlobalKey",n)}kn(e,n){return Hl(e).put(GV(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ol(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Hl(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=zd(a);vp(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Js(e);return n.forEach(o=>{const a=Gn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),P.waitFor(i)}removeMatchingKeys(e,n,r){const i=Js(e);return P.forEach(n,s=>{const o=Gn(s.path);return P.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Js(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Js(e);let s=be();return i.Y({range:r,J:!0},(o,a,l)=>{const u=Hi(o[1]),c=new Q(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Gn(n.path),i=IDBKeyRange.bound([r],[G2(r)],!1,!0);let s=0;return Js(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return Hl(e).get(n).next(r=>r?zd(r):null)}}function Hl(t){return pn(t,"targets")}function JA(t){return pn(t,"targetGlobal")}function Js(t){return pn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA([t,e],[n,r]){const i=Ie(t,n);return i===0?Ie(e,r):i}class gZ{constructor(e){this.Qn=e,this.buffer=new nt(ZA),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yZ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jo(n)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Gn(3e5)})}}class _Z{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(ir._e);const r=new gZ(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(XA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XA):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),eu()<=Ce.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function vZ(t,e){return new _Z(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,n){this.db=e,this.garbageCollector=vZ(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return _m(e,r)}removeReference(e,n,r){return _m(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return _m(e,n)}Xn(e,n){return function(i,s){let o=!1;return JV(i).Z(a=>XV(i,a,s).next(l=>(l&&(o=!0),P.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,le.min()),Js(e).delete(function(d){return[0,Gn(d.path)]}(o))))});i.push(l)}}).next(()=>P.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return _m(e,n)}Zn(e,n){const r=Js(e);let i,s=ir._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==ir._e&&n(new Q(Hi(i)),s),s=u,i=l):s=ir._e}).next(()=>{s!==ir._e&&n(new Q(Hi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _m(t,e){return Js(t).put(function(r,i){return{targetId:0,path:Gn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.changes=new Zo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ra(e).put(r)}removeEntry(e,n,r){return ra(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],vy(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=pt.newInvalidDocument(n);return ra(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vd(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:pt.newInvalidDocument(n)};return ra(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vd(n))},(i,s)=>{r={document:this.tr(n,s),size:Ey(s)}}).next(()=>r)}getEntries(e,n){let r=or();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=or(),i=new ut(Q.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Ey(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return P.resolve();let i=new nt(nk);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(vd(i.first()),vd(i.last())),o=i.getIterator();let a=o.getNext();return ra(e).Y({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=Q.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&nk(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.U(vd(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),vy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ra(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=or();for(const d of u){const h=this.tr(Q.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Ep(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=or();const o=tk(n,r),a=tk(n,Fr.max());return ra(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.tr(Q.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new TZ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return ek(e).get("remoteDocumentGlobalKey").next(n=>(ie(!!n),n))}er(e,n){return ek(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=oZ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(le.min())))return r}return pt.newInvalidDocument(e)}}function eU(t){return new EZ(t)}class TZ extends ZV{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Zo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new nt((s,o)=>Ie(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=UA(this._r.serializer,o);i=i.add(s.path.popLast());const u=Ey(l);r+=u-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=UA(this._r.serializer,o.convertToNoDocument(le.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),P.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function ek(t){return pn(t,"remoteDocumentGlobal")}function ra(t){return pn(t,"remoteDocumentsV14")}function vd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tk(t,e){const n=e.documentKey.path.toArray();return[t,vy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nk(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ie(n[s],r[s]),i)return i;return i=Ie(n.length,r.length),i||(i=Ie(n[n.length-2],r[r.length-2]),i||Ie(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hh(r.mutation,i,sr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Bd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=or();const o=dh(),a=function(){return dh()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof $s)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),hh(c.mutation,u,c.mutation.getFieldMask(),Tt.now())):o.set(u.key,sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new IZ(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=dh();let i=new ut((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||sr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||be()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=wV();c.forEach(h=>{if(!s.has(h)){const f=RV(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Gi());let a=-1,l=s;return o.next(u=>P.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,be())).next(c=>({batchId:a,changes:vV(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Bd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Bd();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,l=>{const u=function(d,h){return new Fs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,pt.newInvalidDocument(c)))});let a=Bd();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&hh(c.mutation,u,sr.empty(),Tt.now()),Ep(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jt(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:fC(i.bundledQuery),readTime:jt(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(){this.overlays=new ut(Q.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Gi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Gi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cC(n,r));let s=this.lr.get(n);s===void 0&&(s=be(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.hr=new nt(sn.Pr),this.Ir=new nt(sn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new sn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new sn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new Q(new Ve([])),r=new sn(n,e),i=new sn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Q(new Ve([])),r=new sn(n,e),i=new sn(n,e+1);let s=be();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new sn(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Q.comparator(e.key,n.key)||Ie(e.gr,n.gr)}static Tr(e,n){return Ie(e.gr,n.gr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new nt(sn.Pr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new sn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),i=new sn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(Ie);return n.forEach(i=>{const s=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),P.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new sn(new Q(s),0);let a=new nt(Ie);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ie(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return P.forEach(n.mutations,i=>{const s=new sn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new sn(n,0),i=this.yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(e){this.Cr=e,this.docs=function(){return new ut(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=or();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||tC(Q2(c),r)<=0||(i.has(c.key)||Ep(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RZ(this)}getSize(e){return P.resolve(this.size)}}class RZ extends ZV{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.persistence=e,this.Fr=new Zo(n=>ol(n),vp),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new gC,this.targetCount=0,this.Nr=dl.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ir(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new PZ(this),this.indexManager=new fZ,this.remoteDocumentCache=function(i){return new xZ(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new HV(n),this.Kr=new bZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new CZ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);const i=new AZ(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class AZ extends X2{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.Gr=new gC,this.zr=null}static jr(e){return new lv(e)}get Hr(){if(this.zr)return this.zr;throw ee()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,r=>{const i=Q.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(e){this.serializer=e}N(e,n,r,i){const s=new nv("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yA,{unique:!0}),l.createObjectStore("documentMutations")}(e),rk(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=P.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),rk(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:le.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yA,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return P.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:pJ});u.createIndex("collectionPathOverlayIndex",mJ,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",gJ,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:rJ});u.createIndex("documentKeyIndex",iJ),u.createIndex("collectionGroupIndex",sJ)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:cJ}).createIndex("sequenceNumberIndex",dJ,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:hJ}).createIndex("documentKeyIndex",fJ,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Ey(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>P.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>P.forEach(a,l=>{ie(l.userId===s.userId);const u=_a(this.serializer,l);return YV(e,s.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new Ve(o),u=function(d){return[0,Gn(d)]}(l);s.push(n.get(u).next(c=>c?P.resolve():(d=>n.put({targetId:0,path:Gn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>P.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:uJ});const r=n.store("collectionParents"),i=new mC,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Gn(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Ve(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const c=Hi(a);return s(c.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=zd(i),o=GV(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new Q(Ve.fromString(d.document.name).popFirst(5)):d.noDocument?Q.fromSegments(d.noDocument.path):d.unknownDocument?Q.fromSegments(d.unknownDocument.path):ee()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>P.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=eU(this.serializer),s=new nU(lv.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:be();_a(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),P.forEach(a,(l,u)=>{const c=new an(u),d=ov.ct(this.serializer,c),h=s.getIndexManager(c),f=av.ct(c,this.serializer,h,s.referenceDelegate);return new tU(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new OT(n,ir._e),l).next()})})}}function rk(t){t.createObjectStore("targetDocuments",{keyPath:aJ}).createIndex("documentTargetsIndex",lJ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oJ,{unique:!0}),t.createObjectStore("targetGlobal")}const xw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yC{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=c,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!yC.D())throw new L(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wZ(this,i),this.Ii=n+"main",this.serializer=new HV(l),this.Ti=new _i(this.Ii,this.ai,new kZ(this.serializer)),this.qr=new mZ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eU(this.serializer),this.Kr=new aZ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,c===!1&&Bt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(k.FAILED_PRECONDITION,xw);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ir(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Jo(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return wd(e).get("owner").next(n=>P.resolve(this.wi(n)))}Si(e){return vm(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=pn(n,"clientMetadata");return r.W().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return P.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?P.resolve(!0):wd(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new L(k.FAILED_PRECONDITION,xw);return!1}}return!(!this.networkEnabled||!this.inForeground)||vm(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&F("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new OT(e,ir._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>vm(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return av.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pZ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return ov.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){F("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?_J:l===14?nV:l===13?tV:l===12?yJ:l===11?eV:void ee()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new OT(a,this.Lr?this.Lr.next():ir._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw Bt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new L(k.FAILED_PRECONDITION,Y2);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return wd(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new L(k.FAILED_PRECONDITION,xw)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wd(e).put("owner",n)}static D(){return _i.D()}pi(e){const n=wd(e);return n.get("owner").next(r=>this.wi(r)?(F("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):P.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Bt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;BW()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Bt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Bt("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wd(t){return pn(t,"owner")}function vm(t){return pn(t,"clientMetadata")}function _C(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new NZ;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(eu()<=Ce.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(eu()<=Ce.DEBUG&&F("QueryEngine","Query:",tu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(eu()<=Ce.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):P.resolve())}zi(e,n){if(PA(n))return P.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_y(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,_y(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return PA(n)||i.isEqual(le.min())?P.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?P.resolve(null):(eu()<=Ce.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tu(n)),this.Xi(e,o,n,K2(i,-1)).next(a=>a))})}Yi(e,n){let r=new nt(yV(e));return n.forEach((i,s)=>{Ep(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return eu()<=Ce.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",tu(n)),this.Gi.getDocumentsMatchingQuery(e,n,Fr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ut(Ie),this.ns=new Zo(s=>ol(s),vp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function iU(t,e,n,r){return new OZ(t,e,n,r)}async function sU(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=be();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function DZ(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=P.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const v=u.docVersions.get(p);ie(v!==null),g.version.compareTo(v)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oU(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function MZ(t,e){const n=X(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(tn.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(g,v,m){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=or(),u=be();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(aU(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(le.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function aU(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=or();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function LZ(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uc(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new gs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function cc(t,e,n){const r=X(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Jo(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function Ty(t,e,n){const r=X(t);let i=le.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=X(l),h=d.ns.get(c);return h!==void 0?P.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:be())).next(a=>(cU(r,gV(e),a),{documents:a,ls:s})))}function lU(t,e){const n=X(t),r=X(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function uU(t,e){const n=X(t),r=n.rs.get(e)||le.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,K2(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(cU(n,e,i),i))}function cU(t,e,n){let r=t.rs.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}async function FZ(t,e,n,r){const i=X(t);let s=be(),o=or();for(const u of n){const c=e.hs(u.metadata.name);u.document&&(s=s.add(c));const d=e.Ps(u);d.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(c,d)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await uc(i,function(c){return Kn(Fc(Ve.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>aU(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.us,c.cs)).next(()=>c.us)))}async function $Z(t,e,n=be()){const r=await uc(t,Kn(fC(e.bundledQuery))),i=X(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=jt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(tn.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}function ik(t,e){return`firestore_clients_${t}_${e}`}function sk(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Rw(t,e){return`firestore_targets_${t}_${e}`}class Iy{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new L(i.error.code,i.error.message))),o?new Iy(e,n,i.state,s):(Bt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new L(r.error.code,r.error.message))),s?new fh(e,r.state,i):(Bt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class by{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=oC();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=J2(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new by(e,s):(Bt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class wC{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new wC(n.clientId,n.onlineState):(Bt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class HT{constructor(){this.activeTargetIds=oC()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pw{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ut(Ie),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=ik(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new HT),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const i=this.getItem(ik(this.persistenceKey,r));if(i){const s=by.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Rw(this.persistenceKey,e));if(r){const i=fh.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rw(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return F("SharedClientState","READ",e,n),n}setItem(e,n){F("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(F("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(s){let o=ir._e;if(s!=null)try{const a=JSON.parse(s);ie(typeof a=="number"),o=a}catch(a){Bt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==ir._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new Iy(this.currentUser,e,n,r),s=sk(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=sk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const i=Rw(this.persistenceKey,e),s=new fh(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return by.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Iy.Ts(new an(s),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return fh.Ts(i,n)}Ms(e){return wC.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=oC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class dU{constructor(){this.eo=new HT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new HT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm=null;function Aw(){return wm===null?wm=function(){return 268435456+Math.round(2147483648*Math.random())}():wm++,"0x"+wm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class jZ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Aw(),l=this.So(n,r);F("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(F("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ri("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=UZ[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Aw();return new Promise((o,a)=>{const l=new FX;l.setWithCredentials(!0),l.listenOnce(MX.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sw.NO_ERROR:const c=l.getResponseJson();F(Nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Sw.TIMEOUT:F(Nn,`RPC '${e}' ${s} timed out`),a(new L(k.DEADLINE_EXCEEDED,"Request time out"));break;case Sw.HTTP_ERROR:const d=l.getStatus();if(F(Nn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(m)>=0?m:k.UNKNOWN}(f.status);a(new L(p,f.message))}else a(new L(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(k.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{F(Nn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);F(Nn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=Aw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OX(),a=DX(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");F(Nn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new BZ({co:v=>{f?F(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(F(Nn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),F(Nn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},lo:()=>d.close()}),g=(v,m,y)=>{v.listen(m,_=>{try{y(_)}catch(w){setTimeout(()=>{throw w},0)}})};return g(d,mm.EventType.OPEN,()=>{f||F(Nn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,mm.EventType.CLOSE,()=>{f||(f=!0,F(Nn,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,mm.EventType.ERROR,v=>{f||(f=!0,Ri(Nn,`RPC '${e}' stream ${i} transport errored:`,v),p.Ro(new L(k.UNAVAILABLE,"The operation could not be completed")))}),g(d,mm.EventType.MESSAGE,v=>{var m;if(!f){const y=v.data[0];ie(!!y);const _=y,w=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(w){F(Nn,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let b=function(O){const x=qt[O];if(x!==void 0)return kV(x)}(I),T=w.message;b===void 0&&(b=k.INTERNAL,T="Unknown error status: "+I+" with message "+w.message),f=!0,p.Ro(new L(b,T)),d.close()}else F(Nn,`RPC '${e}' stream ${i} received:`,y),p.Vo(y)}}),g(a,LX.STAT_EVENT,v=>{v.stat===fA.PROXY?F(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===fA.NOPROXY&&F(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(){return typeof window<"u"?window:null}function tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){return new YJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new EC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Bt(n.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new L(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zZ extends fU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=ZJ(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?jt(o.readTime):le.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=xf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=gy(l)?{documents:UV(s,l)}:{query:BV(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MV(s,o.resumeToken);const u=UT(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=lc(s,o.snapshotVersion.toTimestamp());const u=UT(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=tZ(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=xf(this.serializer),n.removeTarget=e,this.e_(n)}}class WZ extends fU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=eZ(e.writeResults,e.commitTime),r=jt(e.commitTime);return this.listener.I_(r,n)}return ie(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=xf(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Rf(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(k.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(k.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class HZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Bt(n),this.f_=!1):F("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{ea(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=X(l);u.C_.add(4),await Uc(u),u.M_.set("Unknown"),u.C_.delete(4),await Cp(u)}(this))})}),this.M_=new HZ(r,i)}}async function Cp(t){if(ea(t))for(const e of t.v_)await e(!0)}async function Uc(t){for(const e of t.v_)await e(!1)}function uv(t,e){const n=X(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),bC(n)?IC(n):jc(n).Ho()&&TC(n,e))}function Pf(t,e){const n=X(t),r=jc(n);n.D_.delete(e),r.Ho()&&pU(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ea(n)&&n.M_.set("Unknown"))}function TC(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).u_(e)}function pU(t,e){t.x_.Oe(e),jc(t).c_(e)}function IC(t){t.x_=new HJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.M_.g_()}function bC(t){return ea(t)&&!jc(t).jo()&&t.D_.size>0}function ea(t){return X(t).C_.size===0}function mU(t){t.x_=void 0}async function KZ(t){t.D_.forEach((e,n)=>{TC(t,e)})}async function QZ(t,e){mU(t),bC(t)?(t.M_.w_(e),IC(t)):t.M_.set("Unknown")}async function YZ(t,e,n){if(t.M_.set("Online"),e instanceof DV&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sy(t,r)}else if(e instanceof eg?t.x_.$e(e):e instanceof OV?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(le.min()))try{const r=await oU(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(tn.EMPTY_BYTE_STRING,c.snapshotVersion)),pU(s,l);const d=new gs(c.target,l,u,c.sequenceNumber);TC(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){F("RemoteStore","Failed to raise snapshot:",r),await Sy(t,r)}}async function Sy(t,e,n){if(!Jo(e))throw e;t.C_.add(1),await Uc(t),t.M_.set("Offline"),n||(n=()=>oU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Cp(t)})}function gU(t,e){return e().catch(n=>Sy(t,n,e))}async function Bc(t){const e=X(t),n=Vo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;XZ(e);)try{const i=await LZ(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,JZ(e,i)}catch(i){await Sy(e,i)}yU(e)&&_U(e)}function XZ(t){return ea(t)&&t.b_.length<10}function JZ(t,e){t.b_.push(e);const n=Vo(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function yU(t){return ea(t)&&!Vo(t).jo()&&t.b_.length>0}function _U(t){Vo(t).start()}async function ZZ(t){Vo(t).E_()}async function eee(t){const e=Vo(t);for(const n of t.b_)e.P_(n.mutations)}async function tee(t,e,n){const r=t.b_.shift(),i=uC.from(r,e,n);await gU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bc(t)}async function nee(t,e){e&&Vo(t).h_&&await async function(r,i){if(function(o){return AV(o)&&o!==k.ABORTED}(i.code)){const s=r.b_.shift();Vo(r).Yo(),await gU(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Bc(r)}}(t,e),yU(t)&&_U(t)}async function ak(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const r=ea(n);n.C_.add(3),await Uc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Cp(n)}async function GT(t,e){const n=X(t);e?(n.C_.delete(2),await Cp(n)):e||(n.C_.add(2),await Uc(n),n.M_.set("Unknown"))}function jc(t){return t.O_||(t.O_=function(n,r,i){const s=X(n);return s.A_(),new zZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:KZ.bind(null,t),Io:QZ.bind(null,t),a_:YZ.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),bC(t)?IC(t):t.M_.set("Unknown")):(await t.O_.stop(),mU(t))})),t.O_}function Vo(t){return t.N_||(t.N_=function(n,r,i){const s=X(n);return s.A_(),new WZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:ZZ.bind(null,t),Io:nee.bind(null,t),T_:eee.bind(null,t),I_:tee.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Bc(t)):(await t.N_.stop(),t.b_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new SC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zc(t,e){if(Bt("AsyncQueue",`${e}: ${t}`),Jo(t))return new L(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Bd(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Fu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.B_=new ut(Q.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ee():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class dc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new dc(e,n,Fu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(){this.k_=void 0,this.listeners=[]}}class iee{constructor(){this.queries=new Zo(e=>mV(e),wp),this.onlineState="Unknown",this.q_=new Set}}async function CC(t,e){const n=X(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ree),i)try{s.k_=await n.onListen(r)}catch(o){const a=zc(o,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&RC(n)}async function xC(t,e){const n=X(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function see(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&RC(n)}function oee(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function RC(t){t.q_.forEach(e=>{e.next()})}class PC{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.serializer=e}hs(e){return Yi(this.serializer,e)}Ps(e){return e.metadata.exists?VV(this.serializer,e.document,!1):pt.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return jt(e)}}class lee{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vU(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=Ve.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new uk(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||be()).add(s);n.set(o,a)}}return n}async complete(){const e=await FZ(this.localStore,new uk(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await $Z(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function vU(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.key=e}}class EU{constructor(e){this.key=e}}class TU{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=be(),this.mutatedKeys=be(),this._a=yV(e),this.aa=new Fu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new lk,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Ep(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),v=!0):this.ha(h,f)||(r.track({type:2,doc:f}),v=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,d)=>function(f,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return g(f)-g(p)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new dc(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new lk,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=be(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new EU(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new wU(r))}),n}da(e){this.ia=e.ls,this.oa=be();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return dc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class uee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cee{constructor(e){this.key=e,this.Ra=!1}}class dee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Zo(a=>mV(a),wp),this.fa=new Map,this.ga=new Set,this.pa=new ut(Q.comparator),this.ya=new Map,this.wa=new gC,this.Sa={},this.ba=new Map,this.Da=dl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function hee(t,e){const n=DC(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await uc(n.localStore,Kn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await AC(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&uv(n.remoteStore,o)}return i}async function AC(t,e,n,r,i){t.va=(d,h,f)=>async function(g,v,m,y){let _=v.view.ca(m);_.Zi&&(_=await Ty(g.localStore,v.query,!1).then(({documents:T})=>v.view.ca(T,_)));const w=y&&y.targetChanges.get(v.targetId),I=y&&y.targetMismatches.get(v.targetId)!=null,b=v.view.applyChanges(_,g.isPrimaryClient,w,I);return KT(g,v.targetId,b.Ta),b.snapshot}(t,d,h,f);const s=await Ty(t.localStore,e,!0),o=new TU(e,s.ls),a=o.ca(s.documents),l=bp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);KT(t,n,u.Ta);const c=new uee(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function fee(t,e){const n=X(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!wp(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Pf(n.remoteStore,r.targetId),hc(n,r.targetId)}).catch(Xo)):(hc(n,r.targetId),await cc(n.localStore,r.targetId,!0))}async function pee(t,e,n){const r=MC(t);try{const i=await function(o,a){const l=X(o),u=Tt.now(),c=a.reduce((f,p)=>f.add(p.key),be());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=or(),g=be();return l.ss.getEntries(f,c).next(v=>{p=v,p.forEach((m,y)=>{y.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(v=>{d=v;const m=[];for(const y of a){const _=zJ(y,d.get(y.key).overlayedDocument);_!=null&&m.push(new $s(y.key,_,oV(_.value.mapValue),Et.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(v=>{h=v;const m=v.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,v.batchId,m)})}).then(()=>({batchId:h.batchId,changes:vV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new ut(Ie)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Vs(r,i.changes),await Bc(r.remoteStore)}catch(i){const s=zc(i,"Failed to persist write");n.reject(s)}}async function IU(t,e){const n=X(t);try{const r=await MZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ie(o.Ra):i.removedDocuments.size>0&&(ie(o.Ra),o.Ra=!1))}),await Vs(n,r,e)}catch(r){await Xo(r)}}function ck(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=X(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&RC(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mee(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new ut(Q.comparator);o=o.insert(s,pt.newNoDocument(s,le.min()));const a=be().add(s),l=new Ip(le.min(),new Map,new ut(Ie),o,a);await IU(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),OC(r)}else await cc(r.localStore,e,!1).then(()=>hc(r,e,n)).catch(Xo)}async function gee(t,e){const n=X(t),r=e.batch.batchId;try{const i=await DZ(n.localStore,e);NC(n,r,null),kC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vs(n,i)}catch(i){await Xo(i)}}async function yee(t,e,n){const r=X(t);try{const i=await function(o,a){const l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ie(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);NC(r,e,n),kC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vs(r,i)}catch(i){await Xo(i)}}async function _ee(t,e){const n=X(t);ea(n.remoteStore)||F("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=X(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=zc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function kC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function NC(t,e,n){const r=X(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function hc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||bU(t,r)})}function bU(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(Pf(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),OC(t))}function KT(t,e,n){for(const r of n)r instanceof wU?(t.wa.addReference(r.key,e),vee(t,r)):r instanceof EU?(F("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||bU(t,r.key)):ee()}function vee(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(F("SyncEngine","New document in limbo: "+n),t.ga.add(r),OC(t))}function OC(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Q(Ve.fromString(e)),r=t.Da.next();t.ya.set(r,new cee(n)),t.pa=t.pa.insert(n,r),uv(t.remoteStore,new gs(Kn(Fc(n.path)),r,"TargetPurposeLimboResolution",ir._e))}}async function Vs(t,e,n){const r=X(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=vC.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=X(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>P.forEach(u,h=>P.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>P.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Jo(d))throw d;F("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(h,g)}}}(r.localStore,s))}async function wee(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const r=await sU(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new L(k.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vs(n,r._s)}}function Eee(t,e){const n=X(t),r=n.ya.get(e);if(r&&r.Ra)return be().add(r.key);{let i=be();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}async function Tee(t,e){const n=X(t),r=await Ty(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&KT(n,e.targetId,i.Ta),i}async function Iee(t,e){const n=X(t);return uU(n.localStore,e).then(r=>Vs(n,r))}async function bee(t,e,n,r){const i=X(t),s=await function(a,l){const u=X(a),c=X(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Cn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):P.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Bc(i.remoteStore):n==="acknowledged"||n==="rejected"?(NC(i,e,r||null),kC(i,e),function(a,l){X(X(a).mutationQueue).Fn(l)}(i.localStore,e)):ee(),await Vs(i,s)):F("SyncEngine","Cannot apply mutation batch with id: "+e)}async function See(t,e){const n=X(t);if(DC(n),MC(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await dk(n,r.toArray());n.Ca=!0,await GT(n.remoteStore,!0);for(const s of i)uv(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(hc(n,o),cc(n.localStore,o,!0))),Pf(n.remoteStore,o)}),await i,await dk(n,r),function(o){const a=X(o);a.ya.forEach((l,u)=>{Pf(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new ut(Q.comparator)}(n),n.Ca=!1,await GT(n.remoteStore,!1)}}async function dk(t,e,n){const r=X(t),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&l.length!==0){a=await uc(r.localStore,Kn(l[0]));for(const u of l){const c=r.ma.get(u),d=await Tee(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await lU(r.localStore,o);a=await uc(r.localStore,u),await AC(r,SU(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}function SU(t){return pV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cee(t){return function(n){return X(X(n).persistence).Bi()}(X(t).localStore)}async function xee(t,e,n,r){const i=X(t);if(i.Ca)return void F("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await uU(i.localStore,gV(s[0])),a=Ip.createSynthesizedRemoteEventForCurrentChange(e,n==="current",tn.EMPTY_BYTE_STRING);await Vs(i,o,a);break}case"rejected":await cc(i.localStore,e,!0),hc(i,e,r);break;default:ee()}}async function Ree(t,e,n){const r=DC(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){F("SyncEngine","Adding an already active target "+i);continue}const s=await lU(r.localStore,i),o=await uc(r.localStore,s);await AC(r,SU(s),o.targetId,!1,o.resumeToken),uv(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&await cc(r.localStore,i,!1).then(()=>{Pf(r.remoteStore,i),hc(r,i)}).catch(Xo)}}function DC(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mee.bind(null,e),e.Va.a_=see.bind(null,e.eventManager),e.Va.Fa=oee.bind(null,e.eventManager),e}function MC(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yee.bind(null,e),e}function Pee(t,e,n){const r=X(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,p){const g=X(f),v=jt(p.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",m=>g.Kr.getBundleMetadata(m,p.id)).then(m=>!!m&&m.createTime.compareTo(v)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(vU(l));const u=new lee(l,s.localStore,o.serializer);let c=await o.Ma();for(;c;){const h=await u.ea(c);h&&a._updateProgress(h),c=await o.Ma()}const d=await u.complete();return await Vs(s,d.ra,void 0),await function(f,p){const g=X(f);return g.persistence.runTransaction("Save bundle","readwrite",v=>g.Kr.saveBundleMetadata(v,p))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.na)}catch(l){return Ri("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class QT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return iU(this.persistence,new rU,e.initialUser,this.serializer)}createPersistence(e){return new nU(lv.jr,this.serializer)}createSharedClientState(e){return new dU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CU extends QT{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await MC(this.xa.syncEngine),await Bc(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return iU(this.persistence,new rU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new yZ(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new eJ(n,this.persistence);return new ZX(e.asyncQueue,r)}createPersistence(e){const n=_C(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new yC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,hU(),tg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dU}}class Aee extends CU{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof Pw&&(this.sharedClientState.syncEngine={Ys:bee.bind(null,n),Zs:xee.bind(null,n),Xs:Ree.bind(null,n),Bi:Cee.bind(null,n),Js:Iee.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await See(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=hU();if(!Pw.D(n))throw new L(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_C(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class LC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ck(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wee.bind(null,this.syncEngine),await GT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iee}()}createDatastore(e){const n=Sp(e.databaseInfo.databaseId),r=function(s){return new jZ(s)}(e.databaseInfo);return function(s,o,a,l){return new qZ(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new GZ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ck(this.syncEngine,n,0),function(){return ok.D()?new ok:new VZ}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new dee(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=X(n);F("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Uc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Bt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new cn,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const i=await this.Ka(r);return new aee(JSON.parse(i),e.length+r)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=X(i),a=xf(o.serializer)+"/documents",l={documents:s.map(h=>Cf(o.serializer,h))},u=await o.Co("BatchGetDocuments",a,l,s.length),c=new Map;u.forEach(h=>{const f=JJ(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());ie(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=Q.fromPath(r);this.mutations.push(new aC(i,this.precondition(i)))}),await async function(r,i){const s=X(r),o=xf(s.serializer)+"/documents",a={writes:i.map(l=>Rf(s.serializer,l))};await s.wo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ee();n=le.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new L(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(le.min())?Et.exists(!1):Et.updateTime(n):Et.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(le.min()))throw new L(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Et.updateTime(n)}return Et.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new EC(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new Nee(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!_p(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!AV(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=H2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{F("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ng(t,e){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FC(t);F("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>ak(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>ak(e.remoteStore,s)),t._onlineComponents=e}function xU(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function FC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{await ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!xU(n))throw n;Ri("Error using user provided cache. Falling back to memory cache: "+n),await ng(t,new QT)}}else F("FirestoreClient","Using default OfflineComponentProvider"),await ng(t,new QT);return t._offlineComponents}async function dv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),await YT(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),await YT(t,new LC))),t._onlineComponents}function RU(t){return FC(t).then(e=>e.persistence)}function $C(t){return FC(t).then(e=>e.localStore)}function PU(t){return dv(t).then(e=>e.remoteStore)}function VC(t){return dv(t).then(e=>e.syncEngine)}function Mee(t){return dv(t).then(e=>e.datastore)}async function fc(t){const e=await dv(t),n=e.eventManager;return n.onListen=hee.bind(null,e.syncEngine),n.onUnlisten=fee.bind(null,e.syncEngine),n}function Lee(t){return t.asyncQueue.enqueue(async()=>{const e=await RU(t),n=await PU(t);return e.setNetworkEnabled(!0),function(i){const s=X(i);return s.C_.delete(0),Cp(s)}(n)})}function Fee(t){return t.asyncQueue.enqueue(async()=>{const e=await RU(t),n=await PU(t);return e.setNetworkEnabled(!1),async function(i){const s=X(i);s.C_.add(0),await Uc(s),s.M_.set("Offline")}(n)})}function $ee(t,e){const n=new cn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=X(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new L(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=zc(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await $C(t),e,n)),n.promise}function AU(t,e,n={}){const r=new cn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new cv({next:h=>{o.enqueueAndForget(()=>xC(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new L(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new L(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new PC(Fc(a.path),c,{includeMetadataChanges:!0,J_:!0});return CC(s,d)}(await fc(t),t.asyncQueue,e,n,r)),r.promise}function Vee(t,e){const n=new cn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Ty(i,s,!0),l=new TU(s,a.ls),u=l.ca(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=zc(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await $C(t),e,n)),n.promise}function kU(t,e,n={}){const r=new cn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new cv({next:h=>{o.enqueueAndForget(()=>xC(s,d)),h.fromCache&&l.source==="server"?u.reject(new L(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new PC(a,c,{includeMetadataChanges:!0,J_:!0});return CC(s,d)}(await fc(t),t.asyncQueue,e,n,r)),r.promise}function Uee(t,e){const n=new cv(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.add(s),s.next()}(await fc(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.delete(s)}(await fc(t),n))}}function Bee(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?NV().encode(o):o,function(c,d){return new kee(c,d)}(function(c,d){if(c instanceof Uint8Array)return hk(c,d);if(c instanceof ArrayBuffer)return hk(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Sp(e));t.asyncQueue.enqueueAndForget(async()=>{Pee(await VC(t),i,r)})}function jee(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=X(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(await $C(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,n){if(!n)throw new L(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OU(t,e,n,r){if(e===!0&&r===!0)throw new L(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pk(t){if(!Q.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mk(t){if(Q.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function We(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hv(t);throw new L(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function DU(t,e){if(e<=0)throw new L(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gk(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jX;switch(r.type){case"firstParty":return new HX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fk.get(n);r&&(F("ComponentProvider","Removing Datastore"),fk.delete(n),r.terminate())}(this),Promise.resolve()}}function zee(t,e,n,r={}){var i;const s=(t=We(t,xp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=rL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(u)}t._authCredentials=new zX(new q2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yn=class MU{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new MU(this.firestore,e,this._query)}},Ct=class LU{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new LU(this.firestore,e,this._key)}},To=class FU extends Yn{constructor(e,n,r){super(e,n,Fc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Q(e))}withConverter(e){return new FU(this.firestore,e,this._path)}};function $U(t,e,...n){if(t=oe(t),UC("collection","path",e),t instanceof xp){const r=Ve.fromString(e,...n);return mk(r),new To(t,null,r)}{if(!(t instanceof Ct||t instanceof To))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return mk(r),new To(t.firestore,null,r)}}function Wee(t,e){if(t=We(t,xp),UC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yn(t,null,function(r){return new Fs(Ve.emptyPath(),r)}(e))}function Cy(t,e,...n){if(t=oe(t),arguments.length===1&&(e=H2.newId()),UC("doc","path",e),t instanceof xp){const r=Ve.fromString(e,...n);return pk(r),new Ct(t,null,new Q(r))}{if(!(t instanceof Ct||t instanceof To))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return pk(r),new Ct(t.firestore,t instanceof To?t.converter:null,new Q(r))}}function VU(t,e){return t=oe(t),e=oe(e),(t instanceof Ct||t instanceof To)&&(e instanceof Ct||e instanceof To)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function UU(t,e){return t=oe(t),e=oe(e),t instanceof Yn&&e instanceof Yn&&t.firestore===e.firestore&&wp(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new EC(this,"async_queue_retry"),this.iu=()=>{const n=tg();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=tg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=tg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new cn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Jo(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Bt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=SC.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ee()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function XT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Hee{constructor(){this._progressObserver={},this._taskCompletionResolver=new cn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gee=-1;let Ft=class extends xp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new qee}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BU(this),this._firestoreClient.terminate()}};function mn(t){return t._firestoreClient||BU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BU(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new EJ(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,NU(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Dee(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Kee(t,e){zU(t=We(t,Ft));const n=mn(t);if(n._uninitializedComponentsProvider)throw new L(k.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new LC;return jU(n,i,new CU(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Qee(t){zU(t=We(t,Ft));const e=mn(t);if(e._uninitializedComponentsProvider)throw new L(k.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new LC;return jU(e,r,new Aee(r,n.cacheSizeBytes))}function jU(t,e,n){const r=new cn;return t.asyncQueue.enqueue(async()=>{try{await ng(t,n),await YT(t,e),r.resolve()}catch(i){const s=i;if(!xU(s))throw s;Ri("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Yee(t){if(t._initialized&&!t._terminated)throw new L(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!_i.D())return Promise.resolve();const i=r+"main";await _i.delete(i)}(_C(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Xee(t){return function(n){const r=new cn;return n.asyncQueue.enqueueAndForget(async()=>_ee(await VC(n),r)),r.promise}(mn(t=We(t,Ft)))}function Jee(t){return Lee(mn(t=We(t,Ft)))}function Zee(t){return Fee(mn(t=We(t,Ft)))}function ete(t,e){const n=mn(t=We(t,Ft)),r=new Hee;return Bee(n,t._databaseId,e,r),r}function tte(t,e){return jee(mn(t=We(t,Ft)),e).then(n=>n?new Yn(t,null,n.query):null)}function zU(t){if(t._initialized||t._terminated)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ns(tn.fromBase64String(e))}catch(n){throw new L(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ns(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte=/^__.*__$/;class rte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class WU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class pv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return xy(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(qU(this.Iu)&&nte.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ite{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sp(e)}pu(e,n,r,i=!1){return new pv({Iu:e,methodName:n,gu:r,path:wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rl(t){const e=t._freezeSettings(),n=Sp(t._databaseId);return new ite(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mv(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);WC("Data must be an object, but it was:",o,r);const a=KU(r,o);let l,u;if(s.merge)l=new sr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=JT(e,d,n);if(!o.contains(h))throw new L(k.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);YU(c,h)||c.push(h)}l=new sr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new rte(new bn(a),l,u)}class Rp extends xl{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rp}}function HU(t,e,n){return new pv({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class BC extends xl{_toFieldTransform(e){return new Tp(e.path,new oc)}isEqual(e){return e instanceof BC}}class ste extends xl{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=HU(this,e,!0),r=this.yu.map(s=>Pl(s,n)),i=new al(r);return new Tp(e.path,i)}isEqual(e){return this===e}}class ote extends xl{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=HU(this,e,!0),r=this.yu.map(s=>Pl(s,n)),i=new ll(r);return new Tp(e.path,i)}isEqual(e){return this===e}}class ate extends xl{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new ac(e.serializer,IV(e.serializer,this.wu));return new Tp(e.path,n)}isEqual(e){return this===e}}function jC(t,e,n,r){const i=t.pu(1,e,n);WC("Data must be an object, but it was:",i,r);const s=[],o=bn.empty();Cl(r,(l,u)=>{const c=qC(e,l,n);u=oe(u);const d=i.Ru(c);if(u instanceof Rp)s.push(c);else{const h=Pl(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new sr(s);return new WU(o,a,i.fieldTransforms)}function zC(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[JT(e,r,n)],l=[i];if(s.length%2!=0)throw new L(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(JT(e,s[h])),l.push(s[h+1]);const u=[],c=bn.empty();for(let h=a.length-1;h>=0;--h)if(!YU(u,a[h])){const f=a[h];let p=l[h];p=oe(p);const g=o.Ru(f);if(p instanceof Rp)u.push(f);else{const v=Pl(p,g);v!=null&&(u.push(f),c.set(f,v))}}const d=new sr(u);return new WU(c,d,o.fieldTransforms)}function GU(t,e,n,r=!1){return Pl(n,t.pu(r?4:3,e))}function Pl(t,e){if(QU(t=oe(t)))return WC("Unsupported field value:",e,t),KU(t,e);if(t instanceof xl)return function(r,i){if(!qU(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Pl(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Tt.fromDate(r);return{timestampValue:lc(i.serializer,s)}}if(r instanceof Tt){const s=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(i.serializer,s)}}if(r instanceof fv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ns)return{bytesValue:MV(i.serializer,r._byteString)};if(r instanceof Ct){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${hv(r)}`)}(t,e)}function KU(t,e){const n={};return rV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cl(t,(r,i)=>{const s=Pl(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof fv||t instanceof ns||t instanceof Ct||t instanceof xl)}function WC(t,e,n){if(!QU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hv(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function JT(t,e,n){if((e=oe(e))instanceof Uo)return e._internalPath;if(typeof e=="string")return qC(t,e);throw xy("Field path arguments must be of type string or ",t,!1,void 0,n)}const lte=new RegExp("[~\\*/\\[\\]]");function qC(t,e,n){if(e.search(lte)>=0)throw xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uo(...e.split("."))._internalPath}catch{throw xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new L(k.INVALID_ARGUMENT,a+t+l)}function YU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ute(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ute extends Af{data(){return super.data()}}function gv(t,e){return typeof e=="string"?qC(t,e):e instanceof Uo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HC{}class Pp extends HC{}function Hs(t,e,...n){let r=[];e instanceof HC&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof GC).length,a=s.filter(l=>l instanceof yv).length;if(o>1||o>0&&a>0)throw new L(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class yv extends Pp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yv(e,n,r)}_apply(e){const n=this._parse(e);return ZU(e._query,n),new Yn(e.firestore,e.converter,VT(e._query,n))}_parse(e){const n=Rl(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new L(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){_k(d,c);const f=[];for(const p of d)f.push(yk(l,s,p));h={arrayValue:{values:f}}}else h=yk(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||_k(d,c),h=GU(a,o,d,c==="in"||c==="not-in");return Oe.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cte(t,e,n){const r=e,i=gv("where",t);return yv._create(i,r,n)}class GC extends HC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new GC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Je.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ZU(o,l),o=VT(o,l)}(e._query,n),new Yn(e.firestore,e.converter,VT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class KC extends Pp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new KC(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new L(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sf(s,o)}(e._query,this._field,this._direction);return new Yn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Fs(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function dte(t,e="asc"){const n=e,r=gv("orderBy",t);return KC._create(r,n)}class _v extends Pp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _v(e,n,r)}_apply(e){return new Yn(e.firestore,e.converter,_y(e._query,this._limit,this._limitType))}}function hte(t){return DU("limit",t),_v._create("limit",t,"F")}function fte(t){return DU("limitToLast",t),_v._create("limitToLast",t,"L")}class vv extends Pp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new vv(e,n,r)}_apply(e){const n=JU(e,this.type,this._docOrFields,this._inclusive);return new Yn(e.firestore,e.converter,function(i,s){return new Fs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function pte(...t){return vv._create("startAt",t,!0)}function mte(...t){return vv._create("startAfter",t,!1)}class wv extends Pp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new wv(e,n,r)}_apply(e){const n=JU(e,this.type,this._docOrFields,this._inclusive);return new Yn(e.firestore,e.converter,function(i,s){return new Fs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function gte(...t){return wv._create("endBefore",t,!1)}function yte(...t){return wv._create("endAt",t,!0)}function JU(t,e,n,r){if(n[0]=oe(n[0]),n[0]instanceof Af)return function(s,o,a,l,u){if(!l)throw new L(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Lu(s))if(d.field.isKeyField())c.push(sl(o,l.key));else{const h=l.data.field(d.field);if(rv(h))throw new L(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new L(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new $o(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Rl(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new L(k.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<c.length;p++){const g=c[p];if(h[p].field.isKeyField()){if(typeof g!="string")throw new L(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!sC(o)&&g.indexOf("/")!==-1)throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const v=o.path.child(Ve.fromString(g));if(!Q.isDocumentKey(v))throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const m=new Q(v);f.push(sl(a,m))}else{const v=GU(l,u,g);f.push(v)}}return new $o(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function yk(t,e,n){if(typeof(n=oe(n))=="string"){if(n==="")throw new L(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sC(e)&&n.indexOf("/")!==-1)throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!Q.isDocumentKey(r))throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sl(t,new Q(r))}if(n instanceof Ct)return sl(t,n._key);throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hv(n)}.`)}function _k(t,e){if(!Array.isArray(t)||t.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZU(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QC{convertValue(e,n="none"){switch(il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new fv(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tf(e));default:return null}}convertTimestamp(e){const n=Do(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);ie(qV(r));const i=new Lo(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Bt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _te extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let As=class extends Af{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ph=class extends As{data(e={}){return super.data(e)}},Bo=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ka(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ph(this._firestore,this._userDataWriter,r.key,r,new ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ph(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ka(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ph(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ka(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:vte(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function vte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function e4(t,e){return t instanceof As&&e instanceof As?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Bo&&e instanceof Bo&&t._firestore===e._firestore&&UU(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wte(t){t=We(t,Ct);const e=We(t.firestore,Ft);return AU(mn(e),t._key).then(n=>YC(e,t,n))}class Al extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function Ete(t){t=We(t,Ct);const e=We(t.firestore,Ft),n=mn(e),r=new Al(e);return $ee(n,t._key).then(i=>new As(e,r,t._key,i,new ka(i!==null&&i.hasLocalMutations,!0),t.converter))}function Tte(t){t=We(t,Ct);const e=We(t.firestore,Ft);return AU(mn(e),t._key,{source:"server"}).then(n=>YC(e,t,n))}function Ite(t){t=We(t,Yn);const e=We(t.firestore,Ft),n=mn(e),r=new Al(e);return XU(t._query),kU(n,t._query).then(i=>new Bo(e,r,t,i))}function bte(t){t=We(t,Yn);const e=We(t.firestore,Ft),n=mn(e),r=new Al(e);return Vee(n,t._query).then(i=>new Bo(e,r,t,i))}function Ste(t){t=We(t,Yn);const e=We(t.firestore,Ft),n=mn(e),r=new Al(e);return kU(n,t._query,{source:"server"}).then(i=>new Bo(e,r,t,i))}function vk(t,e,n){t=We(t,Ct);const r=We(t.firestore,Ft),i=Ev(t.converter,e,n);return Ap(r,[mv(Rl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Et.none())])}function wk(t,e,n,...r){t=We(t,Ct);const i=We(t.firestore,Ft),s=Rl(i);let o;return o=typeof(e=oe(e))=="string"||e instanceof Uo?zC(s,"updateDoc",t._key,e,n,r):jC(s,"updateDoc",t._key,e),Ap(i,[o.toMutation(t._key,Et.exists(!0))])}function Cte(t){return Ap(We(t.firestore,Ft),[new Vc(t._key,Et.none())])}function xte(t,e){const n=We(t.firestore,Ft),r=Cy(t),i=Ev(t.converter,e);return Ap(n,[mv(Rl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Et.exists(!1))]).then(()=>r)}function t4(t,...e){var n,r,i;t=oe(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||XT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(XT(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Ct)u=We(t.firestore,Ft),c=Fc(t._key.path),l={next:d=>{e[o]&&e[o](YC(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=We(t,Yn);u=We(d.firestore,Ft),c=d._query;const h=new Al(u);l={next:f=>{e[o]&&e[o](new Bo(u,h,d,f))},error:e[o+1],complete:e[o+2]},XU(t._query)}return function(h,f,p,g){const v=new cv(g),m=new PC(f,v,p);return h.asyncQueue.enqueueAndForget(async()=>CC(await fc(h),m)),()=>{v.Na(),h.asyncQueue.enqueueAndForget(async()=>xC(await fc(h),m))}}(mn(u),c,a,l)}function Rte(t,e){return Uee(mn(t=We(t,Ft)),XT(e)?e:{next:e})}function Ap(t,e){return function(r,i){const s=new cn;return r.asyncQueue.enqueueAndForget(async()=>pee(await VC(r),i,s)),s.promise}(mn(t),e)}function YC(t,e,n){const r=n.docs.get(e._key),i=new Al(t);return new As(t,i,e._key,r,new ka(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pte={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ate=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rl(e)}set(e,n,r){this._verifyNotCommitted();const i=Zs(e,this._firestore),s=Ev(i.converter,n,r),o=mv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Et.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Zs(e,this._firestore);let o;return o=typeof(n=oe(n))=="string"||n instanceof Uo?zC(this._dataReader,"WriteBatch.update",s._key,n,r,i):jC(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Et.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Zs(e,this._firestore);return this._mutations=this._mutations.concat(new Vc(n._key,Et.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Zs(t,e){if((t=oe(t)).firestore!==e)throw new L(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kte=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Rl(n)}get(n){const r=Zs(n,this._firestore),i=new _te(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ee();const o=s[0];if(o.isFoundDocument())return new Af(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Af(this._firestore,i,r._key,null,r.converter);throw ee()})}set(n,r,i){const s=Zs(n,this._firestore),o=Ev(s.converter,r,i),a=mv(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Zs(n,this._firestore);let a;return a=typeof(r=oe(r))=="string"||r instanceof Uo?zC(this._dataReader,"Transaction.update",o._key,r,i,s):jC(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Zs(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Zs(e,this._firestore),r=new Al(this._firestore);return super.get(e).then(i=>new As(this._firestore,r,n._key,i._document,new ka(!1,!1),n.converter))}};function Nte(t,e,n){t=We(t,Ft);const r=Object.assign(Object.assign({},Pte),n);return function(s){if(s.maxAttempts<1)throw new L(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new cn;return s.asyncQueue.enqueueAndForget(async()=>{const u=await Mee(s);new Oee(s.asyncQueue,u,a,o,l).run()}),l.promise}(mn(t),i=>e(new kte(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ote(){return new Rp("deleteField")}function Dte(){return new BC("serverTimestamp")}function Mte(...t){return new ste("arrayUnion",t)}function Lte(...t){return new ote("arrayRemove",t)}function Fte(t){return new ate("increment",t)}(function(e,n=!0){(function(i){Lc=i})(Os),Cs(new Si("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ft(new WX(r.getProvider("auth-internal")),new KX(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new L(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),kr(pA,"4.4.0",e),kr(pA,"4.4.0","esm2017")})();const $te="@firebase/firestore-compat",Vte="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new L("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function Tk(){if(!vJ())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}class kf{constructor(e){this._delegate=e}static fromBase64String(e){return Tk(),new kf(ns.fromBase64String(e))}static fromUint8Array(e){return Ek(),new kf(ns.fromUint8Array(e))}toBase64(){return Tk(),this._delegate.toBase64()}toUint8Array(){return Ek(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t){return Ute(t,["next","error","complete"])}function Ute(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{enableIndexedDbPersistence(e,n){return Kee(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Qee(e._delegate)}clearIndexedDbPersistence(e){return Yee(e._delegate)}}class n4{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Lo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){zee(this._delegate,e,n,r)}enableNetwork(){return Jee(this._delegate)}disableNetwork(){return Zee(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,OU("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Xee(this._delegate)}onSnapshotsInSync(e){return Rte(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pc(this,$U(this._delegate,e))}catch(n){throw jn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Yr(this,Cy(this._delegate,e))}catch(n){throw jn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Bn(this,Wee(this._delegate,e))}catch(n){throw jn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Nte(this._delegate,n=>e(new r4(this,n)))}batch(){return mn(this._delegate),new i4(new Ate(this._delegate,e=>Ap(this._delegate,e)))}loadBundle(e){return ete(this._delegate,e)}namedQuery(e){return tte(this._delegate,e).then(n=>n?new Bn(this,n):null)}}class Tv extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new kf(new ns(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Yr.forKey(n,this.firestore,null)}}function jte(t){UX(t)}class r4{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Tv(e)}get(e){const n=Na(e);return this._delegate.get(n).then(r=>new Nf(this._firestore,new As(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Na(e);return r?(XC("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Na(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Na(e);return this._delegate.delete(n),this}}class i4{constructor(e){this._delegate=e}set(e,n,r){const i=Na(e);return r?(XC("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Na(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Na(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class hl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ph(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Of(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=hl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new hl(e,new Tv(e),n),i.set(n,s)),s}}hl.INSTANCES=new WeakMap;class Yr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Tv(e)}static forPath(e,n,r){if(e.length%2!==0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yr(n,new Ct(n._delegate,r,new Q(e)))}static forKey(e,n,r){return new Yr(n,new Ct(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new pc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pc(this.firestore,$U(this._delegate,e))}catch(n){throw jn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=oe(e),e instanceof Ct?VU(this._delegate,e):!1}set(e,n){n=XC("DocumentReference.set",n);try{return n?vk(this._delegate,e,n):vk(this._delegate,e)}catch(r){throw jn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?wk(this._delegate,e):wk(this._delegate,e,n,...r)}catch(i){throw jn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Cte(this._delegate)}onSnapshot(...e){const n=s4(e),r=o4(e,i=>new Nf(this.firestore,new As(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return t4(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Ete(this._delegate):(e==null?void 0:e.source)==="server"?n=Tte(this._delegate):n=wte(this._delegate),n.then(r=>new Nf(this.firestore,new As(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Yr(this.firestore,e?this._delegate.withConverter(hl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jn(t,e,n){return t.message=t.message.replace(e,n),t}function s4(t){for(const e of t)if(typeof e=="object"&&!ZT(e))return e;return{}}function o4(t,e){var n,r;let i;return ZT(t[0])?i=t[0]:ZT(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Nf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Yr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return e4(this._delegate,e._delegate)}}class Of extends Nf{data(e){const n=this._delegate.data(e);return this._delegate._converter||BX(n!==void 0),n}}class Bn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Tv(e)}where(e,n,r){try{return new Bn(this.firestore,Hs(this._delegate,cte(e,n,r)))}catch(i){throw jn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Bn(this.firestore,Hs(this._delegate,dte(e,n)))}catch(r){throw jn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Bn(this.firestore,Hs(this._delegate,hte(e)))}catch(n){throw jn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Bn(this.firestore,Hs(this._delegate,fte(e)))}catch(n){throw jn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Bn(this.firestore,Hs(this._delegate,pte(...e)))}catch(n){throw jn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Bn(this.firestore,Hs(this._delegate,mte(...e)))}catch(n){throw jn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Bn(this.firestore,Hs(this._delegate,gte(...e)))}catch(n){throw jn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Bn(this.firestore,Hs(this._delegate,yte(...e)))}catch(n){throw jn(n,"endAt()","Query.endAt()")}}isEqual(e){return UU(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=bte(this._delegate):(e==null?void 0:e.source)==="server"?n=Ste(this._delegate):n=Ite(this._delegate),n.then(r=>new eI(this.firestore,new Bo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=s4(e),r=o4(e,i=>new eI(this.firestore,new Bo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return t4(this._delegate,n,r)}withConverter(e){return new Bn(this.firestore,e?this._delegate.withConverter(hl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class zte{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Of(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eI{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Bn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Of(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new zte(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Of(this._firestore,r))})}isEqual(e){return e4(this._delegate,e._delegate)}}class pc extends Bn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yr(this.firestore,e):null}doc(e){try{return e===void 0?new Yr(this.firestore,Cy(this._delegate)):new Yr(this.firestore,Cy(this._delegate,e))}catch(n){throw jn(n,"doc()","CollectionReference.doc()")}}add(e){return xte(this._delegate,e).then(n=>new Yr(this.firestore,n))}isEqual(e){return VU(this._delegate,e._delegate)}withConverter(e){return new pc(this.firestore,e?this._delegate.withConverter(hl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Na(t){return We(t,Ct)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(...e){this._delegate=new Uo(...e)}static documentId(){return new JC(wt.keyField().canonicalString())}isEqual(e){return e=oe(e),e instanceof Uo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._delegate=e}static serverTimestamp(){const e=Dte();return e._methodName="FieldValue.serverTimestamp",new Ea(e)}static delete(){const e=Ote();return e._methodName="FieldValue.delete",new Ea(e)}static arrayUnion(...e){const n=Mte(...e);return n._methodName="FieldValue.arrayUnion",new Ea(n)}static arrayRemove(...e){const n=Lte(...e);return n._methodName="FieldValue.arrayRemove",new Ea(n)}static increment(e){const n=Fte(e);return n._methodName="FieldValue.increment",new Ea(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wte={Firestore:n4,GeoPoint:fv,Timestamp:Tt,Blob:kf,Transaction:r4,WriteBatch:i4,DocumentReference:Yr,DocumentSnapshot:Nf,Query:Bn,QueryDocumentSnapshot:Of,QuerySnapshot:eI,CollectionReference:pc,FieldPath:JC,FieldValue:Ea,setLogLevel:jte,CACHE_SIZE_UNLIMITED:Gee};function qte(t,e){t.INTERNAL.registerComponent(new Si("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Wte)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hte(t){qte(t,(e,n)=>new n4(e,n,new Bte)),t.registerVersion($te,Vte)}Hte(R_);const Gte={black:"#000",white:"#fff"},Df=Gte,Kte={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Gl=Kte,Qte={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Kl=Qte,Yte={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ql=Yte,Xte={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Yl=Xte,Jte={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Xl=Jte,Zte={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ed=Zte,ene={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},tne=ene;function jo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Iv="$$material";function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function se(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function a4(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var nne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,rne=a4(function(t){return nne.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function ine(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function sne(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var one=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(sne(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ine(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),On="-ms-",Ry="-moz-",Qe="-webkit-",l4="comm",ZC="rule",e1="decl",ane="@import",u4="@keyframes",lne="@layer",une=Math.abs,bv=String.fromCharCode,cne=Object.assign;function dne(t,e){return Tn(t,0)^45?(((e<<2^Tn(t,0))<<2^Tn(t,1))<<2^Tn(t,2))<<2^Tn(t,3):0}function c4(t){return t.trim()}function hne(t,e){return(t=e.exec(t))?t[0]:t}function Ye(t,e,n){return t.replace(e,n)}function tI(t,e){return t.indexOf(e)}function Tn(t,e){return t.charCodeAt(e)|0}function Mf(t,e,n){return t.slice(e,n)}function Di(t){return t.length}function t1(t){return t.length}function Em(t,e){return e.push(t),t}function fne(t,e){return t.map(e).join("")}var Sv=1,mc=1,d4=0,mr=0,Gt=0,Wc="";function Cv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Sv,column:mc,length:o,return:""}}function Td(t,e){return cne(Cv("",null,null,"",null,null,0),t,{length:-t.length},e)}function pne(){return Gt}function mne(){return Gt=mr>0?Tn(Wc,--mr):0,mc--,Gt===10&&(mc=1,Sv--),Gt}function Nr(){return Gt=mr<d4?Tn(Wc,mr++):0,mc++,Gt===10&&(mc=1,Sv++),Gt}function Xi(){return Tn(Wc,mr)}function rg(){return mr}function kp(t,e){return Mf(Wc,t,e)}function Lf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function h4(t){return Sv=mc=1,d4=Di(Wc=t),mr=0,[]}function f4(t){return Wc="",t}function ig(t){return c4(kp(mr-1,nI(t===91?t+2:t===40?t+1:t)))}function gne(t){for(;(Gt=Xi())&&Gt<33;)Nr();return Lf(t)>2||Lf(Gt)>3?"":" "}function yne(t,e){for(;--e&&Nr()&&!(Gt<48||Gt>102||Gt>57&&Gt<65||Gt>70&&Gt<97););return kp(t,rg()+(e<6&&Xi()==32&&Nr()==32))}function nI(t){for(;Nr();)switch(Gt){case t:return mr;case 34:case 39:t!==34&&t!==39&&nI(Gt);break;case 40:t===41&&nI(t);break;case 92:Nr();break}return mr}function _ne(t,e){for(;Nr()&&t+Gt!==57;)if(t+Gt===84&&Xi()===47)break;return"/*"+kp(e,mr-1)+"*"+bv(t===47?t:Nr())}function vne(t){for(;!Lf(Xi());)Nr();return kp(t,mr)}function wne(t){return f4(sg("",null,null,null,[""],t=h4(t),0,[0],t))}function sg(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,g=1,v=1,m=1,y=0,_="",w=i,I=s,b=r,T=_;v;)switch(p=y,y=Nr()){case 40:if(p!=108&&Tn(T,d-1)==58){tI(T+=Ye(ig(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:T+=ig(y);break;case 9:case 10:case 13:case 32:T+=gne(p);break;case 92:T+=yne(rg()-1,7);continue;case 47:switch(Xi()){case 42:case 47:Em(Ene(_ne(Nr(),rg()),e,n),l);break;default:T+="/"}break;case 123*g:a[u++]=Di(T)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:m==-1&&(T=Ye(T,/\f/g,"")),f>0&&Di(T)-d&&Em(f>32?bk(T+";",r,n,d-1):bk(Ye(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(Em(b=Ik(T,e,n,u,c,i,a,_,w=[],I=[],d),s),y===123)if(c===0)sg(T,e,b,b,w,s,d,a,I);else switch(h===99&&Tn(T,3)===110?100:h){case 100:case 108:case 109:case 115:sg(t,b,b,r&&Em(Ik(t,b,b,0,0,i,a,_,i,w=[],d),I),i,I,d,a,r?w:I);break;default:sg(T,b,b,b,[""],I,0,a,I)}}u=c=f=0,g=m=1,_=T="",d=o;break;case 58:d=1+Di(T),f=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&mne()==125)continue}switch(T+=bv(y),y*g){case 38:m=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(Di(T)-1)*m,m=1;break;case 64:Xi()===45&&(T+=ig(Nr())),h=Xi(),c=d=Di(_=T+=vne(rg())),y++;break;case 45:p===45&&Di(T)==2&&(g=0)}}return s}function Ik(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=t1(h),p=0,g=0,v=0;p<r;++p)for(var m=0,y=Mf(t,d+1,d=une(g=o[p])),_=t;m<f;++m)(_=c4(g>0?h[m]+" "+y:Ye(y,/&\f/g,h[m])))&&(l[v++]=_);return Cv(t,e,n,i===0?ZC:a,l,u,c)}function Ene(t,e,n){return Cv(t,e,n,l4,bv(pne()),Mf(t,2,-2),0)}function bk(t,e,n,r){return Cv(t,e,n,e1,Mf(t,0,r),Mf(t,r+1,-1),r)}function $u(t,e){for(var n="",r=t1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Tne(t,e,n,r){switch(t.type){case lne:if(t.children.length)break;case ane:case e1:return t.return=t.return||t.value;case l4:return"";case u4:return t.return=t.value+"{"+$u(t.children,r)+"}";case ZC:t.value=t.props.join(",")}return Di(n=$u(t.children,r))?t.return=t.value+"{"+n+"}":""}function Ine(t){var e=t1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function bne(t){return function(e){e.root||(e=e.return)&&t(e)}}var Sne=function(e,n,r){for(var i=0,s=0;i=s,s=Xi(),i===38&&s===12&&(n[r]=1),!Lf(s);)Nr();return kp(e,mr)},Cne=function(e,n){var r=-1,i=44;do switch(Lf(i)){case 0:i===38&&Xi()===12&&(n[r]=1),e[r]+=Sne(mr-1,n,r);break;case 2:e[r]+=ig(i);break;case 4:if(i===44){e[++r]=Xi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=bv(i)}while(i=Nr());return e},xne=function(e,n){return f4(Cne(h4(e),n))},Sk=new WeakMap,Rne=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Sk.get(r))&&!i){Sk.set(e,!0);for(var s=[],o=xne(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Pne=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function p4(t,e){switch(dne(t,e)){case 5103:return Qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+t+Ry+t+On+t+t;case 6828:case 4268:return Qe+t+On+t+t;case 6165:return Qe+t+On+"flex-"+t+t;case 5187:return Qe+t+Ye(t,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+On+"flex-$1$2")+t;case 5443:return Qe+t+On+"flex-item-"+Ye(t,/flex-|-self/,"")+t;case 4675:return Qe+t+On+"flex-line-pack"+Ye(t,/align-content|flex-|-self/,"")+t;case 5548:return Qe+t+On+Ye(t,"shrink","negative")+t;case 5292:return Qe+t+On+Ye(t,"basis","preferred-size")+t;case 6060:return Qe+"box-"+Ye(t,"-grow","")+Qe+t+On+Ye(t,"grow","positive")+t;case 4554:return Qe+Ye(t,/([^-])(transform)/g,"$1"+Qe+"$2")+t;case 6187:return Ye(Ye(Ye(t,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),t,"")+t;case 5495:case 3959:return Ye(t,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Ye(Ye(t,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+On+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+t+t;case 4095:case 3583:case 4068:case 2532:return Ye(t,/(.+)-inline(.+)/,Qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(t)-1-e>6)switch(Tn(t,e+1)){case 109:if(Tn(t,e+4)!==45)break;case 102:return Ye(t,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+Ry+(Tn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~tI(t,"stretch")?p4(Ye(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Tn(t,e+1)!==115)break;case 6444:switch(Tn(t,Di(t)-3-(~tI(t,"!important")&&10))){case 107:return Ye(t,":",":"+Qe)+t;case 101:return Ye(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(Tn(t,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+On+"$2box$3")+t}break;case 5936:switch(Tn(t,e+11)){case 114:return Qe+t+On+Ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qe+t+On+Ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qe+t+On+Ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Qe+t+On+t+t}return t}var Ane=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case e1:e.return=p4(e.value,e.length);break;case u4:return $u([Td(e,{value:Ye(e.value,"@","@"+Qe)})],i);case ZC:if(e.length)return fne(e.props,function(s){switch(hne(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $u([Td(e,{props:[Ye(s,/:(read-\w+)/,":"+Ry+"$1")]})],i);case"::placeholder":return $u([Td(e,{props:[Ye(s,/:(plac\w+)/,":"+Qe+"input-$1")]}),Td(e,{props:[Ye(s,/:(plac\w+)/,":"+Ry+"$1")]}),Td(e,{props:[Ye(s,/:(plac\w+)/,On+"input-$1")]})],i)}return""})}},kne=[Ane],Nne=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||kne,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),m=1;m<v.length;m++)s[v[m]]=!0;a.push(g)});var l,u=[Rne,Pne];{var c,d=[Tne,bne(function(g){c.insert(g)})],h=Ine(u.concat(i,d)),f=function(v){return $u(wne(v),h)};l=function(v,m,y,_){c=y,f(v?v+"{"+m.styles+"}":m.styles),_&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new one({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},m4={exports:{}},tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gn=typeof Symbol=="function"&&Symbol.for,n1=gn?Symbol.for("react.element"):60103,r1=gn?Symbol.for("react.portal"):60106,xv=gn?Symbol.for("react.fragment"):60107,Rv=gn?Symbol.for("react.strict_mode"):60108,Pv=gn?Symbol.for("react.profiler"):60114,Av=gn?Symbol.for("react.provider"):60109,kv=gn?Symbol.for("react.context"):60110,i1=gn?Symbol.for("react.async_mode"):60111,Nv=gn?Symbol.for("react.concurrent_mode"):60111,Ov=gn?Symbol.for("react.forward_ref"):60112,Dv=gn?Symbol.for("react.suspense"):60113,One=gn?Symbol.for("react.suspense_list"):60120,Mv=gn?Symbol.for("react.memo"):60115,Lv=gn?Symbol.for("react.lazy"):60116,Dne=gn?Symbol.for("react.block"):60121,Mne=gn?Symbol.for("react.fundamental"):60117,Lne=gn?Symbol.for("react.responder"):60118,Fne=gn?Symbol.for("react.scope"):60119;function Br(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case n1:switch(t=t.type,t){case i1:case Nv:case xv:case Pv:case Rv:case Dv:return t;default:switch(t=t&&t.$$typeof,t){case kv:case Ov:case Lv:case Mv:case Av:return t;default:return e}}case r1:return e}}}function g4(t){return Br(t)===Nv}tt.AsyncMode=i1;tt.ConcurrentMode=Nv;tt.ContextConsumer=kv;tt.ContextProvider=Av;tt.Element=n1;tt.ForwardRef=Ov;tt.Fragment=xv;tt.Lazy=Lv;tt.Memo=Mv;tt.Portal=r1;tt.Profiler=Pv;tt.StrictMode=Rv;tt.Suspense=Dv;tt.isAsyncMode=function(t){return g4(t)||Br(t)===i1};tt.isConcurrentMode=g4;tt.isContextConsumer=function(t){return Br(t)===kv};tt.isContextProvider=function(t){return Br(t)===Av};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===n1};tt.isForwardRef=function(t){return Br(t)===Ov};tt.isFragment=function(t){return Br(t)===xv};tt.isLazy=function(t){return Br(t)===Lv};tt.isMemo=function(t){return Br(t)===Mv};tt.isPortal=function(t){return Br(t)===r1};tt.isProfiler=function(t){return Br(t)===Pv};tt.isStrictMode=function(t){return Br(t)===Rv};tt.isSuspense=function(t){return Br(t)===Dv};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xv||t===Nv||t===Pv||t===Rv||t===Dv||t===One||typeof t=="object"&&t!==null&&(t.$$typeof===Lv||t.$$typeof===Mv||t.$$typeof===Av||t.$$typeof===kv||t.$$typeof===Ov||t.$$typeof===Mne||t.$$typeof===Lne||t.$$typeof===Fne||t.$$typeof===Dne)};tt.typeOf=Br;m4.exports=tt;var $ne=m4.exports,y4=$ne,Vne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Une={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_4={};_4[y4.ForwardRef]=Vne;_4[y4.Memo]=Une;var Bne=!0;function jne(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var v4=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Bne===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},w4=function(e,n,r){v4(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function zne(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Wne={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qne=/[A-Z]|^ms/g,Hne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,E4=function(e){return e.charCodeAt(1)===45},Ck=function(e){return e!=null&&typeof e!="boolean"},kw=a4(function(t){return E4(t)?t:t.replace(qne,"-$&").toLowerCase()}),xk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Hne,function(r,i,s){return Mi={name:i,styles:s,next:Mi},i})}return Wne[e]!==1&&!E4(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ff(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Mi={name:n.name,styles:n.styles,next:Mi},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Mi={name:r.name,styles:r.styles,next:Mi},r=r.next;var i=n.styles+";";return i}return Gne(t,e,n)}case"function":{if(t!==void 0){var s=Mi,o=n(t);return Mi=s,Ff(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Gne(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ff(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":Ck(o)&&(r+=kw(s)+":"+xk(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)Ck(o[a])&&(r+=kw(s)+":"+xk(s,o[a])+";");else{var l=Ff(t,e,o);switch(s){case"animation":case"animationName":{r+=kw(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Rk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Mi,s1=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Mi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ff(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ff(r,n,e[a]),i&&(s+=o[a]);Rk.lastIndex=0;for(var l="",u;(u=Rk.exec(s))!==null;)l+="-"+u[1];var c=zne(s)+l;return{name:c,styles:s,next:Mi}},Kne=function(e){return e()},T4=Bu.useInsertionEffect?Bu.useInsertionEffect:!1,Qne=T4||Kne,Pk=T4||E.useLayoutEffect,I4=E.createContext(typeof HTMLElement<"u"?Nne({key:"css"}):null);I4.Provider;var b4=function(e){return E.forwardRef(function(n,r){var i=E.useContext(I4);return e(n,i,r)})},o1=E.createContext({}),Yne=b4(function(t,e){var n=t.styles,r=s1([n],void 0,E.useContext(o1)),i=E.useRef();return Pk(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),Pk(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&w4(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Xne(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s1(e)}var a1=function(){var e=Xne.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Jne=rne,Zne=function(e){return e!=="theme"},Ak=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Jne:Zne},kk=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},ere=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return v4(n,r,i),Qne(function(){return w4(n,r,i)}),null},tre=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=kk(e,n,r),l=a||Ak(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=b4(function(g,v,m){var y=u&&g.as||i,_="",w=[],I=g;if(g.theme==null){I={};for(var b in g)I[b]=g[b];I.theme=E.useContext(o1)}typeof g.className=="string"?_=jne(v.registered,w,g.className):g.className!=null&&(_=g.className+" ");var T=s1(d.concat(w),v.registered,I);_+=v.key+"-"+T.name,o!==void 0&&(_+=" "+o);var R=u&&a===void 0?Ak(y):l,O={};for(var x in g)u&&x==="as"||R(x)&&(O[x]=g[x]);return O.className=_,O.ref=m,E.createElement(E.Fragment,null,E.createElement(ere,{cache:v,serialized:T,isStringTag:typeof y=="string"}),E.createElement(y,O))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(g,v){return t(g,S({},n,v,{shouldForwardProp:kk(p,v,!0)})).apply(void 0,d)},p}},nre=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],rI=tre.bind();nre.forEach(function(t){rI[t]=rI(t)});function rre(t){return t==null||Object.keys(t).length===0}function ire(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(rre(i)?n:i):e;return C.jsx(Yne,{styles:r})}function sre(t,e){return rI(t,e)}const ore=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function cs(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function S4(t){if(!cs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=S4(t[n])}),e}function dr(t,e,n={clone:!0}){const r=n.clone?S({},t):t;return cs(t)&&cs(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(cs(e[i])&&i in t&&cs(t[i])?r[i]=dr(t[i],e[i],n):n.clone?r[i]=cs(e[i])?S4(e[i]):e[i]:r[i]=e[i])}),r}var rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=Symbol.for("react.element"),u1=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Vv=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),Bv=Symbol.for("react.context"),are=Symbol.for("react.server_context"),jv=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Wv=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),Hv=Symbol.for("react.lazy"),lre=Symbol.for("react.offscreen"),C4;C4=Symbol.for("react.module.reference");function si(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case l1:switch(t=t.type,t){case Fv:case Vv:case $v:case zv:case Wv:return t;default:switch(t=t&&t.$$typeof,t){case are:case Bv:case jv:case Hv:case qv:case Uv:return t;default:return e}}case u1:return e}}}rt.ContextConsumer=Bv;rt.ContextProvider=Uv;rt.Element=l1;rt.ForwardRef=jv;rt.Fragment=Fv;rt.Lazy=Hv;rt.Memo=qv;rt.Portal=u1;rt.Profiler=Vv;rt.StrictMode=$v;rt.Suspense=zv;rt.SuspenseList=Wv;rt.isAsyncMode=function(){return!1};rt.isConcurrentMode=function(){return!1};rt.isContextConsumer=function(t){return si(t)===Bv};rt.isContextProvider=function(t){return si(t)===Uv};rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===l1};rt.isForwardRef=function(t){return si(t)===jv};rt.isFragment=function(t){return si(t)===Fv};rt.isLazy=function(t){return si(t)===Hv};rt.isMemo=function(t){return si(t)===qv};rt.isPortal=function(t){return si(t)===u1};rt.isProfiler=function(t){return si(t)===Vv};rt.isStrictMode=function(t){return si(t)===$v};rt.isSuspense=function(t){return si(t)===zv};rt.isSuspenseList=function(t){return si(t)===Wv};rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fv||t===Vv||t===$v||t===zv||t===Wv||t===lre||typeof t=="object"&&t!==null&&(t.$$typeof===Hv||t.$$typeof===qv||t.$$typeof===Uv||t.$$typeof===Bv||t.$$typeof===jv||t.$$typeof===C4||t.getModuleId!==void 0)};rt.typeOf=si;function pe(t){if(typeof t!="string")throw new Error(jo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function iI(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function c1(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function ure(t,e){return()=>null}function og(t,e){var n,r;return E.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function $n(t){return t&&t.ownerDocument||document}function zo(t){return $n(t).defaultView||window}function cre(t,e){return()=>null}function Py(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const rs=typeof window<"u"?E.useLayoutEffect:E.useEffect;let Nk=0;function dre(t){const[e,n]=E.useState(t),r=t||e;return E.useEffect(()=>{e==null&&(Nk+=1,n(`mui-${Nk}`))},[e]),r}const Ok=Bu.useId;function Np(t){if(Ok!==void 0){const e=Ok();return t??e}return dre(t)}function hre(t,e,n,r,i){return null}function Ay({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=E.useRef(t!==void 0),[s,o]=E.useState(e),a=i?t:s,l=E.useCallback(u=>{i||o(u)},[]);return[a,l]}function so(t){const e=E.useRef(t);return rs(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function hn(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Py(n,e)})},t)}let Gv=!0,sI=!1,Dk;const fre={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function pre(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&fre[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function mre(t){t.metaKey||t.altKey||t.ctrlKey||(Gv=!0)}function Nw(){Gv=!1}function gre(){this.visibilityState==="hidden"&&sI&&(Gv=!0)}function yre(t){t.addEventListener("keydown",mre,!0),t.addEventListener("mousedown",Nw,!0),t.addEventListener("pointerdown",Nw,!0),t.addEventListener("touchstart",Nw,!0),t.addEventListener("visibilitychange",gre,!0)}function _re(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Gv||pre(e)}function d1(){const t=E.useCallback(i=>{i!=null&&yre(i.ownerDocument)},[]),e=E.useRef(!1);function n(){return e.current?(sI=!0,window.clearTimeout(Dk),Dk=window.setTimeout(()=>{sI=!1},100),e.current=!1,!0):!1}function r(i){return _re(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function x4(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function h1(t,e){const n=S({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=S({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=S({},s),Object.keys(i).forEach(o=>{n[r][o]=h1(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Ue(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const Mk=t=>t,vre=()=>{let t=Mk;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Mk}}},R4=vre(),wre={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Le(t,e,n="Mui"){const r=wre[e];return r?`${n}-${r}`:`${R4.generate(t)}-${e}`}function Be(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Le(t,i,n)}),r}const Ere=["values","unit","step"],Tre=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>S({},n,{[r.key]:r.val}),{})};function Ire(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=se(t,Ere),s=Tre(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return S({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const bre={borderRadius:4},Sre=bre;function mh(t,e){return e?dr(t,e,{clone:!1}):t}const f1={xs:0,sm:600,md:900,lg:1200,xl:1536},Lk={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${f1[t]}px)`};function ni(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Lk;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Lk;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||f1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Cre(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function xre(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Rre(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Kv({values:t,breakpoints:e,base:n}){const r=n||Rre(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Qv(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function ky(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Qv(t,n)||r,e&&(i=e(i,r,t)),i}function zt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Qv(l,r)||{};return ni(o,a,d=>{let h=ky(u,i,d);return d===h&&typeof d=="string"&&(h=ky(u,i,`${e}${d==="default"?"":pe(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function Pre(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Are={m:"margin",p:"padding"},kre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Fk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Nre=Pre(t=>{if(t.length>2)if(Fk[t])t=Fk[t];else return[t];const[e,n]=t.split(""),r=Are[e],i=kre[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),p1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],m1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...p1,...m1];function Op(t,e,n,r){var i;const s=(i=Qv(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function P4(t){return Op(t,"spacing",8)}function Dp(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Ore(t,e){return n=>t.reduce((r,i)=>(r[i]=Dp(e,n),r),{})}function Dre(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Nre(n),s=Ore(i,r),o=t[n];return ni(t,o,s)}function A4(t,e){const n=P4(t.theme);return Object.keys(t).map(r=>Dre(t,e,r,n)).reduce(mh,{})}function At(t){return A4(t,p1)}At.propTypes={};At.filterProps=p1;function kt(t){return A4(t,m1)}kt.propTypes={};kt.filterProps=m1;function Mre(t=8){if(t.mui)return t;const e=P4({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Yv(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?mh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Hr(t){return typeof t!="number"?t:`${t}px solid`}function oi(t,e){return zt({prop:t,themeKey:"borders",transform:e})}const Lre=oi("border",Hr),Fre=oi("borderTop",Hr),$re=oi("borderRight",Hr),Vre=oi("borderBottom",Hr),Ure=oi("borderLeft",Hr),Bre=oi("borderColor"),jre=oi("borderTopColor"),zre=oi("borderRightColor"),Wre=oi("borderBottomColor"),qre=oi("borderLeftColor"),Hre=oi("outline",Hr),Gre=oi("outlineColor"),Xv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Op(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Dp(e,r)});return ni(t,t.borderRadius,n)}return null};Xv.propTypes={};Xv.filterProps=["borderRadius"];Yv(Lre,Fre,$re,Vre,Ure,Bre,jre,zre,Wre,qre,Xv,Hre,Gre);const Jv=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Op(t.theme,"spacing",8),n=r=>({gap:Dp(e,r)});return ni(t,t.gap,n)}return null};Jv.propTypes={};Jv.filterProps=["gap"];const Zv=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Op(t.theme,"spacing",8),n=r=>({columnGap:Dp(e,r)});return ni(t,t.columnGap,n)}return null};Zv.propTypes={};Zv.filterProps=["columnGap"];const e0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Op(t.theme,"spacing",8),n=r=>({rowGap:Dp(e,r)});return ni(t,t.rowGap,n)}return null};e0.propTypes={};e0.filterProps=["rowGap"];const Kre=zt({prop:"gridColumn"}),Qre=zt({prop:"gridRow"}),Yre=zt({prop:"gridAutoFlow"}),Xre=zt({prop:"gridAutoColumns"}),Jre=zt({prop:"gridAutoRows"}),Zre=zt({prop:"gridTemplateColumns"}),eie=zt({prop:"gridTemplateRows"}),tie=zt({prop:"gridTemplateAreas"}),nie=zt({prop:"gridArea"});Yv(Jv,Zv,e0,Kre,Qre,Yre,Xre,Jre,Zre,eie,tie,nie);function Vu(t,e){return e==="grey"?e:t}const rie=zt({prop:"color",themeKey:"palette",transform:Vu}),iie=zt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Vu}),sie=zt({prop:"backgroundColor",themeKey:"palette",transform:Vu});Yv(rie,iie,sie);function Ir(t){return t<=1&&t!==0?`${t*100}%`:t}const oie=zt({prop:"width",transform:Ir}),g1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||f1[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Ir(n)}};return ni(t,t.maxWidth,e)}return null};g1.filterProps=["maxWidth"];const aie=zt({prop:"minWidth",transform:Ir}),lie=zt({prop:"height",transform:Ir}),uie=zt({prop:"maxHeight",transform:Ir}),cie=zt({prop:"minHeight",transform:Ir});zt({prop:"size",cssProperty:"width",transform:Ir});zt({prop:"size",cssProperty:"height",transform:Ir});const die=zt({prop:"boxSizing"});Yv(oie,g1,aie,lie,uie,cie,die);const hie={border:{themeKey:"borders",transform:Hr},borderTop:{themeKey:"borders",transform:Hr},borderRight:{themeKey:"borders",transform:Hr},borderBottom:{themeKey:"borders",transform:Hr},borderLeft:{themeKey:"borders",transform:Hr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Hr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xv},color:{themeKey:"palette",transform:Vu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Vu},backgroundColor:{themeKey:"palette",transform:Vu},p:{style:kt},pt:{style:kt},pr:{style:kt},pb:{style:kt},pl:{style:kt},px:{style:kt},py:{style:kt},padding:{style:kt},paddingTop:{style:kt},paddingRight:{style:kt},paddingBottom:{style:kt},paddingLeft:{style:kt},paddingX:{style:kt},paddingY:{style:kt},paddingInline:{style:kt},paddingInlineStart:{style:kt},paddingInlineEnd:{style:kt},paddingBlock:{style:kt},paddingBlockStart:{style:kt},paddingBlockEnd:{style:kt},m:{style:At},mt:{style:At},mr:{style:At},mb:{style:At},ml:{style:At},mx:{style:At},my:{style:At},margin:{style:At},marginTop:{style:At},marginRight:{style:At},marginBottom:{style:At},marginLeft:{style:At},marginX:{style:At},marginY:{style:At},marginInline:{style:At},marginInlineStart:{style:At},marginInlineEnd:{style:At},marginBlock:{style:At},marginBlockStart:{style:At},marginBlockEnd:{style:At},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Jv},rowGap:{style:e0},columnGap:{style:Zv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ir},maxWidth:{style:g1},minWidth:{transform:Ir},height:{transform:Ir},maxHeight:{transform:Ir},minHeight:{transform:Ir},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},t0=hie;function fie(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function pie(t,e){return typeof t=="function"?t(e):t}function mie(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Qv(i,u)||{};return d?d(o):ni(o,r,p=>{let g=ky(h,c,p);return p===g&&typeof p=="string"&&(g=ky(h,c,`${n}${p==="default"?"":pe(p)}`,p)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:t0;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=Cre(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=pie(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=mh(h,t(f,p,s,o));else{const g=ni({theme:s},p,v=>({[f]:v}));fie(g,p)?h[f]=e({sx:p,theme:s}):h=mh(h,g)}else h=mh(h,t(f,p,s,o))}),xre(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const n0=mie();n0.filterProps=["sx"];const gie=["breakpoints","palette","spacing","shape"];function r0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=se(t,gie),a=Ire(n),l=Mre(i);let u=dr({breakpoints:a,direction:"ltr",components:{},palette:S({mode:"light"},r),spacing:l,shape:S({},Sre,s)},o);return u=e.reduce((c,d)=>dr(c,d),u),u.unstable_sxConfig=S({},t0,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return n0({sx:d,theme:this})},u}function yie(t){return Object.keys(t).length===0}function k4(t=null){const e=E.useContext(o1);return!e||yie(e)?t:e}const _ie=r0();function y1(t=_ie){return k4(t)}function vie({styles:t,themeId:e,defaultTheme:n={}}){const r=y1(n),i=typeof t=="function"?t(e&&r[e]||r):t;return C.jsx(ire,{styles:i})}const wie=["sx"],Eie=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:t0;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function N4(t){const{sx:e}=t,n=se(t,wie),{systemProps:r,otherProps:i}=Eie(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return cs(a)?S({},r,a):r}:s=S({},r,e),S({},i,{sx:s})}function O4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=O4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function he(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=O4(t))&&(r&&(r+=" "),r+=e);return r}const Tie=["variant"];function $k(t){return t.length===0}function D4(t){const{variant:e}=t,n=se(t,Tie);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=$k(r)?t[i]:pe(t[i]):r+=`${$k(r)?i:pe(i)}${pe(t[i].toString())}`}),r}const Iie=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function bie(t){return Object.keys(t).length===0}function Sie(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Cie=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Ny=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=D4(r.props),n[i]=r.style}),n},xie=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),Ny(n)},Oy=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let s=0;return n&&n.forEach(o=>{let a=!0;if(typeof o.props=="function"){const l=S({},t,r);a=o.props(l)}else Object.keys(o.props).forEach(l=>{r[l]!==o.props[l]&&t[l]!==o.props[l]&&(a=!1)});a&&(typeof o.props=="function"?i.push(e[`callback${s}`]):i.push(e[D4(o.props)])),typeof o.props=="function"&&(s+=1)}),i},Rie=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Oy(t,e,s)};function gh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Pie=r0(),Aie=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function ag({defaultTheme:t,theme:e,themeId:n}){return bie(e)?t:e[n]||e}function kie(t){return t?(e,n)=>n[t]:null}const Vk=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(S({},e,{theme:ag(S({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=Oy(e,Ny(s),s);return[i,...o]}return i};function M4(t={}){const{themeId:e,defaultTheme:n=Pie,rootShouldForwardProp:r=gh,slotShouldForwardProp:i=gh}=t,s=o=>n0(S({},o,{theme:ag(S({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{ore(o,w=>w.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=kie(Aie(u))}=a,f=se(a,Iie),p=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,g=d||!1;let v,m=gh;u==="Root"||u==="root"?m=r:u?m=i:Sie(o)&&(m=void 0);const y=sre(o,S({shouldForwardProp:m,label:v},f)),_=(w,...I)=>{const b=I?I.map(x=>{if(typeof x=="function"&&x.__emotion_real!==x)return D=>Vk({styledArg:x,props:D,defaultTheme:n,themeId:e});if(cs(x)){let D=x,z;return x&&x.variants&&(z=x.variants,delete D.variants,D=M=>{let $=x;return Oy(M,Ny(z),z).forEach(B=>{$=dr($,B)}),$}),D}return x}):[];let T=w;if(cs(w)){let x;w&&w.variants&&(x=w.variants,delete T.variants,T=D=>{let z=w;return Oy(D,Ny(x),x).forEach($=>{z=dr(z,$)}),z})}else typeof w=="function"&&w.__emotion_real!==w&&(T=x=>Vk({styledArg:w,props:x,defaultTheme:n,themeId:e}));l&&h&&b.push(x=>{const D=ag(S({},x,{defaultTheme:n,themeId:e})),z=Cie(l,D);if(z){const M={};return Object.entries(z).forEach(([$,V])=>{M[$]=typeof V=="function"?V(S({},x,{theme:D})):V}),h(x,M)}return null}),l&&!p&&b.push(x=>{const D=ag(S({},x,{defaultTheme:n,themeId:e}));return Rie(x,xie(l,D),D,l)}),g||b.push(s);const R=b.length-I.length;if(Array.isArray(w)&&R>0){const x=new Array(R).fill("");T=[...w,...x],T.raw=[...w.raw,...x]}const O=y(T,...b);return o.muiName&&(O.muiName=o.muiName),O};return y.withConfig&&(_.withConfig=y.withConfig),_}}const Nie=M4();function Oie(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:h1(e.components[n].defaultProps,r)}function L4({props:t,name:e,defaultTheme:n,themeId:r}){let i=y1(n);return r&&(i=i[r]||i),Oie({theme:i,name:e,props:t})}function _1(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function Die(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function fl(t){if(t.type)return t;if(t.charAt(0)==="#")return fl(Die(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(jo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(jo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function i0(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Mie(t){t=fl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),i0({type:a,values:l})}function Uk(t){t=fl(t);let e=t.type==="hsl"||t.type==="hsla"?fl(Mie(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Lie(t,e){const n=Uk(t),r=Uk(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function oo(t,e){return t=fl(t),e=_1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,i0(t)}function Fie(t,e){if(t=fl(t),e=_1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return i0(t)}function $ie(t,e){if(t=fl(t),e=_1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return i0(t)}const Vie=["className","component","disableGutters","fixed","maxWidth","classes"],Uie=r0(),Bie=Nie("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${pe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),jie=t=>L4({props:t,name:"MuiContainer",defaultTheme:Uie}),zie=(t,e)=>{const n=l=>Le(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${pe(String(o))}`,i&&"fixed",s&&"disableGutters"]};return Ue(a,n,r)};function Wie(t={}){const{createStyledComponent:e=Bie,useThemeProps:n=jie,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>S({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const c=u,d=o.breakpoints.values[c];return d!==0&&(l[o.breakpoints.up(c)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>S({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return E.forwardRef(function(a,l){const u=n(a),{className:c,component:d="div",disableGutters:h=!1,fixed:f=!1,maxWidth:p="lg"}=u,g=se(u,Vie),v=S({},u,{component:d,disableGutters:h,fixed:f,maxWidth:p}),m=zie(v,r);return C.jsx(i,S({as:d,ownerState:v,className:he(m.root,c),ref:l},g))})}function qie(t,e){return S({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const Hie=["mode","contrastThreshold","tonalOffset"],Bk={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Df.white,default:Df.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ow={text:{primary:Df.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Df.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function jk(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=$ie(t.main,i):e==="dark"&&(t.dark=Fie(t.main,s)))}function Gie(t="light"){return t==="dark"?{main:Ql[200],light:Ql[50],dark:Ql[400]}:{main:Ql[700],light:Ql[400],dark:Ql[800]}}function Kie(t="light"){return t==="dark"?{main:Kl[200],light:Kl[50],dark:Kl[400]}:{main:Kl[500],light:Kl[300],dark:Kl[700]}}function Qie(t="light"){return t==="dark"?{main:Gl[500],light:Gl[300],dark:Gl[700]}:{main:Gl[700],light:Gl[400],dark:Gl[800]}}function Yie(t="light"){return t==="dark"?{main:Yl[400],light:Yl[300],dark:Yl[700]}:{main:Yl[700],light:Yl[500],dark:Yl[900]}}function Xie(t="light"){return t==="dark"?{main:Xl[400],light:Xl[300],dark:Xl[700]}:{main:Xl[800],light:Xl[500],dark:Xl[900]}}function Jie(t="light"){return t==="dark"?{main:Ed[400],light:Ed[300],dark:Ed[700]}:{main:"#ed6c02",light:Ed[500],dark:Ed[900]}}function Zie(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=se(t,Hie),s=t.primary||Gie(e),o=t.secondary||Kie(e),a=t.error||Qie(e),l=t.info||Yie(e),u=t.success||Xie(e),c=t.warning||Jie(e);function d(g){return Lie(g,Ow.text.primary)>=n?Ow.text.primary:Bk.text.primary}const h=({color:g,name:v,mainShade:m=500,lightShade:y=300,darkShade:_=700})=>{if(g=S({},g),!g.main&&g[m]&&(g.main=g[m]),!g.hasOwnProperty("main"))throw new Error(jo(11,v?` (${v})`:"",m));if(typeof g.main!="string")throw new Error(jo(12,v?` (${v})`:"",JSON.stringify(g.main)));return jk(g,"light",y,r),jk(g,"dark",_,r),g.contrastText||(g.contrastText=d(g.main)),g},f={dark:Ow,light:Bk};return dr(S({common:S({},Df),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:tne,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const ese=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function tse(t){return Math.round(t*1e5)/1e5}const zk={textTransform:"uppercase"},Wk='"Roboto", "Helvetica", "Arial", sans-serif';function nse(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=Wk,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=se(n,ese),f=i/14,p=d||(m=>`${m/u*f}rem`),g=(m,y,_,w,I)=>S({fontFamily:r,fontWeight:m,fontSize:p(y),lineHeight:_},r===Wk?{letterSpacing:`${tse(w/y)}em`}:{},I,c),v={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,zk),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,zk),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return dr(S({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),h,{clone:!1})}const rse=.2,ise=.14,sse=.12;function _t(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${rse})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${ise})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${sse})`].join(",")}const ose=["none",_t(0,2,1,-1,0,1,1,0,0,1,3,0),_t(0,3,1,-2,0,2,2,0,0,1,5,0),_t(0,3,3,-2,0,3,4,0,0,1,8,0),_t(0,2,4,-1,0,4,5,0,0,1,10,0),_t(0,3,5,-1,0,5,8,0,0,1,14,0),_t(0,3,5,-1,0,6,10,0,0,1,18,0),_t(0,4,5,-2,0,7,10,1,0,2,16,1),_t(0,5,5,-3,0,8,10,1,0,3,14,2),_t(0,5,6,-3,0,9,12,1,0,3,16,2),_t(0,6,6,-3,0,10,14,1,0,4,18,3),_t(0,6,7,-4,0,11,15,1,0,4,20,3),_t(0,7,8,-4,0,12,17,2,0,5,22,4),_t(0,7,8,-4,0,13,19,2,0,5,24,4),_t(0,7,9,-4,0,14,21,2,0,5,26,4),_t(0,8,9,-5,0,15,22,2,0,6,28,5),_t(0,8,10,-5,0,16,24,2,0,6,30,5),_t(0,8,11,-5,0,17,26,2,0,6,32,5),_t(0,9,11,-5,0,18,28,2,0,7,34,6),_t(0,9,12,-6,0,19,29,2,0,7,36,6),_t(0,10,13,-6,0,20,31,3,0,8,38,7),_t(0,10,13,-6,0,21,33,3,0,8,40,7),_t(0,10,14,-6,0,22,35,3,0,8,42,7),_t(0,11,14,-7,0,23,36,3,0,9,44,8),_t(0,11,15,-7,0,24,38,3,0,9,46,8)],ase=["duration","easing","delay"],lse={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},use={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function qk(t){return`${Math.round(t)}ms`}function cse(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function dse(t){const e=S({},lse,t.easing),n=S({},use,t.duration);return S({getAutoHeightDuration:cse,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return se(s,ase),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:qk(o)} ${a} ${typeof l=="string"?l:qk(l)}`).join(",")}},t,{easing:e,duration:n})}const hse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fse=hse,pse=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function mse(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=se(t,pse);if(t.vars)throw new Error(jo(18));const a=Zie(r),l=r0(t);let u=dr(l,{mixins:qie(l.breakpoints,n),palette:a,shadows:ose.slice(),typography:nse(a,s),transitions:dse(i),zIndex:S({},fse)});return u=dr(u,o),u=e.reduce((c,d)=>dr(c,d),u),u.unstable_sxConfig=S({},t0,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return n0({sx:d,theme:this})},u}const gse=mse(),s0=gse;function qc(){const t=y1(s0);return t[Iv]||t}function je({props:t,name:e}){return L4({props:t,name:e,defaultTheme:s0,themeId:Iv})}const Pi=t=>gh(t)&&t!=="classes",yse=gh,re=M4({themeId:Iv,defaultTheme:s0,rootShouldForwardProp:Pi}),Hk=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function _se(t){return Le("MuiSvgIcon",t)}Be("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vse=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],wse=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${pe(e)}`,`fontSize${pe(n)}`]};return Ue(i,_se,r)},Ese=re("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${pe(n.color)}`],e[`fontSize${pe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),oI=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=se(r,vse),p=E.isValidElement(i)&&i.type==="svg",g=S({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p}),v={};c||(v.viewBox=h);const m=wse(g);return C.jsxs(Ese,S({as:a,className:he(m.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},v,f,p&&i.props,{ownerState:g,children:[p?i.props.children:i,d?C.jsx("title",{children:d}):null]}))});oI.muiName="SvgIcon";function F4(t,e){function n(r,i){return C.jsx(oI,S({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=oI.muiName,E.memo(E.forwardRef(n))}const Tse={configure:t=>{R4.configure(t)}},Ise=Object.freeze(Object.defineProperty({__proto__:null,capitalize:pe,createChainedFunction:iI,createSvgIcon:F4,debounce:c1,deprecatedPropType:ure,isMuiElement:og,ownerDocument:$n,ownerWindow:zo,requirePropFactory:cre,setRef:Py,unstable_ClassNameGenerator:Tse,unstable_useEnhancedEffect:rs,unstable_useId:Np,unsupportedProp:hre,useControlled:Ay,useEventCallback:so,useForkRef:hn,useIsFocusVisible:d1},Symbol.toStringTag,{value:"Module"}));function aI(t,e){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aI(t,e)}function $4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,aI(t,e)}const Gk={disabled:!1},Dy=Kr.createContext(null);var bse=function(e){return e.scrollTop},Wd="unmounted",fa="exited",pa="entering",su="entered",lI="exiting",Us=function(t){$4(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=fa,s.appearStatus=pa):l=su:r.unmountOnExit||r.mountOnEnter?l=Wd:l=fa,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Wd?{status:fa}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==pa&&o!==su&&(s=pa):(o===pa||o===su)&&(s=lI)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===pa){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:sm.findDOMNode(this);o&&bse(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fa&&this.setState({status:Wd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[sm.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||Gk.disabled){this.safeSetState({status:su},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:pa},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:su},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:sm.findDOMNode(this);if(!s||Gk.disabled){this.safeSetState({status:fa},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:lI},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:fa},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:sm.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Wd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=se(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Kr.createElement(Dy.Provider,{value:null},typeof o=="function"?o(i,a):Kr.cloneElement(Kr.Children.only(o),a))},e}(Kr.Component);Us.contextType=Dy;Us.propTypes={};function Jl(){}Us.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Jl,onEntering:Jl,onEntered:Jl,onExit:Jl,onExiting:Jl,onExited:Jl};Us.UNMOUNTED=Wd;Us.EXITED=fa;Us.ENTERING=pa;Us.ENTERED=su;Us.EXITING=lI;const V4=Us;function Sse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v1(t,e){var n=function(s){return e&&E.isValidElement(s)?e(s):s},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Cse(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Oa(t,e,n){return n[e]!=null?n[e]:t.props[e]}function xse(t,e){return v1(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Oa(n,"appear",t),enter:Oa(n,"enter",t),exit:Oa(n,"exit",t)})})}function Rse(t,e,n){var r=v1(t.children),i=Cse(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(E.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=E.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Oa(o,"exit",t),enter:Oa(o,"enter",t)}):!l&&a&&!c?i[s]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(u)&&(i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Oa(o,"exit",t),enter:Oa(o,"enter",t)}))}}),i}var Pse=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Ase={component:"div",childFactory:function(e){return e}},w1=function(t){$4(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Sse(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?xse(i,a):Rse(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=v1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=S({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=se(i,["component","childFactory"]),l=this.state.contextValue,u=Pse(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Kr.createElement(Dy.Provider,{value:l},u):Kr.createElement(Dy.Provider,{value:l},Kr.createElement(s,a,u))},e}(Kr.Component);w1.propTypes={};w1.defaultProps=Ase;const kse=w1,U4=t=>t.scrollTop;function My(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function Nse(t){return Le("MuiPaper",t)}Be("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Ose=["className","component","elevation","square","variant"],Dse=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ue(s,Nse,i)},Mse=re("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return S({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&S({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${oo("#fff",Hk(e.elevation))}, ${oo("#fff",Hk(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Lse=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=se(r,Ose),c=S({},r,{component:s,elevation:o,square:a,variant:l}),d=Dse(c);return C.jsx(Mse,S({as:s,ownerState:c,className:he(d.root,i),ref:n},u))}),Mp=Lse;function Fse(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=E.useState(!1),h=he(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=he(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),E.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),C.jsx("span",{className:h,style:f,children:C.jsx("span",{className:p})})}const zr=Be("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),$se=["center","classes","className"];let o0=t=>t,Kk,Qk,Yk,Xk;const uI=550,Vse=80,Use=a1(Kk||(Kk=o0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Bse=a1(Qk||(Qk=o0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),jse=a1(Yk||(Yk=o0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),zse=re("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Wse=re(Fse,{name:"MuiTouchRipple",slot:"Ripple"})(Xk||(Xk=o0`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),zr.rippleVisible,Use,uI,({theme:t})=>t.transitions.easing.easeInOut,zr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,zr.child,zr.childLeaving,Bse,uI,({theme:t})=>t.transitions.easing.easeInOut,zr.childPulsate,jse,({theme:t})=>t.transitions.easing.easeInOut),qse=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=se(r,$se),[l,u]=E.useState([]),c=E.useRef(0),d=E.useRef(null);E.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=E.useRef(!1),f=E.useRef(0),p=E.useRef(null),g=E.useRef(null);E.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const v=E.useCallback(w=>{const{pulsate:I,rippleX:b,rippleY:T,rippleSize:R,cb:O}=w;u(x=>[...x,C.jsx(Wse,{classes:{ripple:he(s.ripple,zr.ripple),rippleVisible:he(s.rippleVisible,zr.rippleVisible),ripplePulsate:he(s.ripplePulsate,zr.ripplePulsate),child:he(s.child,zr.child),childLeaving:he(s.childLeaving,zr.childLeaving),childPulsate:he(s.childPulsate,zr.childPulsate)},timeout:uI,pulsate:I,rippleX:b,rippleY:T,rippleSize:R},c.current)]),c.current+=1,d.current=O},[s]),m=E.useCallback((w={},I={},b=()=>{})=>{const{pulsate:T=!1,center:R=i||I.pulsate,fakeElement:O=!1}=I;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const x=O?null:g.current,D=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,M,$;if(R||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)z=Math.round(D.width/2),M=Math.round(D.height/2);else{const{clientX:V,clientY:B}=w.touches&&w.touches.length>0?w.touches[0]:w;z=Math.round(V-D.left),M=Math.round(B-D.top)}if(R)$=Math.sqrt((2*D.width**2+D.height**2)/3),$%2===0&&($+=1);else{const V=Math.max(Math.abs((x?x.clientWidth:0)-z),z)*2+2,B=Math.max(Math.abs((x?x.clientHeight:0)-M),M)*2+2;$=Math.sqrt(V**2+B**2)}w!=null&&w.touches?p.current===null&&(p.current=()=>{v({pulsate:T,rippleX:z,rippleY:M,rippleSize:$,cb:b})},f.current=setTimeout(()=>{p.current&&(p.current(),p.current=null)},Vse)):v({pulsate:T,rippleX:z,rippleY:M,rippleSize:$,cb:b})},[i,v]),y=E.useCallback(()=>{m({},{pulsate:!0})},[m]),_=E.useCallback((w,I)=>{if(clearTimeout(f.current),(w==null?void 0:w.type)==="touchend"&&p.current){p.current(),p.current=null,f.current=setTimeout(()=>{_(w,I)});return}p.current=null,u(b=>b.length>0?b.slice(1):b),d.current=I},[]);return E.useImperativeHandle(n,()=>({pulsate:y,start:m,stop:_}),[y,m,_]),C.jsx(zse,S({className:he(zr.root,s.root,o),ref:g},a,{children:C.jsx(kse,{component:null,exit:!0,children:l})}))}),Hse=qse;function Gse(t){return Le("MuiButtonBase",t)}const Kse=Be("MuiButtonBase",["root","disabled","focusVisible"]),Qse=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Yse=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Ue({root:["root",e&&"disabled",n&&"focusVisible"]},Gse,i);return n&&r&&(o.root+=` ${r}`),o},Xse=re("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Kse.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Jse=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:v,onDragLeave:m,onFocus:y,onFocusVisible:_,onKeyDown:w,onKeyUp:I,onMouseDown:b,onMouseLeave:T,onMouseUp:R,onTouchEnd:O,onTouchMove:x,onTouchStart:D,tabIndex:z=0,TouchRippleProps:M,touchRippleRef:$,type:V}=r,B=se(r,Qse),K=E.useRef(null),N=E.useRef(null),U=hn(N,$),{isFocusVisibleRef:Y,onFocus:ge,onBlur:ce,ref:Se}=d1(),[ue,ye]=E.useState(!1);u&&ue&&ye(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{ye(!0),K.current.focus()}}),[]);const[Ee,qe]=E.useState(!1);E.useEffect(()=>{qe(!0)},[]);const Fe=Ee&&!c&&!u;E.useEffect(()=>{ue&&h&&!c&&Ee&&N.current.pulsate()},[c,h,ue,Ee]);function Ae(ne,It,gr=d){return so(yr=>(It&&It(yr),!gr&&N.current&&N.current[ne](yr),!0))}const gt=Ae("start",b),_e=Ae("stop",v),Xe=Ae("stop",m),Te=Ae("stop",R),Me=Ae("stop",ne=>{ue&&ne.preventDefault(),T&&T(ne)}),Re=Ae("start",D),yn=Ae("stop",O),Yt=Ae("stop",x),Pt=Ae("stop",ne=>{ce(ne),Y.current===!1&&ye(!1),p&&p(ne)},!1),Wt=so(ne=>{K.current||(K.current=ne.currentTarget),ge(ne),Y.current===!0&&(ye(!0),_&&_(ne)),y&&y(ne)}),st=()=>{const ne=K.current;return l&&l!=="button"&&!(ne.tagName==="A"&&ne.href)},He=E.useRef(!1),A=so(ne=>{h&&!He.current&&ue&&N.current&&ne.key===" "&&(He.current=!0,N.current.stop(ne,()=>{N.current.start(ne)})),ne.target===ne.currentTarget&&st()&&ne.key===" "&&ne.preventDefault(),w&&w(ne),ne.target===ne.currentTarget&&st()&&ne.key==="Enter"&&!u&&(ne.preventDefault(),g&&g(ne))}),H=so(ne=>{h&&ne.key===" "&&N.current&&ue&&!ne.defaultPrevented&&(He.current=!1,N.current.stop(ne,()=>{N.current.pulsate(ne)})),I&&I(ne),g&&ne.target===ne.currentTarget&&st()&&ne.key===" "&&!ne.defaultPrevented&&g(ne)});let W=l;W==="button"&&(B.href||B.to)&&(W=f);const Z={};W==="button"?(Z.type=V===void 0?"button":V,Z.disabled=u):(!B.href&&!B.to&&(Z.role="button"),u&&(Z["aria-disabled"]=u));const ae=hn(n,Se,K),ve=S({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:z,focusVisible:ue}),fe=Yse(ve);return C.jsxs(Xse,S({as:W,className:he(fe.root,a),ownerState:ve,onBlur:Pt,onClick:g,onContextMenu:_e,onFocus:Wt,onKeyDown:A,onKeyUp:H,onMouseDown:gt,onMouseLeave:Me,onMouseUp:Te,onDragLeave:Xe,onTouchEnd:yn,onTouchMove:Yt,onTouchStart:Re,ref:ae,tabIndex:u?-1:z,type:V},Z,B,{children:[o,Fe?C.jsx(Hse,S({ref:U,center:s},M)):null]}))}),Zse=Jse;function eoe(t){return Le("MuiTypography",t)}Be("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const toe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],noe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${pe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ue(a,eoe,o)},roe=re("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${pe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>S({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Jk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ioe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},soe=t=>ioe[t]||t,ooe=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiTypography"}),i=soe(r.color),s=N4(S({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=Jk}=s,p=se(s,toe),g=S({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),v=l||(d?"p":f[h]||Jk[h])||"span",m=noe(g);return C.jsx(roe,S({as:v,ref:n,ownerState:g,className:he(m.root,a)},p))}),Qn=ooe;function aoe(t){return Le("MuiAppBar",t)}Be("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const loe=["className","color","enableColorOnDark","position"],uoe=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${pe(e)}`,`position${pe(n)}`]};return Ue(i,aoe,r)},Tm=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,coe=re(Mp,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${pe(n.position)}`],e[`color${pe(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return S({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&S({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&S({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&S({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Tm(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Tm(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Tm(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Tm(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),doe=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=se(r,loe),u=S({},r,{color:s,position:a,enableColorOnDark:o}),c=uoe(u);return C.jsx(coe,S({square:!0,component:"header",ownerState:u,elevation:4,className:he(c.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),hoe=doe;function Ly(t){return typeof t=="string"}function qd(t,e,n){return t===void 0||Ly(t)?e:S({},e,{ownerState:S({},e.ownerState,n)})}const foe={disableDefaultClasses:!1},poe=E.createContext(foe);function moe(t){const{disableDefaultClasses:e}=E.useContext(poe);return n=>e?"":t(n)}function B4(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function goe(t,e,n){return typeof t=="function"?t(e,n):t}function Zk(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function yoe(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=he(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=S({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=S({},n,i,r);return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=B4(S({},i,r)),a=Zk(r),l=Zk(i),u=e(o),c=he(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=S({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=S({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const _oe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function pl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=se(t,_oe),a=s?{}:goe(r,i),{props:l,internalRef:u}=yoe(S({},o,{externalSlotProps:a})),c=hn(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return qd(n,S({},l,{ref:c}),i)}const voe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function woe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Eoe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Toe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Eoe(t))}function Ioe(t){const e=[],n=[];return Array.from(t.querySelectorAll(voe)).forEach((r,i)=>{const s=woe(r);s===-1||!Toe(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function boe(){return!0}function Soe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Ioe,isEnabled:o=boe,open:a}=t,l=E.useRef(!1),u=E.useRef(null),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=E.useRef(!1),p=E.useRef(null),g=hn(e.ref,p),v=E.useRef(null);E.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!p.current)return;const _=$n(p.current);return p.current.contains(_.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),E.useEffect(()=>{if(!a||!p.current)return;const _=$n(p.current),w=T=>{v.current=T,!(r||!o()||T.key!=="Tab")&&_.activeElement===p.current&&T.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{const T=p.current;if(T===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(_.activeElement)||r&&_.activeElement!==u.current&&_.activeElement!==c.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let R=[];if((_.activeElement===u.current||_.activeElement===c.current)&&(R=s(p.current)),R.length>0){var O,x;const D=!!((O=v.current)!=null&&O.shiftKey&&((x=v.current)==null?void 0:x.key)==="Tab"),z=R[0],M=R[R.length-1];typeof z!="string"&&typeof M!="string"&&(D?M.focus():z.focus())}else T.focus()};_.addEventListener("focusin",I),_.addEventListener("keydown",w,!0);const b=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(b),_.removeEventListener("focusin",I),_.removeEventListener("keydown",w,!0)}},[n,r,i,o,a,s]);const m=_=>{d.current===null&&(d.current=_.relatedTarget),f.current=!0,h.current=_.target;const w=e.props.onFocus;w&&w(_)},y=_=>{d.current===null&&(d.current=_.relatedTarget),f.current=!0};return C.jsxs(E.Fragment,{children:[C.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:g,onFocus:m}),C.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}var hr="top",ri="bottom",ii="right",fr="left",E1="auto",Lp=[hr,ri,ii,fr],gc="start",$f="end",Coe="clippingParents",j4="viewport",Id="popper",xoe="reference",eN=Lp.reduce(function(t,e){return t.concat([e+"-"+gc,e+"-"+$f])},[]),z4=[].concat(Lp,[E1]).reduce(function(t,e){return t.concat([e,e+"-"+gc,e+"-"+$f])},[]),Roe="beforeRead",Poe="read",Aoe="afterRead",koe="beforeMain",Noe="main",Ooe="afterMain",Doe="beforeWrite",Moe="write",Loe="afterWrite",Foe=[Roe,Poe,Aoe,koe,Noe,Ooe,Doe,Moe,Loe];function is(t){return t?(t.nodeName||"").toLowerCase():null}function $r(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ml(t){var e=$r(t).Element;return t instanceof e||t instanceof Element}function Jr(t){var e=$r(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function T1(t){if(typeof ShadowRoot>"u")return!1;var e=$r(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function $oe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Jr(s)||!is(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Voe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Jr(i)||!is(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const Uoe={name:"applyStyles",enabled:!0,phase:"write",fn:$oe,effect:Voe,requires:["computeStyles"]};function Ji(t){return t.split("-")[0]}var ja=Math.max,Fy=Math.min,yc=Math.round;function cI(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function W4(){return!/^((?!chrome|android).)*safari/i.test(cI())}function _c(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Jr(t)&&(i=t.offsetWidth>0&&yc(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&yc(r.height)/t.offsetHeight||1);var o=ml(t)?$r(t):window,a=o.visualViewport,l=!W4()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function I1(t){var e=_c(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function q4(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&T1(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ks(t){return $r(t).getComputedStyle(t)}function Boe(t){return["table","td","th"].indexOf(is(t))>=0}function ta(t){return((ml(t)?t.ownerDocument:t.document)||window.document).documentElement}function a0(t){return is(t)==="html"?t:t.assignedSlot||t.parentNode||(T1(t)?t.host:null)||ta(t)}function tN(t){return!Jr(t)||ks(t).position==="fixed"?null:t.offsetParent}function joe(t){var e=/firefox/i.test(cI()),n=/Trident/i.test(cI());if(n&&Jr(t)){var r=ks(t);if(r.position==="fixed")return null}var i=a0(t);for(T1(i)&&(i=i.host);Jr(i)&&["html","body"].indexOf(is(i))<0;){var s=ks(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Fp(t){for(var e=$r(t),n=tN(t);n&&Boe(n)&&ks(n).position==="static";)n=tN(n);return n&&(is(n)==="html"||is(n)==="body"&&ks(n).position==="static")?e:n||joe(t)||e}function b1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yh(t,e,n){return ja(t,Fy(e,n))}function zoe(t,e,n){var r=yh(t,e,n);return r>n?n:r}function H4(){return{top:0,right:0,bottom:0,left:0}}function G4(t){return Object.assign({},H4(),t)}function K4(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Woe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,G4(typeof e!="number"?e:K4(e,Lp))};function qoe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ji(n.placement),l=b1(a),u=[fr,ii].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=Woe(i.padding,n),h=I1(s),f=l==="y"?hr:fr,p=l==="y"?ri:ii,g=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],v=o[l]-n.rects.reference[l],m=Fp(s),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,_=g/2-v/2,w=d[f],I=y-h[c]-d[p],b=y/2-h[c]/2+_,T=yh(w,b,I),R=l;n.modifiersData[r]=(e={},e[R]=T,e.centerOffset=T-b,e)}}function Hoe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||q4(e.elements.popper,i)&&(e.elements.arrow=i))}const Goe={name:"arrow",enabled:!0,phase:"main",fn:qoe,effect:Hoe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vc(t){return t.split("-")[1]}var Koe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qoe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:yc(n*i)/i||0,y:yc(r*i)/i||0}}function nN(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,g=p===void 0?0:p,v=typeof c=="function"?c({x:f,y:g}):{x:f,y:g};f=v.x,g=v.y;var m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),_=fr,w=hr,I=window;if(u){var b=Fp(n),T="clientHeight",R="clientWidth";if(b===$r(n)&&(b=ta(n),ks(b).position!=="static"&&a==="absolute"&&(T="scrollHeight",R="scrollWidth")),b=b,i===hr||(i===fr||i===ii)&&s===$f){w=ri;var O=d&&b===I&&I.visualViewport?I.visualViewport.height:b[T];g-=O-r.height,g*=l?1:-1}if(i===fr||(i===hr||i===ri)&&s===$f){_=ii;var x=d&&b===I&&I.visualViewport?I.visualViewport.width:b[R];f-=x-r.width,f*=l?1:-1}}var D=Object.assign({position:a},u&&Koe),z=c===!0?Qoe({x:f,y:g},$r(n)):{x:f,y:g};if(f=z.x,g=z.y,l){var M;return Object.assign({},D,(M={},M[w]=y?"0":"",M[_]=m?"0":"",M.transform=(I.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",M))}return Object.assign({},D,(e={},e[w]=y?g+"px":"",e[_]=m?f+"px":"",e.transform="",e))}function Yoe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Ji(e.placement),variation:vc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,nN(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,nN(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Xoe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Yoe,data:{}};var Im={passive:!0};function Joe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=$r(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Im)}),a&&l.addEventListener("resize",n.update,Im),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Im)}),a&&l.removeEventListener("resize",n.update,Im)}}const Zoe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Joe,data:{}};var eae={left:"right",right:"left",bottom:"top",top:"bottom"};function lg(t){return t.replace(/left|right|bottom|top/g,function(e){return eae[e]})}var tae={start:"end",end:"start"};function rN(t){return t.replace(/start|end/g,function(e){return tae[e]})}function S1(t){var e=$r(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function C1(t){return _c(ta(t)).left+S1(t).scrollLeft}function nae(t,e){var n=$r(t),r=ta(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=W4();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+C1(t),y:l}}function rae(t){var e,n=ta(t),r=S1(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=ja(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ja(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+C1(t),l=-r.scrollTop;return ks(i||n).direction==="rtl"&&(a+=ja(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function x1(t){var e=ks(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Q4(t){return["html","body","#document"].indexOf(is(t))>=0?t.ownerDocument.body:Jr(t)&&x1(t)?t:Q4(a0(t))}function _h(t,e){var n;e===void 0&&(e=[]);var r=Q4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=$r(r),o=i?[s].concat(s.visualViewport||[],x1(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(_h(a0(o)))}function dI(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iae(t,e){var n=_c(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function iN(t,e,n){return e===j4?dI(nae(t,n)):ml(e)?iae(e,n):dI(rae(ta(t)))}function sae(t){var e=_h(a0(t)),n=["absolute","fixed"].indexOf(ks(t).position)>=0,r=n&&Jr(t)?Fp(t):t;return ml(r)?e.filter(function(i){return ml(i)&&q4(i,r)&&is(i)!=="body"}):[]}function oae(t,e,n,r){var i=e==="clippingParents"?sae(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=iN(t,u,r);return l.top=ja(c.top,l.top),l.right=Fy(c.right,l.right),l.bottom=Fy(c.bottom,l.bottom),l.left=ja(c.left,l.left),l},iN(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Y4(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ji(r):null,s=r?vc(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case hr:l={x:o,y:e.y-n.height};break;case ri:l={x:o,y:e.y+e.height};break;case ii:l={x:e.x+e.width,y:a};break;case fr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?b1(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case gc:l[u]=l[u]-(e[c]/2-n[c]/2);break;case $f:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Vf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Coe:a,u=n.rootBoundary,c=u===void 0?j4:u,d=n.elementContext,h=d===void 0?Id:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,v=g===void 0?0:g,m=G4(typeof v!="number"?v:K4(v,Lp)),y=h===Id?xoe:Id,_=t.rects.popper,w=t.elements[p?y:h],I=oae(ml(w)?w:w.contextElement||ta(t.elements.popper),l,c,o),b=_c(t.elements.reference),T=Y4({reference:b,element:_,strategy:"absolute",placement:i}),R=dI(Object.assign({},_,T)),O=h===Id?R:b,x={top:I.top-O.top+m.top,bottom:O.bottom-I.bottom+m.bottom,left:I.left-O.left+m.left,right:O.right-I.right+m.right},D=t.modifiersData.offset;if(h===Id&&D){var z=D[i];Object.keys(x).forEach(function(M){var $=[ii,ri].indexOf(M)>=0?1:-1,V=[hr,ri].indexOf(M)>=0?"y":"x";x[M]+=z[V]*$})}return x}function aae(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?z4:l,c=vc(r),d=c?a?eN:eN.filter(function(p){return vc(p)===c}):Lp,h=d.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=Vf(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[Ji(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function lae(t){if(Ji(t)===E1)return[];var e=lg(t);return[rN(t),e,rN(e)]}function uae(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,v=e.options.placement,m=Ji(v),y=m===v,_=l||(y||!p?[lg(v)]:lae(v)),w=[v].concat(_).reduce(function(ue,ye){return ue.concat(Ji(ye)===E1?aae(e,{placement:ye,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:g}):ye)},[]),I=e.rects.reference,b=e.rects.popper,T=new Map,R=!0,O=w[0],x=0;x<w.length;x++){var D=w[x],z=Ji(D),M=vc(D)===gc,$=[hr,ri].indexOf(z)>=0,V=$?"width":"height",B=Vf(e,{placement:D,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),K=$?M?ii:fr:M?ri:hr;I[V]>b[V]&&(K=lg(K));var N=lg(K),U=[];if(s&&U.push(B[z]<=0),a&&U.push(B[K]<=0,B[N]<=0),U.every(function(ue){return ue})){O=D,R=!1;break}T.set(D,U)}if(R)for(var Y=p?3:1,ge=function(ye){var Ee=w.find(function(qe){var Fe=T.get(qe);if(Fe)return Fe.slice(0,ye).every(function(Ae){return Ae})});if(Ee)return O=Ee,"break"},ce=Y;ce>0;ce--){var Se=ge(ce);if(Se==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const cae={name:"flip",enabled:!0,phase:"main",fn:uae,requiresIfExists:["offset"],data:{_skip:!1}};function sN(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function oN(t){return[hr,ii,ri,fr].some(function(e){return t[e]>=0})}function dae(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Vf(e,{elementContext:"reference"}),a=Vf(e,{altBoundary:!0}),l=sN(o,r),u=sN(a,i,s),c=oN(l),d=oN(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const hae={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dae};function fae(t,e,n){var r=Ji(t),i=[fr,hr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[fr,ii].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function pae(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=z4.reduce(function(c,d){return c[d]=fae(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const mae={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pae};function gae(t){var e=t.state,n=t.name;e.modifiersData[n]=Y4({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const yae={name:"popperOffsets",enabled:!0,phase:"read",fn:gae,data:{}};function _ae(t){return t==="x"?"y":"x"}function vae(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,v=Vf(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=Ji(e.placement),y=vc(e.placement),_=!y,w=b1(m),I=_ae(w),b=e.modifiersData.popperOffsets,T=e.rects.reference,R=e.rects.popper,O=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,x=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(b){if(s){var M,$=w==="y"?hr:fr,V=w==="y"?ri:ii,B=w==="y"?"height":"width",K=b[w],N=K+v[$],U=K-v[V],Y=f?-R[B]/2:0,ge=y===gc?T[B]:R[B],ce=y===gc?-R[B]:-T[B],Se=e.elements.arrow,ue=f&&Se?I1(Se):{width:0,height:0},ye=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:H4(),Ee=ye[$],qe=ye[V],Fe=yh(0,T[B],ue[B]),Ae=_?T[B]/2-Y-Fe-Ee-x.mainAxis:ge-Fe-Ee-x.mainAxis,gt=_?-T[B]/2+Y+Fe+qe+x.mainAxis:ce+Fe+qe+x.mainAxis,_e=e.elements.arrow&&Fp(e.elements.arrow),Xe=_e?w==="y"?_e.clientTop||0:_e.clientLeft||0:0,Te=(M=D==null?void 0:D[w])!=null?M:0,Me=K+Ae-Te-Xe,Re=K+gt-Te,yn=yh(f?Fy(N,Me):N,K,f?ja(U,Re):U);b[w]=yn,z[w]=yn-K}if(a){var Yt,Pt=w==="x"?hr:fr,Wt=w==="x"?ri:ii,st=b[I],He=I==="y"?"height":"width",A=st+v[Pt],H=st-v[Wt],W=[hr,fr].indexOf(m)!==-1,Z=(Yt=D==null?void 0:D[I])!=null?Yt:0,ae=W?A:st-T[He]-R[He]-Z+x.altAxis,ve=W?st+T[He]+R[He]-Z-x.altAxis:H,fe=f&&W?zoe(ae,st,ve):yh(f?ae:A,st,f?ve:H);b[I]=fe,z[I]=fe-st}e.modifiersData[r]=z}}const wae={name:"preventOverflow",enabled:!0,phase:"main",fn:vae,requiresIfExists:["offset"]};function Eae(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Tae(t){return t===$r(t)||!Jr(t)?S1(t):Eae(t)}function Iae(t){var e=t.getBoundingClientRect(),n=yc(e.width)/t.offsetWidth||1,r=yc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function bae(t,e,n){n===void 0&&(n=!1);var r=Jr(e),i=Jr(e)&&Iae(e),s=ta(e),o=_c(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((is(e)!=="body"||x1(s))&&(a=Tae(e)),Jr(e)?(l=_c(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=C1(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Sae(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Cae(t){var e=Sae(t);return Foe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function xae(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Rae(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var aN={placement:"bottom",modifiers:[],strategy:"absolute"};function lN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Pae(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?aN:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},aN,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(m){var y=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},s,c.options,y),c.scrollParents={reference:ml(a)?_h(a):a.contextElement?_h(a.contextElement):[],popper:_h(l)};var _=Cae(Rae([].concat(r,c.options.modifiers)));return c.orderedModifiers=_.filter(function(w){return w.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var m=c.elements,y=m.reference,_=m.popper;if(lN(y,_)){c.rects={reference:bae(y,Fp(_),c.options.strategy==="fixed"),popper:I1(_)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(x){return c.modifiersData[x.name]=Object.assign({},x.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var I=c.orderedModifiers[w],b=I.fn,T=I.options,R=T===void 0?{}:T,O=I.name;typeof b=="function"&&(c=b({state:c,options:R,name:O,instance:f})||c)}}}},update:xae(function(){return new Promise(function(v){f.forceUpdate(),v(c)})}),destroy:function(){g(),h=!0}};if(!lN(a,l))return f;f.setOptions(u).then(function(v){!h&&u.onFirstUpdate&&u.onFirstUpdate(v)});function p(){c.orderedModifiers.forEach(function(v){var m=v.name,y=v.options,_=y===void 0?{}:y,w=v.effect;if(typeof w=="function"){var I=w({state:c,name:m,instance:f,options:_}),b=function(){};d.push(I||b)}})}function g(){d.forEach(function(v){return v()}),d=[]}return f}}var Aae=[Zoe,yae,Xoe,Uoe,mae,cae,wae,Goe,hae],kae=Pae({defaultModifiers:Aae});function Nae(t){return typeof t=="function"?t():t}const X4=E.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=E.useState(null),l=hn(E.isValidElement(r)?r.ref:null,n);if(rs(()=>{s||a(Nae(i)||document.body)},[i,s]),rs(()=>{if(o&&!s)return Py(n,o),()=>{Py(n,null)}},[n,o,s]),s){if(E.isValidElement(r)){const u={ref:l};return E.cloneElement(r,u)}return C.jsx(E.Fragment,{children:r})}return C.jsx(E.Fragment,{children:o&&a_.createPortal(r,o)})});function Oae(t){return Le("MuiPopper",t)}Be("MuiPopper",["root"]);const Dae=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Mae=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Lae(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function hI(t){return typeof t=="function"?t():t}function Fae(t){return t.nodeType!==void 0}const $ae=()=>Ue({root:["root"]},moe(Oae)),Vae={},Uae=E.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:g}=e,v=se(e,Dae),m=E.useRef(null),y=hn(m,n),_=E.useRef(null),w=hn(_,h),I=E.useRef(w);rs(()=>{I.current=w},[w]),E.useImperativeHandle(h,()=>_.current,[]);const b=Lae(c,o),[T,R]=E.useState(b),[O,x]=E.useState(hI(i));E.useEffect(()=>{_.current&&_.current.forceUpdate()}),E.useEffect(()=>{i&&x(hI(i))},[i]),rs(()=>{if(!O||!u)return;const V=N=>{R(N.placement)};let B=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:N})=>{V(N)}}];l!=null&&(B=B.concat(l)),d&&d.modifiers!=null&&(B=B.concat(d.modifiers));const K=kae(O,m.current,S({placement:b},d,{modifiers:B}));return I.current(K),()=>{K.destroy(),I.current(null)}},[O,a,l,u,d,b]);const D={placement:T};g!==null&&(D.TransitionProps=g);const z=$ae(),M=(r=p.root)!=null?r:"div",$=pl({elementType:M,externalSlotProps:f.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:z.root});return C.jsx(M,S({},$,{children:typeof s=="function"?s(D):s}))}),Bae=E.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=Vae,popperRef:f,style:p,transition:g=!1,slotProps:v={},slots:m={}}=e,y=se(e,Mae),[_,w]=E.useState(!0),I=()=>{w(!1)},b=()=>{w(!0)};if(!l&&!c&&(!g||_))return null;let T;if(s)T=s;else if(r){const x=hI(r);T=x&&Fae(x)?$n(x).body:$n(null).body}const R=!c&&l&&(!g||_)?"none":void 0,O=g?{in:c,onEnter:I,onExited:b}:void 0;return C.jsx(X4,{disablePortal:a,container:T,children:C.jsx(Uae,S({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:g?!_:c,placement:d,popperOptions:h,popperRef:f,slotProps:v,slots:m},y,{style:S({position:"fixed",top:0,left:0,display:R},p),TransitionProps:O,children:i}))})});function jae(t){const e=$n(t);return e.body===t?zo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function vh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function uN(t){return parseInt(zo(t).getComputedStyle(t).paddingRight,10)||0}function zae(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function cN(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!zae(o);a&&l&&vh(o,i)})}function Dw(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Wae(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(jae(r)){const o=x4($n(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${uN(r)+o}px`;const a=$n(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${uN(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=$n(r).body;else{const o=r.parentElement,a=zo(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function qae(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Hae{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&vh(e.modalRef,!1);const i=qae(n);cN(n,e.mount,e.modalRef,i,!0);const s=Dw(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Dw(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Wae(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Dw(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&vh(e.modalRef,n),cN(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&vh(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Gae(t){return typeof t=="function"?t():t}function Kae(t){return t?t.props.hasOwnProperty("in"):!1}const Qae=new Hae;function Yae(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Qae,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=E.useRef({}),f=E.useRef(null),p=E.useRef(null),g=hn(p,d),[v,m]=E.useState(!c),y=Kae(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const w=()=>$n(f.current),I=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),b=()=>{i.mount(I(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},T=so(()=>{const B=Gae(e)||w().body;i.add(I(),B),p.current&&b()}),R=E.useCallback(()=>i.isTopModal(I()),[i]),O=so(B=>{f.current=B,B&&(c&&R()?b():p.current&&vh(p.current,_))}),x=E.useCallback(()=>{i.remove(I(),_)},[_,i]);E.useEffect(()=>()=>{x()},[x]),E.useEffect(()=>{c?T():(!y||!s)&&x()},[c,x,y,s,T]);const D=B=>K=>{var N;(N=B.onKeyDown)==null||N.call(B,K),!(K.key!=="Escape"||K.which===229||!R())&&(n||(K.stopPropagation(),u&&u(K,"escapeKeyDown")))},z=B=>K=>{var N;(N=B.onClick)==null||N.call(B,K),K.target===K.currentTarget&&u&&u(K,"backdropClick")};return{getRootProps:(B={})=>{const K=B4(t);delete K.onTransitionEnter,delete K.onTransitionExited;const N=S({},K,B);return S({role:"presentation"},N,{onKeyDown:D(N),ref:g})},getBackdropProps:(B={})=>{const K=B;return S({"aria-hidden":!0},K,{onClick:z(K),open:c})},getTransitionProps:()=>{const B=()=>{m(!1),o&&o()},K=()=>{m(!0),a&&a(),s&&x()};return{onEnter:iI(B,l==null?void 0:l.props.onEnter),onExited:iI(K,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:O,isTopModal:R,exited:v,hasTransition:y}}const Xae=["onChange","maxRows","minRows","style","value"];function bm(t){return parseInt(t,10)||0}const Jae={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function dN(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Zae=E.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=se(e,Xae),{current:u}=E.useRef(a!=null),c=E.useRef(null),d=hn(n,c),h=E.useRef(null),f=E.useRef(0),[p,g]=E.useState({outerHeightStyle:0}),v=E.useCallback(()=>{const w=c.current,b=zo(w).getComputedStyle(w);if(b.width==="0px")return{outerHeightStyle:0};const T=h.current;T.style.width=b.width,T.value=w.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const R=b.boxSizing,O=bm(b.paddingBottom)+bm(b.paddingTop),x=bm(b.borderBottomWidth)+bm(b.borderTopWidth),D=T.scrollHeight;T.value="x";const z=T.scrollHeight;let M=D;s&&(M=Math.max(Number(s)*z,M)),i&&(M=Math.min(Number(i)*z,M)),M=Math.max(M,z);const $=M+(R==="border-box"?O+x:0),V=Math.abs(M-D)<=1;return{outerHeightStyle:$,overflow:V}},[i,s,e.placeholder]),m=(w,I)=>{const{outerHeightStyle:b,overflow:T}=I;return f.current<20&&(b>0&&Math.abs((w.outerHeightStyle||0)-b)>1||w.overflow!==T)?(f.current+=1,{overflow:T,outerHeightStyle:b}):w},y=E.useCallback(()=>{const w=v();dN(w)||g(I=>m(I,w))},[v]);rs(()=>{const w=()=>{const D=v();dN(D)||a_.flushSync(()=>{g(z=>m(z,D))})},I=()=>{f.current=0,w()};let b;const T=c1(I),R=c.current,O=zo(R);O.addEventListener("resize",T);let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(I),x.observe(R)),()=>{T.clear(),cancelAnimationFrame(b),O.removeEventListener("resize",T),x&&x.disconnect()}},[v]),rs(()=>{y()}),E.useEffect(()=>{f.current=0},[a]);const _=w=>{f.current=0,u||y(),r&&r(w)};return C.jsxs(E.Fragment,{children:[C.jsx("textarea",S({value:a,onChange:_,ref:d,rows:s,style:S({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},o)},l)),C.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:S({},Jae.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),ele=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],tle=re(Bae,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),nle=E.forwardRef(function(e,n){var r;const i=k4(),s=je({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:v,popperRef:m,transition:y,slots:_,slotProps:w}=s,I=se(s,ele),b=(r=_==null?void 0:_.root)!=null?r:l==null?void 0:l.Root,T=S({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:v,popperRef:m,transition:y},I);return C.jsx(tle,S({as:a,direction:i==null?void 0:i.direction,slots:{root:b},slotProps:w??u},T,{ref:n}))}),J4=nle;function Hc({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const rle=E.createContext(void 0),R1=rle;function Gc(){return E.useContext(R1)}function ile(t){return C.jsx(vie,S({},t,{defaultTheme:s0,themeId:Iv}))}function hN(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function $y(t,e=!1){return t&&(hN(t.value)&&t.value!==""||e&&hN(t.defaultValue)&&t.defaultValue!=="")}function sle(t){return t.startAdornment}function ole(t){return Le("MuiInputBase",t)}const ale=Be("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),wc=ale,lle=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],l0=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${pe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},u0=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},ule=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,g={root:["root",`color${pe(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${pe(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Ue(g,ole,e)},c0=re("div",{name:"MuiInputBase",slot:"Root",overridesResolver:l0})(({theme:t,ownerState:e})=>S({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${wc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&S({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),d0=re("input",{name:"MuiInputBase",slot:"Input",overridesResolver:u0})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=S({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return S({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${wc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${wc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),cle=C.jsx(ile,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),dle=E.forwardRef(function(e,n){var r;const i=je({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:g=!1,id:v,inputComponent:m="input",inputProps:y={},inputRef:_,maxRows:w,minRows:I,multiline:b=!1,name:T,onBlur:R,onChange:O,onClick:x,onFocus:D,onKeyDown:z,onKeyUp:M,placeholder:$,readOnly:V,renderSuffix:B,rows:K,slotProps:N={},slots:U={},startAdornment:Y,type:ge="text",value:ce}=i,Se=se(i,lle),ue=y.value!=null?y.value:ce,{current:ye}=E.useRef(ue!=null),Ee=E.useRef(),qe=E.useCallback(fe=>{},[]),Fe=hn(Ee,_,y.ref,qe),[Ae,gt]=E.useState(!1),_e=Gc(),Xe=Hc({props:i,muiFormControl:_e,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Xe.focused=_e?_e.focused:Ae,E.useEffect(()=>{!_e&&h&&Ae&&(gt(!1),R&&R())},[_e,h,Ae,R]);const Te=_e&&_e.onFilled,Me=_e&&_e.onEmpty,Re=E.useCallback(fe=>{$y(fe)?Te&&Te():Me&&Me()},[Te,Me]);rs(()=>{ye&&Re({value:ue})},[ue,Re,ye]);const yn=fe=>{if(Xe.disabled){fe.stopPropagation();return}D&&D(fe),y.onFocus&&y.onFocus(fe),_e&&_e.onFocus?_e.onFocus(fe):gt(!0)},Yt=fe=>{R&&R(fe),y.onBlur&&y.onBlur(fe),_e&&_e.onBlur?_e.onBlur(fe):gt(!1)},Pt=(fe,...ne)=>{if(!ye){const It=fe.target||Ee.current;if(It==null)throw new Error(jo(1));Re({value:It.value})}y.onChange&&y.onChange(fe,...ne),O&&O(fe,...ne)};E.useEffect(()=>{Re(Ee.current)},[]);const Wt=fe=>{Ee.current&&fe.currentTarget===fe.target&&Ee.current.focus(),x&&x(fe)};let st=m,He=y;b&&st==="input"&&(K?He=S({type:void 0,minRows:K,maxRows:K},He):He=S({type:void 0,maxRows:w,minRows:I},He),st=Zae);const A=fe=>{Re(fe.animationName==="mui-auto-fill-cancel"?Ee.current:{value:"x"})};E.useEffect(()=>{_e&&_e.setAdornedStart(!!Y)},[_e,Y]);const H=S({},i,{color:Xe.color||"primary",disabled:Xe.disabled,endAdornment:p,error:Xe.error,focused:Xe.focused,formControl:_e,fullWidth:g,hiddenLabel:Xe.hiddenLabel,multiline:b,size:Xe.size,startAdornment:Y,type:ge}),W=ule(H),Z=U.root||u.Root||c0,ae=N.root||c.root||{},ve=U.input||u.Input||d0;return He=S({},He,(r=N.input)!=null?r:c.input),C.jsxs(E.Fragment,{children:[!f&&cle,C.jsxs(Z,S({},ae,!Ly(Z)&&{ownerState:S({},H,ae.ownerState)},{ref:n,onClick:Wt},Se,{className:he(W.root,ae.className,l,V&&"MuiInputBase-readOnly"),children:[Y,C.jsx(R1.Provider,{value:null,children:C.jsx(ve,S({ownerState:H,"aria-invalid":Xe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Xe.disabled,id:v,onAnimationStart:A,name:T,placeholder:$,readOnly:V,required:Xe.required,rows:K,value:ue,onKeyDown:z,onKeyUp:M,type:ge},He,!Ly(ve)&&{as:st,ownerState:S({},H,He.ownerState)},{ref:Fe,className:he(W.input,He.className,V&&"MuiInputBase-readOnly"),onBlur:Yt,onChange:Pt,onFocus:yn}))}),p,B?B(S({},Xe,{startAdornment:Y})):null]}))]})}),P1=dle;function hle(t){return Le("MuiInput",t)}const fle=S({},wc,Be("MuiInput",["root","underline","input"])),bd=fle;function ple(t){return Le("MuiOutlinedInput",t)}const mle=S({},wc,Be("MuiOutlinedInput",["root","notchedOutline","input"])),Gs=mle;function gle(t){return Le("MuiFilledInput",t)}const yle=S({},wc,Be("MuiFilledInput",["root","underline","input"])),ia=yle,_le=F4(C.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),vle=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],wle={entering:{opacity:1},entered:{opacity:1}},Ele=E.forwardRef(function(e,n){const r=qc(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:g,style:v,timeout:m=i,TransitionComponent:y=V4}=e,_=se(e,vle),w=E.useRef(null),I=hn(w,a.ref,n),b=$=>V=>{if($){const B=w.current;V===void 0?$(B):$(B,V)}},T=b(h),R=b(($,V)=>{U4($);const B=My({style:v,timeout:m,easing:l},{mode:"enter"});$.style.webkitTransition=r.transitions.create("opacity",B),$.style.transition=r.transitions.create("opacity",B),c&&c($,V)}),O=b(d),x=b(g),D=b($=>{const V=My({style:v,timeout:m,easing:l},{mode:"exit"});$.style.webkitTransition=r.transitions.create("opacity",V),$.style.transition=r.transitions.create("opacity",V),f&&f($)}),z=b(p),M=$=>{s&&s(w.current,$)};return C.jsx(y,S({appear:o,in:u,nodeRef:w,onEnter:R,onEntered:O,onEntering:T,onExit:D,onExited:z,onExiting:x,addEndListener:M,timeout:m},_,{children:($,V)=>E.cloneElement(a,S({style:S({opacity:0,visibility:$==="exited"&&!u?"hidden":void 0},wle[$],v,a.props.style),ref:I},V))}))}),Z4=Ele;function Tle(t){return Le("MuiBackdrop",t)}Be("MuiBackdrop",["root","invisible"]);const Ile=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],ble=t=>{const{classes:e,invisible:n}=t;return Ue({root:["root",n&&"invisible"]},Tle,e)},Sle=re("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>S({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Cle=E.forwardRef(function(e,n){var r,i,s;const o=je({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:p={},slots:g={},TransitionComponent:v=Z4,transitionDuration:m}=o,y=se(o,Ile),_=S({},o,{component:u,invisible:h}),w=ble(_),I=(r=p.root)!=null?r:d.root;return C.jsx(v,S({in:f,timeout:m},y,{children:C.jsx(Sle,S({"aria-hidden":!0},I,{as:(i=(s=g.root)!=null?s:c.Root)!=null?i:u,className:he(w.root,l,I==null?void 0:I.className),ownerState:S({},_,I==null?void 0:I.ownerState),classes:w,ref:n,children:a}))}))}),eB=Cle;function xle(t){return Le("MuiButton",t)}const Rle=Be("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Sm=Rle,Ple=E.createContext({}),Ale=Ple,kle=E.createContext(void 0),Nle=kle,Ole=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Dle=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${pe(e)}`,`size${pe(i)}`,`${s}Size${pe(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${pe(i)}`],endIcon:["endIcon",`iconSize${pe(i)}`]},l=Ue(a,xle,o);return S({},o,l)},tB=t=>S({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Mle=re(Zse,{shouldForwardProp:t=>Pi(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${pe(n.color)}`],e[`size${pe(n.size)}`],e[`${n.variant}Size${pe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return S({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":S({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:oo(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:oo(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:oo(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":S({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Sm.focusVisible}`]:S({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Sm.disabled}`]:S({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${oo(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Sm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Sm.disabled}`]:{boxShadow:"none"}}),Lle=re("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${pe(n.size)}`]]}})(({ownerState:t})=>S({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},tB(t))),Fle=re("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${pe(n.size)}`]]}})(({ownerState:t})=>S({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},tB(t))),$le=E.forwardRef(function(e,n){const r=E.useContext(Ale),i=E.useContext(Nle),s=h1(r,e),o=je({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:g,fullWidth:v=!1,size:m="medium",startIcon:y,type:_,variant:w="text"}=o,I=se(o,Ole),b=S({},o,{color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:v,size:m,type:_,variant:w}),T=Dle(b),R=y&&C.jsx(Lle,{className:T.startIcon,ownerState:b,children:y}),O=p&&C.jsx(Fle,{className:T.endIcon,ownerState:b,children:p}),x=i||"";return C.jsxs(Mle,S({ownerState:b,className:he(r.className,T.root,c,x),component:u,disabled:d,focusRipple:!f,focusVisibleClassName:he(T.focusVisible,g),ref:n,type:_},I,{classes:T,children:[R,a,O]}))}),xr=$le;function Vle(t){return Le("MuiCard",t)}Be("MuiCard",["root"]);const Ule=["className","raised"],Ble=t=>{const{classes:e}=t;return Ue({root:["root"]},Vle,e)},jle=re(Mp,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),zle=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=se(r,Ule),a=S({},r,{raised:s}),l=Ble(a);return C.jsx(jle,S({className:he(l.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))}),$p=zle;function Wle(t){return Le("MuiCardContent",t)}Be("MuiCardContent",["root"]);const qle=["className","component"],Hle=t=>{const{classes:e}=t;return Ue({root:["root"]},Wle,e)},Gle=re("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Kle=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=se(r,qle),a=S({},r,{component:s}),l=Hle(a);return C.jsx(Gle,S({as:s,className:he(l.root,i),ownerState:a,ref:n},o))}),Vp=Kle;function Qle(t){return Le("MuiCardMedia",t)}Be("MuiCardMedia",["root","media","img"]);const Yle=["children","className","component","image","src","style"],Xle=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Ue({root:["root",n&&"media",r&&"img"]},Qle,e)},Jle=re("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>S({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),Zle=["video","audio","picture","iframe","img"],eue=["picture","img"],tue=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:l,style:u}=r,c=se(r,Yle),d=Zle.indexOf(o)!==-1,h=!d&&a?S({backgroundImage:`url("${a}")`},u):u,f=S({},r,{component:o,isMediaComponent:d,isImageComponent:eue.indexOf(o)!==-1}),p=Xle(f);return C.jsx(Jle,S({className:he(p.root,s),as:o,role:!d&&a?"img":void 0,ref:n,style:h,ownerState:f,src:d?a||l:void 0},c,{children:i}))}),nB=tue,nue=Wie({createStyledComponent:re("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${pe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>je({props:t,name:"MuiContainer"})}),rue=nue;function iue(t){return Le("MuiModal",t)}Be("MuiModal",["root","hidden","backdrop"]);const sue=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],oue=t=>{const{open:e,exited:n,classes:r}=t;return Ue({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},iue,r)},aue=re("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>S({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),lue=re(eB,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),uue=E.forwardRef(function(e,n){var r,i,s,o,a,l;const u=je({name:"MuiModal",props:e}),{BackdropComponent:c=lue,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:g,component:v,components:m={},componentsProps:y={},disableAutoFocus:_=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:I=!1,disablePortal:b=!1,disableRestoreFocus:T=!1,disableScrollLock:R=!1,hideBackdrop:O=!1,keepMounted:x=!1,onBackdropClick:D,open:z,slotProps:M,slots:$}=u,V=se(u,sue),B=S({},u,{closeAfterTransition:f,disableAutoFocus:_,disableEnforceFocus:w,disableEscapeKeyDown:I,disablePortal:b,disableRestoreFocus:T,disableScrollLock:R,hideBackdrop:O,keepMounted:x}),{getRootProps:K,getBackdropProps:N,getTransitionProps:U,portalRef:Y,isTopModal:ge,exited:ce,hasTransition:Se}=Yae(S({},B,{rootRef:n})),ue=S({},B,{exited:ce}),ye=oue(ue),Ee={};if(p.props.tabIndex===void 0&&(Ee.tabIndex="-1"),Se){const{onEnter:Te,onExited:Me}=U();Ee.onEnter=Te,Ee.onExited=Me}const qe=(r=(i=$==null?void 0:$.root)!=null?i:m.Root)!=null?r:aue,Fe=(s=(o=$==null?void 0:$.backdrop)!=null?o:m.Backdrop)!=null?s:c,Ae=(a=M==null?void 0:M.root)!=null?a:y.root,gt=(l=M==null?void 0:M.backdrop)!=null?l:y.backdrop,_e=pl({elementType:qe,externalSlotProps:Ae,externalForwardedProps:V,getSlotProps:K,additionalProps:{ref:n,as:v},ownerState:ue,className:he(h,Ae==null?void 0:Ae.className,ye==null?void 0:ye.root,!ue.open&&ue.exited&&(ye==null?void 0:ye.hidden))}),Xe=pl({elementType:Fe,externalSlotProps:gt,additionalProps:d,getSlotProps:Te=>N(S({},Te,{onClick:Me=>{D&&D(Me),Te!=null&&Te.onClick&&Te.onClick(Me)}})),className:he(gt==null?void 0:gt.className,d==null?void 0:d.className,ye==null?void 0:ye.backdrop),ownerState:ue});return!x&&!z&&(!Se||ce)?null:C.jsx(X4,{ref:Y,container:g,disablePortal:b,children:C.jsxs(qe,S({},_e,{children:[!O&&c?C.jsx(Fe,S({},Xe)):null,C.jsx(Soe,{disableEnforceFocus:w,disableAutoFocus:_,disableRestoreFocus:T,isEnabled:ge,open:z,children:E.cloneElement(p,Ee)})]}))})}),rB=uue;function cue(t){return Le("MuiDialog",t)}const due=Be("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Mw=due,hue=E.createContext({}),iB=hue,fue=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],pue=re(eB,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),mue=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${pe(n)}`],paper:["paper",`paperScroll${pe(n)}`,`paperWidth${pe(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ue(o,cue,e)},gue=re(rB,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),yue=re("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${pe(n.scroll)}`]]}})(({ownerState:t})=>S({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),_ue=re(Mp,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${pe(n.scroll)}`],e[`paperWidth${pe(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>S({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Mw.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Mw.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Mw.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),vue=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiDialog"}),i=qc(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:u,children:c,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:g="sm",onBackdropClick:v,onClose:m,open:y,PaperComponent:_=Mp,PaperProps:w={},scroll:I="paper",TransitionComponent:b=Z4,transitionDuration:T=s,TransitionProps:R}=r,O=se(r,fue),x=S({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:g,scroll:I}),D=mue(x),z=E.useRef(),M=K=>{z.current=K.target===K.currentTarget},$=K=>{z.current&&(z.current=null,v&&v(K),m&&m(K,"backdropClick"))},V=Np(a),B=E.useMemo(()=>({titleId:V}),[V]);return C.jsx(gue,S({className:he(D.root,d),closeAfterTransition:!0,components:{Backdrop:pue},componentsProps:{backdrop:S({transitionDuration:T,as:l},u)},disableEscapeKeyDown:h,onClose:m,open:y,ref:n,onClick:$,ownerState:x},O,{children:C.jsx(b,S({appear:!0,in:y,timeout:T,role:"presentation"},R,{children:C.jsx(yue,{className:he(D.container),onMouseDown:M,ownerState:x,children:C.jsx(_ue,S({as:_,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":V},w,{className:he(D.paper,w.className),ownerState:x,children:C.jsx(iB.Provider,{value:B,children:c})}))})}))}))}),wue=vue;function Eue(t){return Le("MuiDialogActions",t)}Be("MuiDialogActions",["root","spacing"]);const Tue=["className","disableSpacing"],Iue=t=>{const{classes:e,disableSpacing:n}=t;return Ue({root:["root",!n&&"spacing"]},Eue,e)},bue=re("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>S({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Sue=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,o=se(r,Tue),a=S({},r,{disableSpacing:s}),l=Iue(a);return C.jsx(bue,S({className:he(l.root,i),ownerState:a,ref:n},o))}),Cue=Sue;function xue(t){return Le("MuiDialogContent",t)}Be("MuiDialogContent",["root","dividers"]);function Rue(t){return Le("MuiDialogTitle",t)}const Pue=Be("MuiDialogTitle",["root"]),Aue=Pue,kue=["className","dividers"],Nue=t=>{const{classes:e,dividers:n}=t;return Ue({root:["root",n&&"dividers"]},xue,e)},Oue=re("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>S({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Aue.root} + &`]:{paddingTop:0}})),Due=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,o=se(r,kue),a=S({},r,{dividers:s}),l=Nue(a);return C.jsx(Oue,S({className:he(l.root,i),ownerState:a,ref:n},o))}),Mue=Due,Lue=["className","id"],Fue=t=>{const{classes:e}=t;return Ue({root:["root"]},Rue,e)},$ue=re(Qn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Vue=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=se(r,Lue),a=r,l=Fue(a),{titleId:u=s}=E.useContext(iB);return C.jsx($ue,S({component:"h2",className:he(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??u},o))}),Uue=Vue,Bue=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],jue=t=>{const{classes:e,disableUnderline:n}=t,i=Ue({root:["root",!n&&"underline"],input:["input"]},gle,e);return S({},e,i)},zue=re(c0,{shouldForwardProp:t=>Pi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...l0(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return S({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${ia.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${ia.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ia.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ia.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ia.disabled}, .${ia.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ia.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&S({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Wue=re(d0,{name:"MuiFilledInput",slot:"Input",overridesResolver:u0})(({theme:t,ownerState:e})=>S({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),sB=E.forwardRef(function(e,n){var r,i,s,o;const a=je({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:g="text"}=a,v=se(a,Bue),m=S({},a,{fullWidth:c,inputComponent:d,multiline:h,type:g}),y=jue(a),_={root:{ownerState:m},input:{ownerState:m}},w=f??u?dr(_,f??u):_,I=(r=(i=p.root)!=null?i:l.Root)!=null?r:zue,b=(s=(o=p.input)!=null?o:l.Input)!=null?s:Wue;return C.jsx(P1,S({slots:{root:I,input:b},componentsProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:g},v,{classes:y}))});sB.muiName="Input";const oB=sB;function que(t){return Le("MuiFormControl",t)}Be("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Hue=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Gue=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${pe(n)}`,r&&"fullWidth"]};return Ue(i,que,e)},Kue=re("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>S({},e.root,e[`margin${pe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>S({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Que=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:g="medium",variant:v="outlined"}=r,m=se(r,Hue),y=S({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:g,variant:v}),_=Gue(y),[w,I]=E.useState(()=>{let M=!1;return i&&E.Children.forEach(i,$=>{if(!og($,["Input","Select"]))return;const V=og($,["Select"])?$.props.input:$;V&&sle(V.props)&&(M=!0)}),M}),[b,T]=E.useState(()=>{let M=!1;return i&&E.Children.forEach(i,$=>{og($,["Input","Select"])&&($y($.props,!0)||$y($.props.inputProps,!0))&&(M=!0)}),M}),[R,O]=E.useState(!1);l&&R&&O(!1);const x=c!==void 0&&!l?c:R;let D;const z=E.useMemo(()=>({adornedStart:w,setAdornedStart:I,color:o,disabled:l,error:u,filled:b,focused:x,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{O(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{O(!0)},registerEffect:D,required:p,variant:v}),[w,o,l,u,b,x,d,h,D,p,g,v]);return C.jsx(R1.Provider,{value:z,children:C.jsx(Kue,S({as:a,ownerState:y,className:he(_.root,s),ref:n},m,{children:i}))})}),Yue=Que;function Xue(t){return Le("MuiFormHelperText",t)}const Jue=Be("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),fN=Jue;var pN;const Zue=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ece=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${pe(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Ue(u,Xue,e)},tce=re("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${pe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>S({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${fN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${fN.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),nce=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=se(r,Zue),l=Gc(),u=Hc({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=S({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=ece(c);return C.jsx(tce,S({as:o,ownerState:c,className:he(d.root,s),ref:n},a,{children:i===" "?pN||(pN=C.jsx("span",{className:"notranslate",children:""})):i}))}),rce=nce;function ice(t){return Le("MuiFormLabel",t)}const sce=Be("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),wh=sce,oce=["children","className","color","component","disabled","error","filled","focused","required"],ace=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${pe(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Ue(l,ice,e)},lce=re("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>S({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>S({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${wh.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${wh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${wh.error}`]:{color:(t.vars||t).palette.error.main}})),uce=re("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${wh.error}`]:{color:(t.vars||t).palette.error.main}})),cce=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=se(r,oce),l=Gc(),u=Hc({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=S({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=ace(c);return C.jsxs(lce,S({as:o,ownerState:c,className:he(d.root,s),ref:n},a,{children:[i,u.required&&C.jsxs(uce,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),dce=cce,hce=E.createContext(),mN=hce;function fce(t){return Le("MuiGrid",t)}const pce=[0,1,2,3,4,5,6,7,8,9,10],mce=["column-reverse","column","row-reverse","row"],gce=["nowrap","wrap-reverse","wrap"],Sd=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Uf=Be("MuiGrid",["root","container","item","zeroMinWidth",...pce.map(t=>`spacing-xs-${t}`),...mce.map(t=>`direction-xs-${t}`),...gce.map(t=>`wrap-xs-${t}`),...Sd.map(t=>`grid-xs-${t}`),...Sd.map(t=>`grid-sm-${t}`),...Sd.map(t=>`grid-md-${t}`),...Sd.map(t=>`grid-lg-${t}`),...Sd.map(t=>`grid-xl-${t}`)]),yce=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Uu(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function _ce({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Kv({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const c=t.spacing(e.columnSpacing);if(c!=="0px"){const d=`calc(${l} + ${Uu(c)})`;u={flexBasis:d,maxWidth:d}}}s=S({flexBasis:l,flexGrow:0,maxWidth:l},u)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function vce({theme:t,ownerState:e}){const n=Kv({values:e.direction,breakpoints:t.breakpoints.values});return ni({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Uf.item}`]={maxWidth:"none"}),i})}function aB({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function wce({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Kv({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=aB({breakpoints:t.breakpoints.values,values:s})),i=ni({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{marginTop:`-${Uu(c)}`,[`& > .${Uf.item}`]:{paddingTop:Uu(c)}}:(u=o)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${Uf.item}`]:{paddingTop:0}}})}return i}function Ece({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Kv({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=aB({breakpoints:t.breakpoints.values,values:s})),i=ni({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{width:`calc(100% + ${Uu(c)})`,marginLeft:`-${Uu(c)}`,[`& > .${Uf.item}`]:{paddingLeft:Uu(c)}}:(u=o)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Uf.item}`]:{paddingLeft:0}}})}return i}function Tce(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const Ice=re("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=Tce(o,u,e));const d=[];return u.forEach(h=>{const f=n[h];f&&d.push(e[`grid-${h}-${String(f)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...c,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>S({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),vce,wce,Ece,_ce);function bce(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const Sce=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let u=[];n&&(u=bce(s,l));const c=[];l.forEach(h=>{const f=t[h];f&&c.push(`grid-${h}-${String(f)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...c]};return Ue(d,fce,e)},Cce=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiGrid"}),{breakpoints:i}=qc(),s=N4(r),{className:o,columns:a,columnSpacing:l,component:u="div",container:c=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:g="wrap",zeroMinWidth:v=!1}=s,m=se(s,yce),y=f||p,_=l||p,w=E.useContext(mN),I=c?a||12:w,b={},T=S({},m);i.keys.forEach(x=>{m[x]!=null&&(b[x]=m[x],delete T[x])});const R=S({},s,{columns:I,container:c,direction:d,item:h,rowSpacing:y,columnSpacing:_,wrap:g,zeroMinWidth:v,spacing:p},b,{breakpoints:i.keys}),O=Sce(R);return C.jsx(mN.Provider,{value:I,children:C.jsx(Ice,S({ownerState:R,className:he(O.root,o),as:u,ref:n},T))})}),Vy=Cce,xce=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function fI(t){return`scale(${t}, ${t**2})`}const Rce={entering:{opacity:1,transform:fI(1)},entered:{opacity:1,transform:"none"}},Lw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),lB=E.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:g="auto",TransitionComponent:v=V4}=e,m=se(e,xce),y=E.useRef(),_=E.useRef(),w=qc(),I=E.useRef(null),b=hn(I,s.ref,n),T=V=>B=>{if(V){const K=I.current;B===void 0?V(K):V(K,B)}},R=T(c),O=T((V,B)=>{U4(V);const{duration:K,delay:N,easing:U}=My({style:p,timeout:g,easing:o},{mode:"enter"});let Y;g==="auto"?(Y=w.transitions.getAutoHeightDuration(V.clientHeight),_.current=Y):Y=K,V.style.transition=[w.transitions.create("opacity",{duration:Y,delay:N}),w.transitions.create("transform",{duration:Lw?Y:Y*.666,delay:N,easing:U})].join(","),l&&l(V,B)}),x=T(u),D=T(f),z=T(V=>{const{duration:B,delay:K,easing:N}=My({style:p,timeout:g,easing:o},{mode:"exit"});let U;g==="auto"?(U=w.transitions.getAutoHeightDuration(V.clientHeight),_.current=U):U=B,V.style.transition=[w.transitions.create("opacity",{duration:U,delay:K}),w.transitions.create("transform",{duration:Lw?U:U*.666,delay:Lw?K:K||U*.333,easing:N})].join(","),V.style.opacity=0,V.style.transform=fI(.75),d&&d(V)}),M=T(h),$=V=>{g==="auto"&&(y.current=setTimeout(V,_.current||0)),r&&r(I.current,V)};return E.useEffect(()=>()=>{clearTimeout(y.current)},[]),C.jsx(v,S({appear:i,in:a,nodeRef:I,onEnter:O,onEntered:x,onEntering:R,onExit:z,onExited:M,onExiting:D,addEndListener:$,timeout:g==="auto"?null:g},m,{children:(V,B)=>E.cloneElement(s,S({style:S({opacity:0,transform:fI(.75),visibility:V==="exited"&&!a?"hidden":void 0},Rce[V],p,s.props.style),ref:b},B))}))});lB.muiSupportAuto=!0;const pI=lB,Pce=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Ace=t=>{const{classes:e,disableUnderline:n}=t,i=Ue({root:["root",!n&&"underline"],input:["input"]},hle,e);return S({},e,i)},kce=re(c0,{shouldForwardProp:t=>Pi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...l0(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),S({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bd.disabled}, .${bd.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${bd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Nce=re(d0,{name:"MuiInput",slot:"Input",overridesResolver:u0})({}),uB=E.forwardRef(function(e,n){var r,i,s,o;const a=je({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:g={},type:v="text"}=a,m=se(a,Pce),y=Ace(a),w={root:{ownerState:{disableUnderline:l}}},I=p??c?dr(p??c,w):w,b=(r=(i=g.root)!=null?i:u.Root)!=null?r:kce,T=(s=(o=g.input)!=null?o:u.Input)!=null?s:Nce;return C.jsx(P1,S({slots:{root:b,input:T},slotProps:I,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:v},m,{classes:y}))});uB.muiName="Input";const cB=uB;function Oce(t){return Le("MuiInputLabel",t)}Be("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Dce=["disableAnimation","margin","shrink","variant","className"],Mce=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${pe(r)}`,o],asterisk:[a&&"asterisk"]},u=Ue(l,Oce,e);return S({},e,u)},Lce=re(dce,{shouldForwardProp:t=>Pi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${wh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>S({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&S({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&S({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&S({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Fce=E.forwardRef(function(e,n){const r=je({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=se(r,Dce),l=Gc();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=Hc({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=S({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=Mce(d);return C.jsx(Lce,S({"data-shrink":u,ownerState:d,ref:n,className:he(h.root,o)},a,{classes:h}))}),$ce=Fce,Vce=E.createContext({}),Uce=Vce;function Bce(t){return Le("MuiList",t)}Be("MuiList",["root","padding","dense","subheader"]);const jce=["children","className","component","dense","disablePadding","subheader"],zce=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ue({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Bce,e)},Wce=re("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>S({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),qce=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=se(r,jce),d=E.useMemo(()=>({dense:a}),[a]),h=S({},r,{component:o,dense:a,disablePadding:l}),f=zce(h);return C.jsx(Uce.Provider,{value:d,children:C.jsxs(Wce,S({as:o,className:he(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),Hce=qce,Gce=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Fw(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function gN(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function dB(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Cd(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!dB(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Kce=E.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=se(e,Gce),f=E.useRef(null),p=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});rs(()=>{i&&f.current.focus()},[i]),E.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,w)=>{const I=!f.current.style.width;if(_.clientHeight<f.current.clientHeight&&I){const b=`${x4($n(_))}px`;f.current.style[w.direction==="rtl"?"paddingLeft":"paddingRight"]=b,f.current.style.width=`calc(100% + ${b})`}return f.current}}),[]);const g=_=>{const w=f.current,I=_.key,b=$n(w).activeElement;if(I==="ArrowDown")_.preventDefault(),Cd(w,b,u,l,Fw);else if(I==="ArrowUp")_.preventDefault(),Cd(w,b,u,l,gN);else if(I==="Home")_.preventDefault(),Cd(w,null,u,l,Fw);else if(I==="End")_.preventDefault(),Cd(w,null,u,l,gN);else if(I.length===1){const T=p.current,R=I.toLowerCase(),O=performance.now();T.keys.length>0&&(O-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&R!==T.keys[0]&&(T.repeating=!1)),T.lastTime=O,T.keys.push(R);const x=b&&!T.repeating&&dB(b,T);T.previousKeyMatched&&(x||Cd(w,b,!1,l,Fw,T))?_.preventDefault():T.previousKeyMatched=!1}c&&c(_)},v=hn(f,n);let m=-1;E.Children.forEach(o,(_,w)=>{if(!E.isValidElement(_)){m===w&&(m+=1,m>=o.length&&(m=-1));return}_.props.disabled||(d==="selectedMenu"&&_.props.selected||m===-1)&&(m=w),m===w&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(m+=1,m>=o.length&&(m=-1))});const y=E.Children.map(o,(_,w)=>{if(w===m){const I={};return s&&(I.autoFocus=!0),_.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),E.cloneElement(_,I)}return _});return C.jsx(Hce,S({role:"menu",ref:v,className:a,onKeyDown:g,tabIndex:i?0:-1},h,{children:y}))}),Qce=Kce;function Yce(t){return Le("MuiPopover",t)}Be("MuiPopover",["root","paper"]);const Xce=["onEntering"],Jce=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Zce=["slotProps"];function yN(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function _N(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function vN(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function $w(t){return typeof t=="function"?t():t}const ede=t=>{const{classes:e}=t;return Ue({root:["root"],paper:["paper"]},Yce,e)},tde=re(rB,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),hB=re(Mp,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),nde=E.forwardRef(function(e,n){var r,i,s;const o=je({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:g=8,marginThreshold:v=16,open:m,PaperProps:y={},slots:_,slotProps:w,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:b=pI,transitionDuration:T="auto",TransitionProps:{onEntering:R}={},disableScrollLock:O=!1}=o,x=se(o.TransitionProps,Xce),D=se(o,Jce),z=(r=w==null?void 0:w.paper)!=null?r:y,M=E.useRef(),$=hn(M,z.ref),V=S({},o,{anchorOrigin:u,anchorReference:d,elevation:g,marginThreshold:v,externalPaperSlotProps:z,transformOrigin:I,TransitionComponent:b,transitionDuration:T,TransitionProps:x}),B=ede(V),K=E.useCallback(()=>{if(d==="anchorPosition")return c;const Te=$w(l),Re=(Te&&Te.nodeType===1?Te:$n(M.current).body).getBoundingClientRect();return{top:Re.top+yN(Re,u.vertical),left:Re.left+_N(Re,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),N=E.useCallback(Te=>({vertical:yN(Te,I.vertical),horizontal:_N(Te,I.horizontal)}),[I.horizontal,I.vertical]),U=E.useCallback(Te=>{const Me={width:Te.offsetWidth,height:Te.offsetHeight},Re=N(Me);if(d==="none")return{top:null,left:null,transformOrigin:vN(Re)};const yn=K();let Yt=yn.top-Re.vertical,Pt=yn.left-Re.horizontal;const Wt=Yt+Me.height,st=Pt+Me.width,He=zo($w(l)),A=He.innerHeight-v,H=He.innerWidth-v;if(v!==null&&Yt<v){const W=Yt-v;Yt-=W,Re.vertical+=W}else if(v!==null&&Wt>A){const W=Wt-A;Yt-=W,Re.vertical+=W}if(v!==null&&Pt<v){const W=Pt-v;Pt-=W,Re.horizontal+=W}else if(st>H){const W=st-H;Pt-=W,Re.horizontal+=W}return{top:`${Math.round(Yt)}px`,left:`${Math.round(Pt)}px`,transformOrigin:vN(Re)}},[l,d,K,N,v]),[Y,ge]=E.useState(m),ce=E.useCallback(()=>{const Te=M.current;if(!Te)return;const Me=U(Te);Me.top!==null&&(Te.style.top=Me.top),Me.left!==null&&(Te.style.left=Me.left),Te.style.transformOrigin=Me.transformOrigin,ge(!0)},[U]);E.useEffect(()=>(O&&window.addEventListener("scroll",ce),()=>window.removeEventListener("scroll",ce)),[l,O,ce]);const Se=(Te,Me)=>{R&&R(Te,Me),ce()},ue=()=>{ge(!1)};E.useEffect(()=>{m&&ce()}),E.useImperativeHandle(a,()=>m?{updatePosition:()=>{ce()}}:null,[m,ce]),E.useEffect(()=>{if(!m)return;const Te=c1(()=>{ce()}),Me=zo(l);return Me.addEventListener("resize",Te),()=>{Te.clear(),Me.removeEventListener("resize",Te)}},[l,m,ce]);let ye=T;T==="auto"&&!b.muiSupportAuto&&(ye=void 0);const Ee=p||(l?$n($w(l)).body:void 0),qe=(i=_==null?void 0:_.root)!=null?i:tde,Fe=(s=_==null?void 0:_.paper)!=null?s:hB,Ae=pl({elementType:Fe,externalSlotProps:S({},z,{style:Y?z.style:S({},z.style,{opacity:0})}),additionalProps:{elevation:g,ref:$},ownerState:V,className:he(B.paper,z==null?void 0:z.className)}),gt=pl({elementType:qe,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:D,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Ee,open:m},ownerState:V,className:he(B.root,f)}),{slotProps:_e}=gt,Xe=se(gt,Zce);return C.jsx(qe,S({},Xe,!Ly(qe)&&{slotProps:_e,disableScrollLock:O},{children:C.jsx(b,S({appear:!0,in:m,onEntering:Se,onExited:ue,timeout:ye},x,{children:C.jsx(Fe,S({},Ae,{children:h}))}))}))}),rde=nde;function ide(t){return Le("MuiMenu",t)}Be("MuiMenu",["root","paper","list"]);const sde=["onEntering"],ode=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ade={vertical:"top",horizontal:"right"},lde={vertical:"top",horizontal:"left"},ude=t=>{const{classes:e}=t;return Ue({root:["root"],paper:["paper"],list:["list"]},ide,e)},cde=re(rde,{shouldForwardProp:t=>Pi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),dde=re(hB,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),hde=re(Qce,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),fde=E.forwardRef(function(e,n){var r,i;const s=je({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:v}={},variant:m="selectedMenu",slots:y={},slotProps:_={}}=s,w=se(s.TransitionProps,sde),I=se(s,ode),b=qc(),T=b.direction==="rtl",R=S({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:v,PaperProps:f,transitionDuration:g,TransitionProps:w,variant:m}),O=ude(R),x=o&&!u&&h,D=E.useRef(null),z=(U,Y)=>{D.current&&D.current.adjustStyleForScrollbar(U,b),v&&v(U,Y)},M=U=>{U.key==="Tab"&&(U.preventDefault(),d&&d(U,"tabKeyDown"))};let $=-1;E.Children.map(a,(U,Y)=>{E.isValidElement(U)&&(U.props.disabled||(m==="selectedMenu"&&U.props.selected||$===-1)&&($=Y))});const V=(r=y.paper)!=null?r:dde,B=(i=_.paper)!=null?i:f,K=pl({elementType:y.root,externalSlotProps:_.root,ownerState:R,className:[O.root,l]}),N=pl({elementType:V,externalSlotProps:B,ownerState:R,className:O.paper});return C.jsx(cde,S({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?ade:lde,slots:{paper:V,root:y.root},slotProps:{root:K,paper:N},open:h,ref:n,transitionDuration:g,TransitionProps:S({onEntering:z},w),ownerState:R},I,{classes:p,children:C.jsx(hde,S({onKeyDown:M,actions:D,autoFocus:o&&($===-1||u),autoFocusItem:x,variant:m},c,{className:he(O.list,c.className),children:a}))}))}),pde=fde;function mde(t){return Le("MuiNativeSelect",t)}const gde=Be("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),A1=gde,yde=["className","disabled","error","IconComponent","inputRef","variant"],_de=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${pe(n)}`,s&&"iconOpen",r&&"disabled"]};return Ue(a,mde,e)},fB=({ownerState:t,theme:e})=>S({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":S({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${A1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),vde=re("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Pi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${A1.multiple}`]:e.multiple}]}})(fB),pB=({ownerState:t,theme:e})=>S({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${A1.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),wde=re("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${pe(n.variant)}`],n.open&&e.iconOpen]}})(pB),Ede=E.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=se(e,yde),c=S({},e,{disabled:i,variant:l,error:s}),d=_de(c);return C.jsxs(E.Fragment,{children:[C.jsx(vde,S({ownerState:c,className:he(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:C.jsx(wde,{as:o,ownerState:c,className:d.icon})]})}),Tde=Ede;var wN;const Ide=["children","classes","className","label","notched"],bde=re("fieldset",{shouldForwardProp:Pi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Sde=re("legend",{shouldForwardProp:Pi})(({ownerState:t,theme:e})=>S({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&S({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Cde(t){const{className:e,label:n,notched:r}=t,i=se(t,Ide),s=n!=null&&n!=="",o=S({},t,{notched:r,withLabel:s});return C.jsx(bde,S({"aria-hidden":!0,className:e,ownerState:o},i,{children:C.jsx(Sde,{ownerState:o,children:s?C.jsx("span",{children:n}):wN||(wN=C.jsx("span",{className:"notranslate",children:""}))})}))}const xde=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Rde=t=>{const{classes:e}=t,r=Ue({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ple,e);return S({},e,r)},Pde=re(c0,{shouldForwardProp:t=>Pi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:l0})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return S({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Gs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Gs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Gs.focused} .${Gs.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Gs.error} .${Gs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Gs.disabled} .${Gs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&S({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Ade=re(Cde,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),kde=re(d0,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:u0})(({theme:t,ownerState:e})=>S({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),mB=E.forwardRef(function(e,n){var r,i,s,o,a;const l=je({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:g={},type:v="text"}=l,m=se(l,xde),y=Rde(l),_=Gc(),w=Hc({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=S({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:_,fullWidth:c,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:v}),b=(r=(i=g.root)!=null?i:u.Root)!=null?r:Pde,T=(s=(o=g.input)!=null?o:u.Input)!=null?s:kde;return C.jsx(P1,S({slots:{root:b,input:T},renderSuffix:R=>C.jsx(Ade,{ownerState:I,className:y.notchedOutline,label:h!=null&&h!==""&&w.required?a||(a=C.jsxs(E.Fragment,{children:[h,"","*"]})):h,notched:typeof p<"u"?p:!!(R.startAdornment||R.filled||R.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:v},m,{classes:S({},y,{notchedOutline:null})}))});mB.muiName="Input";const gB=mB;function Nde(t){return Le("MuiSelect",t)}const xd=Be("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var EN;const Ode=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Dde=re("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${xd.select}`]:e.select},{[`&.${xd.select}`]:e[n.variant]},{[`&.${xd.error}`]:e.error},{[`&.${xd.multiple}`]:e.multiple}]}})(fB,{[`&.${xd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Mde=re("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${pe(n.variant)}`],n.open&&e.iconOpen]}})(pB),Lde=re("input",{shouldForwardProp:t=>yse(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function TN(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Fde(t){return t==null||typeof t=="string"&&!t.trim()}const $de=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${pe(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ue(a,Nde,e)},Vde=E.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:v,labelId:m,MenuProps:y={},multiple:_,name:w,onBlur:I,onChange:b,onClose:T,onFocus:R,onOpen:O,open:x,readOnly:D,renderValue:z,SelectDisplayProps:M={},tabIndex:$,value:V,variant:B="standard"}=e,K=se(e,Ode),[N,U]=Ay({controlled:V,default:d,name:"Select"}),[Y,ge]=Ay({controlled:x,default:c,name:"Select"}),ce=E.useRef(null),Se=E.useRef(null),[ue,ye]=E.useState(null),{current:Ee}=E.useRef(x!=null),[qe,Fe]=E.useState(),Ae=hn(n,v),gt=E.useCallback(de=>{Se.current=de,de&&ye(de)},[]),_e=ue==null?void 0:ue.parentNode;E.useImperativeHandle(Ae,()=>({focus:()=>{Se.current.focus()},node:ce.current,value:N}),[N]),E.useEffect(()=>{c&&Y&&ue&&!Ee&&(Fe(a?null:_e.clientWidth),Se.current.focus())},[ue,a]),E.useEffect(()=>{o&&Se.current.focus()},[o]),E.useEffect(()=>{if(!m)return;const de=$n(Se.current).getElementById(m);if(de){const Ke=()=>{getSelection().isCollapsed&&Se.current.focus()};return de.addEventListener("click",Ke),()=>{de.removeEventListener("click",Ke)}}},[m]);const Xe=(de,Ke)=>{de?O&&O(Ke):T&&T(Ke),Ee||(Fe(a?null:_e.clientWidth),ge(de))},Te=de=>{de.button===0&&(de.preventDefault(),Se.current.focus(),Xe(!0,de))},Me=de=>{Xe(!1,de)},Re=E.Children.toArray(l),yn=de=>{const Ke=Re.find(yt=>yt.props.value===de.target.value);Ke!==void 0&&(U(Ke.props.value),b&&b(de,Ke))},Yt=de=>Ke=>{let yt;if(Ke.currentTarget.hasAttribute("tabindex")){if(_){yt=Array.isArray(N)?N.slice():[];const Ai=N.indexOf(de.props.value);Ai===-1?yt.push(de.props.value):yt.splice(Ai,1)}else yt=de.props.value;if(de.props.onClick&&de.props.onClick(Ke),N!==yt&&(U(yt),b)){const Ai=Ke.nativeEvent||Ke,Qc=new Ai.constructor(Ai.type,Ai);Object.defineProperty(Qc,"target",{writable:!0,value:{value:yt,name:w}}),b(Qc,de)}_||Xe(!1,Ke)}},Pt=de=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(de.key)!==-1&&(de.preventDefault(),Xe(!0,de))},Wt=ue!==null&&Y,st=de=>{!Wt&&I&&(Object.defineProperty(de,"target",{writable:!0,value:{value:N,name:w}}),I(de))};delete K["aria-invalid"];let He,A;const H=[];let W=!1;($y({value:N})||f)&&(z?He=z(N):W=!0);const Z=Re.map(de=>{if(!E.isValidElement(de))return null;let Ke;if(_){if(!Array.isArray(N))throw new Error(jo(2));Ke=N.some(yt=>TN(yt,de.props.value)),Ke&&W&&H.push(de.props.children)}else Ke=TN(N,de.props.value),Ke&&W&&(A=de.props.children);return E.cloneElement(de,{"aria-selected":Ke?"true":"false",onClick:Yt(de),onKeyUp:yt=>{yt.key===" "&&yt.preventDefault(),de.props.onKeyUp&&de.props.onKeyUp(yt)},role:"option",selected:Ke,value:void 0,"data-value":de.props.value})});W&&(_?H.length===0?He=null:He=H.reduce((de,Ke,yt)=>(de.push(Ke),yt<H.length-1&&de.push(", "),de),[]):He=A);let ae=qe;!a&&Ee&&ue&&(ae=_e.clientWidth);let ve;typeof $<"u"?ve=$:ve=h?null:0;const fe=M.id||(w?`mui-component-select-${w}`:void 0),ne=S({},e,{variant:B,value:N,open:Wt,error:p}),It=$de(ne),gr=S({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),yr=Np();return C.jsxs(E.Fragment,{children:[C.jsx(Dde,S({ref:gt,tabIndex:ve,role:"combobox","aria-controls":yr,"aria-disabled":h?"true":void 0,"aria-expanded":Wt?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[m,fe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Pt,onMouseDown:h||D?null:Te,onBlur:st,onFocus:R},M,{ownerState:ne,className:he(M.className,It.select,u),id:fe,children:Fde(He)?EN||(EN=C.jsx("span",{className:"notranslate",children:""})):He})),C.jsx(Lde,S({"aria-invalid":p,value:Array.isArray(N)?N.join(","):N,name:w,ref:ce,"aria-hidden":!0,onChange:yn,tabIndex:-1,disabled:h,className:It.nativeInput,autoFocus:o,ownerState:ne},K)),C.jsx(Mde,{as:g,className:It.icon,ownerState:ne}),C.jsx(pde,S({id:`menu-${w||""}`,anchorEl:_e,open:Wt,onClose:Me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:S({"aria-labelledby":m,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:yr},y.MenuListProps),slotProps:S({},y.slotProps,{paper:S({},gr,{style:S({minWidth:ae},gr!=null?gr.style:null)})}),children:Z}))]})}),Ude=Vde,Bde=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],jde=["root"],zde=t=>{const{classes:e}=t;return e},k1={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Pi(t)&&t!=="variant",slot:"Root"},Wde=re(cB,k1)(""),qde=re(gB,k1)(""),Hde=re(oB,k1)(""),yB=E.forwardRef(function(e,n){const r=je({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=_le,id:d,input:h,inputProps:f,label:p,labelId:g,MenuProps:v,multiple:m=!1,native:y=!1,onClose:_,onOpen:w,open:I,renderValue:b,SelectDisplayProps:T,variant:R="outlined"}=r,O=se(r,Bde),x=y?Tde:Ude,D=Gc(),z=Hc({props:r,muiFormControl:D,states:["variant","error"]}),M=z.variant||R,$=S({},r,{variant:M,classes:o}),V=zde($),B=se(V,jde),K=h||{standard:C.jsx(Wde,{ownerState:$}),outlined:C.jsx(qde,{label:p,ownerState:$}),filled:C.jsx(Hde,{ownerState:$})}[M],N=hn(n,K.ref);return C.jsx(E.Fragment,{children:E.cloneElement(K,S({inputComponent:x,inputProps:S({children:s,error:z.error,IconComponent:c,variant:M,type:void 0,multiple:m},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:g,MenuProps:v,onClose:_,onOpen:w,open:I,renderValue:b,SelectDisplayProps:S({id:d},T)},f,{classes:f?dr(B,f.classes):B},h?h.props.inputProps:{})},m&&y&&M==="outlined"?{notched:!0}:{},{ref:N,className:he(K.props.className,a,V.root)},!h&&{variant:M},O))})});yB.muiName="Select";const Gde=yB;function Kde(t){return Le("MuiTooltip",t)}const Qde=Be("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),ao=Qde,Yde=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Xde(t){return Math.round(t*1e5)/1e5}const Jde=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${pe(s.split("-")[0])}`],arrow:["arrow"]};return Ue(o,Kde,e)},Zde=re(J4,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>S({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${ao.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ao.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ao.arrow}`]:S({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${ao.arrow}`]:S({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),ehe=re("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${pe(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>S({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:oo(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Xde(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${ao.popper}[data-popper-placement*="left"] &`]:S({transformOrigin:"right center"},e.isRtl?S({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):S({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${ao.popper}[data-popper-placement*="right"] &`]:S({transformOrigin:"left center"},e.isRtl?S({marginRight:"14px"},e.touch&&{marginRight:"24px"}):S({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${ao.popper}[data-popper-placement*="top"] &`]:S({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${ao.popper}[data-popper-placement*="bottom"] &`]:S({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),the=re("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:oo(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Cm=!1,Vw=null,Rd={x:0,y:0};function xm(t,e){return n=>{e&&e(n),t(n)}}const nhe=E.forwardRef(function(e,n){var r,i,s,o,a,l,u,c,d,h,f,p,g,v,m,y,_,w,I;const b=je({props:e,name:"MuiTooltip"}),{arrow:T=!1,children:R,components:O={},componentsProps:x={},describeChild:D=!1,disableFocusListener:z=!1,disableHoverListener:M=!1,disableInteractive:$=!1,disableTouchListener:V=!1,enterDelay:B=100,enterNextDelay:K=0,enterTouchDelay:N=700,followCursor:U=!1,id:Y,leaveDelay:ge=0,leaveTouchDelay:ce=1500,onClose:Se,onOpen:ue,open:ye,placement:Ee="bottom",PopperComponent:qe,PopperProps:Fe={},slotProps:Ae={},slots:gt={},title:_e,TransitionComponent:Xe=pI,TransitionProps:Te}=b,Me=se(b,Yde),Re=E.isValidElement(R)?R:C.jsx("span",{children:R}),yn=qc(),Yt=yn.direction==="rtl",[Pt,Wt]=E.useState(),[st,He]=E.useState(null),A=E.useRef(!1),H=$||U,W=E.useRef(),Z=E.useRef(),ae=E.useRef(),ve=E.useRef(),[fe,ne]=Ay({controlled:ye,default:!1,name:"Tooltip",state:"open"});let It=fe;const gr=Np(Y),yr=E.useRef(),de=E.useCallback(()=>{yr.current!==void 0&&(document.body.style.WebkitUserSelect=yr.current,yr.current=void 0),clearTimeout(ve.current)},[]);E.useEffect(()=>()=>{clearTimeout(W.current),clearTimeout(Z.current),clearTimeout(ae.current),de()},[de]);const Ke=ke=>{clearTimeout(Vw),Cm=!0,ne(!0),ue&&!It&&ue(ke)},yt=so(ke=>{clearTimeout(Vw),Vw=setTimeout(()=>{Cm=!1},800+ge),ne(!1),Se&&It&&Se(ke),clearTimeout(W.current),W.current=setTimeout(()=>{A.current=!1},yn.transitions.duration.shortest)}),Ai=ke=>{A.current&&ke.type!=="touchstart"||(Pt&&Pt.removeAttribute("title"),clearTimeout(Z.current),clearTimeout(ae.current),B||Cm&&K?Z.current=setTimeout(()=>{Ke(ke)},Cm?K:B):Ke(ke))},Qc=ke=>{clearTimeout(Z.current),clearTimeout(ae.current),ae.current=setTimeout(()=>{yt(ke)},ge)},{isFocusVisibleRef:ex,onBlur:cj,onFocus:dj,ref:hj}=d1(),[,tx]=E.useState(!1),nx=ke=>{cj(ke),ex.current===!1&&(tx(!1),Qc(ke))},rx=ke=>{Pt||Wt(ke.currentTarget),dj(ke),ex.current===!0&&(tx(!0),Ai(ke))},ix=ke=>{A.current=!0;const _r=Re.props;_r.onTouchStart&&_r.onTouchStart(ke)},sx=Ai,ox=Qc,fj=ke=>{ix(ke),clearTimeout(ae.current),clearTimeout(W.current),de(),yr.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ve.current=setTimeout(()=>{document.body.style.WebkitUserSelect=yr.current,Ai(ke)},N)},pj=ke=>{Re.props.onTouchEnd&&Re.props.onTouchEnd(ke),de(),clearTimeout(ae.current),ae.current=setTimeout(()=>{yt(ke)},ce)};E.useEffect(()=>{if(!It)return;function ke(_r){(_r.key==="Escape"||_r.key==="Esc")&&yt(_r)}return document.addEventListener("keydown",ke),()=>{document.removeEventListener("keydown",ke)}},[yt,It]);const mj=hn(Re.ref,hj,Wt,n);!_e&&_e!==0&&(It=!1);const w0=E.useRef(),gj=ke=>{const _r=Re.props;_r.onMouseMove&&_r.onMouseMove(ke),Rd={x:ke.clientX,y:ke.clientY},w0.current&&w0.current.update()},Yc={},E0=typeof _e=="string";D?(Yc.title=!It&&E0&&!M?_e:null,Yc["aria-describedby"]=It?gr:null):(Yc["aria-label"]=E0?_e:null,Yc["aria-labelledby"]=It&&!E0?gr:null);const ai=S({},Yc,Me,Re.props,{className:he(Me.className,Re.props.className),onTouchStart:ix,ref:mj},U?{onMouseMove:gj}:{}),Xc={};V||(ai.onTouchStart=fj,ai.onTouchEnd=pj),M||(ai.onMouseOver=xm(sx,ai.onMouseOver),ai.onMouseLeave=xm(ox,ai.onMouseLeave),H||(Xc.onMouseOver=sx,Xc.onMouseLeave=ox)),z||(ai.onFocus=xm(rx,ai.onFocus),ai.onBlur=xm(nx,ai.onBlur),H||(Xc.onFocus=rx,Xc.onBlur=nx));const yj=E.useMemo(()=>{var ke;let _r=[{name:"arrow",enabled:!!st,options:{element:st,padding:4}}];return(ke=Fe.popperOptions)!=null&&ke.modifiers&&(_r=_r.concat(Fe.popperOptions.modifiers)),S({},Fe.popperOptions,{modifiers:_r})},[st,Fe]),Jc=S({},b,{isRtl:Yt,arrow:T,disableInteractive:H,placement:Ee,PopperComponentProp:qe,touch:A.current}),T0=Jde(Jc),ax=(r=(i=gt.popper)!=null?i:O.Popper)!=null?r:Zde,lx=(s=(o=(a=gt.transition)!=null?a:O.Transition)!=null?o:Xe)!=null?s:pI,ux=(l=(u=gt.tooltip)!=null?u:O.Tooltip)!=null?l:ehe,cx=(c=(d=gt.arrow)!=null?d:O.Arrow)!=null?c:the,_j=qd(ax,S({},Fe,(h=Ae.popper)!=null?h:x.popper,{className:he(T0.popper,Fe==null?void 0:Fe.className,(f=(p=Ae.popper)!=null?p:x.popper)==null?void 0:f.className)}),Jc),vj=qd(lx,S({},Te,(g=Ae.transition)!=null?g:x.transition),Jc),wj=qd(ux,S({},(v=Ae.tooltip)!=null?v:x.tooltip,{className:he(T0.tooltip,(m=(y=Ae.tooltip)!=null?y:x.tooltip)==null?void 0:m.className)}),Jc),Ej=qd(cx,S({},(_=Ae.arrow)!=null?_:x.arrow,{className:he(T0.arrow,(w=(I=Ae.arrow)!=null?I:x.arrow)==null?void 0:w.className)}),Jc);return C.jsxs(E.Fragment,{children:[E.cloneElement(Re,ai),C.jsx(ax,S({as:qe??J4,placement:Ee,anchorEl:U?{getBoundingClientRect:()=>({top:Rd.y,left:Rd.x,right:Rd.x,bottom:Rd.y,width:0,height:0})}:Pt,popperRef:w0,open:Pt?It:!1,id:gr,transition:!0},Xc,_j,{popperOptions:yj,children:({TransitionProps:ke})=>C.jsx(lx,S({timeout:yn.transitions.duration.shorter},ke,vj,{children:C.jsxs(ux,S({},wj,{children:[_e,T?C.jsx(cx,S({},Ej,{ref:He})):null]}))}))}))]})}),Rm=nhe;function rhe(t){return Le("MuiToolbar",t)}Be("MuiToolbar",["root","gutters","regular","dense"]);const ihe=["className","component","disableGutters","variant"],she=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Ue({root:["root",!n&&"gutters",r]},rhe,e)},ohe=re("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>S({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),ahe=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=se(r,ihe),u=S({},r,{component:s,disableGutters:o,variant:a}),c=she(u);return C.jsx(ohe,S({as:s,className:he(c.root,i),ref:n,ownerState:u},l))}),lhe=ahe;function uhe(t){return Le("MuiTextField",t)}Be("MuiTextField",["root"]);const che=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],dhe={standard:cB,filled:oB,outlined:gB},hhe=t=>{const{classes:e}=t;return Ue({root:["root"]},uhe,e)},fhe=re(Yue,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),phe=E.forwardRef(function(e,n){const r=je({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:g,InputLabelProps:v,inputProps:m,InputProps:y,inputRef:_,label:w,maxRows:I,minRows:b,multiline:T=!1,name:R,onBlur:O,onChange:x,onFocus:D,placeholder:z,required:M=!1,rows:$,select:V=!1,SelectProps:B,type:K,value:N,variant:U="outlined"}=r,Y=se(r,che),ge=S({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:T,required:M,select:V,variant:U}),ce=hhe(ge),Se={};U==="outlined"&&(v&&typeof v.shrink<"u"&&(Se.notched=v.shrink),Se.label=w),V&&((!B||!B.native)&&(Se.id=void 0),Se["aria-describedby"]=void 0);const ue=Np(g),ye=p&&ue?`${ue}-helper-text`:void 0,Ee=w&&ue?`${ue}-label`:void 0,qe=dhe[U],Fe=C.jsx(qe,S({"aria-describedby":ye,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:T,name:R,rows:$,maxRows:I,minRows:b,type:K,value:N,id:ue,inputRef:_,onBlur:O,onChange:x,onFocus:D,placeholder:z,inputProps:m},Se,y));return C.jsxs(fhe,S({className:he(ce.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:M,color:l,variant:U,ownerState:ge},Y,{children:[w!=null&&w!==""&&C.jsx($ce,S({htmlFor:ue,id:Ee},v,{children:w})),V?C.jsx(Gde,S({"aria-describedby":ye,id:ue,labelId:Ee,value:N,input:Fe},B,{children:o})):Fe,p&&C.jsx(rce,S({id:ye},h,{children:p}))]}))}),Uw=phe;let Pm;const mhe=new Uint8Array(16);function ghe(){if(!Pm&&(Pm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pm(mhe)}const _n=[];for(let t=0;t<256;++t)_n.push((t+256).toString(16).slice(1));function yhe(t,e=0){return _n[t[e+0]]+_n[t[e+1]]+_n[t[e+2]]+_n[t[e+3]]+"-"+_n[t[e+4]]+_n[t[e+5]]+"-"+_n[t[e+6]]+_n[t[e+7]]+"-"+_n[t[e+8]]+_n[t[e+9]]+"-"+_n[t[e+10]]+_n[t[e+11]]+_n[t[e+12]]+_n[t[e+13]]+_n[t[e+14]]+_n[t[e+15]]}const _he=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),IN={randomUUID:_he};function vhe(t,e,n){if(IN.randomUUID&&!e&&!t)return IN.randomUUID();t=t||{};const r=t.random||(t.rng||ghe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return yhe(r)}const whe=()=>{const t=zF(),e=vhe(),n=()=>{t(BF({id:e,name:"TV",photo:"https://static.ru-mi.com/upload/resize_cache/iblock/9e4/440_440_1/ivzxm4nxe17ij2mycnh8p66hc3iw98bo.jpg",price:100,quantity:1}))};return C.jsx(C.Fragment,{children:C.jsx($p,{children:C.jsxs(Vp,{children:[C.jsx(Qn,{component:"div",sx:{flexGrow:1},variant:"h6",children:"Add product"}),C.jsx(xr,{component:Sa,onClick:n,to:"/",variant:"contained",children:"Add product"})]})})})};var Ehe=function(e){return The(e)&&!Ihe(e)};function The(t){return!!t&&typeof t=="object"}function Ihe(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Che(t)}var bhe=typeof Symbol=="function"&&Symbol.for,She=bhe?Symbol.for("react.element"):60103;function Che(t){return t.$$typeof===She}function xhe(t){return Array.isArray(t)?[]:{}}function Uy(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Bf(xhe(t),t,e):t}function Rhe(t,e,n){return t.concat(e).map(function(r){return Uy(r,n)})}function Phe(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Uy(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Uy(e[i],n):r[i]=Bf(t[i],e[i],n)}),r}function Bf(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Rhe,n.isMergeableObject=n.isMergeableObject||Ehe;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Phe(t,e,n):Uy(e,n)}Bf.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Bf(r,i,n)},{})};var mI=Bf,_B=typeof global=="object"&&global&&global.Object===Object&&global,Ahe=typeof self=="object"&&self&&self.Object===Object&&self,os=_B||Ahe||Function("return this")(),Wo=os.Symbol,vB=Object.prototype,khe=vB.hasOwnProperty,Nhe=vB.toString,Pd=Wo?Wo.toStringTag:void 0;function Ohe(t){var e=khe.call(t,Pd),n=t[Pd];try{t[Pd]=void 0;var r=!0}catch{}var i=Nhe.call(t);return r&&(e?t[Pd]=n:delete t[Pd]),i}var Dhe=Object.prototype,Mhe=Dhe.toString;function Lhe(t){return Mhe.call(t)}var Fhe="[object Null]",$he="[object Undefined]",bN=Wo?Wo.toStringTag:void 0;function kl(t){return t==null?t===void 0?$he:Fhe:bN&&bN in Object(t)?Ohe(t):Lhe(t)}function wB(t,e){return function(n){return t(e(n))}}var N1=wB(Object.getPrototypeOf,Object);function Nl(t){return t!=null&&typeof t=="object"}var Vhe="[object Object]",Uhe=Function.prototype,Bhe=Object.prototype,EB=Uhe.toString,jhe=Bhe.hasOwnProperty,zhe=EB.call(Object);function SN(t){if(!Nl(t)||kl(t)!=Vhe)return!1;var e=N1(t);if(e===null)return!0;var n=jhe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&EB.call(n)==zhe}var CN=Array.isArray,xN=Object.keys,Whe=Object.prototype.hasOwnProperty,qhe=typeof Element<"u";function gI(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=CN(t),r=CN(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!gI(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var d=xN(t);if(s=d.length,s!==xN(e).length)return!1;for(i=s;i--!==0;)if(!Whe.call(e,d[i]))return!1;if(qhe&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!gI(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var Hhe=function(e,n){try{return gI(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const ma=zy(Hhe);function Ghe(){this.__data__=[],this.size=0}function TB(t,e){return t===e||t!==t&&e!==e}function h0(t,e){for(var n=t.length;n--;)if(TB(t[n][0],e))return n;return-1}var Khe=Array.prototype,Qhe=Khe.splice;function Yhe(t){var e=this.__data__,n=h0(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Qhe.call(e,n,1),--this.size,!0}function Xhe(t){var e=this.__data__,n=h0(e,t);return n<0?void 0:e[n][1]}function Jhe(t){return h0(this.__data__,t)>-1}function Zhe(t,e){var n=this.__data__,r=h0(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Bs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bs.prototype.clear=Ghe;Bs.prototype.delete=Yhe;Bs.prototype.get=Xhe;Bs.prototype.has=Jhe;Bs.prototype.set=Zhe;function efe(){this.__data__=new Bs,this.size=0}function tfe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function nfe(t){return this.__data__.get(t)}function rfe(t){return this.__data__.has(t)}function Up(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ife="[object AsyncFunction]",sfe="[object Function]",ofe="[object GeneratorFunction]",afe="[object Proxy]";function IB(t){if(!Up(t))return!1;var e=kl(t);return e==sfe||e==ofe||e==ife||e==afe}var Bw=os["__core-js_shared__"],RN=function(){var t=/[^.]+$/.exec(Bw&&Bw.keys&&Bw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function lfe(t){return!!RN&&RN in t}var ufe=Function.prototype,cfe=ufe.toString;function Ol(t){if(t!=null){try{return cfe.call(t)}catch{}try{return t+""}catch{}}return""}var dfe=/[\\^$.*+?()[\]{}|]/g,hfe=/^\[object .+?Constructor\]$/,ffe=Function.prototype,pfe=Object.prototype,mfe=ffe.toString,gfe=pfe.hasOwnProperty,yfe=RegExp("^"+mfe.call(gfe).replace(dfe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _fe(t){if(!Up(t)||lfe(t))return!1;var e=IB(t)?yfe:hfe;return e.test(Ol(t))}function vfe(t,e){return t==null?void 0:t[e]}function Dl(t,e){var n=vfe(t,e);return _fe(n)?n:void 0}var jf=Dl(os,"Map"),zf=Dl(Object,"create");function wfe(){this.__data__=zf?zf(null):{},this.size=0}function Efe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Tfe="__lodash_hash_undefined__",Ife=Object.prototype,bfe=Ife.hasOwnProperty;function Sfe(t){var e=this.__data__;if(zf){var n=e[t];return n===Tfe?void 0:n}return bfe.call(e,t)?e[t]:void 0}var Cfe=Object.prototype,xfe=Cfe.hasOwnProperty;function Rfe(t){var e=this.__data__;return zf?e[t]!==void 0:xfe.call(e,t)}var Pfe="__lodash_hash_undefined__";function Afe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zf&&e===void 0?Pfe:e,this}function gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gl.prototype.clear=wfe;gl.prototype.delete=Efe;gl.prototype.get=Sfe;gl.prototype.has=Rfe;gl.prototype.set=Afe;function kfe(){this.size=0,this.__data__={hash:new gl,map:new(jf||Bs),string:new gl}}function Nfe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function f0(t,e){var n=t.__data__;return Nfe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Ofe(t){var e=f0(this,t).delete(t);return this.size-=e?1:0,e}function Dfe(t){return f0(this,t).get(t)}function Mfe(t){return f0(this,t).has(t)}function Lfe(t,e){var n=f0(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function na(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}na.prototype.clear=kfe;na.prototype.delete=Ofe;na.prototype.get=Dfe;na.prototype.has=Mfe;na.prototype.set=Lfe;var Ffe=200;function $fe(t,e){var n=this.__data__;if(n instanceof Bs){var r=n.__data__;if(!jf||r.length<Ffe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new na(r)}return n.set(t,e),this.size=n.size,this}function Kc(t){var e=this.__data__=new Bs(t);this.size=e.size}Kc.prototype.clear=efe;Kc.prototype.delete=tfe;Kc.prototype.get=nfe;Kc.prototype.has=rfe;Kc.prototype.set=$fe;function Vfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var PN=function(){try{var t=Dl(Object,"defineProperty");return t({},"",{}),t}catch{}}();function bB(t,e,n){e=="__proto__"&&PN?PN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ufe=Object.prototype,Bfe=Ufe.hasOwnProperty;function SB(t,e,n){var r=t[e];(!(Bfe.call(t,e)&&TB(r,n))||n===void 0&&!(e in t))&&bB(t,e,n)}function p0(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?bB(n,a,l):SB(n,a,l)}return n}function jfe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var zfe="[object Arguments]";function AN(t){return Nl(t)&&kl(t)==zfe}var CB=Object.prototype,Wfe=CB.hasOwnProperty,qfe=CB.propertyIsEnumerable,Hfe=AN(function(){return arguments}())?AN:function(t){return Nl(t)&&Wfe.call(t,"callee")&&!qfe.call(t,"callee")},Bp=Array.isArray;function Gfe(){return!1}var xB=typeof Rr=="object"&&Rr&&!Rr.nodeType&&Rr,kN=xB&&typeof Pr=="object"&&Pr&&!Pr.nodeType&&Pr,Kfe=kN&&kN.exports===xB,NN=Kfe?os.Buffer:void 0,Qfe=NN?NN.isBuffer:void 0,RB=Qfe||Gfe,Yfe=9007199254740991,Xfe=/^(?:0|[1-9]\d*)$/;function Jfe(t,e){var n=typeof t;return e=e??Yfe,!!e&&(n=="number"||n!="symbol"&&Xfe.test(t))&&t>-1&&t%1==0&&t<e}var Zfe=9007199254740991;function PB(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Zfe}var epe="[object Arguments]",tpe="[object Array]",npe="[object Boolean]",rpe="[object Date]",ipe="[object Error]",spe="[object Function]",ope="[object Map]",ape="[object Number]",lpe="[object Object]",upe="[object RegExp]",cpe="[object Set]",dpe="[object String]",hpe="[object WeakMap]",fpe="[object ArrayBuffer]",ppe="[object DataView]",mpe="[object Float32Array]",gpe="[object Float64Array]",ype="[object Int8Array]",_pe="[object Int16Array]",vpe="[object Int32Array]",wpe="[object Uint8Array]",Epe="[object Uint8ClampedArray]",Tpe="[object Uint16Array]",Ipe="[object Uint32Array]",dt={};dt[mpe]=dt[gpe]=dt[ype]=dt[_pe]=dt[vpe]=dt[wpe]=dt[Epe]=dt[Tpe]=dt[Ipe]=!0;dt[epe]=dt[tpe]=dt[fpe]=dt[npe]=dt[ppe]=dt[rpe]=dt[ipe]=dt[spe]=dt[ope]=dt[ape]=dt[lpe]=dt[upe]=dt[cpe]=dt[dpe]=dt[hpe]=!1;function bpe(t){return Nl(t)&&PB(t.length)&&!!dt[kl(t)]}function O1(t){return function(e){return t(e)}}var AB=typeof Rr=="object"&&Rr&&!Rr.nodeType&&Rr,Eh=AB&&typeof Pr=="object"&&Pr&&!Pr.nodeType&&Pr,Spe=Eh&&Eh.exports===AB,jw=Spe&&_B.process,Ec=function(){try{var t=Eh&&Eh.require&&Eh.require("util").types;return t||jw&&jw.binding&&jw.binding("util")}catch{}}(),ON=Ec&&Ec.isTypedArray,Cpe=ON?O1(ON):bpe,xpe=Object.prototype,Rpe=xpe.hasOwnProperty;function kB(t,e){var n=Bp(t),r=!n&&Hfe(t),i=!n&&!r&&RB(t),s=!n&&!r&&!i&&Cpe(t),o=n||r||i||s,a=o?jfe(t.length,String):[],l=a.length;for(var u in t)(e||Rpe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Jfe(u,l)))&&a.push(u);return a}var Ppe=Object.prototype;function D1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ppe;return t===n}var Ape=wB(Object.keys,Object),kpe=Object.prototype,Npe=kpe.hasOwnProperty;function Ope(t){if(!D1(t))return Ape(t);var e=[];for(var n in Object(t))Npe.call(t,n)&&n!="constructor"&&e.push(n);return e}function NB(t){return t!=null&&PB(t.length)&&!IB(t)}function M1(t){return NB(t)?kB(t):Ope(t)}function Dpe(t,e){return t&&p0(e,M1(e),t)}function Mpe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Lpe=Object.prototype,Fpe=Lpe.hasOwnProperty;function $pe(t){if(!Up(t))return Mpe(t);var e=D1(t),n=[];for(var r in t)r=="constructor"&&(e||!Fpe.call(t,r))||n.push(r);return n}function L1(t){return NB(t)?kB(t,!0):$pe(t)}function Vpe(t,e){return t&&p0(e,L1(e),t)}var OB=typeof Rr=="object"&&Rr&&!Rr.nodeType&&Rr,DN=OB&&typeof Pr=="object"&&Pr&&!Pr.nodeType&&Pr,Upe=DN&&DN.exports===OB,MN=Upe?os.Buffer:void 0,LN=MN?MN.allocUnsafe:void 0;function Bpe(t,e){if(e)return t.slice();var n=t.length,r=LN?LN(n):new t.constructor(n);return t.copy(r),r}function DB(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function jpe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function MB(){return[]}var zpe=Object.prototype,Wpe=zpe.propertyIsEnumerable,FN=Object.getOwnPropertySymbols,F1=FN?function(t){return t==null?[]:(t=Object(t),jpe(FN(t),function(e){return Wpe.call(t,e)}))}:MB;function qpe(t,e){return p0(t,F1(t),e)}function LB(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Hpe=Object.getOwnPropertySymbols,FB=Hpe?function(t){for(var e=[];t;)LB(e,F1(t)),t=N1(t);return e}:MB;function Gpe(t,e){return p0(t,FB(t),e)}function $B(t,e,n){var r=e(t);return Bp(t)?r:LB(r,n(t))}function Kpe(t){return $B(t,M1,F1)}function Qpe(t){return $B(t,L1,FB)}var yI=Dl(os,"DataView"),_I=Dl(os,"Promise"),vI=Dl(os,"Set"),wI=Dl(os,"WeakMap"),$N="[object Map]",Ype="[object Object]",VN="[object Promise]",UN="[object Set]",BN="[object WeakMap]",jN="[object DataView]",Xpe=Ol(yI),Jpe=Ol(jf),Zpe=Ol(_I),eme=Ol(vI),tme=Ol(wI),ga=kl;(yI&&ga(new yI(new ArrayBuffer(1)))!=jN||jf&&ga(new jf)!=$N||_I&&ga(_I.resolve())!=VN||vI&&ga(new vI)!=UN||wI&&ga(new wI)!=BN)&&(ga=function(t){var e=kl(t),n=e==Ype?t.constructor:void 0,r=n?Ol(n):"";if(r)switch(r){case Xpe:return jN;case Jpe:return $N;case Zpe:return VN;case eme:return UN;case tme:return BN}return e});const $1=ga;var nme=Object.prototype,rme=nme.hasOwnProperty;function ime(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&rme.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var zN=os.Uint8Array;function V1(t){var e=new t.constructor(t.byteLength);return new zN(e).set(new zN(t)),e}function sme(t,e){var n=e?V1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var ome=/\w*$/;function ame(t){var e=new t.constructor(t.source,ome.exec(t));return e.lastIndex=t.lastIndex,e}var WN=Wo?Wo.prototype:void 0,qN=WN?WN.valueOf:void 0;function lme(t){return qN?Object(qN.call(t)):{}}function ume(t,e){var n=e?V1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var cme="[object Boolean]",dme="[object Date]",hme="[object Map]",fme="[object Number]",pme="[object RegExp]",mme="[object Set]",gme="[object String]",yme="[object Symbol]",_me="[object ArrayBuffer]",vme="[object DataView]",wme="[object Float32Array]",Eme="[object Float64Array]",Tme="[object Int8Array]",Ime="[object Int16Array]",bme="[object Int32Array]",Sme="[object Uint8Array]",Cme="[object Uint8ClampedArray]",xme="[object Uint16Array]",Rme="[object Uint32Array]";function Pme(t,e,n){var r=t.constructor;switch(e){case _me:return V1(t);case cme:case dme:return new r(+t);case vme:return sme(t,n);case wme:case Eme:case Tme:case Ime:case bme:case Sme:case Cme:case xme:case Rme:return ume(t,n);case hme:return new r;case fme:case gme:return new r(t);case pme:return ame(t);case mme:return new r;case yme:return lme(t)}}var HN=Object.create,Ame=function(){function t(){}return function(e){if(!Up(e))return{};if(HN)return HN(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function kme(t){return typeof t.constructor=="function"&&!D1(t)?Ame(N1(t)):{}}var Nme="[object Map]";function Ome(t){return Nl(t)&&$1(t)==Nme}var GN=Ec&&Ec.isMap,Dme=GN?O1(GN):Ome,Mme="[object Set]";function Lme(t){return Nl(t)&&$1(t)==Mme}var KN=Ec&&Ec.isSet,Fme=KN?O1(KN):Lme,$me=1,Vme=2,Ume=4,VB="[object Arguments]",Bme="[object Array]",jme="[object Boolean]",zme="[object Date]",Wme="[object Error]",UB="[object Function]",qme="[object GeneratorFunction]",Hme="[object Map]",Gme="[object Number]",BB="[object Object]",Kme="[object RegExp]",Qme="[object Set]",Yme="[object String]",Xme="[object Symbol]",Jme="[object WeakMap]",Zme="[object ArrayBuffer]",ege="[object DataView]",tge="[object Float32Array]",nge="[object Float64Array]",rge="[object Int8Array]",ige="[object Int16Array]",sge="[object Int32Array]",oge="[object Uint8Array]",age="[object Uint8ClampedArray]",lge="[object Uint16Array]",uge="[object Uint32Array]",ot={};ot[VB]=ot[Bme]=ot[Zme]=ot[ege]=ot[jme]=ot[zme]=ot[tge]=ot[nge]=ot[rge]=ot[ige]=ot[sge]=ot[Hme]=ot[Gme]=ot[BB]=ot[Kme]=ot[Qme]=ot[Yme]=ot[Xme]=ot[oge]=ot[age]=ot[lge]=ot[uge]=!0;ot[Wme]=ot[UB]=ot[Jme]=!1;function ug(t,e,n,r,i,s){var o,a=e&$me,l=e&Vme,u=e&Ume;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Up(t))return t;var c=Bp(t);if(c){if(o=ime(t),!a)return DB(t,o)}else{var d=$1(t),h=d==UB||d==qme;if(RB(t))return Bpe(t,a);if(d==BB||d==VB||h&&!i){if(o=l||h?{}:kme(t),!a)return l?Gpe(t,Vpe(o,t)):qpe(t,Dpe(o,t))}else{if(!ot[d])return i?t:{};o=Pme(t,d,a)}}s||(s=new Kc);var f=s.get(t);if(f)return f;s.set(t,o),Fme(t)?t.forEach(function(v){o.add(ug(v,e,n,v,t,s))}):Dme(t)&&t.forEach(function(v,m){o.set(m,ug(v,e,n,m,t,s))});var p=u?l?Qpe:Kpe:l?L1:M1,g=c?void 0:p(t);return Vfe(g||t,function(v,m){g&&(m=v,v=t[m]),SB(o,m,ug(v,e,n,m,t,s))}),o}var cge=4;function QN(t){return ug(t,cge)}function jB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var dge="[object Symbol]";function U1(t){return typeof t=="symbol"||Nl(t)&&kl(t)==dge}var hge="Expected a function";function B1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(hge);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(B1.Cache||na),n}B1.Cache=na;var fge=500;function pge(t){var e=B1(t,function(r){return n.size===fge&&n.clear(),r}),n=e.cache;return e}var mge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gge=/\\(\\)?/g,yge=pge(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(mge,function(n,r,i,s){e.push(i?s.replace(gge,"$1"):r||n)}),e});const _ge=yge;var vge=1/0;function wge(t){if(typeof t=="string"||U1(t))return t;var e=t+"";return e=="0"&&1/t==-vge?"-0":e}var Ege=1/0,YN=Wo?Wo.prototype:void 0,XN=YN?YN.toString:void 0;function zB(t){if(typeof t=="string")return t;if(Bp(t))return jB(t,zB)+"";if(U1(t))return XN?XN.call(t):"";var e=t+"";return e=="0"&&1/t==-Ege?"-0":e}function Tge(t){return t==null?"":zB(t)}function WB(t){return Bp(t)?jB(t,wge):U1(t)?[t]:DB(_ge(Tge(t)))}function nn(){return nn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nn.apply(this,arguments)}function qB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var m0=E.createContext(void 0);m0.displayName="FormikContext";m0.Provider;m0.Consumer;function Ige(){var t=E.useContext(m0);return t}var ui=function(e){return typeof e=="function"},g0=function(e){return e!==null&&typeof e=="object"},bge=function(e){return String(Math.floor(Number(e)))===e},zw=function(e){return Object.prototype.toString.call(e)==="[object String]"},Ww=function(e){return g0(e)&&ui(e.then)};function vr(t,e,n,r){r===void 0&&(r=0);for(var i=WB(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function za(t,e,n){for(var r=QN(t),i=r,s=0,o=WB(e);s<o.length-1;s++){var a=o[s],l=vr(t,o.slice(0,s+1));if(l&&(g0(l)||Array.isArray(l)))i=i[a]=QN(l);else{var u=o[s+1];i=i[a]=bge(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function HB(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];g0(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},HB(a,e,n,r[o])):r[o]=e}return r}function Sge(t,e){switch(e.type){case"SET_VALUES":return nn({},t,{values:e.payload});case"SET_TOUCHED":return nn({},t,{touched:e.payload});case"SET_ERRORS":return ma(t.errors,e.payload)?t:nn({},t,{errors:e.payload});case"SET_STATUS":return nn({},t,{status:e.payload});case"SET_ISSUBMITTING":return nn({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return nn({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return nn({},t,{values:za(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return nn({},t,{touched:za(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return nn({},t,{errors:za(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return nn({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return nn({},t,{touched:HB(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return nn({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return nn({},t,{isSubmitting:!1});default:return t}}var sa={},Am={};function Cge(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,d=qB(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=nn({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},d),f=E.useRef(h.initialValues),p=E.useRef(h.initialErrors||sa),g=E.useRef(h.initialTouched||Am),v=E.useRef(h.initialStatus),m=E.useRef(!1),y=E.useRef({});E.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var _=E.useState(0),w=_[1],I=E.useRef({values:h.initialValues,errors:h.initialErrors||sa,touched:h.initialTouched||Am,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),b=I.current,T=E.useCallback(function(A){var H=I.current;I.current=Sge(H,A),H!==I.current&&w(function(W){return W+1})},[]),R=E.useCallback(function(A,H){return new Promise(function(W,Z){var ae=h.validate(A,H);ae==null?W(sa):Ww(ae)?ae.then(function(ve){W(ve||sa)},function(ve){Z(ve)}):W(ae)})},[h.validate]),O=E.useCallback(function(A,H){var W=h.validationSchema,Z=ui(W)?W(H):W,ae=H&&Z.validateAt?Z.validateAt(H,A):Rge(A,Z);return new Promise(function(ve,fe){ae.then(function(){ve(sa)},function(ne){ne.name==="ValidationError"?ve(xge(ne)):fe(ne)})})},[h.validationSchema]),x=E.useCallback(function(A,H){return new Promise(function(W){return W(y.current[A].validate(H))})},[]),D=E.useCallback(function(A){var H=Object.keys(y.current).filter(function(Z){return ui(y.current[Z].validate)}),W=H.length>0?H.map(function(Z){return x(Z,vr(A,Z))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(W).then(function(Z){return Z.reduce(function(ae,ve,fe){return ve==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ve&&(ae=za(ae,H[fe],ve)),ae},{})})},[x]),z=E.useCallback(function(A){return Promise.all([D(A),h.validationSchema?O(A):{},h.validate?R(A):{}]).then(function(H){var W=H[0],Z=H[1],ae=H[2],ve=mI.all([W,Z,ae],{arrayMerge:Pge});return ve})},[h.validate,h.validationSchema,D,R,O]),M=jr(function(A){return A===void 0&&(A=b.values),T({type:"SET_ISVALIDATING",payload:!0}),z(A).then(function(H){return m.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:H})),H})});E.useEffect(function(){o&&m.current===!0&&ma(f.current,h.initialValues)&&M(f.current)},[o,M]);var $=E.useCallback(function(A){var H=A&&A.values?A.values:f.current,W=A&&A.errors?A.errors:p.current?p.current:h.initialErrors||{},Z=A&&A.touched?A.touched:g.current?g.current:h.initialTouched||{},ae=A&&A.status?A.status:v.current?v.current:h.initialStatus;f.current=H,p.current=W,g.current=Z,v.current=ae;var ve=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!A&&!!A.isSubmitting,errors:W,touched:Z,status:ae,values:H,isValidating:!!A&&!!A.isValidating,submitCount:A&&A.submitCount&&typeof A.submitCount=="number"?A.submitCount:0}})};if(h.onReset){var fe=h.onReset(b.values,Te);Ww(fe)?fe.then(ve):ve()}else ve()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);E.useEffect(function(){m.current===!0&&!ma(f.current,h.initialValues)&&u&&(f.current=h.initialValues,$(),o&&M(f.current))},[u,h.initialValues,$,o,M]),E.useEffect(function(){u&&m.current===!0&&!ma(p.current,h.initialErrors)&&(p.current=h.initialErrors||sa,T({type:"SET_ERRORS",payload:h.initialErrors||sa}))},[u,h.initialErrors]),E.useEffect(function(){u&&m.current===!0&&!ma(g.current,h.initialTouched)&&(g.current=h.initialTouched||Am,T({type:"SET_TOUCHED",payload:h.initialTouched||Am}))},[u,h.initialTouched]),E.useEffect(function(){u&&m.current===!0&&!ma(v.current,h.initialStatus)&&(v.current=h.initialStatus,T({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var V=jr(function(A){if(y.current[A]&&ui(y.current[A].validate)){var H=vr(b.values,A),W=y.current[A].validate(H);return Ww(W)?(T({type:"SET_ISVALIDATING",payload:!0}),W.then(function(Z){return Z}).then(function(Z){T({type:"SET_FIELD_ERROR",payload:{field:A,value:Z}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:A,value:W}}),Promise.resolve(W))}else if(h.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),O(b.values,A).then(function(Z){return Z}).then(function(Z){T({type:"SET_FIELD_ERROR",payload:{field:A,value:vr(Z,A)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=E.useCallback(function(A,H){var W=H.validate;y.current[A]={validate:W}},[]),K=E.useCallback(function(A){delete y.current[A]},[]),N=jr(function(A,H){T({type:"SET_TOUCHED",payload:A});var W=H===void 0?i:H;return W?M(b.values):Promise.resolve()}),U=E.useCallback(function(A){T({type:"SET_ERRORS",payload:A})},[]),Y=jr(function(A,H){var W=ui(A)?A(b.values):A;T({type:"SET_VALUES",payload:W});var Z=H===void 0?n:H;return Z?M(W):Promise.resolve()}),ge=E.useCallback(function(A,H){T({type:"SET_FIELD_ERROR",payload:{field:A,value:H}})},[]),ce=jr(function(A,H,W){T({type:"SET_FIELD_VALUE",payload:{field:A,value:H}});var Z=W===void 0?n:W;return Z?M(za(b.values,A,H)):Promise.resolve()}),Se=E.useCallback(function(A,H){var W=H,Z=A,ae;if(!zw(A)){A.persist&&A.persist();var ve=A.target?A.target:A.currentTarget,fe=ve.type,ne=ve.name,It=ve.id,gr=ve.value,yr=ve.checked,de=ve.outerHTML,Ke=ve.options,yt=ve.multiple;W=H||ne||It,Z=/number|range/.test(fe)?(ae=parseFloat(gr),isNaN(ae)?"":ae):/checkbox/.test(fe)?kge(vr(b.values,W),yr,gr):Ke&&yt?Age(Ke):gr}W&&ce(W,Z)},[ce,b.values]),ue=jr(function(A){if(zw(A))return function(H){return Se(H,A)};Se(A)}),ye=jr(function(A,H,W){H===void 0&&(H=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:A,value:H}});var Z=W===void 0?i:W;return Z?M(b.values):Promise.resolve()}),Ee=E.useCallback(function(A,H){A.persist&&A.persist();var W=A.target,Z=W.name,ae=W.id,ve=W.outerHTML,fe=H||Z||ae;ye(fe,!0)},[ye]),qe=jr(function(A){if(zw(A))return function(H){return Ee(H,A)};Ee(A)}),Fe=E.useCallback(function(A){ui(A)?T({type:"SET_FORMIK_STATE",payload:A}):T({type:"SET_FORMIK_STATE",payload:function(){return A}})},[]),Ae=E.useCallback(function(A){T({type:"SET_STATUS",payload:A})},[]),gt=E.useCallback(function(A){T({type:"SET_ISSUBMITTING",payload:A})},[]),_e=jr(function(){return T({type:"SUBMIT_ATTEMPT"}),M().then(function(A){var H=A instanceof Error,W=!H&&Object.keys(A).length===0;if(W){var Z;try{if(Z=Me(),Z===void 0)return}catch(ae){throw ae}return Promise.resolve(Z).then(function(ae){return m.current&&T({type:"SUBMIT_SUCCESS"}),ae}).catch(function(ae){if(m.current)throw T({type:"SUBMIT_FAILURE"}),ae})}else if(m.current&&(T({type:"SUBMIT_FAILURE"}),H))throw A})}),Xe=jr(function(A){A&&A.preventDefault&&ui(A.preventDefault)&&A.preventDefault(),A&&A.stopPropagation&&ui(A.stopPropagation)&&A.stopPropagation(),_e().catch(function(H){console.warn("Warning: An unhandled error was caught from submitForm()",H)})}),Te={resetForm:$,validateForm:M,validateField:V,setErrors:U,setFieldError:ge,setFieldTouched:ye,setFieldValue:ce,setStatus:Ae,setSubmitting:gt,setTouched:N,setValues:Y,setFormikState:Fe,submitForm:_e},Me=jr(function(){return c(b.values,Te)}),Re=jr(function(A){A&&A.preventDefault&&ui(A.preventDefault)&&A.preventDefault(),A&&A.stopPropagation&&ui(A.stopPropagation)&&A.stopPropagation(),$()}),yn=E.useCallback(function(A){return{value:vr(b.values,A),error:vr(b.errors,A),touched:!!vr(b.touched,A),initialValue:vr(f.current,A),initialTouched:!!vr(g.current,A),initialError:vr(p.current,A)}},[b.errors,b.touched,b.values]),Yt=E.useCallback(function(A){return{setValue:function(W,Z){return ce(A,W,Z)},setTouched:function(W,Z){return ye(A,W,Z)},setError:function(W){return ge(A,W)}}},[ce,ye,ge]),Pt=E.useCallback(function(A){var H=g0(A),W=H?A.name:A,Z=vr(b.values,W),ae={name:W,value:Z,onChange:ue,onBlur:qe};if(H){var ve=A.type,fe=A.value,ne=A.as,It=A.multiple;ve==="checkbox"?fe===void 0?ae.checked=!!Z:(ae.checked=!!(Array.isArray(Z)&&~Z.indexOf(fe)),ae.value=fe):ve==="radio"?(ae.checked=Z===fe,ae.value=fe):ne==="select"&&It&&(ae.value=ae.value||[],ae.multiple=!0)}return ae},[qe,ue,b.values]),Wt=E.useMemo(function(){return!ma(f.current,b.values)},[f.current,b.values]),st=E.useMemo(function(){return typeof a<"u"?Wt?b.errors&&Object.keys(b.errors).length===0:a!==!1&&ui(a)?a(h):a:b.errors&&Object.keys(b.errors).length===0},[a,Wt,b.errors,h]),He=nn({},b,{initialValues:f.current,initialErrors:p.current,initialTouched:g.current,initialStatus:v.current,handleBlur:qe,handleChange:ue,handleReset:Re,handleSubmit:Xe,resetForm:$,setErrors:U,setFormikState:Fe,setFieldTouched:ye,setFieldValue:ce,setFieldError:ge,setStatus:Ae,setSubmitting:gt,setTouched:N,setValues:Y,submitForm:_e,validateForm:M,validateField:V,isValid:st,dirty:Wt,unregisterField:K,registerField:B,getFieldProps:Pt,getFieldMeta:yn,getFieldHelpers:Yt,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return He}function xge(t){var e={};if(t.inner){if(t.inner.length===0)return za(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;vr(e,o.path)||(e=za(e,o.path,o.message))}}return e}function Rge(t,e,n,r){n===void 0&&(n=!1);var i=EI(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function EI(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||SN(i)?EI(i):i!==""?i:void 0}):SN(t[r])?e[r]=EI(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function Pge(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?mI(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=mI(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function Age(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function kge(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var Nge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function jr(t){var e=E.useRef(t);return Nge(function(){e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var Oge=E.forwardRef(function(t,e){var n=t.action,r=qB(t,["action"]),i=n??"#",s=Ige(),o=s.handleReset,a=s.handleSubmit;return E.createElement("form",nn({onSubmit:a,ref:e,onReset:o,action:i},r))});Oge.displayName="Form";function Ml(t){this._maxSize=t,this.clear()}Ml.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Ml.prototype.get=function(t){return this._values[t]};Ml.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Dge=/[^.^\]^[]+|(?=\[\]|\.\.)/g,GB=/^\d+$/,Mge=/^\d/,Lge=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Fge=/^\s*(['"]?)(.*?)(\1)\s*$/,j1=512,JN=new Ml(j1),ZN=new Ml(j1),eO=new Ml(j1),Wa={Cache:Ml,split:TI,normalizePath:qw,setter:function(t){var e=qw(t);return ZN.get(t)||ZN.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=qw(t);return eO.get(t)||eO.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(z1(n)||GB.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){$ge(Array.isArray(t)?t:TI(t),e,n)}};function qw(t){return JN.get(t)||JN.set(t,TI(t).map(function(e){return e.replace(Fge,"$2")}))}function TI(t){return t.match(Dge)||[""]}function $ge(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(Bge(i)&&(i='"'+i+'"'),a=z1(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function z1(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Vge(t){return t.match(Mge)&&!t.match(GB)}function Uge(t){return Lge.test(t)}function Bge(t){return!z1(t)&&(Vge(t)||Uge(t))}const jge=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,y0=t=>t.match(jge)||[],_0=t=>t[0].toUpperCase()+t.slice(1),W1=(t,e)=>y0(t).join(e).toLowerCase(),KB=t=>y0(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),zge=t=>_0(KB(t)),Wge=t=>W1(t,"_"),qge=t=>W1(t,"-"),Hge=t=>_0(W1(t," ")),Gge=t=>y0(t).map(_0).join(" ");var Hw={words:y0,upperFirst:_0,camelCase:KB,pascalCase:zge,snakeCase:Wge,kebabCase:qge,sentenceCase:Hge,titleCase:Gge},q1={exports:{}};q1.exports=function(t){return QB(Kge(t),t)};q1.exports.array=QB;function QB(t,e){var n=t.length,r=new Array(n),i={},s=n,o=Qge(e),a=Yge(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,d){if(d.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var f=o.get(u)||new Set;if(f=Array.from(f),c=f.length){d.add(u);do{var p=f[--c];l(p,a.get(p),d)}while(c);d.delete(u)}r[--n]=u}}}function Kge(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function Qge(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function Yge(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var Xge=q1.exports;const Jge=zy(Xge),Zge=Object.prototype.toString,eye=Error.prototype.toString,tye=RegExp.prototype.toString,nye=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",rye=/^Symbol\((.*)\)(.*)$/;function iye(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function tO(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return iye(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return nye.call(t).replace(rye,"Symbol($1)");const r=Zge.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+eye.call(t)+"]":r==="RegExp"?tye.call(t):null}function Io(t,e){let n=tO(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=tO(this[r],e);return s!==null?s:i},2)}function YB(t){return t==null?[]:[].concat(t)}let XB,sye=/\$\{\s*(\w+)\s*\}/g;XB=Symbol.toStringTag;class nr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(sye,(i,s)=>Io(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[XB]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],YB(e).forEach(o=>{if(nr.isError(o)){this.errors.push(...o.errors);const a=o.inner.length?o.inner:[o];this.inner.push(...a)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,nr)}}let Oi={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Io(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Io(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Io(n,!0)}\``+i}},ci={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},oye={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},II={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},aye={isValue:"${path} field must be ${value}"},bI={noUnknown:"${path} field has unspecified keys: ${unknown}"},lye={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},uye={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Io(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Io(n,!0)}\``}return nr.formatError(Oi.notType,t)}};Object.assign(Object.create(null),{mixed:Oi,string:ci,number:oye,date:II,object:bI,array:lye,boolean:aye,tuple:uye});const H1=t=>t&&t.__isYupSchema__;class By{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new By(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!H1(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const km={context:"$",value:"."};class Ll{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===km.context,this.isValue=this.key[0]===km.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?km.context:this.isValue?km.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Wa.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ll.prototype.__isYupRef=!0;const Da=t=>t==null;function Zl(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:d,message:h,skipAbsent:f}=t;let{parent:p,context:g,abortEarly:v=o.spec.abortEarly,disableStackTrace:m=o.spec.disableStackTrace}=i;function y(D){return Ll.isRef(D)?D.getValue(n,p,g):D}function _(D={}){var z;const M=Object.assign({value:n,originalValue:s,label:o.spec.label,path:D.path||r,spec:o.spec},d,D.params);for(const V of Object.keys(M))M[V]=y(M[V]);const $=new nr(nr.formatError(D.message||h,M),n,M.path,D.type||u,(z=D.disableStackTrace)!=null?z:m);return $.params=M,$}const w=v?a:l;let I={path:r,parent:p,type:u,from:i.from,createError:_,resolve:y,options:i,originalValue:s,schema:o};const b=D=>{nr.isError(D)?w(D):D?l(null):w(_())},T=D=>{nr.isError(D)?w(D):a(D)};if(f&&Da(n))return b(!0);let O;try{var x;if(O=c.call(I,n,I),typeof((x=O)==null?void 0:x.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(O).then(b,T)}}catch(D){T(D);return}b(O)}return e.OPTIONS=t,e}function cye(t,e,n,r=n){let i,s,o;return e?(Wa.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",h=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[h],t=d?t.spec.types[h]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class jy extends Set{describe(){const e=[];for(const n of this.values())e.push(Ll.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new jy(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Eu(t,e=new Map){if(H1(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Eu(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Eu(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Eu(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Eu(i,e)}else throw Error(`Unable to clone ${t}`);return n}class ss{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new jy,this._blacklist=new jy,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Oi.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Eu(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Da(s))return s;let o=Io(e),a=Io(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=g=>{i||(i=!0,n(g,o))},d=g=>{i||(i=!0,r(g,o))},h=s.length,f=[];if(!h)return d([]);let p={value:o,originalValue:a,path:l,options:u,schema:this};for(let g=0;g<s.length;g++){const v=s[g];v(p,c,function(y){y&&(Array.isArray(y)?f.push(...y):f.push(y)),--h<=0&&d(f)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,h,f)=>this.resolve(c)._validate(u,c,h,f)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{nr.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new nr(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw nr.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new nr(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(nr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(nr.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Eu(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Zl({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Zl({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Oi.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Oi.notNull){return this.nullability(!1,e)}required(e=Oi.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Oi.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Zl(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=YB(e).map(s=>new Ll(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new By(i,n):By.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Zl({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Oi.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Zl({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Oi.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Zl({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}ss.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ss.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=cye(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])ss.prototype[t]=ss.prototype.oneOf;for(const t of["not","nope"])ss.prototype[t]=ss.prototype.notOneOf;let dye=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hye=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,fye=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pye=t=>Da(t)||t===t.trim(),mye={}.toString();function cg(){return new JB}class JB extends ss{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===mye?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Oi.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=ci.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=ci.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=ci.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||ci.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=ci.email){return this.matches(dye,{name:"email",message:e,excludeEmptyString:!0})}url(e=ci.url){return this.matches(hye,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ci.uuid){return this.matches(fye,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ci.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:pye})}lowercase(e=ci.lowercase){return this.transform(n=>Da(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Da(n)||n===n.toLowerCase()})}uppercase(e=ci.uppercase){return this.transform(n=>Da(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Da(n)||n===n.toUpperCase()})}}cg.prototype=JB.prototype;const gye=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function as(t,e=0){return Number(t)||e}function yye(t){const e=gye.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:as(e[1]),month:as(e[2],1)-1,day:as(e[3],1),hour:as(e[4]),minute:as(e[5]),second:as(e[6]),millisecond:e[7]?as(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:as(e[10]),minuteOffset:as(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let _ye=new Date(""),vye=t=>Object.prototype.toString.call(t)==="[object Date]";class v0 extends ss{constructor(){super({type:"date",check(e){return vye(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=yye(e),isNaN(e)?v0.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Ll.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=II.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=II.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}v0.INVALID_DATE=_ye;v0.prototype;function wye(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Wa.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Ll.isRef(a)&&a.isSibling?s(a.path,o):H1(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return Jge.array(Array.from(r),n).reverse()}function nO(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function ZB(t){return(e,n)=>nO(t,e)-nO(t,n)}const Eye=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function dg(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=dg(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=dg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(dg)}):"optional"in t?t.optional():t}const Tye=(t,e)=>{const n=[...Wa.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Wa.getter(Wa.join(n),!0)(t);return!!(i&&r in i)};let rO=t=>Object.prototype.toString.call(t)==="[object Object]";function Iye(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const bye=ZB([]);function ej(t){return new tj(t)}class tj extends ss{constructor(e){super({type:"object",check(n){return rO(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=bye,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let h=s[d],f=d in i;if(h){let p,g=i[d];u.path=(n.path?`${n.path}.`:"")+d,h=h.resolve({value:g,context:n.context,parent:l});let v=h instanceof ss?h.spec:void 0,m=v==null?void 0:v.strict;if(v!=null&&v.strip){c=c||d in i;continue}p=!n.__validating||!m?h.cast(i[d],u):i[d],p!==void 0&&(l[d]=p)}else f&&!o&&(l[d]=i[d]);(f!==d in l||l[d]!==i[d])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!rO(u)){i(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let h=this.fields[d];!h||Ll.isRef(h)||c.push(h.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=wye(e,n),r._sortErrors=ZB(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return dg(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Wa.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Tye(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(Eye)}noUnknown(e=!0,n=bI.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Iye(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=bI.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Hw.camelCase)}snakeCase(){return this.transformKeys(Hw.snakeCase)}constantCase(){return this.transformKeys(e=>Hw.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}ej.prototype=tj.prototype;const Sye="_container_1h04x_1",Cye="_dialogTitle_1h04x_23",Gw={container:Sye,dialogTitle:Cye},xye=({onSubmit:t})=>{const e=qy(),n={cardNumber:"",cvv:"",expirationDate:""},r=ej({cardNumber:cg().matches(/^\d{16}$/,"enter any 16 digits").required("required field"),cvv:cg().matches(/^\d{3}$/,"enter any 3 digits").required("required field"),expirationDate:cg().matches(/^\d{2}\/\d{2}$/,`
enter the date in the format 01/01`).required("required field")}),i=Cge({initialValues:n,onSubmit:l=>{localStorage.clear(),e(SW()),o(!0),t(l)},validationSchema:r}),[s,o]=Kr.useState(!1),a=()=>{o(!1)};return C.jsx(Vy,{className:Gw.form,container:!0,justifyContent:"center",children:C.jsx(Vy,{item:!0,xs:8,children:C.jsxs("form",{onSubmit:i.handleSubmit,children:[C.jsxs(wue,{onClose:a,open:s,children:[C.jsx(Uue,{className:Gw.dialogTitle,children:"payment message"}),C.jsx(Mue,{children:C.jsx("div",{children:"Your order has been successfully paid"})}),C.jsx(Cue,{children:C.jsx(xr,{autoFocus:!0,color:"primary",onClick:a,children:"CLOSE"})})]}),C.jsxs("div",{className:Gw.container,children:[C.jsx(Uw,{error:i.touched.cardNumber&&!!i.errors.cardNumber,helperText:i.touched.cardNumber&&i.errors.cardNumber,label:"Card Number",name:"cardNumber",onChange:i.handleChange,value:i.values.cardNumber,variant:"outlined"}),C.jsx(Uw,{error:i.touched.expirationDate&&!!i.errors.expirationDate,helperText:i.touched.expirationDate&&i.errors.expirationDate,label:"Expiration Date",name:"expirationDate",onChange:i.handleChange,style:{margin:"20px 0 20px 0"},value:i.values.expirationDate,variant:"outlined"}),C.jsx(Uw,{error:i.touched.cvv&&!!i.errors.cvv,helperText:i.touched.cvv&&i.errors.cvv,label:"CVV",name:"cvv",onChange:i.handleChange,value:i.values.cvv,variant:"outlined"}),C.jsx(xr,{color:"primary",type:"submit",variant:"contained",children:"Pay"})]})]})})})},Rye="_error404_1lt3v_1",Pye="_wrapper_1lt3v_6",iO={error404:Rye,wrapper:Pye},Aye="/eShop/assets/404-kMbd88y6.svg",kye=()=>C.jsx("div",{id:"hw5-page-404",children:C.jsx("div",{className:iO.wrapper,children:C.jsx("img",{alt:"404",className:iO.error404,src:Aye})})}),Nye=({id:t,name:e,photo:n,price:r,quantity:i})=>{const s=qy(),o=Hf(l=>l.cart.items.find(u=>u.id===t)),a=()=>{s(o?JM(t):IW({id:t,name:e,photo:n,price:r,quantity:i}))};return C.jsx($p,{sx:{marginTop:2},children:C.jsxs(Vp,{children:[C.jsx(Qn,{component:"div",variant:"h5",children:e}),C.jsx(nB,{alt:e,component:"img",height:"250",image:n}),C.jsxs(Qn,{color:"text.secondary",variant:"body1",children:["Price: $",r]}),C.jsx(xr,{onClick:a,variant:"contained",children:"Add to Cart"})]})})},Oye=()=>{const t=Hf(n=>n.product.items),e=Object.values(t);return C.jsx(Vy,{container:!0,spacing:2,children:e.map(n=>C.jsx(Vy,{item:!0,children:C.jsx(Nye,{id:n.id,name:n.name,photo:n.photo,price:n.price,quantity:n.quantity},n.id)},n.id))})};var G1={},nj={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(nj);var Fl=nj.exports,Kw={};const Dye=Cj(Ise);var sO;function $l(){return sO||(sO=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Dye}(Kw)),Kw}var Mye=Fl;Object.defineProperty(G1,"__esModule",{value:!0});var rj=G1.default=void 0,Lye=Mye($l()),oO=C,Fye=(0,Lye.default)([(0,oO.jsx)("path",{d:"M18 11c.7 0 1.37.1 2 .29V9l-8-6-8 6v12h7.68c-.43-.91-.68-1.92-.68-3 0-3.87 3.13-7 7-7z"},"0"),(0,oO.jsx)("path",{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm3 5.5h-2.5V21h-1v-2.5H15v-1h2.5V15h1v2.5H21v1z"},"1")],"AddHome");rj=G1.default=Fye;var K1={},$ye=Fl;Object.defineProperty(K1,"__esModule",{value:!0});var ij=K1.default=void 0,Vye=$ye($l()),Uye=C,Bye=(0,Vye.default)((0,Uye.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");ij=K1.default=Bye;var Q1={},jye=Fl;Object.defineProperty(Q1,"__esModule",{value:!0});var sj=Q1.default=void 0,zye=jye($l()),Wye=C,qye=(0,zye.default)((0,Wye.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"Payment");sj=Q1.default=qye;var Y1={},Hye=Fl;Object.defineProperty(Y1,"__esModule",{value:!0});var oj=Y1.default=void 0,Gye=Hye($l()),Kye=C,Qye=(0,Gye.default)((0,Kye.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");oj=Y1.default=Qye;const Yye="_container_1qpp8_1",Xye={container:Yye};var X1={},Jye=Fl;Object.defineProperty(X1,"__esModule",{value:!0});var aj=X1.default=void 0,Zye=Jye($l()),e_e=C,t_e=(0,Zye.default)((0,e_e.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");aj=X1.default=t_e;var J1={},n_e=Fl;Object.defineProperty(J1,"__esModule",{value:!0});var lj=J1.default=void 0,r_e=n_e($l()),i_e=C,s_e=(0,r_e.default)((0,i_e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");lj=J1.default=s_e;var Z1={},o_e=Fl;Object.defineProperty(Z1,"__esModule",{value:!0});var uj=Z1.default=void 0,a_e=o_e($l()),l_e=C,u_e=(0,a_e.default)((0,l_e.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");uj=Z1.default=u_e;const c_e=({id:t,name:e,photo:n,price:r,quantity:i})=>{const s=qy(),o=()=>{s(BR(t))},a=()=>{i>1?s(bW(t)):s(BR(t))},l=()=>{s(JM(t))};return C.jsx($p,{children:C.jsxs(Vp,{children:[C.jsx(Qn,{component:"div",variant:"h5",children:e}),C.jsx(nB,{alt:e,component:"img",image:n,style:{height:100,width:100}}),C.jsxs(Qn,{color:"text.secondary",variant:"body1",children:["Price: $",r]}),C.jsxs(Qn,{color:"text.secondary",variant:"body1",children:[C.jsx(xr,{onClick:o,variant:"outlined",children:C.jsx(lj,{})}),C.jsx(xr,{onClick:a,variant:"text",children:C.jsx(uj,{})}),i,C.jsx(xr,{onClick:l,variant:"text",children:C.jsx(aj,{})})]})]})})},d_e=()=>{const t=Hf(n=>n.cart.items),e=t.reduce((n,r)=>n+r.price*r.quantity,0);return E.useEffect(()=>{t.length!==0&&localStorage.setItem("cartItems",JSON.stringify(t))},[t]),C.jsx($p,{children:C.jsxs(Vp,{children:[t.length>0?C.jsxs(Qn,{component:"div",variant:"h5",children:["Cart",C.jsx(xr,{component:Sa,style:{margin:"10px"},to:"/checkout",variant:"contained",children:"Order"})]}):C.jsx(Qn,{component:"div",variant:"h5",children:"Cart is empty"}),t.map(n=>C.jsx(c_e,{id:n.id,name:n.name,photo:n.photo,price:n.price,quantity:n.quantity},n.id)),C.jsxs(Qn,{color:"text.secondary",variant:"body1",children:["Total: $",e]})]})})},h_e=()=>{const t=Hf(r=>r.cart.items),e=t.reduce((r,i)=>r+i.price*i.quantity,0),n=()=>{};return C.jsx($p,{children:C.jsxs(Vp,{children:[C.jsx(Qn,{component:"div",variant:"h5",children:"Checkout"}),t.map(r=>C.jsx("div",{children:C.jsxs(Qn,{component:"div",variant:"body1",children:[r.name," - ",r.quantity,"pcs. - $",r.price]})},r.id)),C.jsxs(Qn,{color:"div",style:{margin:"20px 0"},variant:"h5",children:[C.jsx(xr,{component:Sa,disabled:e===0,onClick:n,style:{margin:"0 10px 0 0"},to:"/payment",variant:"contained",children:"Place Order"}),"Total: $",e]})]})})},f_e=()=>{const e=Hf(r=>r.cart.items).reduce((r,i)=>r+i.price*i.quantity,0),n=zF();return E.useEffect(()=>{n(UF())},[n]),E.useEffect(()=>{const r=localStorage.getItem("cartItems");r&&n(CW(JSON.parse(r)))},[n]),C.jsxs(C.Fragment,{children:[C.jsx(hoe,{position:"fixed",children:C.jsxs(lhe,{children:[C.jsx(Qn,{component:"div",sx:{flexGrow:1},variant:"h6",children:"My Shop"}),C.jsx(xr,{color:"inherit",component:Sa,to:"/",children:C.jsx(Rm,{title:"to shopping",children:C.jsx(ij,{})})}),C.jsx(xr,{color:"inherit",component:Sa,to:"/add",children:C.jsx(Rm,{title:"add product",children:C.jsx(rj,{})})}),C.jsx(xr,{color:"inherit",component:Sa,to:"/checkout",children:C.jsx(Rm,{title:"pay for the order",children:C.jsx(sj,{})})}),C.jsx(xr,{color:"inherit",component:Sa,to:"/cart",children:C.jsx(Rm,{title:"go to cart",children:C.jsx(oj,{})})}),e?C.jsxs(Qn,{color:"text.secondary",component:"div",variant:"h6",children:["Total: $",e]}):""]})}),C.jsx(rue,{className:Xye.container,children:C.jsxs(u6,{children:[C.jsx(la,{element:C.jsx(Oye,{}),path:"/"}),C.jsx(la,{element:C.jsx(whe,{}),path:"/add"}),C.jsx(la,{element:C.jsx(d_e,{}),path:"/cart"}),C.jsx(la,{element:C.jsx(h_e,{}),path:"/checkout"}),C.jsx(la,{element:C.jsx(xye,{}),path:"/payment"}),C.jsx(la,{element:C.jsx(kye,{}),path:"*"})]})})]})},p_e={apiKey:"AIzaSyD1u4VDvhbnOQvIlTsJd88GrMb0TTyvo7M",appId:"1:1004589233541:web:0185c11193e27aa053c0ec",authDomain:"eshop2-7a876.firebaseapp.com",databaseURL:"https://eshop2-7a876-default-rtdb.firebaseio.com",messagingSenderId:"1004589233541",projectId:"eshop2-7a876",storageBucket:"eshop2-7a876.appspot.com"},m_e=__(p_e),SI=hG(m_e);WF(document.getElementById("root")).render(C.jsx(fz,{store:yG,children:C.jsx(m6,{basename:"/eShop/",children:C.jsx(f_e,{})})}))});export default g_e();
